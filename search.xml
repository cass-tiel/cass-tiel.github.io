<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[reptile-scrapy]]></title>
    <url>%2F2018%2F07%2F08%2Freptile-scrapy%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; ScrapyScrapy&#x662F;&#x4E00;&#x4E2A;&#x4E3A;&#x4E86;&#x722C;&#x53D6;&#x7F51;&#x7AD9;&#x6570;&#x636E;&#xFF0C;&#x63D0;&#x53D6;&#x7ED3;&#x6784;&#x6027;&#x6570;&#x636E;&#x800C;&#x7F16;&#x5199;&#x7684;&#x5E94;&#x7528;&#x6846;&#x67B6;&#x3002; &#x5176;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5728;&#x6570;&#x636E;&#x6316;&#x6398;&#xFF0C;&#x4FE1;&#x606F;&#x5904;&#x7406;&#x6216;&#x5B58;&#x50A8;&#x5386;&#x53F2;&#x6570;&#x636E;&#x7B49;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;&#x5176;&#x6700;&#x521D;&#x662F;&#x4E3A;&#x4E86;&#x9875;&#x9762;&#x6293;&#x53D6; (&#x66F4;&#x786E;&#x5207;&#x6765;&#x8BF4;, &#x7F51;&#x7EDC;&#x6293;&#x53D6; )&#x6240;&#x8BBE;&#x8BA1;&#x7684;&#xFF0C; &#x4E5F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5728;&#x83B7;&#x53D6;API&#x6240;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;(&#x4F8B;&#x5982; Amazon Associates Web Services ) &#x6216;&#x8005;&#x901A;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x722C;&#x866B;&#x3002;Scrapy&#x7528;&#x9014;&#x5E7F;&#x6CDB;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x6316;&#x6398;&#x3001;&#x76D1;&#x6D4B;&#x548C;&#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;&#x3002; Scrapy &#x4F7F;&#x7528;&#x4E86; Twisted&#x5F02;&#x6B65;&#x7F51;&#x7EDC;&#x5E93;&#x6765;&#x5904;&#x7406;&#x7F51;&#x7EDC;&#x901A;&#x8BAF;&#x3002;&#x6574;&#x4F53;&#x67B6;&#x6784;&#x5927;&#x81F4;&#x5982;&#x4E0B; Scrapy&#x4E3B;&#x8981;&#x7EC4;&#x4EF6;&#x5F15;&#x64CE;(Scrapy)&#x7528;&#x6765;&#x5904;&#x7406;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x6570;&#x636E;&#x6D41;&#x5904;&#x7406;, &#x89E6;&#x53D1;&#x4E8B;&#x52A1;(&#x6846;&#x67B6;&#x6838;&#x5FC3;)&#x8C03;&#x5EA6;&#x5668;(Scheduler)&#x7528;&#x6765;&#x63A5;&#x53D7;&#x5F15;&#x64CE;&#x53D1;&#x8FC7;&#x6765;&#x7684;&#x8BF7;&#x6C42;, &#x538B;&#x5165;&#x961F;&#x5217;&#x4E2D;, &#x5E76;&#x5728;&#x5F15;&#x64CE;&#x518D;&#x6B21;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#x8FD4;&#x56DE;. &#x53EF;&#x4EE5;&#x60F3;&#x50CF;&#x6210;&#x4E00;&#x4E2A;URL&#xFF08;&#x6293;&#x53D6;&#x7F51;&#x9875;&#x7684;&#x7F51;&#x5740;&#x6216;&#x8005;&#x8BF4;&#x662F;&#x94FE;&#x63A5;&#xFF09;&#x7684;&#x4F18;&#x5148;&#x961F;&#x5217;, &#x7531;&#x5B83;&#x6765;&#x51B3;&#x5B9A;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x6293;&#x53D6;&#x7684;&#x7F51;&#x5740;&#x662F;&#x4EC0;&#x4E48;, &#x540C;&#x65F6;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x7684;&#x7F51;&#x5740;&#x4E0B;&#x8F7D;&#x5668;(Downloader)&#x7528;&#x4E8E;&#x4E0B;&#x8F7D;&#x7F51;&#x9875;&#x5185;&#x5BB9;, &#x5E76;&#x5C06;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x8FD4;&#x56DE;&#x7ED9;&#x8718;&#x86DB;(Scrapy&#x4E0B;&#x8F7D;&#x5668;&#x662F;&#x5EFA;&#x7ACB;&#x5728;twisted&#x8FD9;&#x4E2A;&#x9AD8;&#x6548;&#x7684;&#x5F02;&#x6B65;&#x6A21;&#x578B;&#x4E0A;&#x7684;)&#x722C;&#x866B;(Spiders)&#x722C;&#x866B;&#x662F;&#x4E3B;&#x8981;&#x5E72;&#x6D3B;&#x7684;, &#x7528;&#x4E8E;&#x4ECE;&#x7279;&#x5B9A;&#x7684;&#x7F51;&#x9875;&#x4E2D;&#x63D0;&#x53D6;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;, &#x5373;&#x6240;&#x8C13;&#x7684;&#x5B9E;&#x4F53;(Item)&#x3002;&#x7528;&#x6237;&#x4E5F;&#x53EF;&#x4EE5;&#x4ECE;&#x4E2D;&#x63D0;&#x53D6;&#x51FA;&#x94FE;&#x63A5;,&#x8BA9;Scrapy&#x7EE7;&#x7EED;&#x6293;&#x53D6;&#x4E0B;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x9879;&#x76EE;&#x7BA1;&#x9053;(Pipeline)&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x722C;&#x866B;&#x4ECE;&#x7F51;&#x9875;&#x4E2D;&#x62BD;&#x53D6;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x4E3B;&#x8981;&#x7684;&#x529F;&#x80FD;&#x662F;&#x6301;&#x4E45;&#x5316;&#x5B9E;&#x4F53;&#x3001;&#x9A8C;&#x8BC1;&#x5B9E;&#x4F53;&#x7684;&#x6709;&#x6548;&#x6027;&#x3001;&#x6E05;&#x9664;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5F53;&#x9875;&#x9762;&#x88AB;&#x722C;&#x866B;&#x89E3;&#x6790;&#x540E;&#xFF0C;&#x5C06;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x9879;&#x76EE;&#x7BA1;&#x9053;&#xFF0C;&#x5E76;&#x7ECF;&#x8FC7;&#x51E0;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x6B21;&#x5E8F;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;&#x4E0B;&#x8F7D;&#x5668;&#x4E2D;&#x95F4;&#x4EF6;(Downloader Middlewares)&#x4F4D;&#x4E8E;Scrapy&#x5F15;&#x64CE;&#x548C;&#x4E0B;&#x8F7D;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x5904;&#x7406;Scrapy&#x5F15;&#x64CE;&#x4E0E;&#x4E0B;&#x8F7D;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x8BF7;&#x6C42;&#x53CA;&#x54CD;&#x5E94;&#x3002;&#x722C;&#x866B;&#x4E2D;&#x95F4;&#x4EF6;(Spider Middlewares)&#x4ECB;&#x4E8E;Scrapy&#x5F15;&#x64CE;&#x548C;&#x722C;&#x866B;&#x4E4B;&#x95F4;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x4E3B;&#x8981;&#x5DE5;&#x4F5C;&#x662F;&#x5904;&#x7406;&#x8718;&#x86DB;&#x7684;&#x54CD;&#x5E94;&#x8F93;&#x5165;&#x548C;&#x8BF7;&#x6C42;&#x8F93;&#x51FA;&#x3002;&#x8C03;&#x5EA6;&#x4E2D;&#x95F4;&#x4EF6;(Scheduler Middewares)&#x4ECB;&#x4E8E;Scrapy&#x5F15;&#x64CE;&#x548C;&#x8C03;&#x5EA6;&#x4E4B;&#x95F4;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x4ECE;Scrapy&#x5F15;&#x64CE;&#x53D1;&#x9001;&#x5230;&#x8C03;&#x5EA6;&#x7684;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x3002; Scrapy&#x8FD0;&#x884C;&#x6D41;&#x7A0B;&#x5F15;&#x64CE;&#x4ECE;&#x8C03;&#x5EA6;&#x5668;&#x4E2D;&#x53D6;&#x51FA;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;(URL)&#x7528;&#x4E8E;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x6293;&#x53D6;&#x5F15;&#x64CE;&#x628A;URL&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;(Request)&#x4F20;&#x7ED9;&#x4E0B;&#x8F7D;&#x5668;&#x4E0B;&#x8F7D;&#x5668;&#x628A;&#x8D44;&#x6E90;&#x4E0B;&#x8F7D;&#x4E0B;&#x6765;&#xFF0C;&#x5E76;&#x5C01;&#x88C5;&#x6210;&#x5E94;&#x7B54;&#x5305;(Response)&#x722C;&#x866B;&#x89E3;&#x6790;Response&#x89E3;&#x6790;&#x51FA;&#x5B9E;&#x4F53;&#xFF08;Item&#xFF09;,&#x5219;&#x4EA4;&#x7ED9;&#x5B9E;&#x4F53;&#x7BA1;&#x9053;&#x8FDB;&#x884C;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x5904;&#x7406;&#x89E3;&#x6790;&#x51FA;&#x7684;&#x662F;&#x94FE;&#x63A5;&#xFF08;URL&#xFF09;,&#x5219;&#x628A;URL&#x4EA4;&#x7ED9;&#x8C03;&#x5EA6;&#x5668;&#x7B49;&#x5F85;&#x6293;&#x53D6; &#x5B89;&#x88C5;12345678910Linux pip3 install scrapy Windows a. pip3 install wheel b. &#x4E0B;&#x8F7D;twisted http://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted c. &#x8FDB;&#x5165;&#x4E0B;&#x8F7D;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C; pip3 install Twisted&#x2011;17.1.0&#x2011;cp35&#x2011;cp35m&#x2011;win_amd64.whl d. pip3 install scrapy e. &#x4E0B;&#x8F7D;&#x5E76;&#x5B89;&#x88C5;pywin32&#xFF1A;https://sourceforge.net/projects/pywin32/files/ &#x57FA;&#x672C;&#x4F7F;&#x7528;]]></content>
  </entry>
  <entry>
    <title><![CDATA[爬虫本质以及提高性能]]></title>
    <url>%2F2018%2F07%2F08%2Freptile-bs4%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x8DEF;&#x98DE;&#x722C;&#x866B;&#x8BFE;&#x7A0B;&#x7B2C;&#x4E8C;&#x5929;&#x5B66;&#x4E60;&#x5185;&#x5BB9;&#x77E5;&#x8BC6;&#x70B9;&#x6574;&#x7406; bs4 &#x722C;&#x866B;&#x672C;&#x8D28; &#x63D0;&#x9AD8;&#x722C;&#x866B;&#x6027;&#x80FD; web&#x5FAE;&#x4FE1; io&#x591A;&#x8DEF;&#x590D;&#x7528; &#x5F02;&#x6B65;&#x975E;&#x963B;&#x585E; &#x4E00;&#x4E9B;&#x5E38;&#x89C1;&#x7684;&#x722C;&#x866B;&#x7ECF;&#x9A8C;&#x56FE;&#x7247;&#x9632;&#x76D7;&#x94FE; referer cookies &#x8F6E;&#x8BE2;&#x6D4F;&#x89C8;&#x5668;&#x6BCF;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5411;&#x6D4F;&#x89C8;&#x5668;&#x53D1;&#x4E00;&#x6B21;&#x8BF7;&#x6C42; &#x7F3A;&#x70B9;:&#x4E0D;&#x65AD;&#x7684;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x8BF7;&#x6C42;,&#x670D;&#x52A1;&#x5668;&#x7684;&#x5185;&#x5B58;&#x538B;&#x529B;&#x5927;, &#x6548;&#x7387;&#x4F4E;,&#x5B58;&#x5728;&#x65F6;&#x95F4;&#x5DEE; &#x957F;&#x8F6E;&#x8BE2;&#x57FA;&#x4E8E;HTTP&#x7684;&#x957F;&#x8FDE;&#x63A5;,&#x662F;&#x4E00;&#x79CD;&#x901A;&#x8FC7;&#x957F;&#x8F6E;&#x8BE2;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x201D;&#x670D;&#x52A1;&#x5668;&#x63A8;&#x201D;&#x7684;&#x6280;&#x672F;,&#x5B83;&#x5F25;&#x8865;&#x4E86;HTTP&#x7B80;&#x5355;&#x7684;&#x8BF7;&#x6C42;&#x5E94;&#x7B54;&#x6A21;&#x5F0F;&#x7684;&#x4E0D;&#x8DB3;,&#x6781;&#x5927;&#x5730;&#x589E;&#x5F3A;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x5B9E;&#x65F6;&#x6027;&#x548C;&#x4EA4;&#x4E92;&#x6027;&#x3002; &#x4F18;&#x7F3A;&#x70B9; &#x8F6E;&#x8BE2;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x5B9A;&#x65F6;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;Ajax&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#x9A6C;&#x4E0A;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#x5E76;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x3002; &#x4F18;&#x70B9;&#xFF1A;&#x540E;&#x7AEF;&#x7A0B;&#x5E8F;&#x7F16;&#x5199;&#x6BD4;&#x8F83;&#x5BB9;&#x6613;&#x3002; &#x7F3A;&#x70B9;&#xFF1A;&#x8BF7;&#x6C42;&#x4E2D;&#x6709;&#x5927;&#x534A;&#x662F;&#x65E0;&#x7528;&#xFF0C;&#x6D6A;&#x8D39;&#x5E26;&#x5BBD;&#x548C;&#x670D;&#x52A1;&#x5668;&#x8D44;&#x6E90;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;&#x9002;&#x4E8E;&#x5C0F;&#x578B;&#x5E94;&#x7528;&#x3002; &#x957F;&#x8F6E;&#x8BE2;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;Ajax&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x5230;&#x8BF7;&#x6C42;&#x540E;hold&#x4F4F;&#x8FDE;&#x63A5;&#xFF0C;&#x76F4;&#x5230;&#x6709;&#x65B0;&#x6D88;&#x606F;&#x624D;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#x5E76;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5904;&#x7406;&#x5B8C;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#x540E;&#x518D;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x65B0;&#x7684;&#x8BF7;&#x6C42;&#x3002; &#x4F18;&#x70B9;&#xFF1A;&#x5728;&#x65E0;&#x6D88;&#x606F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x4F1A;&#x9891;&#x7E41;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x8017;&#x8D39;&#x8D44;&#x6E90;&#x5C0F;&#x3002; &#x7F3A;&#x70B9;&#xFF1A;&#x670D;&#x52A1;&#x5668;hold&#x8FDE;&#x63A5;&#x4F1A;&#x6D88;&#x8017;&#x8D44;&#x6E90;&#xFF0C;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x987A;&#x5E8F;&#x65E0;&#x4FDD;&#x8BC1;&#xFF0C;&#x96BE;&#x4E8E;&#x7BA1;&#x7406;&#x7EF4;&#x62A4;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;WebQQ&#x3001;Hi&#x7F51;&#x9875;&#x7248;&#x3001;Facebook IM&#x3002; &#x957F;&#x8FDE;&#x63A5;&#xFF1A;&#x5728;&#x9875;&#x9762;&#x91CC;&#x5D4C;&#x5165;&#x4E00;&#x4E2A;&#x9690;&#x8535;iframe&#xFF0C;&#x5C06;&#x8FD9;&#x4E2A;&#x9690;&#x8535;iframe&#x7684;src&#x5C5E;&#x6027;&#x8BBE;&#x4E3A;&#x5BF9;&#x4E00;&#x4E2A;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x8BF7;&#x6C42;&#x6216;&#x662F;&#x91C7;&#x7528;xhr&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5C31;&#x80FD;&#x6E90;&#x6E90;&#x4E0D;&#x65AD;&#x5730;&#x5F80;&#x5BA2;&#x6237;&#x7AEF;&#x8F93;&#x5165;&#x6570;&#x636E;&#x3002; &#x4F18;&#x70B9;&#xFF1A;&#x6D88;&#x606F;&#x5373;&#x65F6;&#x5230;&#x8FBE;&#xFF0C;&#x4E0D;&#x53D1;&#x65E0;&#x7528;&#x8BF7;&#x6C42;&#xFF1B;&#x7BA1;&#x7406;&#x8D77;&#x6765;&#x4E5F;&#x76F8;&#x5BF9;&#x65B9;&#x4FBF;&#x3002; &#x7F3A;&#x70B9;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x957F;&#x8FDE;&#x63A5;&#x4F1A;&#x589E;&#x52A0;&#x5F00;&#x9500;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;Gmail&#x804A;&#x5929; Flash Socket&#xFF1A;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5185;&#x5D4C;&#x5165;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x4E86;Socket&#x7C7B;&#x7684; Flash &#x7A0B;&#x5E8F;JavaScript&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x6B64;Flash&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x7684;Socket&#x63A5;&#x53E3;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;Socket&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#xFF0C;JavaScript&#x5728;&#x6536;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4F20;&#x9001;&#x7684;&#x4FE1;&#x606F;&#x540E;&#x63A7;&#x5236;&#x9875;&#x9762;&#x7684;&#x663E;&#x793A;&#x3002; &#x4F18;&#x70B9;&#xFF1A;&#x5B9E;&#x73B0;&#x771F;&#x6B63;&#x7684;&#x5373;&#x65F6;&#x901A;&#x4FE1;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F2A;&#x5373;&#x65F6;&#x3002; &#x7F3A;&#x70B9;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x5FC5;&#x987B;&#x5B89;&#x88C5;Flash&#x63D2;&#x4EF6;&#xFF1B;&#x975E;HTTP&#x534F;&#x8BAE;&#xFF0C;&#x65E0;&#x6CD5;&#x81EA;&#x52A8;&#x7A7F;&#x8D8A;&#x9632;&#x706B;&#x5899;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;&#x7F51;&#x7EDC;&#x4E92;&#x52A8;&#x6E38;&#x620F;&#x3002; &#x5B9E;&#x73B0;&#x539F;&#x7406;&#x6240;&#x8C13;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x5C31;&#x662F;&#x8981;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x521B;&#x5EFA;&#x548C;&#x4FDD;&#x6301;&#x7A33;&#x5B9A;&#x53EF;&#x9760;&#x7684;&#x8FDE;&#x63A5;&#x3002;&#x5176;&#x5B9E;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x5F88;&#x65E9;&#x5C31;&#x5B58;&#x5728;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#x6BD4;&#x8F83;&#x7F13;&#x6162;&#xFF0C;&#x6CA1;&#x6709;&#x4E3A;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x7684;&#x5B9E;&#x73B0;&#x63D0;&#x4F9B;&#x5F88;&#x597D;&#x7684;&#x652F;&#x6301;&#x3002;&#x6240;&#x4EE5;&#x8981;&#x8FBE;&#x5230;&#x8FD9;&#x79CD;&#x6548;&#x679C;&#xFF0C;&#x9700;&#x8981;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7A0B;&#x5E8F;&#x5171;&#x540C;&#x914D;&#x5408;&#x6765;&#x5B8C;&#x6210;&#x3002;&#x901A;&#x5E38;&#x7684;&#x505A;&#x6CD5;&#x662F;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7A0B;&#x5E8F;&#x4E2D;&#x52A0;&#x5165;&#x4E00;&#x4E2A;&#x6B7B;&#x5FAA;&#x73AF;&#xFF0C;&#x5728;&#x5FAA;&#x73AF;&#x4E2D;&#x76D1;&#x6D4B;&#x6570;&#x636E;&#x7684;&#x53D8;&#x52A8;&#x3002;&#x5F53;&#x53D1;&#x73B0;&#x65B0;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x7ACB;&#x5373;&#x5C06;&#x5176;&#x8F93;&#x51FA;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x5E76;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x6536;&#x5230;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x518D;&#x6B21;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x4EE5;&#x8FDB;&#x5165;&#x4E0B;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x5E38;&#x8BF4;&#x7684;&#x957F;&#x8F6E;&#x8BE2;&#xFF08;long-polling&#xFF09;&#x65B9;&#x5F0F;&#x3002; &#x8F6E;&#x8BE2;&#x7684;&#x5EFA;&#x7ACB; &#x5EFA;&#x7ACB;&#x8F6E;&#x8BE2;&#x7684;&#x8FC7;&#x7A0B;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x540E;&#x8FDB;&#x5165;&#x5FAA;&#x73AF;&#x7B49;&#x5F85;&#x72B6;&#x6001;&#xFF0C;&#x6B64;&#x65F6;&#x7531;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x8FD8;&#x672A;&#x505A;&#x51FA;&#x5E94;&#x7B54;&#xFF0C;&#x6240;&#x4EE5;HTTP&#x4E5F;&#x4E00;&#x76F4;&#x5904;&#x4E8E;&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#x4E2D;&#x3002; &#x6570;&#x636E;&#x7684;&#x63A8;&#x9001; &#x5728;&#x5FAA;&#x73AF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x5BF9;&#x6570;&#x636E;&#x53D8;&#x52A8;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#xFF0C;&#x5982;&#x53D1;&#x73B0;&#x66F4;&#x65B0;&#xFF0C;&#x5C06;&#x8BE5;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x968F;&#x5373;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF0C;&#x5B8C;&#x6210;&#x5E94;&#x7B54;&#x8FC7;&#x7A0B;&#xFF0C;&#x5B9E;&#x73B0;&#x201C;&#x670D;&#x52A1;&#x5668;&#x63A8;&#x201D;&#x3002; &#x8F6E;&#x8BE2;&#x7684;&#x7EC8;&#x6B62; &#x8F6E;&#x8BE2;&#x53EF;&#x80FD;&#x5728;&#x4EE5;&#x4E0B;3&#x79CD;&#x60C5;&#x51B5;&#x65F6;&#x7EC8;&#x6B62;&#xFF1A; &#x6709;&#x65B0;&#x6570;&#x636E;&#x63A8;&#x9001; &#x5F53;&#x5FAA;&#x73AF;&#x8FC7;&#x7A0B;&#x4E2D;&#x670D;&#x52A1;&#x5668;&#x5411;&#x6D4F;&#x89C8;&#x5668;&#x63A8;&#x9001;&#x4FE1;&#x606F;&#x540E;&#xFF0C;&#x5E94;&#x8BE5;&#x4E3B;&#x52A8;&#x7ED3;&#x675F;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x4ECE;&#x800C;&#x8BA9;&#x8FDE;&#x63A5;&#x65AD;&#x5F00;&#xFF0C;&#x8FD9;&#x6837;&#x6D4F;&#x89C8;&#x5668;&#x624D;&#x80FD;&#x53CA;&#x65F6;&#x6536;&#x5230;&#x6570;&#x636E;&#x3002; &#x6CA1;&#x6709;&#x65B0;&#x6570;&#x636E;&#x63A8;&#x9001; &#x5FAA;&#x73AF;&#x4E0D;&#x80FD;&#x4E00;&#x76F4;&#x6301;&#x7EED;&#x4E0B;&#x53BB;&#xFF0C;&#x5E94;&#x8BE5;&#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x6700;&#x957F;&#x65F6;&#x9650;&#xFF0C;&#x907F;&#x514D;WEB&#x670D;&#x52A1;&#x5668;&#x8D85;&#x65F6;&#xFF08;Timeout&#xFF09;&#xFF0C;&#x82E5;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x65B0;&#x4FE1;&#x606F;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5E94;&#x4E3B;&#x52A8;&#x5411;&#x6D4F;&#x89C8;&#x5668;&#x53D1;&#x9001;&#x672C;&#x6B21;&#x8F6E;&#x8BE2;&#x65E0;&#x65B0;&#x4FE1;&#x606F;&#x7684;&#x6B63;&#x5E38;&#x54CD;&#x5E94;&#xFF0C;&#x5E76;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD9;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x201C;&#x5FC3;&#x8DF3;&#x201D;&#x4FE1;&#x606F;&#x3002; &#x7F51;&#x7EDC;&#x6545;&#x969C;&#x6216;&#x5F02;&#x5E38; &#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x6545;&#x969C;&#x7B49;&#x56E0;&#x7D20;&#x9020;&#x6210;&#x7684;&#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x6216;&#x51FA;&#x9519;&#x4E5F;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x8F6E;&#x8BE2;&#x7684;&#x610F;&#x5916;&#x4E2D;&#x65AD;&#xFF0C;&#x6B64;&#x65F6;&#x6D4F;&#x89C8;&#x5668;&#x5C06;&#x6536;&#x5230;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; &#x8F6E;&#x8BE2;&#x7684;&#x91CD;&#x5EFA; &#x6D4F;&#x89C8;&#x5668;&#x6536;&#x5230;&#x56DE;&#x590D;&#x5E76;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x5904;&#x7406;&#x540E;&#xFF0C;&#x5E94;&#x9A6C;&#x4E0A;&#x91CD;&#x65B0;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF0C;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8F6E;&#x8BE2;&#x5468;&#x671F;&#x3002; bs4&#xFF08;beautifulsoup4&#xFF09;beautifuilsoup4: &#x7528;&#x4E8E;&#x89E3;&#x6790;html&#x6807;&#x7B7E; &#x5B89;&#x88C5;1234pip install beautifulsoup4# &#x5B89;&#x88C5;&#x5176;&#x4ED6;&#x89E3;&#x91CA;&#x5668;pip install lxmlpip install html5lib Beautiful Soup&#x652F;&#x6301;Python&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x7684;HTML&#x89E3;&#x6790;&#x5668;,&#x8FD8;&#x652F;&#x6301;&#x4E00;&#x4E9B;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x89E3;&#x6790;&#x5668;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4E0D;&#x5B89;&#x88C5;&#x5B83;&#xFF0C;&#x5219; Python &#x4F1A;&#x4F7F;&#x7528; Python&#x9ED8;&#x8BA4;&#x7684;&#x89E3;&#x6790;&#x5668;&#xFF0C;lxml &#x89E3;&#x6790;&#x5668;&#x66F4;&#x52A0;&#x5F3A;&#x5927;&#xFF0C;&#x901F;&#x5EA6;&#x66F4;&#x5FEB;&#xFF0C;&#x63A8;&#x8350;&#x5B89;&#x88C5;&#x3002; &#x89E3;&#x91CA;&#x5668; html.parser Python&#x7684;&#x5185;&#x7F6E;&#x6807;&#x51C6;&#x5E93; &#x6267;&#x884C;&#x901F;&#x5EA6;&#x9002;&#x4E2D; &#x6587;&#x6863;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#x5F3A; BeautifulSoup(markup, &#x201C;html.parser&#x201D;) Python 2.7.3 or 3.2.2)&#x524D; &#x7684;&#x7248;&#x672C;&#x4E2D;&#x6587;&#x6863;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#x5DEE; lxml &#x901F;&#x5EA6;&#x5FEB; &#x6587;&#x6863;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#x5F3A; BeautifulSoup(markup, &#x201C;lxml&#x201D;) &#x9700;&#x8981;&#x5B89;&#x88C5;C&#x8BED;&#x8A00;&#x5E93; xml &#x901F;&#x5EA6;&#x5FEB; &#x552F;&#x4E00;&#x652F;&#x6301;XML&#x7684;&#x89E3;&#x6790;&#x5668; BeautifulSoup(markup, [&#x201C;lxml&#x201D;, &#x201C;xml&#x201D;]) BeautifulSoup(markup, &#x201C;xml&#x201D;) &#x9700;&#x8981;&#x5B89;&#x88C5;C&#x8BED;&#x8A00;&#x5E93; html5lib &#x6700;&#x597D;&#x7684;&#x5BB9;&#x9519;&#x6027; &#x4EE5;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x65B9;&#x5F0F;&#x89E3;&#x6790;&#x6587;&#x6863; &#x751F;&#x6210;HTML5&#x683C;&#x5F0F;&#x7684;&#x6587;&#x6863; BeautifulSoup(markup, &#x201C;html5lib&#x201D;) &#x901F;&#x5EA6;&#x6162; &#x4E0D;&#x4F9D;&#x8D56;&#x5916;&#x90E8;&#x6269;&#x5C55; &#x4F7F;&#x7528;&#x65B9;&#x6CD5;12345678from bs4 import BeautifulSoupsoup = BeautifulSoup(response.text, &apos;htmp.parser&apos;)# &#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;print(soup.prettify())tag = soup.find(id=&apos;li&apos;) # &#x67E5;&#x627E;&#x7B2C;&#x4E00;&#x4E2A;id&#x4E3A;li&#x7684;&#x6807;&#x7B7E;tag = soup.find(name=&apos;div&apos; id=&apos;item&apos;, attrs={&apos;class&apos;: &apos;list&apos;}, recursive=True, text=&apos;Lacie&apos;&#xFF0C; class_=&apos;item) name&#xFF1A; &#x6807;&#x7B7E;&#x540D; id&#xFF1A;&#x6807;&#x7B7E;&#x7684;id&#x5C5E;&#x6027; attrs&#xFF1A;&#x6807;&#x7B7E;&#x7684;&#x5C5E;&#x6027;&#x5B57;&#x5178; recursive&#xFF1A;&#x662F;&#x5426;&#x9012;&#x5F52;&#x7684;&#x53BB;&#x67E5;&#x627E;&#xFF0C;false &#x53EA;&#x5728;&#x5B50;&#x96C6;&#x91CC;&#x627E;&#xFF0C; true &#x9012;&#x5F52;&#x67E5;&#x627E; text&#xFF1A;&#x6807;&#x7B7E;&#x7684;&#x6587;&#x672C;&#x4FE1;&#x606F; class_&#xFF1A;&#x6807;&#x7B7E;&#x7684;class&#x5C5E;&#x6027; 123tag_list = soup.find_all(&apos;div) # fing_all &#x67E5;&#x627E;&#x6240;&#x6709;div &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;list &#x53C2;&#x6570;&#x540D;&#x540C;find# select &#x540C;css&#x7684;&#x9009;&#x62E9;&#x5668;tag = soup.select(&apos;#li&apos;) &#x901A;&#x8FC7;&#x6807;&#x7B7E;&#x540D;&#x67E5;&#x627E; soup.select(&#x2018;a&#x2019;) soup.select(&#x2018;title&#x2019;) &#x901A;&#x8FC7;&#x7C7B;&#x540D;&#x67E5;&#x627E; soup.select(&#x2018;.sister&#x2019;) &#x901A;&#x8FC7; id &#x540D;&#x67E5;&#x627E; soup.select(&#x2018;#link1&#x2019;) &#x7EC4;&#x5408;&#x67E5;&#x627E; soup.select(&#x2018;p #link1&#x2019;) &#x76F4;&#x63A5;&#x5B50;&#x6807;&#x7B7E;&#x67E5;&#x627E; soup.select(&#x201C;head &gt; title&#x201D;) &#x5C5E;&#x6027;&#x67E5;&#x627E; soup.select(&#x2018;a[class=&#x201D;sister&#x201D;]&#x2019;) soup.select(&#x2018;a[href=&#x201D;http://example.com/elsie&#x201C;]&#x2019;) soup.select(&#x2018;p a[href=&#x201D;http://example.com/elsie&#x201C;]&#x2019;) &#x5176;&#x4ED6;&#x65B9;&#x6CD5; tag.text # &#x8FD4;&#x56DE;&#x6807;&#x7B7E;&#x7684;&#x6587;&#x672C; tag.string # &#x8FD4;&#x56DE;&#x6807;&#x7B7E;&#x7684;&#x5185;&#x5BB9; tag.stripped_string # &#x9012;&#x5F52;&#x5FAA;&#x73AF;&#x83B7;&#x53D6;&#x5185;&#x90E8;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x6587;&#x672C; tag.name # &#x8FD4;&#x56DE;&#x6807;&#x7B7E;&#x540D;&#x79F0; tag.attrs # &#x8FD4;&#x56DE;&#x6807;&#x7B7E;&#x7684;&#x5C5E;&#x6027; &#x5B57;&#x5178;&#x7C7B;&#x578B; tag.clear() # &#x6E05;&#x7A7A;&#x5185;&#x90E8;&#x6240;&#x6709;&#x6807;&#x7B7E; tag.decompose() # &#x6E05;&#x7A7A;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x5305;&#x542B;&#x81EA;&#x5DF1; tag.extract() # &#x540C;decompose &#x4F46;&#x662F;&#x4F1A;&#x8FD4;&#x56DE;&#x5220;&#x9664;&#x7684;&#x6807;&#x7B7E; tag.encode() # &#x8FD4;&#x56DE;&#x6807;&#x7B7E;&#x7684;&#x5B57;&#x8282;&#x7C7B;&#x578B; tag.decode() # &#x8FD4;&#x56DE;&#x6807;&#x7B7E;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B; tag.encode_contents() # &#x8FD4;&#x56DE;&#x6807;&#x7B7E;&#x7684;&#x5185;&#x90E8;&#x5185;&#x5BB9;&#x5B57;&#x8282;&#x7C7B;&#x578B; tag.decode_contents() # &#x8FD4;&#x56DE;&#x6807;&#x7B7E;&#x7684;&#x5185;&#x90E8;&#x5185;&#x5BB9;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B; tag.attre = {&#x2018;id&#x2019;: &#x2018;hello&#x2019;} # &#x91CD;&#x65B0;&#x8D4B;&#x503C; tag.get(&#x2018;id&#x2019;) # &#x83B7;&#x53D6;&#x6807;&#x7B7E;&#x7684;id&#x5C5E;&#x6027; tag.has_attr(&#x2018;id&#x2019;) # &#x5224;&#x65AD;&#x5F53;&#x524D;&#x6807;&#x7B7E;&#x662F;&#x5426;&#x6709;id&#x8FD9;&#x4E2A;&#x5C5E;&#x6027; tag.get_text() # &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x6807;&#x7B7E;&#x7684;&#x6587;&#x672C; tag.index(tag,find(&#x2018;div&#x2019;)) # &#x67E5;&#x627E;&#x6807;&#x7B7E;&#x5728;&#x67D0;&#x4E2A;&#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x7D22;&#x5F15;&#x4F4D;&#x7F6E; tag.is_empty_element() &#x5224;&#x65AD;&#x662F;&#x5426;&#x662F;&#x81EA;&#x95ED;&#x548C;&#x6807;&#x7B7E;&#xFF1A; &#x5982;br,hr,input,img,meta,soacer,link,frame,base 123456789101112131415# &#x5F53;&#x524D;&#x6807;&#x7B7E;&#x7684;&#x5173;&#x8054;&#x6807;&#x7B7E;&#xFF0C;&#x540C;jquery&#x7684;&#x94FE;&#x5F0F;&#x8C03;&#x7528;tag.nexttag.next_elementtag.next_elementstag.next_siblingtag.next_siblingstag.previoustag.previous_elementtag.previous_elementstag.previous_siblingtag.previous_siblingstag.parendtag.parentstag.children # &#x5F53;&#x524D;&#x6807;&#x7B7E;&#x7684;&#x6240;&#x6709;&#x5B50;&#x6807;&#x7B7E;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5217;&#x8868;tag.descendants # &#x5F53;&#x524D;&#x5143;&#x7D20;&#x7684;&#x6240;&#x6709;&#x5B50;&#xFF08;&#x9012;&#x5F52;&#xFF09;&#x6807;&#x7B7E; find_all( name , attrs , recursive , text , **kwargs )find_all() &#x65B9;&#x6CD5;&#x641C;&#x7D22;&#x5F53;&#x524D;tag&#x7684;&#x6240;&#x6709;tag&#x5B50;&#x8282;&#x70B9;,&#x5E76;&#x5224;&#x65AD;&#x662F;&#x5426;&#x7B26;&#x5408;&#x8FC7;&#x6EE4;&#x5668;&#x7684;&#x6761;&#x4EF6; name &#x53C2;&#x6570; &#x5B57;&#x7B26;&#x4E32;&#xFF1A;soup.find_all(&#x2018;b&#x2019;) &#x6B63;&#x5219;&#xFF1A;soup.find_all(re.compile(&#x201C;^b&#x201D;) &#x5982;&#x679C;&#x4F20;&#x5165;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;,Beautiful Soup&#x4F1A;&#x901A;&#x8FC7;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684; match() &#x6765;&#x5339;&#x914D;&#x5185;&#x5BB9; &#x5217;&#x8868;&#xFF1A;soup.find_all([&#x201C;a&#x201D;, &#x201C;b&#x201D;]) True&#xFF1A;soup.find_all(True) True &#x53EF;&#x4EE5;&#x5339;&#x914D;&#x4EFB;&#x4F55;&#x503C;,&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x67E5;&#x627E;&#x5230;&#x6240;&#x6709;&#x7684;tag,&#x4F46;&#x662F;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x8282;&#x70B9; &#x4F20;&#x65B9;&#x6CD5;&#xFF1A; 123456789# &#x5982;&#x679C;&#x6CA1;&#x6709;&#x5408;&#x9002;&#x8FC7;&#x6EE4;&#x5668;,&#x90A3;&#x4E48;&#x8FD8;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;,# &#x65B9;&#x6CD5;&#x53EA;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x53C2;&#x6570;# &#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE; True &#x8868;&#x793A;&#x5F53;&#x524D;&#x5143;&#x7D20;&#x5339;&#x914D;&#x5E76;&#x4E14;&#x88AB;&#x627E;&#x5230;,&#x5982;&#x679C;&#x4E0D;&#x662F;&#x5219;&#x53CD;&#x56DE; False# &#x4E0B;&#x9762;&#x65B9;&#x6CD5;&#x6821;&#x9A8C;&#x4E86;&#x5F53;&#x524D;&#x5143;&#x7D20;,&#x5982;&#x679C;&#x5305;&#x542B; class &#x5C5E;&#x6027;&#x5374;&#x4E0D;&#x5305;&#x542B; id &#x5C5E;&#x6027;,&#x90A3;&#x4E48;&#x5C06;&#x8FD4;&#x56DE; True:def has_class_but_no_id(tag): return tag.has_attr(&apos;class&apos;) and not tag.has_attr(&apos;id&apos;)soup.find_all(has_class_but_no_id) keyword &#x53C2;&#x6570; soup.find_all(id=&#x2019;link2&#x2019;) soup.find_all(href=re.compile(&#x201C;elsie&#x201D;)) soup.find_all(href=re.compile(&#x201C;elsie&#x201D;), id=&#x2019;link1&#x2019;) soup.findall(&#x201C;a&#x201D;, class=&#x201D;sister&#x201D;) data_soup.find_all(data-foo=&#x201D;value&#x201D;) data_soup.find_all(attrs={&#x201C;data-foo&#x201D;: &#x201C;value&#x201D;}) text &#x53C2;&#x6570; soup.find_all(text=&#x201D;Elsie&#x201D;) soup.find_all(text=[&#x201C;Tillie&#x201D;, &#x201C;Elsie&#x201D;, &#x201C;Lacie&#x201D;]) soup.find_all(text=re.compile(&#x201C;Dormouse&#x201D;)) limit &#x53C2;&#x6570; soup.find_all(&#x201C;a&#x201D;, limit=2) recursive &#x53C2;&#x6570;&#xFF1A; &#x9012;&#x5F52; 1234567891011121314151617181920212223# &#x5176;&#x4ED6;&#x7684;&#x4E00;&#x4E9B;find&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x6CD5;&#x548C;find_all&#x7C7B;&#x4F3C;find( name , attrs , recursive , text , **kwargs )# &#x5B83;&#x4E0E; find_all() &#x65B9;&#x6CD5;&#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x662F; find_all() &#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x662F;&#x503C;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x5217;&#x8868;,&#x800C; find() &#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;find_parents()find_parent()# find_all() &#x548C; find() &#x53EA;&#x641C;&#x7D22;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x6240;&#x6709;&#x5B50;&#x8282;&#x70B9;,&#x5B59;&#x5B50;&#x8282;&#x70B9;&#x7B49;. find_parents() &#x548C; find_parent() &#x7528;&#x6765;&#x641C;&#x7D22;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x7236;&#x8F88;&#x8282;&#x70B9;,&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x4E0E;&#x666E;&#x901A;tag&#x7684;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x76F8;&#x540C;,&#x641C;&#x7D22;&#x6587;&#x6863;&#x641C;&#x7D22;&#x6587;&#x6863;&#x5305;&#x542B;&#x7684;&#x5185;&#x5BB9;find_next_siblings()find_next_sibling()# &#x8FD9;2&#x4E2A;&#x65B9;&#x6CD5;&#x901A;&#x8FC7; .next_siblings &#x5C5E;&#x6027;&#x5BF9;&#x5F53; tag &#x7684;&#x6240;&#x6709;&#x540E;&#x9762;&#x89E3;&#x6790;&#x7684;&#x5144;&#x5F1F; tag &#x8282;&#x70B9;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;, find_next_siblings() &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x540E;&#x9762;&#x7684;&#x5144;&#x5F1F;&#x8282;&#x70B9;,find_next_sibling() &#x53EA;&#x8FD4;&#x56DE;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x540E;&#x9762;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;tag&#x8282;&#x70B9;find_previous_siblings()find_previous_sibling()# &#x8FD9;2&#x4E2A;&#x65B9;&#x6CD5;&#x901A;&#x8FC7; .previous_siblings &#x5C5E;&#x6027;&#x5BF9;&#x5F53;&#x524D; tag &#x7684;&#x524D;&#x9762;&#x89E3;&#x6790;&#x7684;&#x5144;&#x5F1F; tag &#x8282;&#x70B9;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;, find_previous_siblings() &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x524D;&#x9762;&#x7684;&#x5144;&#x5F1F;&#x8282;&#x70B9;, find_previous_sibling() &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x524D;&#x9762;&#x7684;&#x5144;&#x5F1F;&#x8282;&#x70B9;find_all_next()find_next()# &#x8FD9;2&#x4E2A;&#x65B9;&#x6CD5;&#x901A;&#x8FC7; .next_elements &#x5C5E;&#x6027;&#x5BF9;&#x5F53;&#x524D; tag &#x7684;&#x4E4B;&#x540E;&#x7684; tag &#x548C;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;, find_all_next() &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x8282;&#x70B9;, find_next() &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x8282;&#x70B9;find_all_previous()find_previous()# &#x8FD9;2&#x4E2A;&#x65B9;&#x6CD5;&#x901A;&#x8FC7; .previous_elements &#x5C5E;&#x6027;&#x5BF9;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x524D;&#x9762;&#x7684; tag &#x548C;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;, find_all_previous() &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x8282;&#x70B9;, find_previous()&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x8282;&#x70B9; &#x5982;&#x4F55;&#x63D0;&#x9AD8;&#x722C;&#x866B;&#x7684;&#x5E76;&#x53D1;&#x5F53;&#x722C;&#x53D6;&#x5927;&#x91CF;&#x7C7B;&#x4F3C;&#x4FE1;&#x606F;&#x3001;&#x6570;&#x636E;&#x3001;&#x65B0;&#x95FB;&#x3001;&#x56FE;&#x7247;&#x7B49;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x4E32;&#x884C;&#x7684;&#x722C;&#x884C;&#x65B9;&#x5F0F;&#x4F1A;&#x6D88;&#x8017;&#x5927;&#x91CF;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x8FD9;&#x65F6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5E76;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x63D0;&#x9AD8;&#x722C;&#x866B;&#x7684;&#x6548;&#x7387;&#x4EE5;&#x8282;&#x7701;&#x65F6;&#x95F4;&#x3002; &#x591A;&#x8FDB;&#x7A0B; &#x6D88;&#x8017;&#x8D44;&#x6E90;&#x592A;&#x591A;&#xFF0C;&#x8D44;&#x6E90;&#x6D6A;&#x8D39; &#x6CA1;&#x6709;&#x5927;&#x91CF;&#x7684;cpu&#x64CD;&#x4F5C;&#xFF0C;&#x591A;&#x4E3A;io&#x64CD;&#x4F5C; &#x4F7F;&#x7528;&#x591A;&#x7EBF;&#x7A0B; &#x76F8;&#x5BF9;&#x5355;&#x7EBF;&#x7A0B;&#x65B9;&#x5F0F;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x7684;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x4E5F;&#x6709;&#x8D44;&#x6E90;&#x6D6A;&#x8D39; &#x4F7F;&#x7528;&#x5355;&#x7EBF;&#x7A0B;&#xFF08;gevent&#x3001;twisted&#x3001;tornado&#x3001;asyncio&#xFF09; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#!/usr/bin/env python# -*- coding: utf-8 -*-import syssys.setrecursionlimit(100000)import requestsfrom bs4 import BeautifulSoupfrom gevent import monkeyimport geventheaders = { &quot;User-agent&quot; : &apos;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36&apos;}data = { &apos;phone&apos;:&apos;8617600806797&apos;, &apos;password&apos;:&quot;6502570qq&quot;, &apos;oneMonth&apos;:&apos;1&apos;}# &#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x83B7;&#x53D6;&#x672A;&#x6388;&#x6743;&#x7684;cookier0 = requests.get(url=&apos;https://dig.chouti.com/&apos;, headers = headers)r0_cookie = r0.cookies.get_dict()# &#x53D1;&#x9001;&#x7528;&#x6237;&#x540D;&#x5BC6;&#x7801;&#x8BA4;&#x8BC1;ret = requests.post(url=&apos;https://dig.chouti.com/login&apos;,data= data, headers = headers,cookies = r0_cookie)print(ret.text)index = requests.get(url=&apos;https://dig.chouti.com/&apos;, headers = headers)soup = BeautifulSoup(index.text, &apos;html.parser&apos;)div = soup.find(name=&apos;div&apos;,id=&apos;content-list&apos;)items = div.find_all(attrs={&apos;class&apos;:&apos;item&apos;})monkey.patch_all()def makeLink(nid): r1 = requests.post(url=&apos;https://dig.chouti.com/link/vote?linksId=%s&apos; %nid,headers = headers, cookies=r0_cookie) print(r1.text)tasks = []for item in items: tag = item.find(name=&apos;div&apos;,attrs={&apos;class&apos;:&apos;part2&apos;}) if not tag: continue nid = tag.get(&apos;share-linkid&apos;) print(nid) tasks.append(gevent.spawn(makeLink, nid))gevent.joinall(tasks) IO&#x591A;&#x8DEF;&#x590D;&#x7528;&#xFF08;select&#x3001;poll&#x3001;epoll&#xFF09; http://www.cnblogs.com/wupeiqi/articles/6229292.html &#x76EE;&#x6807;&#xFF1A;&#x7528;&#x4E8E;&#x76D1;&#x542C;&#x591A;&#x4E2A;socket&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x53D1;&#x751F;&#x53D8;&#x5316; 12345import select while True: # &#x8BA9;select&#x6A21;&#x5757;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x68C0;&#x6D4B;sk1&#x3001;sk2&#x4E24;&#x4E2A;socket&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x53D1;&#x751F;&#x53D8;&#x5316; r,w,e = select.select([sk1,sk2],[sk1,sk2],[],0.5) r=[]&#xFF0C;&#x5982;&#x679C;r&#x6709;&#x503C;&#x4E86; r=[sk1,]&#xFF0C;&#x8868;&#x793A;sk1&#x5DF2;&#x7ECF;&#x83B7;&#x53D6;&#x5230;&#x54CD;&#x5E94;&#x7684;&#x5185;&#x5BB9;&#x4E86;&#xFF0C;&#x672C;&#x6B21;&#x8BF7;&#x6C42;&#x53EF;&#x4EE5;&#x7EC8;&#x6B62;&#x4E86; r=[sk1,sk2]&#xFF0C;&#x8868;&#x793A;&#x4E24;&#x4E2A;socket&#x90FD;&#x83B7;&#x53D6;&#x5230;&#x54CD;&#x5E94;&#x7684;&#x5185;&#x5BB9;&#x4E86; w=[]&#xFF0C;&#x5982;&#x679C;w&#x6709;&#x503C;&#x4E86; w=[sk1,]&#xFF0C;&#x8868;&#x793A;sk1&#x8FD9;&#x4E2A;socket&#x5DF2;&#x7ECF;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#xFF0C;&#x4E0B;&#x4E00;&#x6B65;&#x63A5;&#x6536;&#x6570;&#x636E; w=[sk1,sk2]&#xFF0C;&#x8868;&#x793A;&#x4E24;&#x4E2A;socket&#x90FD;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x4E86; &#x975E;&#x963B;&#x585E;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#!/usr/bin/env python# -*- coding: utf-8 -*-import socketimport selectclass AsyncHttp(object): def __init__(self): self.fds = [] self.conn = [] def add(self, url): sk = socket.socket() # &#x52A0;&#x4E0A;&#x8FD9;&#x4E2A;connect&#x5C31;&#x4E0D;&#x963B;&#x585E;&#x4E86; sk.setblocking(False) try: sk.connect((url,80)) except Exception as e: pass self.fds.append(sk) self.conn.append(sk) def run(self): while True: r, w, e = select.select(self.fds, self.conn, [], 1) for client in w: client.sendall(b&apos;GET /index HTTP/1.1\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36\r\n\r\n&apos;) self.conn.remove(client) for cli in r: data = cli.recv(8096) print(&quot;data==&gt;&quot;,data) # &#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF1A;&#x77ED;&#x94FE;&#x63A5;&#xFF0C;&#x65E0;&#x72B6;&#x6001; cli.close() self.fds.remove(cli) # &#x4E0D;&#x518D;&#x76D1;&#x542C; if not self.fds: breakdef main(): a = AsyncHttp() a.add(&quot;www.baidu.com&quot;) a.add(&quot;c.isme.pub&quot;) a.run()if __name__ == &quot;__main__&quot;: main() &#x5F02;&#x6B65;&#x56DE;&#x8C03;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#!/usr/bin/env python# -*- coding: utf-8 -*-import socketimport selectclass Request(object): def __init__(self, sk, callback): self.sk = sk self.callback = callback def fileno(self): return self.sk.fileno()class AsyncHttp(object): def __init__(self): self.fds = [] self.conn = [] def add(self, url, callback): sk = socket.socket() # &#x52A0;&#x4E0A;&#x8FD9;&#x4E2A;connect&#x5C31;&#x4E0D;&#x963B;&#x585E;&#x4E86; sk.setblocking(False) try: sk.connect((url,80)) except Exception as e: pass req = Request(sk, callback) self.fds.append(req) self.conn.append(req) def run(self): while True: r, w, e = select.select(self.fds, self.conn, [], 1) for client in w: client.sk.sendall(b&apos;GET /index HTTP/1.1\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36\r\n\r\n&apos;) self.conn.remove(client) for req in r: data = req.sk.recv(8096) req.callback(data) # &#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF1A;&#x77ED;&#x94FE;&#x63A5;&#xFF0C;&#x65E0;&#x72B6;&#x6001; req.sk.close() self.fds.remove(req) # &#x4E0D;&#x518D;&#x76D1;&#x542C; if not self.fds: breakdef callback1(data): print(&quot;111&quot;) print(&quot;data==&gt;&quot;,data)def callback2(data): print(&quot;222&quot;) print(&quot;data==&gt;&quot;,data)def main(): a = AsyncHttp() a.add(&quot;www.baidu.com&quot;,callback1) a.add(&quot;c.isme.pub&quot;, callback2) a.run()if __name__ == &quot;__main__&quot;: main() &#x53F2;&#x4E0A;&#x6700;&#x725B;&#x903C;&#x7684;&#x5F02;&#x6B65;IO&#x6A21;&#x5757;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162import selectimport socketimport timeclass AsyncTimeoutException(TimeoutError): &quot;&quot;&quot; &#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x5F02;&#x5E38;&#x7C7B; &quot;&quot;&quot; def __init__(self, msg): self.msg = msg super(AsyncTimeoutException, self).__init__(msg)class HttpContext(object): &quot;&quot;&quot;&#x5C01;&#x88C5;&#x8BF7;&#x6C42;&#x548C;&#x76F8;&#x5E94;&#x7684;&#x57FA;&#x672C;&#x6570;&#x636E;&quot;&quot;&quot; def __init__(self, sock, host, port, method, url, data, callback, timeout=5): &quot;&quot;&quot; sock: &#x8BF7;&#x6C42;&#x7684;&#x5BA2;&#x6237;&#x7AEF;socket&#x5BF9;&#x8C61; host: &#x8BF7;&#x6C42;&#x7684;&#x4E3B;&#x673A;&#x540D; port: &#x8BF7;&#x6C42;&#x7684;&#x7AEF;&#x53E3; port: &#x8BF7;&#x6C42;&#x7684;&#x7AEF;&#x53E3; method: &#x8BF7;&#x6C42;&#x65B9;&#x5F0F; url: &#x8BF7;&#x6C42;&#x7684;URL data: &#x8BF7;&#x6C42;&#x65F6;&#x8BF7;&#x6C42;&#x4F53;&#x4E2D;&#x7684;&#x6570;&#x636E; callback: &#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x540E;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570; timeout: &#x8BF7;&#x6C42;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &quot;&quot;&quot; self.sock = sock self.callback = callback self.host = host self.port = port self.method = method self.url = url self.data = data self.timeout = timeout self.__start_time = time.time() self.__buffer = [] def is_timeout(self): &quot;&quot;&quot;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x8D85;&#x65F6;&quot;&quot;&quot; current_time = time.time() if (self.__start_time + self.timeout) &lt; current_time: return True def fileno(self): &quot;&quot;&quot;&#x8BF7;&#x6C42;sockect&#x5BF9;&#x8C61;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x7528;&#x4E8E;select&#x76D1;&#x542C;&quot;&quot;&quot; return self.sock.fileno() def write(self, data): &quot;&quot;&quot;&#x5728;buffer&#x4E2D;&#x5199;&#x5165;&#x54CD;&#x5E94;&#x5185;&#x5BB9;&quot;&quot;&quot; self.__buffer.append(data) def finish(self, exc=None): &quot;&quot;&quot;&#x5728;buffer&#x4E2D;&#x5199;&#x5165;&#x54CD;&#x5E94;&#x5185;&#x5BB9;&#x5B8C;&#x6210;&#xFF0C;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&quot;&quot;&quot; if not exc: response = b&apos;&apos;.join(self.__buffer) self.callback(self, response, exc) else: self.callback(self, None, exc) def send_request_data(self): content = &quot;&quot;&quot;%s %s HTTP/1.0\r\nHost: %s\r\n\r\n%s&quot;&quot;&quot; % ( self.method.upper(), self.url, self.host, self.data,) return content.encode(encoding=&apos;utf8&apos;)class AsyncRequest(object): def __init__(self): self.fds = [] self.connections = [] def add_request(self, host, port, method, url, data, callback, timeout): &quot;&quot;&quot;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8981;&#x8BF7;&#x6C42;&quot;&quot;&quot; client = socket.socket() client.setblocking(False) try: client.connect((host, port)) except BlockingIOError as e: pass # print(&apos;&#x5DF2;&#x7ECF;&#x5411;&#x8FDC;&#x7A0B;&#x53D1;&#x9001;&#x8FDE;&#x63A5;&#x7684;&#x8BF7;&#x6C42;&apos;) req = HttpContext(client, host, port, method, url, data, callback, timeout) self.connections.append(req) self.fds.append(req) def check_conn_timeout(self): &quot;&quot;&quot;&#x68C0;&#x67E5;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x662F;&#x5426;&#x6709;&#x5DF2;&#x7ECF;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5219;&#x7EC8;&#x6B62;&quot;&quot;&quot; timeout_list = [] for context in self.connections: if context.is_timeout(): timeout_list.append(context) for context in timeout_list: context.finish(AsyncTimeoutException(&apos;&#x8BF7;&#x6C42;&#x8D85;&#x65F6;&apos;)) self.fds.remove(context) self.connections.remove(context) def running(self): &quot;&quot;&quot;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF0C;&#x7528;&#x4E8E;&#x68C0;&#x6D4B;&#x8BF7;&#x6C42;&#x7684;socket&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5C31;&#x7EEA;&#xFF0C;&#x4ECE;&#x800C;&#x6267;&#x884C;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&quot;&quot;&quot; while True: r, w, e = select.select(self.fds, self.connections, self.fds, 0.05) if not self.fds: return for context in r: sock = context.sock while True: try: data = sock.recv(8096) if not data: self.fds.remove(context) context.finish() break else: context.write(data) except BlockingIOError as e: break except TimeoutError as e: self.fds.remove(context) self.connections.remove(context) context.finish(e) break for context in w: # &#x5DF2;&#x7ECF;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5F00;&#x59CB;&#x5411;&#x8FDC;&#x7A0B;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x6570;&#x636E; if context in self.fds: data = context.send_request_data() context.sock.sendall(data) self.connections.remove(context) self.check_conn_timeout()if __name__ == &apos;__main__&apos;: def callback_func(context, response, ex): &quot;&quot;&quot; :param context: HttpContext&#x5BF9;&#x8C61;&#xFF0C;&#x5185;&#x90E8;&#x5C01;&#x88C5;&#x4E86;&#x8BF7;&#x6C42;&#x76F8;&#x5173;&#x4FE1;&#x606F; :param response: &#x8BF7;&#x6C42;&#x54CD;&#x5E94;&#x5185;&#x5BB9; :param ex: &#x662F;&#x5426;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#xFF08;&#x5982;&#x679C;&#x6709;&#x5F02;&#x5E38;&#x5219;&#x503C;&#x4E3A;&#x5F02;&#x5E38;&#x5BF9;&#x8C61;&#xFF1B;&#x5426;&#x5219;&#x503C;&#x4E3A;None&#xFF09; :return: &quot;&quot;&quot; print(context, response, ex) obj = AsyncRequest() url_list = [ {&apos;host&apos;: &apos;www.google.com&apos;, &apos;port&apos;: 80, &apos;method&apos;: &apos;GET&apos;, &apos;url&apos;: &apos;/&apos;, &apos;data&apos;: &apos;&apos;, &apos;timeout&apos;: 5, &apos;callback&apos;: callback_func}, {&apos;host&apos;: &apos;www.baidu.com&apos;, &apos;port&apos;: 80, &apos;method&apos;: &apos;GET&apos;, &apos;url&apos;: &apos;/&apos;, &apos;data&apos;: &apos;&apos;, &apos;timeout&apos;: 5, &apos;callback&apos;: callback_func}, {&apos;host&apos;: &apos;www.bing.com&apos;, &apos;port&apos;: 80, &apos;method&apos;: &apos;GET&apos;, &apos;url&apos;: &apos;/&apos;, &apos;data&apos;: &apos;&apos;, &apos;timeout&apos;: 5, &apos;callback&apos;: callback_func}, ] for item in url_list: print(item) obj.add_request(**item) obj.running() &#x534F;&#x7A0B;&#x534F;&#x7A0B;&#xFF0C;&#x53C8;&#x79F0;&#x5FAE;&#x7EBF;&#x7A0B;&#xFF0C;&#x7EA4;&#x7A0B;&#x3002;&#x82F1;&#x6587;&#x540D;Coroutine&#x3002;&#x4E00;&#x53E5;&#x8BDD;&#x8BF4;&#x660E;&#x4EC0;&#x4E48;&#x662F;&#x534F;&#x7A0B;&#xFF1A;&#x534F;&#x7A0B;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x6237;&#x6001;&#x7684;&#x8F7B;&#x91CF;&#x7EA7;&#x7EBF;&#x7A0B;&#x3002; &#x5FAE;&#x7EBF;&#x7A0B;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x8BA4;&#x4E3A;&#x521B;&#x9020;&#x63A7;&#x5236;&#x7A0B;&#x5E8F;&#x5148;&#x6267;&#x884C;&#x67D0;&#x6BB5;&#x4EE3;&#x7801;&#xFF0C;&#x540E;&#x8DF3;&#x5230;&#x67D0;&#x5904;&#x6267;&#x884C;&#x67D0;&#x6BB5;&#x4EE3;&#x7801; &#x9047;&#x5230;&#x975E;IO&#x8BF7;&#x6C42;&#x5207;&#x6362;&#xFF0C;&#x6027;&#x80FD;&#x66F4;&#x4F4E; &#x9047;&#x5230;IO&#x8BF7;&#x6C42;&#x5207;&#x6362;&#xFF0C;&#x6027;&#x80FD;&#x9AD8;&#xFF0C;&#x80FD;&#x591F;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;(&#x5229;&#x7528;IO&#x7B49;&#x5F85;&#x7684;&#x8FC7;&#x7A0B;,&#x518D;&#x53BB;&#x5E72;&#x5176;&#x4ED6;&#x7684;&#x4E8B;) &#x534F;&#x7A0B;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x6808; &#x7EBF;&#x7A0B;&#x5207;&#x6362;&#x7684;&#x65F6;&#x5019;&#x662F;&#x4FDD;&#x5B58;&#x5728;cpu&#x7684;&#x5BC4;&#x5B58;&#x5668; &#x534F;&#x7A0B;&#x8C03;&#x5EA6;&#x5207;&#x6362;&#x65F6;&#xFF0C;&#x5C06;&#x5BC4;&#x5B58;&#x5668;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x6808;&#x4FDD;&#x5B58;&#x5230;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#xFF0C;&#x5728;&#x5207;&#x56DE;&#x6765;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6062;&#x590D;&#x5148;&#x524D;&#x4FDD;&#x5B58;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x6808; &#x56E0;&#x6B64;&#xFF1A;&#x534F;&#x7A0B;&#x80FD;&#x4FDD;&#x7559;&#x4E0A;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x65F6;&#x7684;&#x72B6;&#x6001;&#xFF08;&#x5373;&#x6240;&#x6709;&#x5C40;&#x90E8;&#x72B6;&#x6001;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7EC4;&#x5408;&#xFF09; &#x6BCF;&#x6B21;&#x8FC7;&#x7A0B;&#x91CD;&#x5165;&#x65F6;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x8FDB;&#x5165;&#x4E0A;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6362;&#x79CD;&#x8BF4;&#x6CD5;&#xFF1A;&#x8FDB;&#x5165;&#x4E0A;&#x4E00;&#x6B21;&#x79BB;&#x5F00;&#x65F6;&#x6240;&#x5904;&#x903B;&#x8F91;&#x6D41;&#x7684;&#x4F4D;&#x7F6E;&#x3002; &#x4F18;&#x70B9; &#x65E0;&#x9700;&#x7EBF;&#x7A0B;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x7684;&#x5F00;&#x9500; &#x65E0;&#x9700;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x9501;&#x5B9A;&#x53CA;&#x540C;&#x6B65;&#x7684;&#x5F00;&#x9500; &#x539F;&#x5B50;&#x64CD;&#x4F5C;(atomic operation)&#x662F;&#x4E0D;&#x9700;&#x8981;synchronized&#xFF0C;&#x6240;&#x8C13;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x662F;&#x6307;&#x4E0D;&#x4F1A;&#x88AB;&#x7EBF;&#x7A0B;&#x8C03;&#x5EA6;&#x673A;&#x5236;&#x6253;&#x65AD;&#x7684;&#x64CD;&#x4F5C;&#xFF1B;&#x8FD9;&#x79CD;&#x64CD;&#x4F5C;&#x4E00;&#x65E6;&#x5F00;&#x59CB;&#xFF0C;&#x5C31;&#x4E00;&#x76F4;&#x8FD0;&#x884C;&#x5230;&#x7ED3;&#x675F;&#xFF0C;&#x4E2D;&#x95F4;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55; context switch &#xFF08;&#x5207;&#x6362;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF09;&#x3002;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x591A;&#x4E2A;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x987A;&#x5E8F;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x6253;&#x4E71;&#xFF0C;&#x6216;&#x8005;&#x5207;&#x5272;&#x6389;&#x53EA;&#x6267;&#x884C;&#x90E8;&#x5206;&#x3002;&#x89C6;&#x4F5C;&#x6574;&#x4F53;&#x662F;&#x539F;&#x5B50;&#x6027;&#x7684;&#x6838;&#x5FC3;&#x3002; &#x65B9;&#x4FBF;&#x5207;&#x6362;&#x63A7;&#x5236;&#x6D41;&#xFF0C;&#x7B80;&#x5316;&#x7F16;&#x7A0B;&#x6A21;&#x578B; &#x9AD8;&#x5E76;&#x53D1;+&#x9AD8;&#x6269;&#x5C55;&#x6027;+&#x4F4E;&#x6210;&#x672C;&#xFF0C;&#x4E00;&#x4E2A;CPU&#x652F;&#x6301;&#x4E0A;&#x4E07;&#x7684;&#x534F;&#x7A0B;&#x90FD;&#x4E0D;&#x662F;&#x95EE;&#x9898;&#x3002;&#x6240;&#x4EE5;&#x5F88;&#x9002;&#x5408;&#x7528;&#x4E8E;&#x9AD8;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x3002; &#x7F3A;&#x70B9; &#x65E0;&#x6CD5;&#x5229;&#x7528;&#x591A;&#x6838;&#x8D44;&#x6E90;&#xFF1A;&#x534F;&#x7A0B;&#x7684;&#x672C;&#x8D28;&#x662F;&#x4E2A;&#x5355;&#x7EBF;&#x7A0B;,&#x5B83;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x5C06; &#x5355;&#x4E2A;CPU &#x7684;&#x591A;&#x4E2A;&#x6838;&#x7528;&#x4E0A;,&#x534F;&#x7A0B;&#x9700;&#x8981;&#x548C;&#x8FDB;&#x7A0B;&#x914D;&#x5408;&#x624D;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x591A;CPU&#x4E0A;.&#x5F53;&#x7136;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x6240;&#x7F16;&#x5199;&#x7684;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x5E94;&#x7528;&#x90FD;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x5FC5;&#x8981;&#xFF0C;&#x9664;&#x975E;&#x662F;cpu&#x5BC6;&#x96C6;&#x578B;&#x5E94;&#x7528;&#x3002; &#x8FDB;&#x884C;&#x963B;&#x585E;&#xFF08;Blocking&#xFF09;&#x64CD;&#x4F5C;&#xFF08;&#x5982;IO&#x65F6;&#xFF09;&#x4F1A;&#x963B;&#x585E;&#x6389;&#x6574;&#x4E2A;&#x7A0B;&#x5E8F; &#x6D4F;&#x89C8;&#x5668;&#x3001;&#x722C;&#x866B;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x7684;&#x672C;&#x8D28; &#x672C;&#x8D28;&#x662F;socket&#x5BA2;&#x6237;&#x7AEF; socket&#x5BA2;&#x6237;&#x7AEF;&#x5EFA;&#x7ACB;tcp&#x8FDE;&#x63A5;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x963B;&#x585E;&#x7684; &#x7B49;&#x5F85;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5185;&#x5BB9;&#x662F;&#x963B;&#x585E;&#x7684; socket&#x5BA2;&#x6237;&#x7AEF;&#x9075;&#x5FAA;HTTP&#x534F;&#x8BAE; &#x901A;&#x8FC7;\r\n&#x5206;&#x5272;&#x7684;&#x683C;&#x5F0F;&#x89C4;&#x8303; &#x8BF7;&#x6C42;&#x76F8;&#x5E94;&#x4E4B;&#x540E;&#x65AD;&#x5F00;&#x8FDE;&#x63A5; http&#x534F;&#x8BAE;&#x5EFA;&#x7ACB;&#x5728;tcp&#x534F;&#x8BAE;&#x4E4B;&#x4E0A; http&#x534F;&#x8BAE;&#x89C4;&#x5B9A;&#x4E86;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F; &#x8BF7;&#x6C42;&#x6570;&#x636E;&#x7528;\r\n&#x5206;&#x5272; &#x8BF7;&#x6C42;&#x5934;&#x548C;&#x8BF7;&#x6C42;&#x4F53;&#x7528;\r\n\r\n&#x5206;&#x5272; &#x54CD;&#x5E94;&#x5934;&#x548C;&#x54CD;&#x5E94;&#x4F53;&#x4E5F;&#x662F;\r\n&#x5206;&#x5272; &#x8BF7;&#x6C42;&#x76F8;&#x5E94;&#x4E4B;&#x540E;&#x65AD;&#x5F00;&#x8FDE;&#x63A5; &#x77ED;&#x8FDE;&#x63A5;,&#x65E0;&#x72B6;&#x6001; &#x9762;&#x8BD5;&#x9898; &#x4EC0;&#x4E48;&#x662F;&#x5F02;&#x6B65; &#x4F53;&#x73B0;&#x662F;&#x56DE;&#x8C03; &#x4EC0;&#x4E48;&#x662F;&#x975E;&#x963B;&#x585E; &#x4F53;&#x73B0;&#x662F;&#x4E0D;&#x7B49;&#x5F85; &#x62A5;&#x9519;&#x5C31;&#x6355;&#x6349; sk.setblocking(False) &#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x6B65;&#x975E;&#x963B;&#x585E;&#x6A21;&#x5757; &#x57FA;&#x4E8E;socket&#x8BBE;&#x7F6E;setblocking&#x548C;io&#x591A;&#x8DEF;&#x590D;&#x7528; &#x722C;&#x866B;&#x53D1;&#x9001;http&#x8BF7;&#x6C42;&#x672C;&#x8D28;&#x521B;&#x5EFA;socket&#x5BF9;&#x8C61; io&#x591A;&#x8DEF;&#x590D;&#x7528;&#x5FAA;&#x73AF;&#x76D1;&#x542C;socket&#x662F;&#x5426;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x4E00;&#x65E6;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x64CD;&#x4F5C;&#xFF08;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#xFF09; &#x672C;&#x8D28;socket+IO&#x591A;&#x8DEF;&#x590D;&#x7528; http&#x534F;&#x8BAE;&#x662F;&#x4EC0;&#x4E48; &#x5982;&#x4F55;&#x63D0;&#x9AD8;&#x722C;&#x866B;&#x7684;&#x5E76;&#x53D1; &#x8FDB;&#x7A0B; &#x7EBF;&#x7A0B; &#x5229;&#x7528;&#x5F02;&#x6B65;&#x975E;&#x963B;&#x585E;&#x6A21;&#x5757;&#x5B9E;&#x73B0;&#x5355;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;&#x8BF7;&#x6C42; io&#x591A;&#x8DEF;&#x590D;&#x7528;&#x7684;&#x4F5C;&#x7528; select&#xFF0C;&#x5185;&#x90E8;&#x5FAA;&#x73AF;&#x68C0;&#x6D4B;socket&#x662F;&#x5426;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;1024&#x4E2A; poll&#xFF0C;&#x6CA1;&#x6709;&#x4E2A;&#x6570;&#x9650;&#x5236; epoll&#xFF0C;&#x56DE;&#x8C03;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6CA1;&#x6709;&#x4E2A;&#x6570;&#x9650;&#x5236;]]></content>
      <categories>
        <category>python</category>
        <category>bs4</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>bs4</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[初识爬虫以及requests模块]]></title>
    <url>%2F2018%2F07%2F04%2Freptile-requests%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x4E00;&#x76F4;&#x90FD;&#x60F3;&#x5B66;&#x4E60;&#x4E00;&#x4E0B;python&#x722C;&#x866B;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#xFF0C;&#x4F46;&#x662F;&#x82E6;&#x4E8E;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x65F6;&#x95F4;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x975E;&#x5E38;&#x611F;&#x8C22;&#x8FD9;&#x6B21;&#x80FD;&#x591F;&#x8DEF;&#x98DE;&#x5B66;&#x9662;&#x5B66;&#x4E60;&#x5230;&#x722C;&#x866B;&#x77E5;&#x8BC6;&#x7684;&#x673A;&#x4F1A;&#x3002; &#x4E0D;&#x4F1A;web&#x80FD;&#x4E0D;&#x80FD;&#x505A;&#x722C;&#x866B;&#xFF1F; &#x4E0D;&#x80FD; &#x5199;&#x722C;&#x866B;&#x7684;&#x65F6;&#x5019;&#x7ECF;&#x5386;&#x7684;&#x9636;&#x6BB5; &#x627E;&#x4E0D;&#x5230;&#x5165;&#x53E3; &#x53CD;&#x590D;&#x8BD5;&#xFF0C;&#x627E;&#x5230;&#x5165;&#x53E3; &#x5FC5;&#x5907;&#x77E5;&#x8BC6; &#x722C;&#x866B;&#x672C;&#x8D28;&#xFF0C;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x4F2A;&#x9020;&#x6D4F;&#x89C8;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42; http&#x8BF7;&#x6C42;&#x4F2A;&#x9020;&#x7684;&#x50CF;&#x4E0D;&#x50CF; &#x8BF7;&#x6C42;&#x5934; user-agent&#xFF1A;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x4EC0;&#x4E48;&#x8BBE;&#x5907;&#x8BBF;&#x95EE; cookie&#xFF1A;&#x5728;&#x7528;&#x6237;&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#x4FDD;&#x5B58;&#x7684;&#x6807;&#x8BB0; &#x8BF7;&#x6C42;&#x4F53; get&#x6570;&#x636E; post&#x6570;&#x636E; &#x5206;&#x6790;http&#x8BF7;&#x6C42; chrome &#x4EC0;&#x4E48;&#x662F;&#x722C;&#x866B;&#x7F51;&#x7EDC;&#x722C;&#x866B;&#xFF08;&#x53C8;&#x88AB;&#x79F0;&#x4E3A;&#x7F51;&#x9875;&#x8718;&#x86DB;&#xFF0C;&#x7F51;&#x7EDC;&#x673A;&#x5668;&#x4EBA;&#xFF0C;&#x5728;FOAF&#x793E;&#x533A;&#x4E2D;&#x95F4;&#xFF0C;&#x66F4;&#x7ECF;&#x5E38;&#x7684;&#x79F0;&#x4E3A;&#x7F51;&#x9875;&#x8FFD;&#x9010;&#x8005;&#xFF09;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x81EA;&#x52A8;&#x5730;&#x6293;&#x53D6;&#x4E07;&#x7EF4;&#x7F51;&#x4FE1;&#x606F;&#x7684;&#x7A0B;&#x5E8F;&#x6216;&#x8005;&#x811A;&#x672C;&#x3002;&#x53E6;&#x5916;&#x4E00;&#x4E9B;&#x4E0D;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x540D;&#x5B57;&#x8FD8;&#x6709;&#x8682;&#x8681;&#x3001;&#x81EA;&#x52A8;&#x7D22;&#x5F15;&#x3001;&#x6A21;&#x62DF;&#x7A0B;&#x5E8F;&#x6216;&#x8005;&#x8815;&#x866B;&#x3002; &#x901A;&#x8FC7;&#x7F16;&#x5199;&#x7A0B;&#x5E8F;&#xFF0C;&#x6839;&#x636E;url&#x83B7;&#x53D6;&#x7F51;&#x7AD9;&#x4FE1;&#x606F; &#x4F2A;&#x9020;&#x6D4F;&#x89C8;&#x5668;&#x60F3;&#x67D0;&#x4E2A;&#x5730;&#x5740;&#x53D1;&#x9001;http&#x8BF7;&#x6C42;&#xFF0C;&#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x7B26;&#x4E32; RequestsPython&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#xFF1A;urllib&#x3001;urllib2&#x3001;httplib&#x7B49;&#x6A21;&#x5757;&#x4EE5;&#x4F9B;Http&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x975E;&#x5E38;&#x4E0D;&#x65B9;&#x4FBF;&#x3002; Requests &#x662F;&#x4F7F;&#x7528; Apache2 Licensed &#x8BB8;&#x53EF;&#x8BC1;&#x7684;&#xFF0C;&#x57FA;&#x4E8E;Python&#x5F00;&#x53D1;&#x7684;HTTP&#x5E93;&#xFF0C;&#x5176;&#x5728;Python&#x5185;&#x7F6E;&#x6A21;&#x5757;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x9AD8;&#x5EA6;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;Pythoner&#x8FDB;&#x884C;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x53D8;&#x5F97;&#x7F8E;&#x597D;&#x4E86;&#x8BB8;&#x591A;&#xFF0C;&#x4F7F;&#x7528;Requests&#x53EF;&#x4EE5;&#x8F7B;&#x800C;&#x6613;&#x4E3E;&#x7684;&#x5B8C;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x6709;&#x7684;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x3002; &#x5E38;&#x7528;&#x65B9;&#x6CD5;GET&#x8BF7;&#x6C42;1234567891011121314151617# &#x65E0;&#x53C2;&#x6570; import requests ret = requests.get(url=&quot;http://c.isme.pub&quot;) print(ret.url)print(ret.text)# &#x6709;&#x53C2;&#x6570;import requests params = {&apos;key1&apos;: &apos;value1&apos;, &apos;key2&apos;: &apos;value2&apos;}ret = requests.get(url=&quot;http://c.isme.pub&quot;, params= params) print(ret.url)print(ret.text) POST&#x8BF7;&#x6C42;12345678910111213141516171819202122# &#x57FA;&#x672C;POST&#x5B9E;&#x4F8B; import requests data = {&apos;key1&apos;: &apos;value1&apos;, &apos;key2&apos;: &apos;value2&apos;}ret = requests.post(url=&quot;http://c.isme.pub&quot;, data=data) print(ret.text) # &#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5934;&#x548C;&#x6570;&#x636E;&#x5B9E;&#x4F8B; import requestsimport json url = &quot;http://c.isme.pub&quot;data = {&apos;some&apos;: &apos;data&apos;}headers = {&apos;content-type&apos;: &apos;application/json&apos;} ret = requests.post(url = url, data=json.dumps(payload), headers=headers) print(ret.text)print(ret.cookies) &#x5176;&#x4ED6;&#x8BF7;&#x6C42;12345678910requests.get(url, params=None, **kwargs)requests.post(url, data=None, json=None, **kwargs)requests.put(url, data=None, **kwargs)requests.head(url, **kwargs)requests.delete(url, **kwargs)requests.patch(url, data=None, **kwargs)requests.options(url, **kwargs)# &#x4EE5;&#x4E0A;&#x65B9;&#x6CD5;&#x5747;&#x662F;&#x5728;&#x6B64;&#x65B9;&#x6CD5;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x6784;&#x5EFA;requests.request(method, url, **kwargs) &#x5E38;&#x7528;&#x53C2;&#x6570; method: &#x5411;url&#x53D1;&#x9001;http&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x6CD5; requests.get requests.post get &#x548C; post&#x7684;&#x672C;&#x8D28;&#x5C31;&#x662F;method post&#xFF0C;get&#xFF0C;delete&#xFF0C; put&#xFF0C; head&#xFF0C; patch&#xFF0C; options url: &#x8BBF;&#x95EE;&#x7684;url params: get&#x8BF7;&#x6C42;&#x65F6;&#x4F20;&#x9012;&#x7684;&#x53C2;&#x6570;&#xFF0C;post&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; params = {k1:vi} data: post&#x8BF7;&#x6C42;&#x65F6;&#x4F20;&#x9012;&#x7684;&#x8BF7;&#x6C42;&#x4F53; &#x6D4F;&#x89C8;&#x5668;&#x663E;&#x793A;&#x7684;form data data=json.dumps() == json data = {k1:v1,k2:v2} or &#x2018;k1=v1&amp;k2=v2&#x2019; json: &#x8BF7;&#x6C42;&#x65F6;&#x53D1;&#x9001;&#x7684;json&#x6570;&#x636E;&#xFF08;json.dumps&#xFF09; &#x6D4F;&#x89C8;&#x5668;&#x663E;&#x793A;&#x7684; request payload &#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x8BBE;&#x7F6E;content-type&#xFF1A; application/json headers: &#x8BF7;&#x6C42;&#x5934; cookies: &#x8BF7;&#x6C42;&#x65F6;&#x4F7F;&#x7528;&#x7684;cookies proxies: &#x4EE3;&#x7406; 123456proxies = {&quot;http&quot;: &quot;192.168.1.1:80&quot;,&quot;http&quot;: &quot;192.168.1.2:8080&quot;,&quot;https&quot;: &quot;172.16.1.4:8829&quot;,&quot;http://10.20.1.128&quot;: &quot;http://10.0.0.1:5332&quot;} files: &#x4E0A;&#x4F20;&#x6587;&#x4EF6; &#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x5B57;&#x5178;&#x6216;&#x8005;&#x5143;&#x7EC4; 123456789101112131415161718192021file_dict = { &apos;f1&apos;: open(&apos;readme&apos;,&apos;rb&apos;)}url = &apos;http://c.isme.pub&apos;requests.request(&apos;method&apos;=&apos;POST&apos;,url = url,files = file_dict)# &#x5B9A;&#x5236;&#x53D1;&#x9001;&#x6587;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x540D;file_dict = { &apos;f1&apos;: (&apos;text.txt&apos;, open(&apos;readme&apos;,&apos;rb&apos;))}file_dict = { &apos;f1&apos;: (&apos;text.txt&apos;, &apos;xxxxxxxxxxxxxxaddsad&apos;)}## &#x5E26;&#x7740;&#x6587;&#x4EF6;&#x7684;&#x8BF7;&#x6C42;&#x5934;file_dict = { &apos;f1&apos;: (&apos;text.txt&apos;, &apos;xxxxxxxxxxxxxxaddsad&apos;,&apos;application/text&apos;,{&apos;k1&apos;:&apos;0&apos;})} auth: &#x57FA;&#x672C;http&#x8BA4;&#x8BC1;&#xFF08;Basic/Digest/Custom&#xFF09; 123456from requests.auth import HTTPBasicAuth, HTTPDigestAuthret = requests.get( url = &quot;http://c.isme.pub&quot;, auth = HTTPBasicAuth(&apos;user&apos;,&apos;passwd&apos;)) timeout &#x8D85;&#x65F6;&#x65F6;&#x95F4; allow_redirects: &#x9ED8;&#x8BA4;True &#x662F;&#x5426;&#x5141;&#x8BB8;&#x91CD;&#x5B9A;&#x5411; stream: &#x4E0B;&#x8F7D;&#x5927;&#x6587;&#x4EF6;&#x65F6; 1234567ret = requests(url=url, stream=True)for i in r.iter_content(): print(i)from contextlib import closongwith closing(requests.get(url=url,stream=True)) as r: for i in r.iter_content(): print(i) cert: &#x8BC1;&#x4E66;&#xFF08;&#x4E00;&#x822C;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x7684;&#x8BC1;&#x4E66;&#x65F6;&#x4F7F;&#x7528;&#xFF09; verify: &#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x8BC1;&#x4E66;&#x7684;&#x65F6;&#x5019;&#x786E;&#x8BA4;&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x8BBF;&#x95EE; ret = request.Session() &#x7528;&#x6765;&#x4FDD;&#x5B58;&#x5BA2;&#x6237;&#x7AEF;&#x5386;&#x53F2;&#x8BBF;&#x95EE;&#x4FE1;&#x606F; ret.get(),ret.post() # &#x4F1A;&#x81EA;&#x52A8;&#x643A;&#x5E26;cookie&#x4FE1;&#x606F; &#x5B9E;&#x4F8B;&#x767B;&#x5F55;&#x6C7D;&#x8F66;&#x4E4B;&#x5BB6;&#x5E76;&#x83B7;&#x53D6;&#x65B0;&#x95FB;&#x4FE1;&#x606F;1234567891011121314151617181920212223242526272829303132333435363738import requestsfrom bs4 import BeautifulSoup# &#x65B0;&#x95FB;&#x9875;&#x9762;ret = requests.get(url=&apos;https://www.autohome.com.cn/news/&apos;)# &#x68C0;&#x6D4B;&#x662F;&#x4EC0;&#x4E48;&#x7F16;&#x7801;#print(ret.apparent_encoding)# &#x8BBE;&#x7F6E;&#x7F16;&#x7801;#ret.encoding=&apos;gbk&apos;ret.encoding = ret.apparent_encoding#print(ret.content)#print(ret.text)# &#x89E3;&#x6790;&#xFF0C;&#x83B7;&#x53D6;&#x60F3;&#x8981;&#x7684;&#x5185;&#x5BB9; &apos;html.parser&apos;&#x662F;&#x89E3;&#x6790;&#x5668;&#xFF0C;lxml&#x66F4;&#x5FEB;soup = BeautifulSoup(ret.text,&apos;html.parser&apos;)div = soup.find(name=&apos;div&apos;, id=&apos;auto-channel-lazyload-article&apos;)li_list = div.find_all(name=&apos;li&apos;)for li in li_list: h3 = li.find(name=&apos;h3&apos;) if not h3: continue a = li.find(name=&apos;a&apos;) #print(a.attrs[&quot;href&quot;]) print(&quot;=&quot;*20) print(h3.text) print(a.get(&apos;href&apos;)) p = li.find(name=&apos;p&apos;) print(p.text) # &#x83B7;&#x53D6;&#x56FE;&#x7247; img = li.find(name=&apos;img&apos;) # bs4&#x7684;&#x5176;&#x4ED6;&#x4F7F;&#x7528;&#x65B9;&#x5F0F; # img = li.find(name=&apos;img&apos;,id=&apos;xxx&apos;,_class=&apos;asd&apos;) # img = li.find(name=&apos;img&apos;,attrs={&apos;id&apos;:&apos;xxx&apos;,&apos;class&apos;:&apos;asd&apos;}) src = img.get(&apos;src&apos;) file_name = src.rsplit(&quot;__&quot;, maxsplit=1)[1] ret_img = requests.get(url=&quot;https:&quot; + src) with open(file_name,&apos;wb&apos;) as f: f.write(ret_img.content) &#x81EA;&#x52A8;&#x767B;&#x5F55;&#x62BD;&#x5C49;&#x5E76;&#x70B9;&#x8D5E;12345678910111213141516171819202122232425262728293031import requestsfrom bs4 import BeautifulSoupheaders = { &quot;User-agent&quot; : &apos;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36&apos;}data = { &apos;phone&apos;:&apos;8617600806797&apos;, &apos;password&apos;:&quot;xxx&quot;, &apos;oneMonth&apos;:&apos;1&apos;}# &#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x83B7;&#x53D6;&#x672A;&#x6388;&#x6743;&#x7684;cookier0 = requests.get(url=&apos;https://dig.chouti.com/&apos;, headers = headers)r0_cookie = r0.cookies.get_dict()# &#x53D1;&#x9001;&#x7528;&#x6237;&#x540D;&#x5BC6;&#x7801;&#x8BA4;&#x8BC1;ret = requests.post(url=&apos;https://dig.chouti.com/login&apos;,data= data, headers = headers,cookies = r0_cookie)print(ret.text)index = requests.get(url=&apos;https://dig.chouti.com/&apos;, headers = headers)soup = BeautifulSoup(index.text, &apos;html.parser&apos;)div = soup.find(name=&apos;div&apos;,id=&apos;content-list&apos;)items = div.find_all(attrs={&apos;class&apos;:&apos;item&apos;})for item in items: tag = item.find(name=&apos;div&apos;,attrs={&apos;class&apos;:&apos;part2&apos;}) if not tag: continue nid = tag.get(&apos;share-linkid&apos;) print(nid) r1 = requests.post(url=&apos;https://dig.chouti.com/link/vote?linksId=%s&apos; %nid,headers = headers, cookies=r0_cookie) print(r1.text) grequests&#x901A;&#x8FC7;gevent&#x4E0E;requests&#x5C01;&#x88C5;&#x800C;&#x6210;&#x7684;&#x5F02;&#x6B65;HTTP&#x8BF7;&#x6C42;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;requests&#x7684;&#x5F02;&#x6B65;&#x7248;&#x672C;&#x3002; &#x5B89;&#x88C5;1pip install grequests &#x7B80;&#x5355;&#x5B9E;&#x7528;1234567891011121314151617181920import grequestsurls = [ &apos;http://www.heroku.com&apos;, &apos;http://python-tablib.org&apos;, &apos;http://httpbin.org&apos;, &apos;http://python-requests.org&apos;, &apos;http://fakedomain/&apos;, &apos;http://kennethreitz.com&apos;]rs = (grequests.get(u) for u in urls)ret = grequests.map(rs)print(ret)def exception_handler(request, exception): print &quot;Request failed&quot; ret = grequests.map(rs, exception_handler=exception_handler)print(ret) &#x53C2;&#x6570;1def grequests.map(requests, stream=False, size=None, exception_handler=None, gtimeout=None) size: &#x534F;&#x7A0B;&#x7684;&#x5E76;&#x53D1;&#x6570; exception_handler: &#x6355;&#x83B7;&#x5F02;&#x5E38;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6CD5; gtimeout: &#x6574;&#x4F53;&#x8BF7;&#x6C42;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &#x7531;&#x4E8E;&#x5E95;&#x5C42;&#x662F;requests&#xFF0C;&#x56E0;&#x6B64;requests&#x7684;&#x5176;&#x4ED6;&#x53C2;&#x6570;&#x4F9D;&#x7136;&#x652F;&#x6301; &#x4E8B;&#x4EF6;&#x94A9;&#x5B50;123456789101112def print_url(r, *args, **kwargs): print(r.url)url = &quot;http://www.baidu.com&quot;# 1.res = requests.get(url, hooks={&quot;response&quot;:print_url})# 2.tasks = []req = grequests.get(url, callback=print_url)tasks.append(req)res = grequests.map(tasks) &#x5B9E;&#x4F8B;12345678910111213141516171819202122232425262728293031323334353637383940import grequestsimport timeimport requestsurls = [ &apos;https://docs.python.org/2.7/library/index.html&apos;, &apos;https://docs.python.org/2.7/library/dl.html&apos;, &apos;http://www.iciba.com/partial&apos;, &apos;http://2489843.blog.51cto.com/2479843/1407808&apos;, &apos;http://blog.csdn.net/woshiaotian/article/details/61027814&apos;, &apos;https://docs.python.org/2.7/library/unix.html&apos;, &apos;http://2489843.blog.51cto.com/2479843/1386820&apos;, &apos;http://www.bazhuayu.com/tutorial/extract_loop_url.aspx?t=0&apos;,]def method1(): t1 = time.time() for url in urls: res = requests.get(url) t2 = time.time() print(&apos;method1&apos;, t2 - t1)def method2(): tasks = [grequests.get(u) for u in urls] t1 = time.time() res = grequests.map(tasks, size=3) t2 = time.time() print(&apos;method2&apos;, t2 - t1)def method3(): tasks = [grequests.get(u) for u in urls] t1 = time.time() res = grequests.map(tasks, size=6) t2 = time.time() print(&apos;method3&apos;, t2 - t1)if __name__ == &apos;__main__&apos;: method1() method2() method3()]]></content>
      <categories>
        <category>python</category>
        <category>requests</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>requests</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nginx优化（https，keepalive）]]></title>
    <url>%2F2018%2F06%2F29%2Fnginx-optimize%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x672C;&#x6587;&#x8F6C;&#x81EA;&#x8FD9;&#x91CC; nginx&#x4E4B;tcp_nopush&#x3001;tcp_nodelay&#x3001;sendfileTCP_NODELAY&#x4F60;&#x600E;&#x4E48;&#x53EF;&#x4EE5;&#x5F3A;&#x5236; socket &#x5728;&#x5B83;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x91CC;&#x53D1;&#x9001;&#x6570;&#x636E;&#xFF1F; &#x4E00;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F; TCP &#x5806;&#x6808;&#x7684; TCP_NODELAY&#x9009;&#x9879;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x7ACB;&#x5373;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#x3002; Nginx&#x7684; TCP_NODELAY &#x9009;&#x9879;&#x4F7F;&#x5F97;&#x5728;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x65B0;&#x7684; socket &#x65F6;&#x589E;&#x52A0;&#x4E86;TCP_NODELAY&#x9009;&#x9879;&#x3002;&#x4F46;&#x8FD9;&#x65F6;&#x4F1A;&#x9020;&#x6210;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF1A; &#x7EC8;&#x7AEF;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6BCF;&#x4EA7;&#x751F;&#x4E00;&#x6B21;&#x64CD;&#x4F5C;&#x5C31;&#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x5305; &#x800C;&#x5178;&#x578B;&#x60C5;&#x51B5;&#x4E0B;&#x4E00;&#x4E2A;&#x5305;&#x4F1A;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x6570;&#x636E;&#x4EE5;&#x53CA;40&#x4E2A;&#x5B57;&#x8282;&#x957F;&#x7684;&#x5305;&#x5934;&#xFF0C;&#x4E8E;&#x662F;&#x4EA7;&#x751F;4000%&#x7684;&#x8FC7;&#x8F7D;&#xFF0C;&#x5F88;&#x8F7B;&#x6613;&#x5730;&#x5C31;&#x80FD;&#x4EE4;&#x7F51;&#x7EDC;&#x53D1;&#x751F;&#x62E5;&#x585E;&#x3002; &#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;TCP&#x5806;&#x6808;&#x5B9E;&#x73B0;&#x4E86;&#x7B49;&#x5F85;&#x6570;&#x636E; 0.2&#x79D2;&#x949F;&#xFF0C;&#x56E0;&#x6B64;&#x64CD;&#x4F5C;&#x540E;&#x5B83;&#x4E0D;&#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x800C;&#x662F;&#x5C06;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x7684;&#x6570;&#x636E;&#x6253;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x5305;&#x3002; &#x8FD9;&#x4E00;&#x673A;&#x5236;&#x662F;&#x7531;Nagle&#x7B97;&#x6CD5;&#x4FDD;&#x8BC1;&#x3002; Nagle&#x5316;&#x540E;&#x6765;&#x6210;&#x4E86;&#x4E00;&#x79CD;&#x6807;&#x51C6;&#x5E76;&#x4E14;&#x7ACB;&#x5373;&#x5728;&#x56E0;&#x7279;&#x7F51;&#x4E0A;&#x5F97;&#x4EE5;&#x5B9E;&#x73B0;&#x3002;&#x5B83;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x4E86;&#xFF0C;&#x4F46;&#x6709;&#x4E9B;&#x573A;&#x5408;&#x4E0B;&#x628A;&#x8FD9;&#x4E00;&#x9009;&#x9879;&#x5173;&#x6389;&#x4E5F;&#x662F;&#x5408;&#x4E4E;&#x9700;&#x8981;&#x7684;&#x3002; &#x73B0;&#x5728;&#x5047;&#x8BBE;&#x67D0;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53D1;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x5E0C;&#x671B;&#x53D1;&#x9001;&#x5C0F;&#x5757;&#x6570;&#x636E;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x7ACB;&#x5373;&#x53D1;&#x9001;&#x6570;&#x636E;&#x6216;&#x8005;&#x7B49;&#x5F85;&#x4EA7;&#x751F;&#x66F4;&#x591A;&#x7684;&#x6570;&#x636E;&#x7136;&#x540E;&#x518D;&#x4E00;&#x6B21;&#x53D1;&#x9001;&#x4E24;&#x79CD;&#x7B56;&#x7565;&#x3002; &#x5982;&#x679C;&#x6211;&#x4EEC;&#x9A6C;&#x4E0A;&#x53D1;&#x9001;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x4EA4;&#x4E92;&#x6027;&#x7684;&#x4EE5;&#x53CA;&#x5BA2;&#x6237;/&#x670D;&#x52A1;&#x5668;&#x578B;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C06;&#x6781;&#x5927;&#x5730;&#x53D7;&#x76CA;&#x3002; &#x5982;&#x679C;&#x8BF7;&#x6C42;&#x7ACB;&#x5373;&#x53D1;&#x51FA;&#x90A3;&#x4E48;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x4E5F;&#x4F1A;&#x5FEB;&#x4E00;&#x4E9B;&#x3002; &#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x5957;&#x63A5;&#x5B57;&#x7684; TCP_NODELAY = on &#x9009;&#x9879;&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x7981;&#x7528;&#x4E86;Nagle &#x7B97;&#x6CD5;&#x3002;&#xFF08;&#x4E0D;&#x9700;&#x8981;&#x7B49;&#x5F85;0.2s&#xFF09; TCP_NOPUSH&#x5728; nginx &#x4E2D;&#xFF0C;tcp_nopush &#x914D;&#x7F6E;&#x548C; tcp_nodelay &#x201C;&#x4E92;&#x65A5;&#x201D;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x4E00;&#x6B21;&#x53D1;&#x9001;&#x6570;&#x636E;&#x7684;&#x5305;&#x5927;&#x5C0F;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5B83;&#x4E0D;&#x662F;&#x6309;&#x65F6;&#x95F4;&#x7D2F;&#x8BA1; 0.2 &#x79D2;&#x540E;&#x53D1;&#x9001;&#x5305;&#xFF0C;&#x800C;&#x662F;&#x5F53;&#x5305;&#x7D2F;&#x8BA1;&#x5230;&#x4E00;&#x5B9A;&#x5927;&#x5C0F;&#x540E;&#x5C31;&#x53D1;&#x9001;&#x3002; &#x6CE8;&#xFF1A;&#x5728; nginx &#x4E2D;&#xFF0C;tcp_nopush &#x5FC5;&#x987B;&#x548C; sendfile &#x642D;&#x914D;&#x4F7F;&#x7528;&#x3002; sendfile&#x73B0;&#x5728;&#x6D41;&#x884C;&#x7684;web &#x670D;&#x52A1;&#x5668;&#x91CC;&#x9762;&#x90FD;&#x63D0;&#x4F9B; sendfile&#x9009;&#x9879;&#x7528;&#x6765;&#x63D0;&#x9AD8;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#xFF0C;&#x90A3;&#x5230;&#x5E95; sendfile&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x600E;&#x4E48;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#x7684;&#x5462;&#xFF1F; sendfile&#x5B9E;&#x9645;&#x4E0A;&#x662F; Linux2.0+&#x4EE5;&#x540E;&#x7684;&#x63A8;&#x51FA;&#x7684;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF0C;web&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8C03;&#x6574;&#x81EA;&#x8EAB;&#x7684;&#x914D;&#x7F6E;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x5229;&#x7528; sendfile&#x8FD9;&#x4E2A;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x3002;&#x5148;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x4E0D;&#x7528; sendfile&#x7684;&#x4F20;&#x7EDF;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;&#xFF1A; 12read(file,tmp_buf, len);write(socket,tmp_buf, len); &#x786C;&#x76D8; &gt;&gt; kernel buffer &gt;&gt; user buffer&gt;&gt; kernel socket buffer &gt;&gt;&#x534F;&#x8BAE;&#x6808; &#x4E00;&#x822C;&#x6765;&#x8BF4;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x5E94;&#x7528;&#x662F;&#x901A;&#x8FC7;&#x8BFB;&#x786C;&#x76D8;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5199;&#x6570;&#x636E;&#x5230;socket &#x6765;&#x5B8C;&#x6210;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x7684;&#x3002;&#x4E0A;&#x9762;2&#x884C;&#x7528;&#x4EE3;&#x7801;&#x89E3;&#x91CA;&#x4E86;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E0A;&#x9762;2&#x884C;&#x7B80;&#x5355;&#x7684;&#x4EE3;&#x7801;&#x63A9;&#x76D6;&#x4E86;&#x5E95;&#x5C42;&#x7684;&#x5F88;&#x591A;&#x64CD;&#x4F5C;&#x3002;&#x6765;&#x770B;&#x770B;&#x5E95;&#x5C42;&#x662F;&#x600E;&#x4E48;&#x6267;&#x884C;&#x4E0A;&#x9762;2&#x884C;&#x4EE3;&#x7801;&#x7684;&#xFF1A; &#x7CFB;&#x7EDF;&#x8C03;&#x7528; read()&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#xFF1A;&#x4ECE; user mode &#x5207;&#x6362;&#x5230; kernel mode&#xFF0C;&#x7136;&#x540E; DMA &#x6267;&#x884C;&#x62F7;&#x8D1D;&#xFF0C;&#x628A;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x4ECE;&#x786C;&#x76D8;&#x8BFB;&#x5230;&#x4E00;&#x4E2A; kernel buffer &#x91CC;&#x3002; &#x6570;&#x636E;&#x4ECE; kernel buffer&#x62F7;&#x8D1D;&#x5230; user buffer&#xFF0C;&#x7136;&#x540E;&#x7CFB;&#x7EDF;&#x8C03;&#x7528; read() &#x8FD4;&#x56DE;&#xFF0C;&#x8FD9;&#x65F6;&#x53C8;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#xFF1A;&#x4ECE;kernel mode &#x5207;&#x6362;&#x5230; user mode&#x3002; &#x7CFB;&#x7EDF;&#x8C03;&#x7528;write()&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#xFF1A;&#x4ECE; user mode&#x5207;&#x6362;&#x5230; kernel mode&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6B65;&#x9AA4;2&#x8BFB;&#x5230; user buffer&#x7684;&#x6570;&#x636E;&#x62F7;&#x8D1D;&#x5230; kernel buffer&#xFF08;&#x6570;&#x636E;&#x7B2C;2&#x6B21;&#x62F7;&#x8D1D;&#x5230; kernel buffer&#xFF09;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x6B21;&#x662F;&#x4E2A;&#x4E0D;&#x540C;&#x7684; kernel buffer&#xFF0C;&#x8FD9;&#x4E2A; buffer&#x548C; socket&#x76F8;&#x5173;&#x8054;&#x3002; &#x7CFB;&#x7EDF;&#x8C03;&#x7528; write()&#x8FD4;&#x56DE;&#xFF0C;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#xFF1A;&#x4ECE; kernel mode &#x5207;&#x6362;&#x5230; user mode&#xFF08;&#x7B2C;4&#x6B21;&#x5207;&#x6362;&#x4E86;&#xFF09;&#xFF0C;&#x7136;&#x540E; DMA &#x4ECE; kernel buffer&#x62F7;&#x8D1D;&#x6570;&#x636E;&#x5230;&#x534F;&#x8BAE;&#x6808;&#xFF08;&#x7B2C;4&#x6B21;&#x62F7;&#x8D1D;&#x4E86;&#xFF09;&#x3002; &#x4E0A;&#x9762;4&#x4E2A;&#x6B65;&#x9AA4;&#x6709;4&#x6B21;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#xFF0C;&#x6709;4&#x6B21;&#x62F7;&#x8D1D;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x5982;&#x679C;&#x80FD;&#x51CF;&#x5C11;&#x5207;&#x6362;&#x6B21;&#x6570;&#x548C;&#x62F7;&#x8D1D;&#x6B21;&#x6570;&#x5C06;&#x4F1A;&#x6709;&#x6548;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x3002;&#x5728;kernel2.0+ &#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x8C03;&#x7528; sendfile() &#x5C31;&#x662F;&#x7528;&#x6765;&#x7B80;&#x5316;&#x4E0A;&#x9762;&#x6B65;&#x9AA4;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x7684;&#x3002;sendfile() &#x4E0D;&#x4F46;&#x80FD;&#x51CF;&#x5C11;&#x5207;&#x6362;&#x6B21;&#x6570;&#x800C;&#x4E14;&#x8FD8;&#x80FD;&#x51CF;&#x5C11;&#x62F7;&#x8D1D;&#x6B21;&#x6570;&#x3002; &#x518D;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x7528; sendfile()&#x6765;&#x8FDB;&#x884C;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x7684;&#x8FC7;&#x7A0B;&#xFF1A;1sendfile(socket,file, len); &#x786C;&#x76D8; &gt;&gt; kernel buffer (&#x5FEB;&#x901F;&#x62F7;&#x8D1D;&#x5230;kernelsocket buffer) &gt;&gt;&#x534F;&#x8BAE;&#x6808; &#x7CFB;&#x7EDF;&#x8C03;&#x7528;sendfile()&#x901A;&#x8FC7; DMA&#x628A;&#x786C;&#x76D8;&#x6570;&#x636E;&#x62F7;&#x8D1D;&#x5230; kernel buffer&#xFF0C;&#x7136;&#x540E;&#x6570;&#x636E;&#x88AB; kernel&#x76F4;&#x63A5;&#x62F7;&#x8D1D;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4E0E; socket&#x76F8;&#x5173;&#x7684; kernel buffer&#x3002;&#x8FD9;&#x91CC;&#x6CA1;&#x6709; user mode&#x548C; kernel mode&#x4E4B;&#x95F4;&#x7684;&#x5207;&#x6362;&#xFF0C;&#x5728; kernel&#x4E2D;&#x76F4;&#x63A5;&#x5B8C;&#x6210;&#x4E86;&#x4ECE;&#x4E00;&#x4E2A; buffer&#x5230;&#x53E6;&#x4E00;&#x4E2A; buffer&#x7684;&#x62F7;&#x8D1D;&#x3002; DMA &#x628A;&#x6570;&#x636E;&#x4ECE; kernelbuffer &#x76F4;&#x63A5;&#x62F7;&#x8D1D;&#x7ED9;&#x534F;&#x8BAE;&#x6808;&#xFF0C;&#x6CA1;&#x6709;&#x5207;&#x6362;&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x6570;&#x636E;&#x4ECE; user mode &#x62F7;&#x8D1D;&#x5230; kernel mode&#xFF0C;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x5C31;&#x5728; kernel &#x91CC;&#x3002; &#x6B65;&#x9AA4;&#x51CF;&#x5C11;&#x4E86;&#xFF0C;&#x5207;&#x6362;&#x51CF;&#x5C11;&#x4E86;&#xFF0C;&#x62F7;&#x8D1D;&#x51CF;&#x5C11;&#x4E86;&#xFF0C;&#x81EA;&#x7136;&#x6027;&#x80FD;&#x5C31;&#x63D0;&#x5347;&#x4E86;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x8BF4;&#x5728;Nginx &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x6253;&#x5F00; sendfile on &#x9009;&#x9879;&#x80FD;&#x63D0;&#x9AD8; web server&#x6027;&#x80FD;&#x7684;&#x539F;&#x56E0;&#x3002; &#x7EFC;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x90FD;&#x5E94;&#x8BE5;&#x914D;&#x7F6E;&#x6210;on&#xFF1A;sendfile on; tcp_nopush on; tcp_nodelay on; nginx&#x957F;&#x8FDE;&#x63A5;&#x2014;&#x2014;keepalive&#x5F53;&#x4F7F;&#x7528;nginx&#x4F5C;&#x4E3A;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x65F6;&#xFF0C;&#x4E3A;&#x4E86;&#x652F;&#x6301;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x9700;&#x8981;&#x505A;&#x5230;&#x4E24;&#x70B9;&#xFF1A; &#x4ECE;client&#x5230;nginx&#x7684;&#x8FDE;&#x63A5;&#x662F;&#x957F;&#x8FDE;&#x63A5; &#x4ECE;nginx&#x5230;server&#x7684;&#x8FDE;&#x63A5;&#x662F;&#x957F;&#x8FDE;&#x63A5; &#x4FDD;&#x6301;&#x548C;client&#x7684;&#x957F;&#x8FDE;&#x63A5;&#xFF1A; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;nginx&#x5DF2;&#x7ECF;&#x81EA;&#x52A8;&#x5F00;&#x542F;&#x4E86;&#x5BF9;client&#x8FDE;&#x63A5;&#x7684;keep alive&#x652F;&#x6301;&#xFF08;&#x540C;&#x65F6;client&#x53D1;&#x9001;&#x7684;HTTP&#x8BF7;&#x6C42;&#x8981;&#x6C42;keep alive&#xFF09;&#x3002; &#x4E00;&#x822C;&#x573A;&#x666F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x8FD8;&#x662F;&#x6709;&#x5FC5;&#x8981;&#x8C03;&#x6574;&#x4E2A;&#x522B;&#x53C2;&#x6570;&#xFF08;keepalive_timeout&#x548C;keepalive_requests&#xFF09;&#x3002; 1234http { keepalive_timeout 120s 120s; keepalive_requests 10000;} keepalive_timeout&#x8BED;&#x6CD5;: 1keepalive_timeout timeout [header_timeout]; &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x8BBE;&#x7F6E;keep-alive&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4FDD;&#x6301;&#x5F00;&#x542F;&#x7684;&#x8D85;&#x65F6;&#x503C;&#xFF08;&#x9ED8;&#x8BA4;75s&#xFF09;&#xFF1B;&#x503C;&#x4E3A;0&#x4F1A;&#x7981;&#x7528;keep-alive&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#xFF1B; &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x53EF;&#x9009;&#x3001;&#x5728;&#x54CD;&#x5E94;&#x7684;header&#x57DF;&#x4E2D;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x503C;&#x201C;Keep-Alive: timeout=time&#x201D;&#xFF1B;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x8BBE;&#x7F6E;&#xFF1B; &#x6CE8;&#xFF1A;keepalive_timeout&#x9ED8;&#x8BA4;75s&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E5F;&#x591F;&#x7528;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x8BF7;&#x6C42;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x901A;&#x8BAF;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x9002;&#x5F53;&#x52A0;&#x5927;&#x4E3A;120s&#x6216;&#x8005;300s&#xFF1B; keepalive_requests keepalive_requests&#x6307;&#x4EE4;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;keep-alive&#x8FDE;&#x63A5;&#x4E0A;&#x53EF;&#x4EE5;&#x670D;&#x52A1;&#x7684;&#x8BF7;&#x6C42;&#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;&#xFF0C;&#x5F53;&#x6700;&#x5927;&#x8BF7;&#x6C42;&#x6570;&#x91CF;&#x8FBE;&#x5230;&#x65F6;&#xFF0C;&#x8FDE;&#x63A5;&#x88AB;&#x5173;&#x95ED;&#x3002;&#x9ED8;&#x8BA4;&#x662F;100&#x3002; &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x771F;&#x5B9E;&#x542B;&#x4E49;&#xFF0C;&#x662F;&#x6307;&#x4E00;&#x4E2A;keep alive&#x5EFA;&#x7ACB;&#x4E4B;&#x540E;&#xFF0C;nginx&#x5C31;&#x4F1A;&#x4E3A;&#x8FD9;&#x4E2A;&#x8FDE;&#x63A5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x8BB0;&#x5F55;&#x8FD9;&#x4E2A;keep alive&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x4E0A;&#x5DF2;&#x7ECF;&#x63A5;&#x6536;&#x5E76;&#x5904;&#x7406;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x91CF;&#x3002; &#x5982;&#x679C;&#x8FBE;&#x5230;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x7684;&#x6700;&#x5927;&#x503C;&#x65F6;&#xFF0C;&#x5219;nginx&#x4F1A;&#x5F3A;&#x884C;&#x5173;&#x95ED;&#x8FD9;&#x4E2A;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x903C;&#x8FEB;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x5F97;&#x4E0D;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x65B0;&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x3002; &#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x5F53;QPS(&#x6BCF;&#x79D2;&#x8BF7;&#x6C42;&#x6570;)&#x4E0D;&#x662F;&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;100&#x51D1;&#x5408;&#x591F;&#x7528;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;QPS&#x6BD4;&#x8F83;&#x9AD8;&#xFF08;&#x6BD4;&#x5982;&#x8D85;&#x8FC7;10000QPS&#xFF0C;&#x751A;&#x81F3;&#x8FBE;&#x5230;30000,50000&#x751A;&#x81F3;&#x66F4;&#x9AD8;) &#x7684;&#x573A;&#x666F;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;100&#x5C31;&#x663E;&#x5F97;&#x592A;&#x4F4E;&#x3002; &#x7B80;&#x5355;&#x8BA1;&#x7B97;&#x4E00;&#x4E0B;&#xFF0C;QPS=10000&#x65F6;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x6BCF;&#x79D2;&#x53D1;&#x9001;10000&#x4E2A;&#x8BF7;&#x6C42;(&#x901A;&#x5E38;&#x5EFA;&#x7ACB;&#x6709;&#x591A;&#x4E2A;&#x957F;&#x8FDE;&#x63A5;)&#xFF0C;&#x6BCF;&#x4E2A;&#x8FDE;&#x63A5;&#x53EA;&#x80FD;&#x6700;&#x591A;&#x8DD1;100&#x6B21;&#x8BF7;&#x6C42;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x5E73;&#x5747;&#x6BCF;&#x79D2;&#x949F;&#x5C31;&#x4F1A;&#x6709;100&#x4E2A;&#x957F;&#x8FDE;&#x63A5;&#x56E0;&#x6B64;&#x88AB;nginx&#x5173;&#x95ED;&#x3002; &#x540C;&#x6837;&#x610F;&#x5473;&#x7740;&#x4E3A;&#x4E86;&#x4FDD;&#x6301;QPS&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x5F97;&#x4E0D;&#x6BCF;&#x79D2;&#x4E2D;&#x91CD;&#x65B0;&#x65B0;&#x5EFA;100&#x4E2A;&#x8FDE;&#x63A5;&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x6709;&#x5927;&#x91CF;&#x7684;TIME_WAIT&#x7684;socket&#x8FDE;&#x63A5;(&#x5373;&#x4F7F;&#x6B64;&#x65F6;keep alive&#x5DF2;&#x7ECF;&#x5728;client&#x548C;nginx&#x4E4B;&#x95F4;&#x751F;&#x6548;)&#x3002;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E;QPS&#x8F83;&#x9AD8;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x975E;&#x5E38;&#x6709;&#x5FC5;&#x8981;&#x52A0;&#x5927;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x8FDE;&#x63A5;&#x88AB;&#x751F;&#x6210;&#x518D;&#x629B;&#x5F03;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x51CF;&#x5C11;TIME_WAIT&#x3002; &#x4FDD;&#x6301;&#x548C;server&#x7684;&#x957F;&#x8FDE;&#x63A5;&#xFF1A;&#x4E3A;&#x4E86;&#x8BA9;nginx&#x548C;&#x540E;&#x7AEF;server&#xFF08;nginx&#x79F0;&#x4E3A;upstream&#xFF09;&#x4E4B;&#x95F4;&#x4FDD;&#x6301;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x5178;&#x578B;&#x8BBE;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;&#xFF08;&#x9ED8;&#x8BA4;nginx&#x8BBF;&#x95EE;&#x540E;&#x7AEF;&#x90FD;&#x662F;&#x7528;&#x7684;&#x77ED;&#x8FDE;&#x63A5;(HTTP1.0)&#xFF0C;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x6765;&#x4E86;&#xFF0C;Nginx &#x65B0;&#x5F00;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#x548C;&#x540E;&#x7AEF;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF0C;&#x540E;&#x7AEF;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x4E3B;&#x52A8;&#x5173;&#x95ED;&#x8BE5;&#x94FE;&#x63A5;&#xFF09; 123456789101112131415161718192021http { upstream BACKEND { server 192.168.0.1&#xFF1A;8080 weight=1 max_fails=2 fail_timeout=30s; server 192.168.0.2&#xFF1A;8080 weight=1 max_fails=2 fail_timeout=30s; keepalive 300; // &#x8FD9;&#x4E2A;&#x5F88;&#x91CD;&#x8981;&#xFF01; }server { listen 8080 default_server; server_name &quot;&quot;; location / { proxy_pass http://BACKEND; proxy_set_header Host $Host; proxy_set_header x-forwarded-for $remote_addr; proxy_set_header X-Real-IP $remote_addr; add_header Cache-Control no-store; add_header Pragma no-cache; proxy_http_version 1.1; // &#x8FD9;&#x4E24;&#x4E2A;&#x6700;&#x597D;&#x4E5F;&#x8BBE;&#x7F6E; proxy_set_header Connection &quot;&quot;; } }} location&#x4E2D;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#xFF1A;12345678http { server { location / { proxy_http_version 1.1; // &#x8FD9;&#x4E24;&#x4E2A;&#x6700;&#x597D;&#x4E5F;&#x8BBE;&#x7F6E; proxy_set_header Connection &quot;&quot;; } }} HTTP&#x534F;&#x8BAE;&#x4E2D;&#x5BF9;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x652F;&#x6301;&#x662F;&#x4ECE;1.1&#x7248;&#x672C;&#x4E4B;&#x540E;&#x624D;&#x6709;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x6700;&#x597D;&#x901A;&#x8FC7;proxy_http_version&#x6307;&#x4EE4;&#x8BBE;&#x7F6E;&#x4E3A;&#x201D;1.1&#x201D;&#xFF1B;&#x800C;&#x201D;Connection&#x201D; header&#x5E94;&#x8BE5;&#x88AB;&#x6E05;&#x7406;&#x3002;&#x6E05;&#x7406;&#x7684;&#x610F;&#x601D;&#xFF0C;&#x6211;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x662F;&#x6E05;&#x7406;&#x4ECE;client&#x8FC7;&#x6765;&#x7684;http header&#xFF0C;&#x56E0;&#x4E3A;&#x5373;&#x4F7F;&#x662F;client&#x548C;nginx&#x4E4B;&#x95F4;&#x662F;&#x77ED;&#x8FDE;&#x63A5;&#xFF0C;nginx&#x548C;upstream&#x4E4B;&#x95F4;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x5F00;&#x542F;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x5FC5;&#x987B;&#x6E05;&#x7406;&#x6765;&#x81EA;client&#x8BF7;&#x6C42;&#x4E2D;&#x7684;&#x201D;Connection&#x201D; header&#x3002;2&#xFF09;upstream&#x4E2D;&#x7684;keepalive&#x8BBE;&#x7F6E;&#xFF1A;&#x6B64;&#x5904;keepalive&#x7684;&#x542B;&#x4E49;&#x4E0D;&#x662F;&#x5F00;&#x542F;&#x3001;&#x5173;&#x95ED;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x5F00;&#x5173;&#xFF1B;&#x4E5F;&#x4E0D;&#x662F;&#x7528;&#x6765;&#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x7684;timeout&#xFF1B;&#x66F4;&#x4E0D;&#x662F;&#x8BBE;&#x7F6E;&#x957F;&#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x3002;&#x5B98;&#x65B9;&#x89E3;&#x91CA;&#xFF1A; The connections parameter sets the maximum number of idle keepalive connections to upstream servers connections&#xFF08;&#x8BBE;&#x7F6E;&#x5230;upstream&#x670D;&#x52A1;&#x5668;&#x7684;&#x7A7A;&#x95F2;keepalive&#x8FDE;&#x63A5;&#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;&#xFF09;When this number is exceeded, the least recently used connections are closed. &#xFF08;&#x5F53;&#x8FD9;&#x4E2A;&#x6570;&#x91CF;&#x88AB;&#x7A81;&#x7834;&#x65F6;&#xFF0C;&#x6700;&#x8FD1;&#x4F7F;&#x7528;&#x6700;&#x5C11;&#x7684;&#x8FDE;&#x63A5;&#x5C06;&#x88AB;&#x5173;&#x95ED;&#xFF09;It should be particularly noted that the keepalive directive does not limit the total number of connections to upstream servers that an nginx worker process can open.&#xFF08;&#x7279;&#x522B;&#x63D0;&#x9192;&#xFF1A;keepalive&#x6307;&#x4EE4;&#x4E0D;&#x4F1A;&#x9650;&#x5236;&#x4E00;&#x4E2A;nginx worker&#x8FDB;&#x7A0B;&#x5230;upstream&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF09;&#x6211;&#x4EEC;&#x5148;&#x5047;&#x8BBE;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#xFF1A; &#x6709;&#x4E00;&#x4E2A;HTTP&#x670D;&#x52A1;&#xFF0C;&#x4F5C;&#x4E3A;upstream&#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;&#x8BF7;&#x6C42;&#xFF0C;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x4E3A;100&#x6BEB;&#x79D2;&#x3002;&#x5982;&#x679C;&#x8981;&#x8FBE;&#x5230;10000 QPS&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x5728;nginx&#x548C;upstream&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x5927;&#x7EA6;1000&#x6761;HTTP&#x8FDE;&#x63A5;&#x3002;nginx&#x4E3A;&#x6B64;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;&#x7136;&#x540E;&#x8BF7;&#x6C42;&#x8FC7;&#x6765;&#x65F6;&#x4E3A;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x8BF7;&#x6C42;&#x7ED3;&#x675F;&#x65F6;&#x56DE;&#x6536;&#x8FDE;&#x63A5;&#x653E;&#x5165;&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#xFF0C;&#x8FDE;&#x63A5;&#x7684;&#x72B6;&#x6001;&#x4E5F;&#x5C31;&#x66F4;&#x6539;&#x4E3A;idle&#x3002;&#x6211;&#x4EEC;&#x518D;&#x5047;&#x8BBE;&#x8FD9;&#x4E2A;upstream&#x670D;&#x52A1;&#x5668;&#x7684;keepalive&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x6BD4;&#x8F83;&#x5C0F;&#xFF0C;&#x6BD4;&#x5982;&#x5E38;&#x89C1;&#x7684;10. A&#x3001;&#x5047;&#x8BBE;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x662F;&#x5747;&#x5300;&#x800C;&#x5E73;&#x7A33;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;1000&#x6761;&#x8FDE;&#x63A5;&#x5E94;&#x8BE5;&#x90FD;&#x662F;&#x4E00;&#x653E;&#x56DE;&#x8FDE;&#x63A5;&#x6C60;&#x5C31;&#x7ACB;&#x5373;&#x88AB;&#x540E;&#x7EED;&#x8BF7;&#x6C42;&#x7533;&#x8BF7;&#x4F7F;&#x7528;&#xFF0C;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x7684;idle&#x7EBF;&#x7A0B;&#x4F1A;&#x975E;&#x5E38;&#x7684;&#x5C11;&#xFF0C;&#x8D8B;&#x8FDB;&#x4E8E;&#x96F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x9020;&#x6210;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x53CD;&#x590D;&#x9707;&#x8361;&#x3002; B&#x3001;&#x663E;&#x793A;&#x4E2D;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x4E0D;&#x53EF;&#x80FD;&#x5E73;&#x7A33;&#xFF0C;&#x6211;&#x4EEC;&#x4EE5;10&#x6BEB;&#x79D2;&#x4E3A;&#x4E00;&#x4E2A;&#x5355;&#x4F4D;&#xFF0C;&#x6765;&#x770B;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;(&#x6CE8;&#x610F;&#x573A;&#x666F;&#x662F;1000&#x4E2A;&#x7EBF;&#x7A0B;+100&#x6BEB;&#x79D2;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF0C;&#x6BCF;&#x79D2;&#x6709;10000&#x4E2A;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;)&#xFF0C;&#x6211;&#x4EEC;&#x5047;&#x8BBE;&#x5E94;&#x7B54;&#x59CB;&#x7EC8;&#x90FD;&#x662F;&#x5E73;&#x7A33;&#x7684;&#xFF0C;&#x53EA;&#x662F;&#x8BF7;&#x6C42;&#x4E0D;&#x5E73;&#x7A33;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;10&#x6BEB;&#x79D2;&#x53EA;&#x6709;50,&#x7B2C;&#x4E8C;&#x4E2A;10&#x6BEB;&#x79D2;&#x6709;150&#xFF1A; &#x4E0B;&#x4E00;&#x4E2A;10&#x6BEB;&#x79D2;&#xFF0C;&#x6709;100&#x4E2A;&#x8FDE;&#x63A5;&#x7ED3;&#x675F;&#x8BF7;&#x6C42;&#x56DE;&#x6536;&#x8FDE;&#x63A5;&#x5230;&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;&#x4F46;&#x662F;&#x5047;&#x8BBE;&#x6B64;&#x65F6;&#x8BF7;&#x6C42;&#x4E0D;&#x5747;&#x5300;10&#x6BEB;&#x79D2;&#x5185;&#x6CA1;&#x6709;&#x9884;&#x8BA1;&#x7684;100&#x4E2A;&#x8BF7;&#x6C42;&#x8FDB;&#x6765;&#xFF0C;&#x800C;&#x662F;&#x53EA;&#x6709;50&#x4E2A;&#x8BF7;&#x6C42;&#x3002;&#x6CE8;&#x610F;&#x6B64;&#x65F6;&#x8FDE;&#x63A5;&#x6C60;&#x56DE;&#x6536;&#x4E86;100&#x4E2A;&#x8FDE;&#x63A5;&#x53C8;&#x5206;&#x914D;&#x51FA;&#x53BB;50&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x56E0;&#x6B64;&#x8FDE;&#x63A5;&#x6C60;&#x5185;&#x6709;50&#x4E2A;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x3002;&#x7136;&#x540E;&#x6CE8;&#x610F;&#x770B;keepalive=10&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x6700;&#x591A;&#x5BB9;&#x8BB8;&#x4FDD;&#x7559;&#x6709;10&#x4E2A;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x3002;&#x56E0;&#x6B64;nginx&#x4E0D;&#x5F97;&#x4E0D;&#x5C06;&#x8FD9;50&#x4E2A;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;40&#x4E2A;&#x5173;&#x95ED;&#xFF0C;&#x53EA;&#x7559;&#x4E0B;10&#x4E2A;&#x3002;&#x518D;&#x4E0B;&#x4E00;&#x4E2A;10&#x4E2A;&#x6BEB;&#x79D2;&#xFF0C;&#x6709;150&#x4E2A;&#x8BF7;&#x6C42;&#x8FDB;&#x6765;&#xFF0C;&#x6709;100&#x4E2A;&#x8BF7;&#x6C42;&#x7ED3;&#x675F;&#x4EFB;&#x52A1;&#x91CA;&#x653E;&#x8FDE;&#x63A5;&#x3002;150 - 100 = 50,&#x7A7A;&#x7F3A;&#x4E86;50&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x51CF;&#x6389;&#x524D;&#x9762;&#x8FDE;&#x63A5;&#x6C60;&#x4FDD;&#x7559;&#x7684;10&#x4E2A;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#xFF0C;nginx&#x4E0D;&#x5F97;&#x4E0D;&#x65B0;&#x5EFA;40&#x4E2A;&#x65B0;&#x8FDE;&#x63A5;&#x6765;&#x6EE1;&#x8DB3;&#x8981;&#x6C42;&#x3002;C&#x3001;&#x540C;&#x6837;&#xFF0C;&#x5982;&#x679C;&#x5047;&#x8BBE;&#x76F8;&#x5E94;&#x4E0D;&#x5747;&#x8861;&#x4E5F;&#x4F1A;&#x51FA;&#x73B0;&#x4E0A;&#x9762;&#x7684;&#x8FDE;&#x63A5;&#x6570;&#x6CE2;&#x52A8;&#x60C5;&#x51B5;&#x3002; &#x9020;&#x6210;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x53CD;&#x590D;&#x9707;&#x8361;&#x7684;&#x4E00;&#x4E2A;&#x63A8;&#x624B;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;keepalive &#x8FD9;&#x4E2A;&#x6700;&#x5927;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x6570;&#x3002;&#x6BD5;&#x7ADF;&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7684;1000&#x4E2A;&#x8FDE;&#x63A5;&#x5728;&#x9891;&#x7E41;&#x5229;&#x7528;&#x65F6;&#xFF0C;&#x51FA;&#x73B0;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x591A;&#x4F59;10&#x4E2A;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x7684;&#x6982;&#x7387;&#x5B9E;&#x5728;&#x592A;&#x9AD8;&#x3002;&#x56E0;&#x6B64;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x4E0A;&#x9762;&#x7684;&#x8FDE;&#x63A5;&#x9707;&#x8361;&#xFF0C;&#x5FC5;&#x987B;&#x8003;&#x8651;&#x52A0;&#x5927;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#x4E0A;&#x9762;&#x7684;&#x573A;&#x666F;&#x5982;&#x679C;&#x5C06;keepalive&#x8BBE;&#x7F6E;&#x4E3A;100&#x6216;&#x8005;200,&#x5C31;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x6709;&#x6548;&#x7684;&#x7F13;&#x51B2;&#x8BF7;&#x6C42;&#x548C;&#x5E94;&#x7B54;&#x4E0D;&#x5747;&#x5300;&#x3002; &#x603B;&#x7ED3;&#xFF1A;keepalive &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E00;&#x5B9A;&#x8981;&#x5C0F;&#x5FC3;&#x8BBE;&#x7F6E;&#xFF0C;&#x5C24;&#x5176;&#x5BF9;&#x4E8E;QPS&#x6BD4;&#x8F83;&#x9AD8;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x63A8;&#x8350;&#x5148;&#x505A;&#x4E00;&#x4E0B;&#x4F30;&#x7B97;&#xFF0C;&#x6839;&#x636E;QPS&#x548C;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x5927;&#x4F53;&#x80FD;&#x8BA1;&#x7B97;&#x51FA;&#x9700;&#x8981;&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x7684;&#x6570;&#x91CF;&#x3002;&#x6BD4;&#x5982;&#x524D;&#x9762;10000 QPS&#x548C;100&#x6BEB;&#x79D2;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x5C31;&#x53EF;&#x4EE5;&#x63A8;&#x7B97;&#x51FA;&#x9700;&#x8981;&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x5927;&#x6982;&#x662F;1000. &#x7136;&#x540E;&#x5C06;keepalive&#x8BBE;&#x7F6E;&#x4E3A;&#x8FD9;&#x4E2A;&#x957F;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x7684;10%&#x5230;30%&#x3002;&#x6BD4;&#x8F83;&#x61D2;&#x7684;&#x540C;&#x5B66;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBE;&#x7F6E;&#x4E3A;keepalive=1000&#x4E4B;&#x7C7B;&#x7684;&#xFF0C;&#x4E00;&#x822C;&#x90FD;OK&#x7684;&#x4E86;&#x3002; 3&#x3001;&#x7EFC;&#x4E0A;&#xFF0C;&#x51FA;&#x73B0;&#x5927;&#x91CF;TIME_WAIT&#x7684;&#x60C5;&#x51B5;1&#xFF09;&#x5BFC;&#x81F4; nginx&#x7AEF;&#x51FA;&#x73B0;&#x5927;&#x91CF;TIME_WAIT&#x7684;&#x60C5;&#x51B5;&#x6709;&#x4E24;&#x79CD;&#xFF1A; keepalive_requests&#x8BBE;&#x7F6E;&#x6BD4;&#x8F83;&#x5C0F;&#xFF0C;&#x9AD8;&#x5E76;&#x53D1;&#x4E0B;&#x8D85;&#x8FC7;&#x6B64;&#x503C;&#x540E;nginx&#x4F1A;&#x5F3A;&#x5236;&#x5173;&#x95ED;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x4FDD;&#x6301;&#x7684;keepalive&#x957F;&#x8FDE;&#x63A5;&#xFF1B;&#xFF08;&#x4E3B;&#x52A8;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x540E;&#x5BFC;&#x81F4;nginx&#x51FA;&#x73B0;TIME_WAIT&#xFF09;keepalive&#x8BBE;&#x7F6E;&#x7684;&#x6BD4;&#x8F83;&#x5C0F;&#xFF08;&#x7A7A;&#x95F2;&#x6570;&#x592A;&#x5C0F;&#xFF09;&#xFF0C;&#x5BFC;&#x81F4;&#x9AD8;&#x5E76;&#x53D1;&#x4E0B;nginx&#x4F1A;&#x9891;&#x7E41;&#x51FA;&#x73B0;&#x8FDE;&#x63A5;&#x6570;&#x9707;&#x8361;&#xFF08;&#x8D85;&#x8FC7;&#x8BE5;&#x503C;&#x4F1A;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#xFF09;&#xFF0C;&#x4E0D;&#x505C;&#x7684;&#x5173;&#x95ED;&#x3001;&#x5F00;&#x542F;&#x548C;&#x540E;&#x7AEF;server&#x4FDD;&#x6301;&#x7684;keepalive&#x957F;&#x8FDE;&#x63A5;&#xFF1B;2&#xFF09;&#x5BFC;&#x81F4;&#x540E;&#x7AEF;server&#x7AEF;&#x51FA;&#x73B0;&#x5927;&#x91CF;TIME_WAIT&#x7684;&#x60C5;&#x51B5;&#xFF1A;nginx&#x6CA1;&#x6709;&#x6253;&#x5F00;&#x548C;&#x540E;&#x7AEF;&#x7684;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x5373;&#xFF1A;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;proxy_http_version 1.1;&#x548C;proxy_set_header Connection &#x201C;&#x201D;;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;&#x540E;&#x7AEF;server&#x6BCF;&#x6B21;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#xFF0C;&#x9AD8;&#x5E76;&#x53D1;&#x4E0B;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;server&#x7AEF;&#x51FA;&#x73B0;&#x5927;&#x91CF;TIME_WAIT &#x4E09;&#x3001;nginx&#x914D;&#x7F6E;https1&#x3001;&#x914D;&#x7F6E; 123456789101112131415161718server { listen 80 default_server; listen 443 ssl; server_name toutiao.iqiyi.com toutiao.qiyi.domain m.toutiao.iqiyi.com; root /data/none; index index.php index.html index.htm; ###ssl settings start ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_certificate /usr/local/nginx/conf/server.pem; ssl_certificate_key /usr/local/nginx/conf/server.key; ssl_session_cache shared:SSL:10m; ssl_session_timeout 10m; ssl_ciphers ALL:!kEDH!ADH:RC4+RSA:+HIGH:+EXP; ssl_prefer_server_ciphers on; ###ssl settings end &#x2026;2&#x3001;&#x6027;&#x80FD;&#x6BD4;&#x8F83;&#xFF1A;&#x901A;&#x8FC7;https&#x8BBF;&#x95EE;Nginx&#x4E00;&#x822C;&#x4F1A;&#x6BD4;http&#x8BBF;&#x95EE;&#x6162;30%&#xFF08;https&#x65B9;&#x5F0F;&#x8BBF;&#x95EE;&#x4E3B;&#x8981;&#x662F;&#x8017;Nginx&#x670D;&#x52A1;&#x5668;&#x7684;cpu&#xFF09;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x5B9E;&#x9A8C;&#x9A8C;&#x8BC1;&#xFF1A; nginx&#x540E;&#x7AEF;&#x6302;&#x4E86;5&#x53F0;java&#x670D;&#x52A1;&#x5668;&#xFF0C;java&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x6709;&#x4E2A;&#x7B80;&#x5355;&#x7684;java&#x7A0B;&#x5E8F;&#xFF0C;&#x4ECE;redis&#x7F13;&#x5B58;&#x968F;&#x673A;&#x8BFB;&#x53D6;&#x4E00;&#x4E2A;value&#x503C;&#x8F93;&#x51FA;&#x5230;&#x524D;&#x7AEF;&#xFF1B;&#xFF08;&#x6302;&#x7684;java&#x670D;&#x52A1;&#x5668;&#x8D8A;&#x591A;&#xFF0C;&#x5BF9;nginx&#x538B;&#x529B;&#x8D8A;&#x5927;&#xFF09;&#x538B;&#x6D4B;nginx&#xFF0C;3000&#x5E76;&#x53D1;&#xFF0C;&#x4E00;&#x5171;&#x8BF7;&#x6C42;30000&#x6B21;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x90FD;&#x662F;200&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x5BF9;&#x6BD4;&#xFF1B;&#x5B9E;&#x9A8C;&#x7ED3;&#x679C;&#xFF1A;A&#x3001;&#x670D;&#x52A1;&#x5668;&#x8D1F;&#x8F7D;&#x5BF9;&#x6BD4;&#xFF1A;https&#x8BBF;&#x95EE;&#xFF0C;&#x670D;&#x52A1;&#x5668;cpu&#x6700;&#x9AD8;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;20%&#xFF0C;&#x800C;http&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x670D;&#x52A1;&#x5668;cpu&#x57FA;&#x672C;&#x5728;1%&#x5DE6;&#x53F3;&#xFF1B;&#x65E0;&#x8BBA;&#x90A3;&#x79CD;&#x8BBF;&#x95EE;&#xFF0C;nginx&#x670D;&#x52A1;&#x5668;&#x8D1F;&#x8F7D;&#x3001;&#x5185;&#x5B58;&#x90FD;&#x4E0D;&#x9AD8;&#xFF1B;B&#x3001;nginx&#x541E;&#x5410;&#x91CF;&#x5BF9;&#x6BD4;&#xFF08;qps&#xFF09;&#xFF1A;&#x2022; https&#x8BBF;&#x95EE;&#xFF0C;30000&#x6B21;&#x8BF7;&#x6C42;&#x82B1;&#x4E86;28s&#xFF1B;&#xFF08;&#x662F;http&#x7684;3&#x500D;&#xFF09;&#x2022; http&#x8BBF;&#x95EE;&#xFF0C;30000&#x6B21;&#x8BF7;&#x6C42;&#x82B1;&#x4E86;9s&#xFF1B;&#x7EDF;&#x8BA1;qps&#x65F6;&#xFF0C;&#x6BCF;&#x6B21;&#x6E05;&#x7A7A;nginx&#x65E5;&#x5FD7;&#xFF0C;&#x7136;&#x540E;&#x52A0;&#x538B;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x770B;qps&#xFF1A; 12 cat log.2.3000https | grep &#x2018;/api/news/v1/info?newsId=&#x2019; | awk &#x2018;{print$3}&#x2019;| uniq | wc -l37 &#x6CE8;&#xFF1A;&#x4E0D;&#x80FD;&#x6301;&#x7EED;&#x52A0;&#x538B;&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x9650;&#x52A0;&#x5927;&#x538B;&#x529B;&#x540E;&#x5F80;&#x5F80;&#x662F;&#x540E;&#x7AEF;java&#x670D;&#x52A1;&#x51FA;&#x73B0;&#x74F6;&#x9888;&#xFF0C;&#x5BFC;&#x81F4;&#x8FD4;&#x56DE;&#x7ED9;nginx&#x7684;&#x54CD;&#x5E94;&#x53D8;&#x6162;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;nginx&#x538B;&#x529B;&#x53D8;&#x5C0F;&#x3002;3&#x3001;&#x4F18;&#x5316;&#xFF1A;Nginx&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;DHE&#x7B97;&#x6CD5;&#x6765;&#x4EA7;&#x751F;&#x5BC6;&#x5319;&#xFF0C;&#x8BE5;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x6548;&#x7387;&#x5F88;&#x4F4E;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x5220;&#x6389;&#x4E86;kEDH&#x7B97;&#x6CD5;&#x3002;ssl_ciphers ALL:!kEDH!ADH:RC4+RSA:+HIGH:+EXP;]]></content>
      <categories>
        <category>linux</category>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ansible自动注册]]></title>
    <url>%2F2018%2F06%2F15%2Fansible-auto-register%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;ansible-auto-register &#x7531;&#x4E8E;ansible&#x4E0E;agent&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x4F7F;&#x7528;&#x7684;&#x662F;openssh&#xFF0C;&#x6BCF;&#x6B21;&#x65B0;&#x589E;&#x673A;&#x5668;&#x4E4B;&#x540E;&#x9700;&#x8981;&#x5728;ansible&#x7684;inventory&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x65B0;&#x589E;&#x673A;&#x5668;&#x7684;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x3002; &#x867D;&#x7136;&#x914D;&#x7F6E;&#x8D77;&#x6765;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x65E6;&#x77ED;&#x65F6;&#x95F4;&#x65B0;&#x589E;&#x5927;&#x91CF;&#x673A;&#x5668;&#x3001;&#x6216;&#x8005;&#x662F;&#x957F;&#x65F6;&#x95F4;&#x7684;&#x7EF4;&#x62A4;&#x8FC7;&#x7A0B;&#x4E2D;&#x96BE;&#x514D;&#x4F1A;&#x6709;&#x9057;&#x6F0F;&#x6216;&#x914D;&#x7F6E;&#x91CD;&#x590D;&#x7684;&#x60C5;&#x51B5;&#x51FA;&#x73B0;&#xFF0C;&#x56E0;&#x6B64;&#x7C7B;&#x4F3C;salt&#x7684;agent&#x81EA;&#x52A8;&#x5411;server&#x6CE8;&#x518C;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x663E;&#x5F97;&#x5341;&#x5206;&#x91CD;&#x8981;&#x3002; &#x76EE;&#x524D;&#x4E3A;&#x81F3;&#x8FD8;&#x672A;&#x53D1;&#x73B0;&#x4E16;&#x9762;&#x4E0A;&#x6709;&#x8FD9;&#x79CD;&#x7C7B;&#x4F3C;saltstack&#x7684;agent&#x81EA;&#x52A8;&#x5411;server&#x7AEF;&#x81EA;&#x52A8;&#x6CE8;&#x518C;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x5176;&#x5B9E;&#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x73B0;&#x6709;&#x7684;ansible&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x7528;&#x5230;&#x51E0;&#x4E2A;&#x670D;&#x52A1;&#xFF0C;&#x4EE5;&#x53CA;&#x624B;&#x5199;&#x51E0;&#x4E2A;&#x811A;&#x672C;&#x5C31;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4F60;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x89C4;&#x5219;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x6CE8;&#x518C;&#x3002; &#x9700;&#x8981;&#x7528;&#x5230;&#x7684;&#x670D;&#x52A1; ansible etcd confd python or shell &#x539F;&#x7406;&#x5206;&#x6790; &#x91C7;&#x7528;etcd&#x4F5C;&#x4E3A;&#x8282;&#x70B9;&#x53D1;&#x73B0;&#x6570;&#x636E;&#x5E93; &#x63D0;&#x524D;&#x5B9A;&#x4E49;&#x597D;etcd&#x6570;&#x636E;&#x5E93;&#x7684;&#x76EE;&#x5F55;&#x6570;&#x636E;&#x7ED3;&#x6784; &#x5236;&#x4F5C;&#x6A21;&#x677F;&#x673A;&#xFF0C;&#x914D;&#x7F6E;&#x81EA;&#x52A8;&#x8FD0;&#x884C;&#x811A;&#x672C; &#x901A;&#x8FC7;confd&#x7684;&#x76D1;&#x63A7;&#x529F;&#x80FD;&#x76D1;&#x63A7;etcd&#x76F8;&#x5173;&#x6570;&#x636E;&#xFF0C;&#x5B9E;&#x65F6;&#x751F;&#x6210;ansible&#x7684;inventory&#x6587;&#x4EF6; &#x672C;&#x6587;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#x6781;&#x4E3A;&#x7B80;&#x5355; etcd&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x5B9A;&#x4E49;&#x8FD8;&#x5F88;&#x7B80;&#x964B;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x4EE5;&#x53CA;&#x811A;&#x672C;&#x7684;&#x7F16;&#x5199;&#x81EA;&#x7531;&#x5EA6;&#x975E;&#x5E38;&#x9AD8;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x6309;&#x7167;&#x4F60;&#x7684;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x4FEE;&#x6539; &#x5B9E;&#x9645;&#x4E0A;&#x672C;&#x6587;&#x53EA;&#x662F;&#x4F53;&#x73B0;&#x4E00;&#x4E2A;&#x601D;&#x8DEF;&#xFF0C;&#x6216;&#x8005;&#x4E5F;&#x53EF;&#x4EE5;&#x8BF4;&#x53EA;&#x662F;etcd+confd&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x7684;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x800C;&#x5DF2;&#x3002; &#x672C;&#x6587;&#x8BB0;&#x5F55;&#x7684;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E00;&#x4E9B;&#x7EC6;&#x8282;&#x90E8;&#x5206;&#x6CA1;&#x6709;&#x4F53;&#x73B0;&#xFF0C;&#x8BF7;&#x4F60;&#x81EA;&#x5DF1;&#x6CE8;&#x610F;&#xFF1B;&#x672C;&#x6587;&#x4EC5;&#x4F9B;&#x53C2;&#x8003; &#x5B89;&#x88C5;&#x914D;&#x7F6E;ansible1pip install ansible &#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334353637383940414243# /etc/ansible/ansible.cfg[defaults]inventory = /etc/ansible/hostsremote_tmp = $HOME/.ansible/tmproles_path = /data/ansible/roles:/etc/ansible/rolestransport = smartgathering = smartfact_caching_timeout = 30require_sudo = Falsemodule_name = shellprivate_key_file = /root/.ssh/id_rsaansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}nocolor = 0fact_caching = memoryhost_key_checking = Falsetimeout = 10pattern = *forks = 20poll_interval = 15remote_user = devopsremote_port = 9555log_path = /data/logs/ansible/ansible.log[inventory][privilege_escalation]become=Truebecome_exe=sudobecome_method=sudobecome_user=rootbecome_ask_pass=False[paramiko_connection]record_host_keys=False[ssh_connection]pipelining = True[accelerate]accelerate_port = 5099accelerate_timeout = 30accelerate_connect_timeout = 5.0accelerate_daemon_timeout = 30 etcd&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x5B89;&#x88C5;1234567891011LOCAL_DIR=&quot;/usr/local/src&quot;ETCD_VER=&quot;v3.3.6&quot;DOWNLOAD_URL=&quot;https://github.com/coreos/etcd/releases/download&quot;cd ${LOCAL_DIR} &amp;&amp; curl -L ${DOWNLOAD_URL}/${ETCD_VER}/etcd-${ETCD_VER}-linux-amd64.tar.gz -o ${LOCAL_DIR}/etcd-${ETCD_VER}-linux-amd64.tar.gzmkdir -p ${LOCAL_DIR}/etcd &amp;&amp; tar xzvf ${LOCAL_DIR}/etcd-${ETCD_VER}-linux-amd64.tar.gz -C ${LOCAL_DIR}/etcd --strip-components=1cd ${LOCAL_DIR}/etcd/ &amp;&amp; cp etcd etcdctl /usr/local/binetcd -version systemd&#x914D;&#x7F6E;123456789101112131415161718192021222324mkdir /etc/etcd/tee /etc/etcd/etcd.conf &lt;&lt;-&apos;EOF&apos;# [member]ETCD_NAME=&quot;infra1&quot;ETCD_IP=&quot;172.16.1.1&quot;ETCD_DATA_DIR=&quot;/data/infra.etcd/&quot;#ETCD_WAL_DIR=&quot;&quot;#ETCD_SNAPSHOT_COUNT=&quot;10000&quot;#ETCD_HEARTBEAT_INTERVAL=&quot;100&quot;#ETCD_ELECTION_TIMEOUT=&quot;1000&quot;ETCD_LISTEN_PEER_URLS=&quot;http://172.16.1.1:2380&quot;ETCD_LISTEN_CLIENT_URLS=&quot;http://172.16.1.1:2379,http://127.0.0.1:2379&quot;#ETCD_MAX_SNAPSHOTS=&quot;5&quot;#ETCD_MAX_WALS=&quot;5&quot;#ETCD_CORS=&quot;&quot;# [cluster]ETCD_INITIAL_ADVERTISE_PEER_URLS=&quot;http://172.16.1.1:2380&quot;ETCD_INITIAL_CLUSTER=&quot;infra1=http://172.16.1.1:2380&quot;ETCD_INITIAL_CLUSTER_STATE=&quot;new&quot;ETCD_INITIAL_CLUSTER_TOKEN=&quot;etcd-cluster-test&quot;ETCD_ADVERTISE_CLIENT_URLS=&quot;http://172.16.1.1:2379&quot;EOF &#x4FEE;&#x6539; /usr/lib/systemd/system/etcd.service 12345678910111213141516171819202122tee /usr/lib/systemd/system/etcd.service &lt;&lt;-&apos;EOF&apos;[Unit]Description=Etcd ServerAfter=network.targetAfter=network-online.targetWants=network-online.target[Service]Type=notifyNotifyAccess=allWorkingDirectory=/EnvironmentFile=-/etc/etcd/etcd.confUser=root# set GOMAXPROCS to number of processorsExecStart=/bin/bash -c &quot;GOMAXPROCS=$(nproc) /usr/local/bin/etcd --name=\&quot;${ETCD_NAME}\&quot; --data-dir=\&quot;${ETCD_DATA_DIR}\&quot; --listen-client-urls=\&quot;${ETCD_LISTEN_CLIENT_URLS}\&quot; --listen-peer-urls=\&quot;${ETCD_LISTEN_PEER_URLS}\&quot; --advertise-client-urls=\&quot;${ETCD_ADVERTISE_CLIENT_URLS}\&quot; --initial-advertise-peer-urls=\&quot;${ETCD_INITIAL_ADVERTISE_PEER_URLS}\&quot; --initial-cluster=\&quot;${ETCD_INITIAL_CLUSTER}\&quot; --initial-cluster-state=\&quot;${ETCD_INITIAL_CLUSTER_STATE}\&quot; --initial-cluster-token=\&quot;${ETCD_INITIAL_CLUSTER_TOKEN}\&quot;&quot;Restart=on-failureLimitNOFILE=65536[Install]WantedBy=multi-user.targetEOF &#x542F;&#x52A8;&#x670D;&#x52A1; 12systemctl enable etcd.servicesystemctl start etcd.service &#x914D;&#x7F6E;etcd&#x91C7;&#x7528;&#x9ED8;&#x8BA4;&#x7684;api2&#x63A5;&#x53E3;1export ETCDCTL_API=2 &#x521B;&#x5EFA;etcd&#x76EE;&#x5F55;&#x6570;&#x636E;&#x7ED3;&#x6784;1234567etcdctl mkdir /ansible/defaultetcdctl mkdir /ansible/default/testetcdctl mkdir /ansible/default/devetcdctl mkdir /ansible/default/gammaetcdctl mkdir /ansible/default/prodetcdctl mkdir /ansible/default/zookeeperetcdctl mkdir /ansible/custom /ansible/default/* &#x7528;&#x4E8E;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x5B58;&#x50A8; /ansible/custom &#x9884;&#x7559;&#x4F5C;&#x4E3A;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x914D;&#x7F6E; confd&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x5B89;&#x88C5;12345CONFD_VER=&quot;0.16.0&quot;curl -L https://github.com/kelseyhightower/confd/releases/download/v${CONFD_VER}/confd-${CONFD_VER}-linux-amd64 -o /usr/local/bin/confdchmod +x /usr/local/bin/confdconfd --version &#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829mkdir -p /etc/confd/{conf.d,templates}tee /etc/confd/confd.toml &lt;&lt;-&apos;EOF&apos;backend = &quot;etcd&quot;confdir = &quot;/etc/confd&quot;log-level = &quot;debug&quot;interval = 1nodes = [ &quot;http://0.0.0.0:2379&quot;,]prefix = &quot;/&quot;scheme = &quot;https&quot;EOFtee /usr/lib/systemd/system/confd.service &lt;&lt;-&apos;EOF&apos;[Unit]Description=Confd ServerAfter=etcd.service[Service]User=rootExecStart=/usr/local/bin/confdRestart=alwaysLimitNOFILE=65536[Install]WantedBy=basic.targetEOF 12345678910111213141516171819202122cat conf.d/ansible.toml[template]src = &quot;ansible.cfg.tmpl&quot;dest = &quot;/etc/ansible/h&quot;keys = [ &quot;/ansible/default&quot;,]# &#x8FD9;&#x91CC;&#x751F;&#x6210;&#x7684;&#x914D;&#x7F6E;/etc/ansible/h &#x6682;&#x65F6;&#x5148;&#x4E0D;&#x751F;&#x6210;&#x6B63;&#x5F0F;&#x7684;inventory&#x914D;&#x7F6E;cat templates/ansible.cfg.tmpl{{ range $dir := lsdir &quot;/ansible/default&quot; -}}[{{ base $dir -}}]{{ $custdir := printf &quot;/ansible/default/%s/*&quot; $dir -}}{{ range gets $custdir -}}{{ $data := json .Value -}}{{ $data.name }} ansible_ssh_host={{ $data.ip }} ansible_ssh_port={{ $data.port}}{{ end }}{{ end }}##{{ base .Key }} ansible_ssh_host={{ $data.ip }} &#x542F;&#x52A8;12systemctl enable confdsystemctl start confd &#x6CE8;&#x518C;&#x811A;&#x672C;1234567891011121314# &#x811A;&#x672C;&#x76EE;&#x524D;&#x5199;&#x7684;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x540E;&#x7EED;&#x8FD8;&#x4F1A;&#x8FDB;&#x884C;&#x4FEE;&#x6539;# &#x6211;&#x7684;&#x6240;&#x6709;&#x673A;&#x5668;&#x4E3B;&#x673A;&#x540D;&#x662F;&#x91C7;&#x7528;&#x7684;&#x6807;&#x51C6;&#x5B9A;&#x4E49;&#x683C;&#x5F0F;# ecs.ali-bj-vpc.manager.172.16.1.1.ansiblecat set.sh#!/bin/bashenv=$(hostname | awk -F&apos;.&apos; &apos;{print $3}&apos;)ip=$(hostname | awk -F&apos;.&apos; &apos;{print $4&quot;.&quot;$5&quot;.&quot;$6&quot;.&quot;$7}&apos;)key=$(hostname | awk -F&apos;.&apos; &apos;{print $NF}&apos;)port=$(netstat -ntlp | grep sshd | awk &apos;{print $4}&apos; | sed &apos;s/.*://&apos;)url=&quot;http://172.16.1.1:2379/v2/keys/ansible/default&quot;env=&quot;zookeeper&quot;echo curl -X PUT &quot;${url}/${env}/${ip}&quot; -d value=&quot;{\&quot;ip\&quot;:\&quot;${ip}\&quot;,\&quot;name\&quot;:\&quot;${env}-${key}\&quot;,\&quot;port\&quot;:\&quot;${port}\&quot;}&quot;curl -X PUT &quot;${url}/${env}/${ip}&quot; -d value=&quot;{\&quot;ip\&quot;:\&quot;${ip}\&quot;,\&quot;name\&quot;:\&quot;${env}-${key}\&quot;,\&quot;port\&quot;:\&quot;${port}\&quot;}&quot; &#x672A;&#x6765;&#x5C55;&#x671B; &#x76EE;&#x524D;&#x6574;&#x4E2A;&#x7ED3;&#x6784;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x751F;&#x6210;&#x7684;inventory&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x8FD8;&#x5F88;&#x539F;&#x59CB; &#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x4E2D;&#x540E;&#x7EED;&#x7684;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#x8FD8;&#x662F;&#x6709;&#x4E9B;&#x9EBB;&#x70E6; &#x540E;&#x7EED;&#x4F1A;&#x66F4;&#x65B0;&#x7684;&#x4E00;&#x4E9B;&#x529F;&#x80FD;&#xFF08;&#x5982;&#x679C;&#x6709;&#x65F6;&#x95F4;&#x548C;&#x5174;&#x8DA3;&#x7684;&#x8BDD;&#xFF09; &#x6570;&#x636E;&#x4E2D;&#x7AEF;&#x53E3;&#x7684;&#x914D;&#x7F6E; &#x5DF2;&#x6DFB;&#x52A0; &#x4E00;&#x4E9B;&#x81EA;&#x5B9A;&#x4E49;custom&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784; &#x547D;&#x4EE4;&#x884C;&#x7BA1;&#x7406;&#x5DE5;&#x5177; web&#x7BA1;&#x7406;&#x529F;&#x80FD;]]></content>
      <categories>
        <category>ansible</category>
      </categories>
      <tags>
        <tag>ansible</tag>
        <tag>etcd</tag>
        <tag>confd</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ansible安装配置以及一些常用模块]]></title>
    <url>%2F2018%2F05%2F29%2Fansible-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;ansible&#x662F;&#x76EE;&#x524D;&#x975E;&#x5E38;&#x706B;&#x7684;&#x8FD0;&#x7EF4;&#x81EA;&#x52A8;&#x5316;&#x6279;&#x91CF;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x4E4B;&#x4E00; saltstack ansible puppet chef ansible&#x548C;saltstack&#x90FD;&#x662F;&#x4F7F;&#x7528;python&#x8BED;&#x8A00;&#x5199;&#x7684;&#xFF0C;&#x800C;&#x5728;&#x9009;&#x62E9;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;ansible&#x76F8;&#x5BF9;saltstack&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x4F18;&#x52BF; &#x4F7F;&#x7528;ssh-key&#x63A7;&#x5236;agent&#xFF0C;&#x65E0;&#x9700;&#x5B89;&#x88C5;agent &#x914D;&#x7F6E;&#x8D77;&#x6765;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#xFF0C;&#x5B66;&#x4E60;&#x95E8;&#x69DB;&#x4F4E; &#x5E76;&#x53D1;&#x4EE5;&#x53CA;&#x6027;&#x80FD;&#x65B9;&#x9762;&#x8FD8;&#x662F;saltstack&#x5360;&#x4F18;&#x7684;&#xFF0C;&#x4E0D;&#x8FC7;&#x5728;&#x5C0F;&#x96C6;&#x7FA4;&#xFF08;300&#x4EE5;&#x4E0B;&#xFF09;&#x7684;&#x8868;&#x73B0;&#x4E0A;ansible&#x4E5F;&#x975E;&#x5E38;&#x7ED9;&#x529B;&#xFF1B; &#x4E8C;&#x6B21;&#x5F00;&#x53D1;&#x6269;&#x5C55;&#xFF1A;&#x7531;&#x4E8E;&#x4E24;&#x4E2A;&#x90FD;&#x662F;python&#x8BED;&#x8A00;&#x5199;&#x7684;&#xFF0C;&#x8FD9;&#x65B9;&#x9762;&#x90FD;&#x8FD8;&#x4E0D;&#x9519;&#xFF0C;&#x4E0D;&#x8FC7;&#x5728;&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x4E2D;&#x5417;&#xFF0C;saltstack&#x7684;api&#x8C03;&#x7528;&#x8981;&#x6BD4;ansible&#x7684;&#x597D;&#x7528;&#x5F88;&#x591A;&#xFF0C;state&#x548C;playbook&#x5B70;&#x5F3A;&#x5B70;&#x82E5;&#x8FD8;&#x771F;&#x4E0D;&#x597D;&#x8BF4; &#x64CD;&#x4F5C;&#x754C;&#x9762;&#xFF0C;&#x6CA1;&#x7528;&#x8FC7;ui &#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#x7684;&#x4E30;&#x5BCC;&#x7A0B;&#x5EA6;&#x8FD9;&#x70B9;ansible&#x5B8C;&#x80DC; &#x652F;&#x6301;windows &#x5F00;&#x6E90;&#x793E;&#x533A;&#x7684;&#x6D3B;&#x8DC3;&#x7A0B;&#x5EA6;&#x8FD9;&#x70B9;ansible&#x5B8C;&#x80DC; &#x5B89;&#x5168;&#x6027;&#xFF1A;saltstack&#x76F8;&#x5BF9;&#x8981;&#x66F4;&#x597D;&#x4E00;&#x4E9B; &#x81EA;&#x52A8;&#x6CE8;&#x518C;&#xFF1A;&#x8FD9;&#x70B9;ansible&#x8C8C;&#x4F3C;&#x6CA1;&#x6709; &#x5B89;&#x88C5;1pip install ansible &#x914D;&#x7F6E;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354# cat /etc/ansible/ansible.cfg[defaults]inventory = /etc/ansible/hostsremote_tmp = $HOME/.ansible/tmproles_path = /data/ansible/roles:/etc/ansible/rolestransport = smartgathering = smartfact_caching_timeout = 30require_sudo = Falsemodule_name = shellprivate_key_file = /root/.ssh/id_rsaansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}#action_plugins = /data/ansible/ansible_plugins/action_plugins#connection_plugins = /data/ansible/ansible_plugins/connection_plugins#lookup_plugins = /data/ansible/ansible_plugins/lookup_plugins#vars_plugins = /data/ansible/ansible_plugins/vars_plugins#filter_plugins = /data/ansible/ansible_plugins/filter_pluginsnocolor = 0fact_caching = memoryhost_key_checking = Falsetimeout = 10pattern = *forks = 20poll_interval = 15remote_user = devopsremote_port = 9555log_path = /data/logs/ansible/ansible.log[inventory][privilege_escalation]become=Truebecome_exe=sudobecome_method=sudobecome_user=rootbecome_ask_pass=False[paramiko_connection]record_host_keys=False[ssh_connection]pipelining = True[persistent_connection][accelerate]accelerate_port = 5099accelerate_timeout = 30accelerate_connect_timeout = 5.0accelerate_daemon_timeout = 30#accelerate_multi_key = yes[selinux][colors][diff] 1234567891011cat /etc/ansible/hosts[all: children]managerother[manager]ansible ansible_ssh_host=172.16.1.1jenkins ansible_ssh_host=172.16.1.2[other]other ansible_ssh_host=172.16.1.3 &#x8FD0;&#x884C;12ansible all -m pingansible all -m shell -a &quot;uptime&quot; playbook shell &#x2013;&gt; &#x547D;&#x4EE4; playbook &#x2013;&gt; ansible&#x547D;&#x4EE4; tower1wget http://releases.ansible.com/ansible-tower/setup/ansible-tower-setup-latest.tar.gz &#x6A21;&#x5757;ansible&#x672C;&#x8EAB;&#x662F;&#x6CA1;&#x6709;&#x90E8;&#x7F72;&#x80FD;&#x529B;&#x7684;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x4E2A;&#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x7684;&#x6A21;&#x5757;&#x624D;&#x6709;&#x771F;&#x6B63;&#x7684;&#x90E8;&#x7F72;&#x80FD;&#x529B;&#x3002; 1ansible -i hosts all -m ping &#x5B83;&#x5C31;&#x662F;&#x7528;&#x7684;ansible&#x547D;&#x4EE4;&#x884C;&#xFF0C;-i &#x8868;&#x793A;&#x4F7F;&#x7528;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x7684;hosts&#x6587;&#x4EF6;&#xFF0C;all&#x8868;&#x793A;Host&#x6587;&#x4EF6;&#x5185;&#x58F0;&#x660E;&#x7684;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;&#xFF0C;-m ping &#x8868;&#x793A;&#x4F7F;&#x7528;module&#x540D;&#x4E3A;ping&#x7684;module&#xFF0C;&#x8FD9;&#x4E2A;module&#x6CA1;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x8FD9;&#x6837;&#x8C03;&#x7528;&#x5C31;&#x884C;&#x4E86;&#x3002; Commandcommand &#x6A21;&#x5757;&#x7528;&#x4E8E;&#x8FD0;&#x884C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#xFF0C;&#x6BD4;&#x5982;echo hello, &#x4F60;&#x5B89;&#x88C5;&#x5728;&#x7CFB;&#x7EDF;&#x91CC;&#x7684;python&#xFF0C;&#x6216;&#x8005;make &#x4E00;&#x7C7B;&#x3002;&#x5927;&#x5BB6;&#x80FD;&#x9886;&#x609F;&#x5C31;&#x884C;&#x4E86;&#x3002; &#x5E38;&#x7528;&#x53C2;&#x6570;&#xFF1A; parameter required default choices comments chdir no &#x8FD0;&#x884C;command&#x547D;&#x4EE4;&#x524D;&#x5148;cd&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55; creates no &#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#xFF0C;&#x5C31;&#x4E0D;&#x8FD0;&#x884C;command executable no &#x5C06;shell&#x5207;&#x6362;&#x4E3A;command&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84; removes no &#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5C31;&#x4E0D;&#x8FD0;&#x884C;command &#x6848;&#x4F8B;12#ansible &#x547D;&#x4EE4;&#x8C03;&#x7528;command:ansible -i hosts all -m command -a &quot;uptime&quot; ansible&#x547D;&#x4EE4;&#x884C;&#x8C03;&#x7528;-m command&#x6A21;&#x5757; -a&#x8868;&#x793A;&#x4F7F;&#x7528;&#x53C2;&#x6570; &#x201C;&#x201D;&#x5185;&#x7684;&#x4E3A;&#x6267;&#x884C;&#x7684;command&#x547D;&#x4EE4;&#x3002;&#x90A3;&#x4E48;&#x5BF9;&#x5E94;&#x7684;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6267;&#x884C;&#x5173;&#x673A;&#x3002; 12# Run the command if the specified file does not exist.ansible -i hosts all -m command -a &quot;/usr/bin/make_database.sh arg1 arg2 creates=/path/to/database&quot; &#x5229;&#x7528;creates&#x53C2;&#x6570;&#xFF0C;&#x5224;&#x65AD;/path/to/database&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5B58;&#x5728;&#x5C31;&#x8DF3;&#x8FC7;command&#x547D;&#x4EE4;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x6267;&#x884C;command&#x547D;&#x4EE4;&#x3002; shell&#x8FD9;&#x4E2A;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x795E;&#x5947;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x5B83;&#x4E5F;&#x662F;ansible&#x7684;&#x6838;&#x5FC3;&#x6A21;&#x5757;&#x4E4B;&#x4E00;&#x3002;&#x5B83;&#x8DDF;command&#x6A21;&#x5757;&#x4E00;&#x6837;&#x8D1F;&#x8D23;&#x5728;&#x88AB;ansible&#x63A7;&#x5236;&#x7684;&#x8282;&#x70B9;&#xFF08;&#x670D;&#x52A1;&#x5668;&#xFF09;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x884C;&#x3002;&#x5B83;&#x4E0E;command&#x6A21;&#x5757;&#x6709;&#x7740;&#x76F8;&#x4F3C;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4E5F;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x770B;&#x5B8C;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x5C06;&#x544A;&#x8BC9;&#x4F60;&#x7B54;&#x6848;&#x3002; &#x5E38;&#x7528;&#x53C2;&#x6570; parameter required default choices comments chdir no &#x8DDF;command&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x8FD0;&#x884C;shell&#x4E4B;&#x524D;cd&#x5230;&#x67D0;&#x4E2A;&#x76EE;&#x5F55; creates no &#x8DDF;command&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#x5219;&#x4E0D;&#x8FD0;&#x884C;shell removes no &#x8DDF;command&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x4E0D;&#x8FD0;&#x884C;shell &#x6848;&#x4F8B;&#x8BA9;&#x6240;&#x6709;&#x8282;&#x70B9;&#x8FD0;&#x884C;somescript.sh&#x5E76;&#x628A;log&#x8F93;&#x51FA;&#x5230;somelog.txt&#x3002; 1$ ansible -i hosts all -m shell -a &quot;sh somescript.sh &gt;&gt; somelog.txt&quot; &#x5148;&#x8FDB;&#x5165;somedir/ &#xFF0C;&#x518D;&#x5728;somedir/&#x76EE;&#x5F55;&#x4E0B;&#x8BA9;&#x6240;&#x6709;&#x8282;&#x70B9;&#x8FD0;&#x884C;somescript.sh&#x5E76;&#x628A;log&#x8F93;&#x51FA;&#x5230;somelog.txt&#x3002; 1$ ansible -i hosts all -m shell -a &quot;somescript.sh &gt;&gt; somelog.txt&quot; chdir=somedir/ &#x4F53;&#x9A8C;shell&#x548C;command&#x7684;&#x533A;&#x522B;,&#x5148;cd&#x5230;&#x67D0;&#x4E2A;&#x9700;&#x8981;&#x7F16;&#x8BD1;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;condifgure&#x7136;&#x540E;,&#x7F16;&#x8BD1;&#xFF0C;&#x7136;&#x540E;&#x5B89;&#x88C5;&#x3002; 1$ ansible -i hosts all -m shell -a &quot;./configure &amp;&amp; make &amp;&amp; make insatll&quot; chdir=/xxx/yyy/ yum&#x7528;&#x4E8E;&#x5305;&#x7BA1;&#x7406; &#x5E38;&#x7528;&#x53C2;&#x6570; &#x53C2;&#x6570;&#x540D; &#x662F;&#x5426;&#x5FC5;&#x987B; &#x9ED8;&#x8BA4;&#x503C; &#x9009;&#x9879;&#x503C; &#x53C2;&#x6570;&#x8BF4;&#x660E; conf_file &#x4E0D; &#x8BBE;&#x5B9A;&#x8FDC;&#x7A0B;yum&#x6267;&#x884C;&#x65F6;&#x6240;&#x4F9D;&#x8D56;&#x7684;yum&#x914D;&#x7F6E;&#x6587;&#x4EF6; disable_gpg_check &#x4E0D; No Yes/No &#x5728;&#x5B89;&#x88C5;&#x5305;&#x524D;&#x68C0;&#x67E5;&#x5305;&#xFF0C;&#x53EA;&#x4F1A;&#x5F71;&#x54CD;state&#x53C2;&#x6570;&#x4E3A;present&#x6216;&#x8005;latest&#x7684;&#x65F6;&#x5019; list No &#x53EA;&#x80FD;&#x7531;ansible&#x8C03;&#x7528;&#xFF0C;&#x4E0D;&#x652F;&#x6301;playbook&#xFF0C;&#x8FD9;&#x4E2A;&#x5E72;&#x5565;&#x7684;&#x5927;&#x5BB6;&#x90FD;&#x61C2; name Yes &#x4F60;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x7684;&#x5305;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x4E5F;&#x80FD;&#x5982;&#x6B64;&#x4F7F;&#x7528;name=python=2.7&#x5B89;&#x88C5;python2.7 state no present present/latest/absent &#x7528;&#x4E8E;&#x63CF;&#x8FF0;&#x5B89;&#x88C5;&#x5305;&#x6700;&#x7EC8;&#x72B6;&#x6001;&#xFF0C;present/latest&#x7528;&#x4E8E;&#x5B89;&#x88C5;&#x5305;&#xFF0C;absent&#x7528;&#x4E8E;remove&#x5B89;&#x88C5;&#x5305; update_cache no no yes/no &#x7528;&#x4E8E;&#x5B89;&#x88C5;&#x5305;&#x524D;&#x6267;&#x884C;&#x66F4;&#x65B0;list,&#x53EA;&#x4F1A;&#x5F71;&#x54CD;state&#x53C2;&#x6570;&#x4E3A;present/latest&#x7684;&#x65F6;&#x5019; &#x6848;&#x4F8B;1234567891011121314151617181920- name: &#x5B89;&#x88C5;&#x6700;&#x65B0;&#x7248;&#x672C;&#x7684;apache yum: name=httpd state=latest- name: &#x79FB;&#x9664;apache yum: name=httpd state=absent- name: &#x5B89;&#x88C5;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7248;&#x672C;&#x7684;apache yum: name=httpd-2.2.29-1.4.amzn1 state=present- name: &#x5347;&#x7EA7;&#x6240;&#x6709;&#x7684;&#x8F6F;&#x4EF6;&#x5305; yum: name=* state=latest- name: &#x4ECE;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;yum&#x4ED3;&#x5E93;&#x5B89;&#x88C5;nginx yum: name=http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm state=present- name: &#x4ECE;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x5B89;&#x88C5;nginx yum: name=/usr/local/src/nginx-release-centos-6-0.el6.ngx.noarch.rpm state=present- name: &#x5B89;&#x88C5;&#x6574;&#x4E2A;Development tools&#x76F8;&#x5173;&#x7684;&#x8F6F;&#x4EF6;&#x5305; yum: name=&quot;@Development tools&quot; state=present 12345678- name: Install Base Require Software yum: name: &quot;{{ item }}&quot; state: present with_items: - gcc - fping ignore_errors: yes apt&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x662F;ubuntu&#x4F5C;&#x4E3A;&#x8FDC;&#x7AEF;&#x8282;&#x70B9;&#x7684;OS&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7528;&#x7684;&#x6700;&#x591A;&#x7684;&#x3002;Apt&#x662F;&#x5565;&#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;ubuntu/debian&#x7684;&#x5305;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x3002; &#x5E38;&#x7528;&#x53C2;&#x6570; &#x53C2;&#x6570;&#x540D; &#x662F;&#x5426;&#x5FC5;&#x987B; &#x9ED8;&#x8BA4;&#x503C; &#x9009;&#x9879;&#x503C; &#x53C2;&#x6570;&#x8BF4;&#x660E; cache_valid_time no &#x5982;&#x679C;update_cache&#x53C2;&#x6570;&#x8D77;&#x4F5C;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x624D;&#x4F1A;&#x8D77;&#x4F5C;&#x7528;&#x3002;&#x5176;&#x7528;&#x6765;&#x63A7;&#x5236;update_cache&#x7684;&#x6574;&#x4F53;&#x6709;&#x6548;&#x65F6;&#x95F4; deb no &#x8FD9;&#x4E2A;&#x7528;&#x4E8E;&#x5B89;&#x88C5;&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x4E0A;&#x7684;.deb&#x540E;&#x7F00;&#x7684;&#x8F6F;&#x4EF6;&#x5305; default_release no &#x7B49;&#x540C;&#x4E8E;apt&#x547D;&#x4EE4;&#x7684;-t&#x9009;&#x9879;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86; force no no yes/no &#x5F3A;&#x5236;&#x6267;&#x884C;apt install/remove install_recommends no Ture yes/no &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x8FDC;&#x7A0B;&#x7535;&#x8111;&#x4E0A;&#x662F;&#x5426;&#x53EA;&#x662F;&#x4E0B;&#x8F7D;&#x8F6F;&#x4EF6;&#x5305;&#xFF0C;&#x8FD8;&#x662F;&#x4E0B;&#x8F7D;&#x540E;&#x5B89;&#x88C5;&#xFF0C;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x4E3A;true,&#x8BBE;&#x7F6E;&#x4E3A;false&#x7684;&#x65F6;&#x5019;&#x5149;&#x4E0B;&#x8F7D;&#x8F6F;&#x4EF6;&#x5305;&#xFF0C;&#x4E0D;&#x5B89;&#x88C5; name no apt&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x540D;&#x5B57;&#xFF0C;&#x652F;&#x6301;name=git=1.6 &#x8FD9;&#x79CD;&#x5236;&#x5B9A;&#x7248;&#x672C;&#x7684;&#x6A21;&#x5F0F; purge no yes/no &#x5982;&#x679C;state&#x53C2;&#x6570;&#x503C;&#x4E3A;absent,&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;yes&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C06;&#x4F1A;&#x5F3A;&#x884C;&#x5E72;&#x51C0;&#x7684;&#x5378;&#x8F7D; state no present latest/absent/present &#x5B9A;&#x4E49;&#x8F6F;&#x4EF6;&#x5305;&#x7684;&#x6700;&#x7EC8;&#x72B6;&#x6001;&#xFF0C;latest&#x65F6;&#x4E3A;&#x5B89;&#x88C5;&#x6700;&#x65B0;&#x8F6F;&#x4EF6; update_cache no yes/no &#x5F53;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;yes&#x7684;&#x65F6;&#x5019;&#x7B49;&#x4E8E;apt-get update upgrade no yes yes/safe/full/dist &#x5982;&#x679C;&#x53C2;&#x6570;&#x4E3A;yes&#x6216;&#x8005;safe&#xFF0C;&#x7B49;&#x540C;&#x4E8E;apt-get upgrade.&#x5982;&#x679C;&#x662F;full&#x5C31;&#x662F;&#x5B8C;&#x6574;&#x66F4;&#x65B0;&#x3002;&#x5982;&#x679C;&#x662F;dist&#x7B49;&#x4E8E;apt-get dist-upgrade&#x3002; &#x6848;&#x4F8B;123456789101112131415161718192021222324252627282930# &#x5728;&#x5B89;&#x88C5;foo&#x8F6F;&#x4EF6;&#x5305;&#x524D;&#x66F4;&#x65B0;&#x7136;&#x540E;&#x5B89;&#x88C5;foo- apt: name=foo update_cache=yes# &#x79FB;&#x9664;foo&#x8F6F;&#x4EF6;&#x5305;- apt: name=foo state=absent# &#x5B89;&#x88C5;foo&#x8F6F;&#x4EF6;&#x5305;- apt: name=foo state=present# &#x5B89;&#x88C5;foo 1.0&#x8F6F;&#x4EF6;&#x5305;- apt: name=foo=1.00 state=present# &#x5B89;&#x88C5;nginx&#x6700;&#x65B0;&#x7684;&#x540D;&#x5B57;&#x4E3A;squeeze-backport&#x53D1;&#x5E03;&#x5305;&#xFF0C;&#x5E76;&#x4E14;&#x5B89;&#x88C5;&#x524D;&#x6267;&#x884C;&#x66F4;&#x65B0;- apt: name=nginx state=latest default_release=squeeze-backports update_cache=yes# &#x53EA;&#x4E0B;&#x8F7D;openjdk-6-jdk&#x6700;&#x65B0;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#xFF0C;&#x4E0D;&#x5B89;&#x88C5;- apt: name=openjdk-6-jdk state=latest install_recommends=no# &#x5B89;&#x88C5;&#x6240;&#x6709;&#x8F6F;&#x4EF6;&#x5305;&#x5230;&#x6700;&#x65B0;&#x7248;&#x672C;- apt: upgrade=dist# &#x66F4;&#x65B0;apt-get&#x7684;list- apt: update_cache=yes# 3600&#x79D2;&#x540E;&#x505C;&#x6B62;update_cache- apt: update_cache=yes cache_valid_time=3600# &#x5B89;&#x88C5;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x4E0A;&#x7684;/tmp/mypackage.deb&#x8F6F;&#x4EF6;&#x5305;- apt: deb=/tmp/mypackage.deb fetchcopycopy&#x6A21;&#x5757;&#x5728;ansible&#x91CC;&#x7684;&#x89D2;&#x8272;&#x5C31;&#x662F;&#x628A;ansible&#x6267;&#x884C;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x4E0A;&#x3002;&#x4E0E;fetch&#x6A21;&#x5757;&#x76F8;&#x53CD;&#x7684;&#x64CD;&#x4F5C;&#x3002; &#x5E38;&#x7528;&#x53C2;&#x6570; &#x53C2;&#x6570;&#x540D; &#x662F;&#x5426;&#x5FC5;&#x987B; &#x9ED8;&#x8BA4;&#x503C; &#x9009;&#x9879;&#x503C; &#x53C2;&#x6570;&#x8BF4;&#x660E; src no &#x7528;&#x4E8E;&#x5B9A;&#x4F4D;ansible&#x6267;&#x884C;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;&#x5982;&#x679C;&#x62F7;&#x8D1D;&#x7684;&#x662F;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x90A3;&#x4E48;&#x6587;&#x4EF6;&#x5939;&#x4F1A;&#x6574;&#x4F53;&#x62F7;&#x8D1D;&#xFF0C;&#x5982;&#x679C;&#x7ED3;&#x5C3E;&#x662F;&#x201D;/&#x201D;,&#x90A3;&#x4E48;&#x53EA;&#x6709;&#x6587;&#x4EF6;&#x5939;&#x5185;&#x7684;&#x4E1C;&#x897F;&#x88AB;&#x8003;&#x8FC7;&#x53BB;&#x3002;&#x4E00;&#x5207;&#x7684;&#x611F;&#x89C9;&#x5F88;&#x50CF;rsync content no &#x7528;&#x6765;&#x66FF;&#x4EE3;src&#xFF0C;&#x7528;&#x4E8E;&#x5C06;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x62F7;&#x8D1D;&#x5230;&#x8FDC;&#x7A0B;&#x6587;&#x4EF6;&#x5185; dest yes &#x7528;&#x4E8E;&#x5B9A;&#x4F4D;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;&#x5982;&#x679C;src&#x6307;&#x5411;&#x7684;&#x662F;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E5F;&#x5FC5;&#x987B;&#x662F;&#x6307;&#x5411;&#x6587;&#x4EF6;&#x5939; backup no no yes/no &#x5907;&#x4EFD;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x539F;&#x59CB;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x62F7;&#x8D1D;&#x4E4B;&#x524D;&#x3002;&#x5982;&#x679C;&#x53D1;&#x751F;&#x4EC0;&#x4E48;&#x610F;&#x5916;&#xFF0C;&#x539F;&#x59CB;&#x6587;&#x4EF6;&#x8FD8;&#x80FD;&#x4F7F;&#x7528;&#x3002; directory_mode no &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x5939;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x4E2A;&#x8BBE;&#x5B9A;&#x540E;&#xFF0C;&#x6587;&#x4EF6;&#x5939;&#x5185;&#x65B0;&#x5EFA;&#x7684;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x62F7;&#x8D1D;&#x3002;&#x800C;&#x8001;&#x65E7;&#x7684;&#x4E0D;&#x4F1A;&#x88AB;&#x62F7;&#x8D1D; follow no no yes/no &#x5F53;&#x62F7;&#x8D1D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x5185;&#x6709;link&#x5B58;&#x5728;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90A3;&#x4E48;&#x62F7;&#x8D1D;&#x8FC7;&#x53BB;&#x7684;&#x4E5F;&#x4F1A;&#x6709;link force no yes yes/no &#x9ED8;&#x8BA4;&#x4E3A;yes,&#x4F1A;&#x8986;&#x76D6;&#x8FDC;&#x7A0B;&#x7684;&#x5185;&#x5BB9;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x6587;&#x4EF6;&#xFF08;&#x53EF;&#x80FD;&#x6587;&#x4EF6;&#x540D;&#x4E00;&#x6837;&#xFF09;&#x3002;&#x5982;&#x679C;&#x662F;no&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x8FDC;&#x7A0B;&#x6709;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6; group no &#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x7FA4;&#x7EC4;&#x62E5;&#x6709;&#x62F7;&#x8D1D;&#x5230;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650; mode no &#x7B49;&#x540C;&#x4E8E;chmod&#xFF0C;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x4E3A;&#x201C;u+rwx or u=rw,g=r,o=r&#x201D; owner no &#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x62E5;&#x6709;&#x62F7;&#x8D1D;&#x5230;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650; &#x6848;&#x4F8B;1234567891011# &#x628A;/srv/myfiles/foo.conf&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;/etc/foo.conf&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x7684;&#x62E5;&#x6709;&#x8005;&#x662F;foo&#xFF0C;&#x62E5;&#x6709;&#x5B83;&#x7684;&#x7FA4;&#x7EC4;&#x662F;foo&#xFF0C;&#x6743;&#x9650;&#x662F;0644- copy: src=/srv/myfiles/foo.conf dest=/etc/foo.conf owner=foo group=foo mode=0644# &#x8DDF;&#x4E0A;&#x9762;&#x7684;&#x6848;&#x4F8B;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x53EA;&#x662F;&#x6743;&#x9650;&#x7684;&#x5199;&#x6CD5;- copy: src=/srv/myfiles/foo.conf dest=/etc/foo.conf owner=foo group=foo mode=&quot;u=rw,g=r,o=r&quot;# &#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6743;&#x9650;&#x7684;&#x5199;&#x6CD5;- copy: src=/srv/myfiles/foo.conf dest=/etc/foo.conf owner=foo group=foo mode=&quot;u+rw,g-wx,o-rwx&quot;# &#x62F7;&#x8D1D;/mine/ntp.conf&#x5230;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;/etc/ntp.conf&#xFF0C;&#x5E76;&#x4E14;&#x5907;&#x4EFD;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x7684;/etc/ntp.conf&#x3002;- copy: src=/mine/ntp.conf dest=/etc/ntp.conf owner=root group=root mode=644 backup=yes &#x5E38;&#x7528;&#x53C2;&#x6570;&#x8FD4;&#x56DE;&#x503C; &#x53C2;&#x6570;&#x540D; &#x53C2;&#x6570;&#x8BF4;&#x660E; &#x8FD4;&#x56DE;&#x503C; &#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B; &#x6837;&#x4F8B; src &#x4F4D;&#x4E8E;ansible&#x6267;&#x884C;&#x673A;&#x4E0A;&#x7684;&#x4F4D;&#x7F6E; changed string /home/httpd/.ansible/tmp/ansible-tmp-1423796390.97-147729857856000/source backup_file &#x5C06;&#x539F;&#x6587;&#x4EF6;&#x5907;&#x4EFD; changed and if backup=yes string /path/to/file.txt.2015-02-12@22:09~ uid &#x5728;&#x6267;&#x884C;&#x540E;&#xFF0C;&#x62E5;&#x6709;&#x8005;&#x7684;ID success int 100 dest &#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x7684;&#x76EE;&#x6807;&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6; success string /path/to/file.txt checksum &#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x540E;&#x7684;checksum&#x503C; success string 6e642bb8dd5c2e027bf21dd923337cbb4214f827 md5sum &#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x540E;&#x7684;md5 checksum&#x503C; when supported string 2a5aeecc61dc98c4d780b14b330e3282 state &#x6267;&#x884C;&#x540E;&#x7684;&#x72B6;&#x6001; success string file gid &#x6267;&#x884C;&#x540E;&#x62E5;&#x6709;&#x6587;&#x4EF6;&#x5939;&#x3001;&#x6587;&#x4EF6;&#x7684;&#x7FA4;&#x7EC4;ID success int 100 mode &#x6267;&#x884C;&#x540E;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650; success string 0644 owner &#x6267;&#x884C;&#x540E;&#x6587;&#x4EF6;&#x6240;&#x6709;&#x8005;&#x7684;&#x540D;&#x5B57; success string httpd group &#x6267;&#x884C;&#x540E;&#x6587;&#x4EF6;&#x6240;&#x6709;&#x7FA4;&#x7EC4;&#x7684;&#x540D;&#x5B57; success string httpd size &#x6267;&#x884C;&#x540E;&#x6587;&#x4EF6;&#x5927;&#x5C0F; success int 1220 file&#x5728;&#x4E4B;&#x524D;ansible&#x547D;&#x4EE4;&#x884C;&#x7684;&#x65F6;&#x5019;&#x6709;copy&#x6A21;&#x5757;&#xFF0C;&#x5728;playbook&#x7684;&#x65F6;&#x4EE3;&#x81EA;&#x7136;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x4E13;&#x95E8;&#x8D1F;&#x8D23;&#x6587;&#x4EF6;&#x7684;&#x62F7;&#x8D1D;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x4E2A;&#x65F6;&#x4EE3;&#x5B83;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x90A3;&#x4E48;&#x7B80;&#x5355;&#x3002; &#x6765;&#x81EA;&#x5B98;&#x65B9;&#x7684;&#x89E3;&#x91CA;&#xFF1A; file&#x6A21;&#x5757;&#x5B83;&#x5305;&#x542B;&#x4E86;&#x6587;&#x4EF6;&#x3001;&#x6587;&#x4EF6;&#x5939;&#x3001;&#x8D85;&#x7EA7;&#x94FE;&#x63A5;&#x7C7B;&#x7684;&#x521B;&#x7ACB;&#x3001;&#x62F7;&#x8D1D;&#x3001;&#x79FB;&#x52A8;&#x3001;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x3002; &#x5E38;&#x7528;&#x53C2;&#x6570; &#x53C2;&#x6570;&#x540D; &#x662F;&#x5426;&#x5FC5;&#x987B; &#x9ED8;&#x8BA4;&#x503C; &#x9009;&#x9879; &#x8BF4;&#x660E; follow no no yes/no &#x5982;&#x679C;&#x539F;&#x6765;&#x7684;&#x6587;&#x4EF6;&#x662F;link&#xFF0C;&#x62F7;&#x8D1D;&#x540E;&#x4F9D;&#x65E7;&#x662F;link force no no yes/no &#x5F3A;&#x5236;&#x6267;&#x884C;&#xFF0C;&#x6CA1;&#x8BF4;&#x7684; group no &#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x7FA4;&#x7EC4;&#x62E5;&#x6709;&#x62F7;&#x8D1D;&#x5230;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650; mode no &#x7B49;&#x540C;&#x4E8E;chmod&#xFF0C;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x4E3A;&#x201C;u+rwx or u=rw,g=r,o=r&#x201D; owner no &#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x62E5;&#x6709;&#x62F7;&#x8D1D;&#x5230;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650; path yes &#x76EE;&#x6807;&#x8DEF;&#x5F84;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;dest,name&#x4EE3;&#x66FF; src yes &#x5F85;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;/&#x6587;&#x4EF6;&#x5939;&#x7684;&#x539F;&#x59CB;&#x4F4D;&#x7F6E;&#x3002; state no file file/link/directory/hard/touch/absent file&#x4EE3;&#x8868;&#x62F7;&#x8D1D;&#x540E;&#x662F;&#x6587;&#x4EF6;&#xFF1B;link&#x4EE3;&#x8868;&#x6700;&#x7EC8;&#x662F;&#x4E2A;&#x8F6F;&#x94FE;&#x63A5;&#xFF1B;directory&#x4EE3;&#x8868;&#x6587;&#x4EF6;&#x5939;&#xFF1B;hard&#x4EE3;&#x8868;&#x786C;&#x94FE;&#x63A5;&#xFF1B;touch&#x4EE3;&#x8868;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7A7A;&#x6587;&#x4EF6;&#xFF1B;absent&#x4EE3;&#x8868;&#x5220;&#x9664; &#x4F8B;&#x5B50;123456789101112131415161718192021222324# &#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x7EC4;&#x3001;&#x4EBA;&#x3001;&#x6743;&#x9650;&#x3002;- file: path=/etc/foo.conf owner=foo group=foo mode=0644# &#x64CD;&#x4F5C;&#x94FE;&#x63A5;&#x7684;&#x6848;&#x4F8B;- file: src=/file/to/link/to dest=/path/to/symlink owner=foo group=foo state=link#&#x53C2;&#x6570;&#x5316;&#x6848;&#x4F8B;- file: src=/tmp/{{ item.path }} dest={{ item.dest }} state=link with_items: - { path: &apos;x&apos;, dest: &apos;y&apos; } - { path: &apos;z&apos;, dest: &apos;k&apos; }# &#x4F7F;&#x7528;touch&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x6587;&#x4EF6;&#x5E76;&#x5B9A;&#x4E49;&#x6743;&#x9650;- file: path=/etc/foo.conf state=touch mode=&quot;u=rw,g=r,o=r&quot;# touch&#x4E00;&#x4E2A;&#x7A7A;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x4FEE;&#x6539;&#x6743;&#x9650;- file: path=/etc/foo.conf state=touch mode=&quot;u+rw,g-wx,o-rwx&quot; - name: link Zabbix Agent Link #shell: ln -s {{ install_dir }}/zabbix-{{ zabbix_version }} {{ zabbix_dir }} file: src: &quot;{{ install_dir }}/zabbix-{{ zabbix_version }}&quot; dest: &quot;{{ zabbix_dir }}&quot; owner: root group: root state: link templatetemplate&#x4F7F;&#x7528;&#x4E86;Jinjia2&#x683C;&#x5F0F;&#x4F5C;&#x4E3A;&#x6587;&#x4EF6;&#x6A21;&#x7248;&#xFF0C;&#x8FDB;&#x884C;&#x6587;&#x6863;&#x5185;&#x53D8;&#x91CF;&#x7684;&#x66FF;&#x6362;&#x7684;&#x6A21;&#x5757;&#x3002;&#x5B83;&#x7684;&#x6BCF;&#x6B21;&#x4F7F;&#x7528;&#x90FD;&#x4F1A;&#x88AB;ansible&#x6807;&#x8BB0;&#x4E3A;&#x201D;changed&#x201D;&#x72B6;&#x6001;&#x3002; &#x5E38;&#x7528;&#x53C2;&#x6570; &#x53C2;&#x6570;&#x540D; &#x662F;&#x5426;&#x5FC5;&#x987B; &#x9ED8;&#x8BA4;&#x503C; &#x9009;&#x9879;&#x503C; &#x53C2;&#x6570;&#x8BF4;&#x660E; backup no no yes/no &#x5EFA;&#x7ACB;&#x4E2A;&#x5305;&#x62EC;timestamp&#x5728;&#x5185;&#x7684;&#x6587;&#x4EF6;&#x5907;&#x4EFD;&#xFF0C;&#x4EE5;&#x5907;&#x4E0D;&#x65F6;&#x4E4B;&#x9700;.dest yes &#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x7528;&#x4E8E;&#x653E;&#x7F6E;template&#x6587;&#x4EF6;&#x3002;group no &#x8BBE;&#x7F6E;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x7684;template&#x6587;&#x4EF6;&#x7684;&#x6240;&#x5C5E;&#x7528;&#x6237;&#x7EC4;mode no &#x8BBE;&#x7F6E;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x4E0A;&#x7684;template&#x6587;&#x4EF6;&#x6743;&#x9650;&#x3002;&#x7C7B;&#x4F3C;Linux&#x4E2D;chmod&#x7684;&#x7528;&#x6CD5;owner no &#x8BBE;&#x7F6E;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x4E0A;&#x7684;template&#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x7528;&#x6237;src yes &#x672C;&#x5730;Jinjia2&#x6A21;&#x7248;&#x7684;template&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#x3002; &#x6848;&#x4F8B;12345# &#x628A;/mytemplates/foo.j2&#x6587;&#x4EF6;&#x7ECF;&#x8FC7;&#x586B;&#x5199;&#x53C2;&#x6570;&#x540E;&#xFF0C;&#x590D;&#x5236;&#x5230;&#x8FDC;&#x7A0B;&#x8282;&#x70B9;&#x7684;/etc/file.conf&#xFF0C;&#x6587;&#x4EF6;&#x6743;&#x9650;&#x76F8;&#x5173;&#x7565;&#x8FC7;- template: src=/mytemplates/foo.j2 dest=/etc/file.conf owner=bin group=wheel mode=0644# &#x8DDF;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650;&#x8BBE;&#x7F6E;&#x65B9;&#x5F0F;- template: src=/mytemplates/foo.j2 dest=/etc/file.conf owner=bin group=wheel mode=&quot;u=rw,g=r,o=r&quot; serviceservice&#x6A21;&#x5757;&#x8BF4;&#x767D;&#x4E86;&#xFF0C;&#x5C31;&#x662F;Linux&#x4E0B;&#x7684;service&#x547D;&#x4EE4;&#x3002;&#x4F46;&#x662F;&#x5B83;&#x66F4;&#x7B80;&#x5355;&#x3002;&#x8FD9;&#x4E2A;&#x662F;playbook&#x4E2D;&#x7528;&#x7684;&#x975E;&#x5E38;&#x591A;&#x7684;&#x6A21;&#x5757;&#x3002; &#x5E38;&#x7528;&#x53C2;&#x6570; &#x53C2;&#x6570;&#x540D; &#x662F;&#x5426;&#x5FC5;&#x987B; &#x9ED8;&#x8BA4;&#x503C; &#x9009;&#x9879;&#x503C; &#x53C2;&#x6570;&#x8BF4;&#x660E; enabled no yes/no &#x542F;&#x52A8;os&#x540E;&#x542F;&#x52A8;&#x5BF9;&#x5E94;service&#x7684;&#x9009;&#x9879;&#x3002;&#x4F7F;&#x7528;service&#x6A21;&#x5757;&#x7684;&#x65F6;&#x5019;&#xFF0C;enabled&#x548C;state&#x81F3;&#x5C11;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x88AB;&#x5B9A;&#x4E49; name yes &#x9700;&#x8981;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x7684;service&#x540D;&#x5B57; state no stared/stoped/restarted/reloaded service&#x6700;&#x7EC8;&#x64CD;&#x4F5C;&#x540E;&#x7684;&#x72B6;&#x6001;&#x3002; &#x6848;&#x4F8B;123456789101112# &#x4E0D;&#x7BA1;&#x5F53;&#x524D;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#xFF0C;&#x542F;&#x52A8;apache- service: name=httpd state=started# &#x4E0D;&#x7BA1;&#x5F53;&#x524D;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#xFF0C;&#x505C;&#x6B62;apache- service: name=httpd state=stopped# &#x4E0D;&#x7BA1;&#x5F53;&#x524D;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#xFF0C;&#x91CD;&#x542F;apache- service: name=httpd state=restarted# &#x7CFB;&#x7EDF;&#x91CD;&#x542F;&#x540E;&#xFF0C;&#x542F;&#x52A8;apache- service: name=httpd enabled=yes wait_for&#x5F53;&#x4F60;&#x5229;&#x7528;service &#x542F;&#x52A8;tomcat&#xFF0C;&#x6216;&#x6570;&#x636E;&#x5E93;&#x540E;&#xFF0C;&#x4ED6;&#x4EEC;&#x771F;&#x7684;&#x542F;&#x6765;&#x4E86;&#x4E48;&#xFF1F;&#x8FD9;&#x4E2A;&#x4F60;&#x662F;&#x5426;&#x60F3;&#x786E;&#x8BA4;&#x4E0B;&#xFF1F;wait_for&#x6A21;&#x5757;&#x5C31;&#x662F;&#x5E72;&#x8FD9;&#x4E2A;&#x7684;&#x3002;&#x7B49;&#x5F85;&#x4E00;&#x4E2A;&#x4E8B;&#x60C5;&#x53D1;&#x751F;&#xFF0C;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;&#x88AB;&#x5360;&#x7528;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x505A;&#x4E0B;&#x9762;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x8D85;&#x65F6;&#x540E;&#x505A;&#x53E6;&#x5916;&#x7684;&#x4E8B;&#x3002; &#x5E38;&#x7528;&#x53C2;&#x6570; &#x53C2;&#x6570;&#x540D; &#x662F;&#x5426;&#x5FC5;&#x987B; &#x9ED8;&#x8BA4;&#x503C; &#x9009;&#x9879;&#x503C; &#x53C2;&#x6570;&#x8BF4;&#x660E; connect_timeout no 5 &#x5728;&#x4E0B;&#x4E00;&#x4E2A;&#x4E8B;&#x60C5;&#x53D1;&#x751F;&#x524D;&#x7B49;&#x5F85;&#x94FE;&#x63A5;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x79D2; delay no &#x5EF6;&#x65F6;&#xFF0C;&#x5927;&#x5BB6;&#x90FD;&#x61C2;&#xFF0C;&#x5728;&#x505A;&#x4E0B;&#x4E00;&#x4E2A;&#x4E8B;&#x60C5;&#x524D;&#x5EF6;&#x65F6;&#x591A;&#x5C11;&#x79D2; host no 127.0.0.1 &#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684;host path no &#x5F53;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#x4E8E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x4E0B;&#x4E00;&#x6B65;&#x624D;&#x7EE7;&#x7EED;&#x3002; port no &#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x5982;8080 state no started present/started/stopped/absent &#x5BF9;&#x8C61;&#x662F;&#x7AEF;&#x53E3;&#x7684;&#x65F6;&#x5019;start&#x72B6;&#x6001;&#x4F1A;&#x786E;&#x4FDD;&#x7AEF;&#x53E3;&#x662F;&#x6253;&#x5F00;&#x7684;&#xFF0C;stoped&#x72B6;&#x6001;&#x4F1A;&#x786E;&#x8BA4;&#x7AEF;&#x53E3;&#x662F;&#x5173;&#x95ED;&#x7684;;&#x5BF9;&#x8C61;&#x662F;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;present&#x6216;&#x8005;started&#x4F1A;&#x786E;&#x8BA4;&#x6587;&#x4EF6;&#x662F;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x800C;absent&#x4F1A;&#x786E;&#x8BA4;&#x6587;&#x4EF6;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x3002; &#x6848;&#x4F8B;1234567891011# 10&#x79D2;&#x540E;&#x5728;&#x5F53;&#x524D;&#x4E3B;&#x673A;&#x5F00;&#x59CB;&#x68C0;&#x67E5;8000&#x7AEF;&#x53E3;&#xFF0C;&#x76F4;&#x5230;&#x7AEF;&#x53E3;&#x542F;&#x52A8;&#x540E;&#x8FD4;&#x56DE;- wait_for: port=8000 delay=10# &#x68C0;&#x67E5;path=/tmp/foo&#x76F4;&#x5230;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#x540E;&#x7EE7;&#x7EED;- wait_for: path=/tmp/foo# &#x76F4;&#x5230;/var/lock/file.lock&#x79FB;&#x9664;&#x540E;&#x7EE7;&#x7EED;- wait_for: path=/var/lock/file.lock state=absent# &#x76F4;&#x5230;/proc/3466/status&#x79FB;&#x9664;&#x540E;&#x7EE7;&#x7EED;- wait_for: path=/proc/3466/status state=absent]]></content>
      <categories>
        <category>ansible</category>
      </categories>
      <tags>
        <tag>ansible</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[shell字符串切割的方法]]></title>
    <url>%2F2018%2F05%2F25%2Fshell-split%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;shell&#x4E2D;&#x622A;&#x53D6;&#x5B57;&#x7B26;&#x4E32;&#x6709;&#x5F88;&#x591A;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;sed&#x3001;awk&#x3001;cut&#x6765;&#x8FDB;&#x884C;&#x5B57;&#x7B26;&#x4E32;&#x5207;&#x5272;&#xFF0C;&#x672C;&#x6587;&#x4F7F;&#x7528;&#x7684;&#x662F;shell&#x4E2D;&#x5B57;&#x7B26;&#x4E32;&#x672C;&#x8EAB;&#x5177;&#x6709;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5207;&#x5272;&#x65B9;&#x6CD5; &#x4E00;&#x5171;&#x6709;9&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;12345678910111213141516171819${expression}# &#x5B57;&#x7B26;&#x4E32;&#x5207;&#x5272;## &#x6700;&#x5C0F;&#x9650;&#x5EA6;&#x4ECE;&#x540E;&#x9762;&#x622A;&#x53D6;word${parameter%word} ## &#x6700;&#x5927;&#x9650;&#x5EA6;&#x4ECE;&#x540E;&#x9762;&#x622A;&#x53D6;word${parameter%%word} ## &#x6700;&#x5C0F;&#x9650;&#x5EA6;&#x4ECE;&#x524D;&#x9762;&#x622A;&#x53D6;word${parameter#word} ## &#x6700;&#x5927;&#x9650;&#x5EA6;&#x4ECE;&#x524D;&#x9762;&#x622A;&#x53D6;word${parameter##word} # &#x83B7;&#x5F97;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;${#parameter}# &#x7F3A;&#x7701;&#x503C;&#x7684;&#x66FF;&#x6362;${parameter:-word}${parameter:=word}${parameter:?word}${parameter:+word} &#x5B57;&#x7B26;&#x4E32;&#x5207;&#x5272;&#x7684;&#x8BE6;&#x7EC6;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4F7F;&#x7528; % &#x53F7;&#x64CD;&#x4F5C;&#x7B26; &#x7528;&#x9014;&#x662F;&#x4ECE;&#x53F3;&#x8FB9;&#x5F00;&#x59CB;&#x5220;&#x9664;&#x7B2C;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x5B50;&#x5B57;&#x7B26;&#x4E32;&#x5373;&#x5176;&#x53F3;&#x8FB9;&#x5B57;&#x7B26;&#xFF0C;&#x4FDD;&#x7559;&#x5DE6;&#x8FB9;&#x5B57;&#x7B26;&#x3002; &#x7528;&#x6CD5;&#x4E3A;%substr* &#x4F8B;&#x5982;&#xFF1A; 12str=&apos;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&apos;echo ${str%/*} &#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E3A;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com&#xFF0C;&#x5373;&#x5220;&#x9664;&#x4ECE;&#x53F3;&#x8FB9;&#x5F00;&#x59CB;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&quot;/&quot;&#x53CA;&#x5176;&#x53F3;&#x8FB9;&#x6240;&#x6709;&#x5B57;&#x7B26; &#x4F7F;&#x7528; %% &#x53F7;&#x64CD;&#x4F5C;&#x7B26; &#x7528;&#x9014;&#x662F;&#x4ECE;&#x53F3;&#x8FB9;&#x5F00;&#x59CB;&#x5220;&#x9664;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x5B50;&#x5B57;&#x7B26;&#x4E32;&#x5373;&#x5176;&#x53F3;&#x8FB9;&#x5B57;&#x7B26;&#xFF0C;&#x4FDD;&#x7559;&#x5DE6;&#x8FB9;&#x5B57;&#x7B26;&#x3002; &#x7528;&#x6CD5;&#x4E3A;%%substr* &#x4F8B;&#x5982;&#xFF1A; 12str=&apos;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&apos;echo ${str%%/*} &#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E3A;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com&#xFF0C;&#x5373;&#x5220;&#x9664;&#x4ECE;&#x53F3;&#x8FB9;&#x5F00;&#x59CB;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;&quot;/&quot;&#x53CA;&#x5176;&#x53F3;&#x8FB9;&#x6240;&#x6709;&#x5B57;&#x7B26; &#x4F7F;&#x7528; # &#x53F7;&#x64CD;&#x4F5C;&#x7B26; &#x7528;&#x9014;&#x662F;&#x4ECE;&#x5DE6;&#x8FB9;&#x5F00;&#x59CB;&#x5220;&#x9664;&#x7B2C;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x5B50;&#x5B57;&#x7B26;&#x4E32;&#x5373;&#x5176;&#x5DE6;&#x8FB9;&#x5B57;&#x7B26;&#xFF0C;&#x4FDD;&#x7559;&#x53F3;&#x8FB9;&#x5B57;&#x7B26;&#x3002; &#x7528;&#x6CD5;&#x4E3A;#*substr &#x4F8B;&#x5982;&#xFF1A; 12str=&apos;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&apos;echo ${str#*//} &#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E3A;www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&#xFF0C;&#x5373;&#x5220;&#x9664;&#x4ECE;&#x5DE6;&#x8FB9;&#x5F00;&#x59CB;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x201D;//&#x201C;&#x53CA;&#x5176;&#x5DE6;&#x8FB9;&#x6240;&#x6709;&#x5B57;&#x7B26; &#x4F7F;&#x7528; ## &#x53F7;&#x64CD;&#x4F5C;&#x7B26; &#x7528;&#x9014;&#x662F;&#x4ECE;&#x5DE6;&#x8FB9;&#x5F00;&#x59CB;&#x5220;&#x9664;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x5B50;&#x5B57;&#x7B26;&#x4E32;&#x5373;&#x5176;&#x5DE6;&#x8FB9;&#x5B57;&#x7B26;&#xFF0C;&#x4FDD;&#x7559;&#x53F3;&#x8FB9;&#x5B57;&#x7B26;&#x3002; &#x7528;&#x6CD5;&#x4E3A;##*substr &#x4F8B;&#x5982;&#xFF1A; 12str=&apos;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&apos;echo ${str##*/} &#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E3A;cut-string.html&#xFF0C;&#x5373;&#x5220;&#x9664;&#x6700;&#x540E;&#x51FA;&#x73B0;&#x7684;&#x201D;/&#x201C;&#x53CA;&#x5176;&#x5DE6;&#x8FB9;&#x6240;&#x6709;&#x5B57;&#x7B26; &#x7F3A;&#x7701;&#x503C;&#x66FF;&#x6362;&#x7684;&#x8BE6;&#x7EC6;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4ECE;&#x5DE6;&#x8FB9;&#x7B2C;&#x51E0;&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#x4EE5;&#x53CA;&#x5B57;&#x7B26;&#x7684;&#x4E2A;&#x6570; &#x7528;&#x6CD5;&#x4E3A;:start:len &#x4F8B;&#x5982;&#xFF1A; 1234str=&apos;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&apos;echo ${var:0:5}&#x5176;&#x4E2D;&#x7684; 0 &#x8868;&#x793A;&#x5DE6;&#x8FB9;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#xFF0C;5 &#x8868;&#x793A;&#x5B57;&#x7B26;&#x7684;&#x603B;&#x4E2A;&#x6570;&#x3002;&#x7ED3;&#x679C;&#x662F;&#xFF1A;http: &#x4ECE;&#x5DE6;&#x8FB9;&#x7B2C;&#x51E0;&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#x4E00;&#x76F4;&#x5230;&#x7ED3;&#x675F; &#x7528;&#x6CD5;&#x4E3A;:start &#x4F8B;&#x5982;&#xFF1A; 1234str=&apos;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&apos;echo ${var:7}&#x5176;&#x4E2D;&#x7684; 7 &#x8868;&#x793A;&#x5DE6;&#x8FB9;&#x7B2C;7+1&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#x7ED3;&#x679C;&#x662F;&#xFF1A;www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html &#x4ECE;&#x53F3;&#x8FB9;&#x7B2C;&#x51E0;&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#x4EE5;&#x53CA;&#x5B57;&#x7B26;&#x7684;&#x4E2A;&#x6570; &#x7528;&#x6CD5;:0-start:len &#x4F8B;&#x5982;&#xFF1A; 1234str=&apos;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&apos;echo ${str:0-15:10}&#x5176;&#x4E2D;&#x7684; 0-15 &#x8868;&#x793A;&#x53F3;&#x8FB9;&#x7B97;&#x8D77;&#x7B2C;15&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#xFF0C;10 &#x8868;&#x793A;&#x5B57;&#x7B26;&#x7684;&#x4E2A;&#x6570;&#x3002;&#x7ED3;&#x679C;&#x662F;&#xFF1A;cut-string &#x4ECE;&#x53F3;&#x8FB9;&#x7B2C;&#x51E0;&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#x4E00;&#x76F4;&#x5230;&#x7ED3;&#x675F; &#x7528;&#x6CD5;:0-start &#x4F8B;&#x5982;&#xFF1A; 12345str=&apos;http://www.&#x4F60;&#x7684;&#x57DF;&#x540D;.com/cut-string.html&apos;echo ${str:0-4}&#x5176;&#x4E2D;&#x7684; 0-4 &#x8868;&#x793A;&#x53F3;&#x8FB9;&#x7B97;&#x8D77;&#x7B2C;4&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#xFF0C;10 &#x8868;&#x793A;&#x5B57;&#x7B26;&#x7684;&#x4E2A;&#x6570;&#x3002;&#x7ED3;&#x679C;&#x662F;&#xFF1A;html&#x6CE8;&#xFF1A;&#xFF08;&#x5DE6;&#x8FB9;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x662F;&#x7528; 0 &#x8868;&#x793A;&#xFF0C;&#x53F3;&#x8FB9;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x7528; 0-1 &#x8868;&#x793A;&#xFF09;]]></content>
      <categories>
        <category>linux</category>
        <category>shell</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[svn切换仓库地址]]></title>
    <url>%2F2018%2F05%2F21%2Fsvn-relocate%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;&#x4E0D;&#x540C;&#x5E73;&#x53F0;svn&#x5207;&#x6362;&#x4ED3;&#x5E93;&#x5730;&#x5740;&#x7684;&#x65B9;&#x5F0F;&#x3002; windows&#x5728;&#x68C0;&#x51FA;&#x76EE;&#x5F55;&#x4E0A;&#x5355;&#x673A;&#x53F3;&#x952E;&#xFF0C;&#x4ECE;&#x5F39;&#x51FA;&#x7684;&#x83DC;&#x5355;&#x4E2D;&#x6309;&#x7167;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x4ED3;&#x5E93;&#x5730;&#x5740;&#x914D;&#x7F6E;&#xFF0C;&#x56FE;&#x7247;&#x4EC5;&#x4F9B;&#x53C2;&#x8003;&#x3002; &#x6CE8;&#xFF1A;&#x5207;&#x6362;&#x4ED3;&#x5E93;&#x5730;&#x5740;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x9A8C;&#x8BC1;&#x8D26;&#x53F7;&#x5BC6;&#x7801; mac&#x547D;&#x4EE4;&#x884C; 12345# &#x5207;&#x6362;&#x5230;svn&#x68C0;&#x51FA;&#x76EE;&#x5F55;cd svn# &#x6267;&#x884C;&#x5207;&#x6362;&#x4ED3;&#x5E93;&#x5730;&#x5740;&#x547D;&#x4EE4;# &#x6CE8;&#xFF1A;&#x5207;&#x6362;&#x4ED3;&#x5E93;&#x5730;&#x5740;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x9A8C;&#x8BC1;&#x8D26;&#x53F7;&#x5BC6;&#x7801;svn relocate svn://svn.devops.kaishustory.com/ks_code/devops &#x5DE5;&#x5177;&#x4EE5;Cornerstone&#x4E3A;&#x4F8B;]]></content>
      <categories>
        <category>svn</category>
      </categories>
      <tags>
        <tag>svn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[zookeeper简易安装]]></title>
    <url>%2F2018%2F05%2F18%2Fzookeeper-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;&#x7B80;&#x6613;&#x5B89;&#x88C5;zookeeper&#x5355;&#x673A;&#x8FC7;&#x7A0B;&#x3002; &#x5B89;&#x88C5;zookeeper&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;1234WORKDIR=&quot;/usr/local/src&quot;INSTALL_DIR=&quot;/usr/local/product&quot;SOFT_DIR=&quot;/usr/local&quot;VERSION=&quot;3.4.12&quot; &#x521B;&#x5EFA;zookeeper&#x7528;&#x6237;1useradd zookeeper &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;1234cd ${WORKDIR}wget https://mirrors.aliyun.com/apache/zookeeper/zookeeper-${VERSION}/zookeeper-${VERSION}.tar.gztar xvf zookeeper-${VERSION}.tar.gz -C ${INSTALL_DIR}ln -s ${INSTALL_DIR}/zookeeper-${VERSION} ${SOFT_DIR}/zookeeper &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;1234567891011121314151617cd /usr/local/zookeeper/confcp zoo_sample.cfg zoo.cfgecho -e &quot;tickTime=2000initLimit=10syncLimit=5dataDir=/data/zookeeper/dataclientPort=2181&quot; &gt; zoo.cfgecho -e &quot;ZOO_LOG_DIR=/data/logs/zookeeper&quot; &gt; zookeeper-env.shmkdir -p /data/zookeeper/datamkdir -p /data/logs/zookeeperchown zookeeper.zookeeper -R /data/zookeeper/chown zookeeper.zookeeper -R /data/logs/zookeeper/chown zookeeper.zookeeper -R /usr/local/zookeeper/ &#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;123echo -e &quot;export ZOOKEEPER_HOME=/usr/local/zookeeperexport PATH=\$ZOOKEEPER_HOME/bin:\$PATH&quot; &gt;&gt; /etc/profilesource /etc/profile &#x542F;&#x52A8;&#x670D;&#x52A1;123456su - zookeeperzkServer.sh startZooKeeper JMX enabled by defaultUsing config: /usr/local/zookeeper/bin/../conf/zoo.cfgStarting zookeeper ... STARTED &#x5176;&#x4ED6;&#x547D;&#x4EE4;123456789zkServer.sh --helpZooKeeper JMX enabled by defaultUsing config: /usr/local/zookeeper/bin/../conf/zoo.cfgUsage: /usr/local/zookeeper/bin/zkServer.sh {start|start-foreground|stop|restart|status|upgrade|print-cmd}zkServer.sh statuszkServer.sh start-foregroundzkCli.sh -server localhost:2181 zookeeper&#x96C6;&#x7FA4;&#x6A21;&#x5F0F;12345678910111213141516171819cd /usr/local/zookeeper/confecho -e &quot;tickTime=2000initLimit=10syncLimit=5dataDir=/data/zookeeper/dataclientPort=2181server.1=172.17.8.32:2889:3889server.2=172.17.8.33:2889:3889server.3=172.17.8.34:2889:3889&quot; &gt; zoo.cfgcd /data/zookeeper/dataecho 1 &gt; myidecho 2 &gt; myidecho 3 &gt; myidchown zookeeper.zookeeper -R /data/zookeeper/chown zookeeper.zookeeper -R /data/logs/zookeeper/chown zookeeper.zookeeper -R /usr/local/zookeeper/ &#x67E5;&#x770B;&#x8282;&#x70B9;&#x72B6;&#x6001;1234567891011echo srvr | nc 127.0.0.1 2181 Zookeeper version: 3.4.12-e5259e437540f349646870ea94dc2658c4e44b3b, built on 03/27/2018 03:55 GMTLatency min/avg/max: 0/0/0Received: 1Sent: 0Connections: 1Outstanding: 0Zxid: 0x1c000000cfMode: leaderNode count: 3003 &#x6269;&#x5BB9;&#x65B0;&#x589E;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x76F4;&#x63A5;&#x589E;&#x52A0;&#x914D;&#x7F6E; 12345678910111213141516cd /usr/local/zookeeper/confecho -e &quot;tickTime=2000initLimit=10syncLimit=5dataDir=/data/zookeeper/dataclientPort=2181server.1=172.17.8.32:2889:3889server.2=172.17.8.33:2889:3889server.3=172.17.8.34:2889:3889server.4=172.17.8.35:2889:3889server.5=172.17.8.36:2889:3889&quot; &gt; zoo.cfgcd /data/zookeeper/dataecho 4 &gt; myidecho 5 &gt; myid &#x5148;&#x542F;&#x52A8;&#x65B0;&#x589E;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x4F9D;&#x6B21;&#x91CD;&#x542F;&#x6240;&#x6709;&#x8282;&#x70B9; 1zkServer.sh &#x67E5;&#x770B;&#x72B6;&#x6001; 12345echo srvr | nc 127.0.0.1 2181&#x8FD9;&#x79CD;&#x72B6;&#x6001;&#x662F;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x6CA1;&#x6709;&#x5168;&#x90E8;&#x91CD;&#x542F;&#x65F6;&#x90E8;&#x5206;&#x8282;&#x70B9;&#x8BFB;&#x53D6;&#x4E86;&#x65B0;&#x914D;&#x7F6E;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x4F9D;&#x6B21;&#x5168;&#x90E8;&#x91CD;&#x542F;&#x8282;&#x70B9;&#x5373;&#x53EF;# This ZooKeeper instance is not currently serving requests &#x6D4B;&#x8BD5;1234567#zk1zkCli.sh -server localhost:2181create /zktest &apos;test&apos;# zk4create /zktest]]></content>
      <categories>
        <category>zookeeper</category>
      </categories>
      <tags>
        <tag>zookeeper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[阿里云vpc迁移过程整理]]></title>
    <url>%2F2018%2F05%2F16%2Fvpc-build%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;vpc&#x8FC1;&#x79FB;&#x5DF2;&#x7ECF;&#x5DF2;&#x7ECF;&#x4E0D;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x4E86;&#xFF0C;&#x8FD9;&#x6B21;&#x7531;&#x4E8E;&#x662F;&#x5168;&#x7A0B;&#x4E00;&#x4E2A;&#x4EBA;&#x4E3B;&#x5BFC;&#x4E0E;&#x5EFA;&#x8BBE;&#xFF0C;&#x56E0;&#x6B64;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x8BB0;&#x5F55;&#x7684;&#x6BD4;&#x8F83;&#x8BE6;&#x7EC6;&#x3002;&#x4F46;&#x662F;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x6D89;&#x53CA;&#x5230;&#x654F;&#x611F;&#x4FE1;&#x606F;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x6B64;&#x6709;&#x4E9B;&#x7EC6;&#x8282;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x5C55;&#x793A; &#x8FC1;&#x79FB;&#x80CC;&#x666F;&#x4E91;&#x670D;&#x52A1;&#x662F;&#x76EE;&#x524D;&#x5F88;&#x591A;&#x521B;&#x4E1A;&#x516C;&#x53F8;&#x4EE5;&#x53CA;&#x4E2D;&#x5C0F;&#x516C;&#x53F8;&#x7684;&#x9996;&#x9009;&#x670D;&#x52A1;&#xFF0C;&#x5B83;&#x4E0E;&#x4F20;&#x7EDF;idc&#x76F8;&#x6BD4;&#x6709;&#x5F88;&#x591A;&#x4F18;&#x52BF;&#xFF0C;&#x800C;&#x5F88;&#x591A;&#x516C;&#x53F8;&#x521D;&#x671F;&#x5E76;&#x4E0D;&#x91CD;&#x89C6;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x7684;&#x7EC4;&#x5EFA;&#x4EE5;&#x53CA;&#x8FD0;&#x7EF4;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x901A;&#x5E38;&#x6765;&#x8BF4;&#x5728;&#x5F88;&#x957F;&#x7684;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x91CC;&#xFF0C;&#x90FD;&#x662F;&#x7531;&#x5F00;&#x53D1;&#x6765;&#x5EFA;&#x8BBE;&#x548C;&#x7BA1;&#x7406;&#xFF08;&#x6216;&#x8BB8;&#x4E2D;&#x95F4;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x521D;&#x7EA7;&#x8FD0;&#x7EF4;&#x7684;&#x53C2;&#x4E0E;&#xFF09;&#xFF0C;&#x76F4;&#x5230;&#x4E1A;&#x52A1;&#x4EE5;&#x53CA;&#x6280;&#x672F;&#x56E2;&#x961F;&#x8FBE;&#x5230;&#x4E00;&#x4E2A;&#x89C4;&#x6A21;&#x4E4B;&#x540E;&#xFF0C;&#x624D;&#x4F1A;&#x6709;&#x6709;&#x53EF;&#x80FD;&#x6210;&#x719F;&#x7684;&#x8FD0;&#x7EF4;&#x52A0;&#x5165;&#x8FDB;&#x6765;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x8FD0;&#x7EF4;&#x9762;&#x5BF9;&#x7684;&#x5219;&#x662F;&#x4E00;&#x5927;&#x5806;&#x70C2;&#x644A;&#x5B50;&#x3002; vpc&#x8FC1;&#x79FB;&#x4EC0;&#x4E48;&#x662F;vpc&#x8FC1;&#x79FB;&#x5462;&#xFF1F;&#x5728;&#x63CF;&#x8FF0;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E4B;&#x524D;&#x9996;&#x5148;&#x8981;&#x5148;&#x8981;&#x641E;&#x6E05;&#x695A;&#x4E0B;&#x9762;&#x8FD9;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x7ECF;&#x5178;&#x7F51;&#x7EDC; &#x4EC0;&#x4E48;&#x662F;vpc&#xFF08;&#x4E13;&#x6709;&#x7F51;&#x7EDC;&#xFF09; &#x4E0B;&#x9762;&#x662F;&#x5B98;&#x65B9;&#x7684;&#x89E3;&#x91CA; &#x7ECF;&#x5178;&#x7F51;&#x7EDC;&#xFF1A;IP&#x5730;&#x5740;&#x7531;&#x963F;&#x91CC;&#x4E91;&#x7EDF;&#x4E00;&#x5206;&#x914D;&#xFF0C;&#x914D;&#x7F6E;&#x7B80;&#x4FBF;&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x4FBF;&#xFF0C;&#x9002;&#x5408;&#x5BF9;&#x64CD;&#x4F5C;&#x6613;&#x7528;&#x6027;&#x8981;&#x6C42;&#x6BD4;&#x8F83;&#x9AD8;&#x3001;&#x9700;&#x8981;&#x5FEB;&#x901F;&#x4F7F;&#x7528; ECS &#x7684;&#x7528;&#x6237;&#x3002; &#x4E13;&#x6709;&#x7F51;&#x7EDC;&#xFF1A;&#x662F;&#x6307;&#x903B;&#x8F91;&#x9694;&#x79BB;&#x7684;&#x79C1;&#x6709;&#x7F51;&#x7EDC;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x548C; IP &#x5730;&#x5740;&#xFF0C;&#x652F;&#x6301;&#x901A;&#x8FC7;&#x4E13;&#x7EBF;&#x8FDE;&#x63A5;&#x3002;&#x9002;&#x5408;&#x4E8E;&#x719F;&#x6089;&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x7684;&#x7528;&#x6237; &#x770B;&#x5230;&#x8FD9;&#x91CC;&#x53EF;&#x80FD;&#x6709;&#x4EBA;&#x8FD8;&#x662F;&#x4F1A;&#x96BE;&#x4EE5;&#x7406;&#x89E3;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x63CF;&#x8FF0;&#x4E00;&#x4E0B;&#x3002; &#x7ECF;&#x5178;&#x7F51;&#x7EDC;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x9ED8;&#x8BA4;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x516C;&#x7F51;ip &#x7ECF;&#x5178;&#x7F51;&#x7EDC;&#x5C31;&#x50CF;&#x662F;&#x963F;&#x91CC;&#x4E91;&#x63D0;&#x4F9B;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x7684;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x79C1;&#x6709;&#x7F51;&#x7EDC; &#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x662F;&#x7531;&#x4F60;&#x81EA;&#x5DF1;&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x7684;&#x79C1;&#x6709;&#x7F51;&#x7EDC; &#x79C1;&#x6709;&#x7F51;&#x7EDC;&#x79C1;&#x6709;&#x7F51;&#x7EDC;&#x662F;&#x4F7F;&#x7528;&#x5728;&#x5185;&#x90E8;&#x7F51;&#x7EDC;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x65E0;&#x6CD5;&#x5B58;&#x5728;&#x4E8E;&#x516C;&#x7F51;&#x4E0A;&#xFF0C;ABCDE 5&#x7C7B;&#x7F51;&#x4E2D; A&#x7F51;&#x4E2D;&#x7684;&#x79C1;&#x6709;&#x5730;&#x5740;&#x8303;&#x56F4;&#x4E3A;10.0.0.0-10.255.255.255 B&#x7C7B;&#x7F51;&#x7684;&#x79C1;&#x6709;&#x5730;&#x5740;&#x8303;&#x56F4;&#x4E3A;127.0.0.0-127.255.255.255 172.16.0.0-172.31.255.255 C&#x7C7B;&#x7684;&#x4E3A;192.168.0.0-192.168.255.255 D&#x7C7B;&#x4E3A;&#x7EC4;&#x64AD;&#x5730;&#x5740; E&#x7C7B;&#x4E3A;&#x7814;&#x7A76;&#x5F00;&#x53D1;&#x9884;&#x7559;&#x5730;&#x5740; &#x90A3;&#x4E48;&#x4EC0;&#x4E48;&#x662F;vpc&#x8FC1;&#x79FB;&#x5462;&#xFF1F;vpc&#x8FC1;&#x79FB;&#x5C31;&#x662F;&#x628A;&#x670D;&#x52A1;&#x4ECE;&#x7ECF;&#x5178;&#x7F51;&#x7EDC;&#x8FC1;&#x79FB;&#x5230;&#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x3002; &#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x7684;&#x4F18;&#x52BF;&#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x6027;&#x9AD8;&#x3001;&#x914D;&#x7F6E;&#x7075;&#x6D3B;&#x3001;&#x652F;&#x6301;&#x591A;&#x79CD;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x3002; &#x5B89;&#x5168;&#x9694;&#x79BB; &#x4E0D;&#x540C;&#x7528;&#x6237;&#x7684;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x3002; &#x4E0D;&#x540C;&#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x4E4B;&#x95F4;&#x901A;&#x8FC7;&#x96A7;&#x9053;ID&#x8FDB;&#x884C;&#x9694;&#x79BB;&#x3002;&#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x5185;&#x90E8;&#x7531;&#x4E8E;&#x4EA4;&#x6362;&#x673A;&#x548C;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x50CF;&#x4F20;&#x7EDF;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x4E00;&#x6837;&#x5212;&#x5206;&#x5B50;&#x7F51;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x5B50;&#x7F51;&#x5185;&#x90E8;&#x7684;&#x4E0D;&#x540C;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x4EA4;&#x6362;&#x673A;&#x4E92;&#x8054;&#xFF0C;&#x4E0D;&#x540C;&#x5B50;&#x7F51;&#x95F4;&#x4F7F;&#x7528;&#x8DEF;&#x7531;&#x5668;&#x4E92;&#x8054;&#x3002; &#x4E0D;&#x540C;&#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x4E4B;&#x95F4;&#x5185;&#x90E8;&#x7F51;&#x7EDC;&#x5B8C;&#x5168;&#x9694;&#x79BB;&#xFF0C;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x5BF9;&#x5916;&#x6620;&#x5C04;&#x7684;IP&#xFF08;&#x5F39;&#x6027;&#x516C;&#x7F51;IP&#x548C;NAT IP&#xFF09;&#x4E92;&#x8054;&#x3002; &#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x96A7;&#x9053;&#x5C01;&#x88C5;&#x6280;&#x672F;&#x5BF9;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x62A5;&#x6587;&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#xFF0C;&#x6240;&#x4EE5;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x94FE;&#x8DEF;&#x5C42;&#xFF08;&#x4E8C;&#x5C42;MAC&#x5730;&#x5740;&#xFF09;&#x4FE1;&#x606F;&#x4E0D;&#x4F1A;&#x8FDB;&#x5165;&#x7269;&#x7406;&#x7F51;&#x7EDC;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x4E0D;&#x540C;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x95F4;&#x4E8C;&#x5C42;&#x7F51;&#x7EDC;&#x9694;&#x79BB;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;&#x4E0D;&#x540C;&#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x95F4;&#x4E8C;&#x5C42;&#x7F51;&#x7EDC;&#x9694;&#x79BB;&#x3002; &#x4E13;&#x6709;&#x7F51;&#x7EDC;&#x5185;&#x7684;ECS&#x4F7F;&#x7528;&#x5B89;&#x5168;&#x7EC4;&#x9632;&#x706B;&#x5899;&#x8FDB;&#x884C;&#x4E09;&#x5C42;&#x7F51;&#x7EDC;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x3002; &#x8BBF;&#x95EE;&#x63A7;&#x5236; &#x7075;&#x6D3B;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x89C4;&#x5219;&#x3002; &#x6EE1;&#x8DB3;&#x653F;&#x52A1;&#xFF0C;&#x91D1;&#x878D;&#x7684;&#x5B89;&#x5168;&#x9694;&#x79BB;&#x89C4;&#x8303;&#x3002; &#x8F6F;&#x4EF6;&#x5B9A;&#x4E49;&#x7F51;&#x7EDC; &#x6309;&#x9700;&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;&#xFF0C;&#x8F6F;&#x4EF6;&#x5B9A;&#x4E49;&#x7F51;&#x7EDC;&#x3002; &#x7BA1;&#x7406;&#x64CD;&#x4F5C;&#x5B9E;&#x65F6;&#x751F;&#x6548;&#x3002; &#x4E30;&#x5BCC;&#x7684;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F; &#x652F;&#x6301;&#x8F6F;&#x4EF6;VPN&#x3002; &#x652F;&#x6301;&#x4E13;&#x7EBF;&#x8FDE;&#x63A5;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;vpc&#x8FC1;&#x79FB;&#x5176;&#x5B9E;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#x4EBA;&#x95EE;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x4E48;&#x4EC0;&#x4E48;&#x4EBA;&#x4F1A;&#x95EE;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x5462;&#xFF1F; &#x8D22;&#x52A1; &#x4E00;&#x4E9B;&#x6280;&#x672F; others &#x5728;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B;&#x4E2D;&#x56E0;&#x4E3A;&#x540C;&#x4E00;&#x5957;&#x4E1A;&#x52A1;&#x7684;&#x673A;&#x5668;&#x4F1A;&#x540C;&#x65F6;&#x5B58;&#x5728;&#x4E24;&#x5957;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8FC1;&#x79FB;&#x5DE5;&#x7A0B;&#x4E2D;&#x52BF;&#x5FC5;&#x4F1A;&#x589E;&#x52A0;&#x516C;&#x53F8;&#x6210;&#x672C;&#xFF0C;&#x800C;&#x8FC1;&#x79FB;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x4E9B;&#x516C;&#x7528;&#x8D44;&#x6E90;&#x7684;&#x590D;&#x7528;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x4F1A;&#x7F29;&#x51CF;&#x4E00;&#x4E9B;&#x6210;&#x672C;&#x3002;&#x4F46;&#x7F29;&#x51CF;&#x7684;&#x6210;&#x672C;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x4E0D;&#x8BA1;&#x3002; &#x90A3;&#x4E48;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD8;&#x8981;&#x8FC1;&#x79FB;vpc&#x5462;&#xFF1F; &#x5B89;&#x5168; &#x81EA;&#x884C;&#x7BA1;&#x7406;&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x73AF;&#x5883; IP&#x9009;&#x62E9; &#x5B89;&#x5168;&#x533A;&#x57DF; &#x8DEF;&#x7531;&#x63A7;&#x5236; &#x6700;&#x4E3B;&#x8981;&#x7684;&#x4E00;&#x70B9;&#x8FD8;&#x662F;&#x5B89;&#x5168;&#x3002; vpc&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x79C1;&#x6709;&#x7F51;&#x7EDC;&#x7F51;&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x672C;&#x8EAB;&#x5177;&#x6709;&#x7F51;&#x7EDC;&#x9694;&#x79BB;&#x5C5E;&#x6027;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x5176;&#x4ED6;&#x4EBA;&#x662F;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x5230;&#x4F60;&#x7684;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x7684;&#xFF0C;&#x8FD9;&#x4E5F;&#x5C31;&#x907F;&#x514D;&#x4E86;&#x4E00;&#x4E9B;&#x88AB;&#x653B;&#x51FB;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002; &#x800C;&#x5B89;&#x5168;&#x6070;&#x6070;&#x662F;&#x5F88;&#x591A;&#x516C;&#x53F8;&#x6700;&#x6B20;&#x7F3A;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x4E5F;&#x662F;&#x8FD0;&#x7EF4;&#x6700;&#x5E94;&#x8BE5;&#x91CD;&#x89C6;&#x7684;&#x95EE;&#x9898;&#x3002; vpc&#x8FC1;&#x79FB;&#x9700;&#x8981;&#x7684;&#x4E00;&#x4E9B;&#x8BBE;&#x65BD;&#x4F46;&#x662F;&#x7531;&#x4E8E;vpc&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x914D;&#x7F6E;&#x6574;&#x4F53;&#x7684;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#xFF08;&#x6709;&#x963F;&#x91CC;&#x4E91;&#x7684;&#x540E;&#x53F0;&#x914D;&#x7F6E;&#x5B9E;&#x9645;&#x4E0A;&#x7B80;&#x5355;&#x4E86;&#x8BB8;&#x591A;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x5EFA;&#x8BBE;&#x8005;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E9B;&#x4E13;&#x4E1A;&#x80FD;&#x529B;&#x7684;&#x3002; &#x4EE5;&#x4E0B;&#x662F;&#x5EFA;&#x8BBE;vpc&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x7528;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x8BBE;&#x65BD; &#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A; vpc &#x8DEF;&#x7531;&#x5668; &#x8DEF;&#x7531;&#x8868; &#x4EA4;&#x6362;&#x673A; &#x9AD8;&#x901F;&#x901A;&#x9053; or vpn&#x96A7;&#x9053; &#xFF08;&#x591A;&#x4E2A;vpc&#x9700;&#x8981;&#x4E92;&#x8054;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF09; nat&#x7F51;&#x5173; or nat&#x673A;&#x5668; &#x591A;&#x4E2A;&#x5F39;&#x6027;ip &#x5E26;&#x5BBD;&#x5305; DNAT SNAT &#x5B89;&#x5168;&#x7EC4; &#x5821;&#x5792;&#x673A; openvpn &#x6A21;&#x677F;&#x673A; &#x5176;&#x4ED6;&#x8FD0;&#x7EF4;&#x57FA;&#x7840;&#x8BBE;&#x65BD; &#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x8FD9;&#x4E9B;&#x8BBE;&#x65BD; &#x591A;&#x4E2A;vpc&#x662F;&#x4E3A;&#x4E86;&#x5212;&#x5206;&#x4E0D;&#x540C;&#x4E1A;&#x52A1;&#x533A;&#x57DF; &#x591A;&#x4E2A;vpc&#x53EF;&#x901A;&#x8FC7;&#x9AD8;&#x901F;&#x901A;&#x9053;&#x8FDB;&#x884C;&#x4E92;&#x8054; &#x901A;&#x8FC7;&#x9AD8;&#x901F;&#x901A;&#x9053;&#x4E92;&#x8054;&#x7684;vpc&#x53EF;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x8BBF;&#x95EE;&#x9650;&#x5236; &#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;vpn&#x96A7;&#x9053; &#x8FDE;&#x63A5;&#x4E24;&#x4E2A;vpc&#x9700;&#x8981;&#x4E24;&#x4E2A;vpn&#x8282;&#x70B9; &#x5E26;&#x5BBD;&#x5927;&#x5C0F;&#x6709;&#x9650;&#x5236;&#xFF0C;&#x963F;&#x91CC;&#x4E91;&#x6700;&#x5927;&#x516C;&#x7F51;&#x5E26;&#x5BBD;200m &#x516C;&#x7F51;&#x94FE;&#x8DEF;&#x5DEE;&#x3001;&#x4E0D;&#x7A33;&#x5B9A; &#x9AD8;&#x901F;&#x901A;&#x9053;&#x540C;&#x533A;&#x57DF;&#x4E0D;&#x540C;vpc&#x4E92;&#x8054;&#x514D;&#x8D39; &#x9AD8;&#x901F;&#x901A;&#x9053;&#x540C;&#x533A;&#x57DF;&#x5E26;&#x5BBD;2G&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;vpc&#x5185;&#x7F51;&#x8BBF;&#x95EE; nat&#x7528;&#x4E8E;vpc&#x5185;&#x7684;&#x673A;&#x5668;&#x8BBF;&#x95EE;&#x516C;&#x7F51;&#x7684;&#x51FA;&#x53E3; nat&#x7F51;&#x5173;&#x4E5F;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x5C06;&#x5185;&#x7F51;&#x7684;&#x4E00;&#x4E9B;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x516C;&#x7F51; nat&#x7F51;&#x5173;&#x800C;&#x4E0D;&#x662F;nat&#x673A;&#x5668; nat&#x7F51;&#x5173;&#x7684;&#x53EF;&#x7528;&#x6027;&#x66F4;&#x9AD8; nat&#x7F51;&#x5173;&#x7684;SNAT&#x3001;DNAT&#x89C4;&#x5219;&#x53EF;&#x4EE5;&#x5728;&#x963F;&#x91CC;&#x4E91;&#x540E;&#x53F0;&#x914D;&#x7F6E;&#xFF0C;&#x7EF4;&#x62A4;&#x66F4;&#x8212;&#x670D; &#x53EF;&#x4EE5;&#x8BA9;&#x591A;&#x4E2A;&#x5F39;&#x6027;ip&#x5171;&#x4EAB;&#x5E26;&#x5BBD;&#x5305; &#x5821;&#x5792;&#x673A;&#x7684;&#x597D;&#x5904;&#x5176;&#x5B9E;&#x4E0D;&#x7528;&#x591A;&#x8BF4; &#x5F53;&#x7136;jumpserver&#xFF08;&#x867D;&#x7136;&#x6709;&#x5F88;&#x591A;bug&#xFF09; &#x7B80;&#x5355;&#x7684;&#x8D44;&#x4EA7;&#x76D8;&#x70B9;&#x548C;&#x6388;&#x6743; &#x5BA1;&#x8BA1; openvpn&#x7ED9;&#x5F00;&#x53D1;&#x7528;&#x7684; &#x5176;&#x5B9E;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x548C;&#x529E;&#x516C;&#x7F51;&#x96A7;&#x9053;&#x6253;&#x901A; &#x4E00;&#x4E9B;&#x5185;&#x7F51;&#x7684;&#x670D;&#x52A1;&#x7684;&#x8BBF;&#x95EE; &#x5185;&#x90E8;&#x7CFB;&#x7EDF;&#x63A5;&#x522B;&#x52A0;&#x516C;&#x7F51;&#x89E3;&#x6790;&#x4E86; &#x6A21;&#x677F;&#x673A;&#x7684;&#x597D;&#x5904;&#x61C2;&#x7684;&#x81EA;&#x7136;&#x61C2; &#x5176;&#x4ED6;&#x8BBE;&#x65BD;&#x90E8;&#x5206;&#x770B;&#x60C5;&#x51B5;&#x53EF;&#x9009; &#x81EA;&#x52A8;&#x5316;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF1A;ansible&#x3001;saltstack &#x76D1;&#x63A7;&#xFF1A;zabbix&#x3001;open-falcon &#x5185;&#x90E8;dns ldap&#x7EDF;&#x4E00;&#x8BA4;&#x8BC1; &#x4EE3;&#x7801;&#x5E93;&#xFF1A;gitlab&#x3001;svn &#x4EE3;&#x7801;&#x53D1;&#x5E03;&#xFF1A;jenkins&#x3001;&#x81EA;&#x884C;&#x5F00;&#x53D1; &#x65E5;&#x5FD7;&#x6536;&#x96C6;&#xFF1A;elk&#x3001;&#x963F;&#x91CC;&#x4E91;&#x65E5;&#x5FD7;&#x670D;&#x52A1; &#x5DE5;&#x5355;&#x5BA1;&#x6279;&#xFF1A;&#x9489;&#x9489; others vpc&#x8FC1;&#x79FB;&#x5BF9;&#x8FD0;&#x7EF4;&#x6765;&#x8BF4;&#x7684;&#x610F;&#x4E49;&#x8C08;&#x4E0D;&#x4E0A;&#x6709;&#x592A;&#x5927;&#x7684;&#x610F;&#x4E49;&#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x6280;&#x672F;&#x6C34;&#x5E73;&#x5E76;&#x4E0D;&#x9AD8;&#xFF0C;&#x90FD;&#x662F;&#x6BCF;&#x4E2A;&#x8FD0;&#x7EF4;&#x90FD;&#x5E94;&#x8BE5;&#x4F1A;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x53EA;&#x662F;&#x628A;&#x4E00;&#x5806;&#x4E1C;&#x897F;&#x7EC4;&#x7EC7;&#x5230;&#x4E00;&#x8D77;&#x3002;&#x4E0D;&#x8FC7;&#x80FD;&#x628A;&#x8FD9;&#x4E00;&#x5957;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x8D77;&#x6765;&#xFF0C;&#x81F3;&#x5C11;&#x4E5F;&#x7B97;&#x662F;&#x4E2D;&#x7EA7;&#x4EE5;&#x4E0A;&#x7684;&#x6C34;&#x5E73;&#x4E86;&#x3002; vpc&#x672C;&#x8EAB;&#x5BF9;&#x4E8E;&#x8FD0;&#x7EF4;&#x6765;&#x8BF4;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x610F;&#x4E49;&#x8FD8;&#x662F;&#x5B89;&#x5168;&#xFF0C;&#x989D; &#x3002;&#x3002;&#x3002;&#x7F16;&#x4E0D;&#x4E0B;&#x53BB;&#x4E86;&#xFF0C;&#x5148;&#x8FD9;&#x6837;&#x5427; &#x5728;vpc&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5176;&#x5B9E;&#x8FD8;&#x8981;&#x6CE8;&#x610F;&#x4E00;&#x4E0B;&#x51E0;&#x70B9; &#x7981;&#x6B62;&#x4E00;&#x5207;&#x516C;&#x7F51;ecs&#x3001;rds&#x7B49; &#x5C3D;&#x91CF;&#x51CF;&#x5C11;&#x5F39;&#x6027;ip&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x7528;nat&#x7F51;&#x5173;DNAT&#x4EE3;&#x66FF; &#x670D;&#x52A1;&#x5168;&#x90E8;&#x4F7F;&#x7528;slb&#x4EE3;&#x7406;&#x7AEF;&#x53E3; &#x6240;&#x6709;&#x670D;&#x52A1;&#x7ED1;&#x5B9A;&#x57DF;&#x540D;&#xFF0C;&#x7981;&#x6B62;&#x7ED1;&#x5B9A;ip&#x8BBF;&#x95EE; &#x7981;&#x6B62;&#x670D;&#x52A1;&#x5668;&#x8FDC;&#x7A0B;&#x5BC6;&#x7801;&#x767B;&#x5F55; &#x7981;&#x6B62;root&#x7528;&#x6237;&#x8FDC;&#x7A0B;&#x767B;&#x5F55; &#x6211;&#x89C9;&#x5F97;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x53EB;&#x505A;&#x624E;&#x53E3;&#x5B50;&#x3002; &#x5176;&#x5B9E;&#x6211;&#x89C9;&#x5F97;&#x5BF9;&#x8FD0;&#x7EF4;&#x6765;&#x8BF4;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5E94;&#x8BE5;&#x662F; &#x5F3A;&#x8FEB;&#x75C7; &#x5427;&#x3002; vpc&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x8BB0;&#x5F55; &#x521B;&#x5EFA;vpc&#x4EE5;&#x53CA;&#x4EA4;&#x6362;&#x673A;&#xFF08;172.16.0.0/12&#xFF09; BaseManager &#x8FD0;&#x7EF4;&#x57FA;&#x7840;&#x7BA1;&#x7406;&#x73AF;&#x5883;&#xFF08;172.16.1.0/21&#xFF09; manager:172.16.1.0/24:&#x5B50;&#x7F51;21&#x4F4D;&#x9884;&#x7559;&#xFF08;&#x534E;&#x5317;2e&#x533A;&#xFF09; TestDev &#x6D4B;&#x8BD5;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF08;172.16.8.0/21&#xFF09; Dev:172.16.8.0/24:&#x5B50;&#x7F51;22&#x4F4D;&#x9884;&#x7559;&#xFF08;&#x534E;&#x5317;2e&#x533A;&#xFF09; test_dev:172.16.9.0/24&#xFF08;&#x534E;&#x5317;2a&#x533A;&#xFF09; test_dev:172.16.10.0/24&#xFF08;&#x534E;&#x5317;2b&#x533A;&#xFF09; Test:172.16.12.0/24:&#x5B50;&#x7F51;22&#x4F4D;&#x9884;&#x7559;&#xFF08;&#x534E;&#x5317;2e&#x533A;&#xFF09; ProdGamma &#x7EBF;&#x4E0A;&#x751F;&#x4EA7;&#x73AF;&#x5883;(172.17.1.0/16) Gamma:172.17.1.0/24:&#x5B50;&#x7F51;22&#x4F4D;&#x9884;&#x7559;&#xFF08;&#x534E;&#x5317;2e&#x533A;&#xFF09; prod_gamma:172.17.2.0/24:&#x5B50;&#x7F51;22&#x4F4D;&#x9884;&#x7559;&#xFF08;&#x534E;&#x5317;2b&#x533A;&#xFF09; prod_gamma:172.17.3.0/24:&#x5B50;&#x7F51;22&#x4F4D;&#x9884;&#x7559;&#xFF08;&#x534E;&#x5317;2a&#x533A;&#xFF09; Prod:172.16.8.0/24:&#x5B50;&#x7F51;22&#x4F4D;&#x9884;&#x7559;&#xFF08;&#x534E;&#x5317;2e&#x533A;&#xFF09; &#x521B;&#x5EFA;nat&#x7F51;&#x5173; BaseManager &#x7ED1;&#x5B9A;&#x5F39;&#x6027;ip&#x5230;BaseManager TestDev &#x7ED1;&#x5B9A;&#x5F39;&#x6027;ip&#x5230;TestDev ProdGamma &#x7ED1;&#x5B9A;&#x5F39;&#x6027;ip&#x5230;ProdGamma &#x521B;&#x5EFA;vpc&#x4E92;&#x8054;&#x9AD8;&#x901F;&#x901A;&#x9053; BaseManager to TestDev BaseManager to ProdGamma &#x521B;&#x5EFA;&#x5B89;&#x5168;&#x7EC4; BaseManager TestDev ProdGamma &#x521B;&#x5EFA;&#x6A21;&#x677F;&#x673A; &#x6A21;&#x677F;&#x673A;&#x6784;&#x5EFA;&#x8BB0;&#x5F55; &#x7CFB;&#x7EDF; Centos7.4 &#x5347;&#x7EA7;kernel &#x5185;&#x6838;&#x7248;&#x672C; 3.10.0-693.21.1.el7.x86_64 yum update &#x5B89;&#x88C5;&#x57FA;&#x672C;&#x73AF;&#x5883;&#x5E93;&#xFF08;gcc cmake lib&#x7B49;&#xFF09; &#x4FEE;&#x6539;sshd&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;9555 &#x5173;&#x95ED;iptables &#x4FEE;&#x6539;history&#x8BB0;&#x5F55;&#xFF0C;&#x663E;&#x793A;&#x65F6;&#x95F4;&#x6233; &#x5F00;&#x542F;rc.local&#x8FD0;&#x884C; &#x9ED8;&#x8BA4;&#x670D;&#x52A1;&#x5B89;&#x88C5; nginx 1.13.10 java 8u77 pinpoint 1.6.0 mongo-client mysql-client python 3.6.5 &#x670D;&#x52A1;&#x90E8;&#x7F72;&#x89C4;&#x8303; &#x91CD;&#x8981;&#x670D;&#x52A1;&#x5168;&#x90E8;&#x4F7F;&#x7528;&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#xFF0C;&#x666E;&#x901A;&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5; &#x670D;&#x52A1;&#x5B9E;&#x9645;&#x76EE;&#x5F55;&#x5B89;&#x88C5;&#x5230;/usr/local/product&#xFF0C;&#x5E26;&#x7248;&#x672C;&#x53F7; &#x670D;&#x52A1;&#x8F6F;&#x94FE;&#x5230;/usr/local/&#x4E0B;&#xFF0C;&#x4E0D;&#x5E26;&#x7248;&#x672C;&#x53F7; &#x670D;&#x52A1;&#x65E5;&#x5FD7;&#x7EDF;&#x4E00;&#x5230;/data/logs/&#x670D;&#x52A1;&#x76EE;&#x5F55;&#x4E0B; &#x81EA;&#x5B9A;&#x4E49;&#x547D;&#x4EE4;&#x3001;&#x811A;&#x672C;&#x653E;&#x5230;/usr/local/sbin&#x4E0B; &#x4FEE;&#x6539;pinpoint&#x90E8;&#x7F72;&#x4F4D;&#x7F6E;&#xFF0C;&#x4FEE;&#x6539;pinpoint&#x65E5;&#x5FD7;&#x4F4D;&#x7F6E; crontab&#x6DFB;&#x52A0; MAILTO=&#x201D;&#x201D; &#x53BB;&#x9664;&#x9ED8;&#x8BA4;&#x7684;&#x90AE;&#x4EF6;&#x53D1;&#x9001; python pip&#x6E90; &#x9ED8;&#x8BA4;&#x6A21;&#x5757; &#x5B89;&#x88C5;supervisord&#xFF0C;&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E; &#x5B89;&#x88C5;&#x963F;&#x91CC;&#x4E91;&#x65E5;&#x5FD7;&#x670D;&#x52A1;Logtail&#xFF0C;&#x672A;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F; &#x7531;&#x4E8E;&#x6240;&#x6709;&#x673A;&#x5668;&#x9700;&#x8981;&#x4F7F;&#x7528;jumpserver&#x5821;&#x5792;&#x673A;&#x767B;&#x5F55;&#xFF0C;&#x56E0;&#x6B64;&#x65E0;&#x9700;&#x5F00;&#x542F;rsyslog&#x65E5;&#x5FD7;&#x5BA1;&#x8BA1; &#x6CE8;&#x91CA;sudoers&#x4E2D;tty&#x914D;&#x7F6E; nginx&#x6DFB;&#x52A0;80&#x7AEF;&#x53E3;&#x9ED8;&#x8BA4;&#x5065;&#x5EB7;&#x68C0;&#x67E5;&#x865A;&#x62DF;&#x4E3B;&#x673A; &#x6DFB;&#x52A0;jumpserver&#x9ED8;&#x8BA4;&#x7528;&#x6237; jumproot jumpread&#xFF0C;&#x6DFB;&#x52A0;&#x5230;services&#x7EC4; &#x6574;&#x5408; zabbix-agent &#x5B89;&#x88C5;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x5DE5;&#x5177; yum install -y fping nmap iperf iftop iotop ifstat iptraf tuned&#x4F18;&#x5316;profile &#x5173;&#x95ED;NetworkManager &#x5F00;&#x542F;&#x4E86;dns&#x7F13;&#x5B58;&#x670D;&#x52A1;&#xFF08;nscd&#xFF09; &#x6DFB;&#x52A0;&#x6E05;&#x7406;&#x65E5;&#x5FD7;&#x811A;&#x672C; clear_log /data/logs//.log &#x4FDD;&#x7559;7&#x5929; &#x624B;&#x52A8;&#x6267;&#x884C; &#x6574;&#x5408;&#x4E86;nas&#x76D8;&#x6302;&#x8F7D;&#xFF0C;&#x624B;&#x52A8;&#x6267;&#x884C;&#xFF08;&#x963F;&#x91CC;&#x4E91;&#x6587;&#x4EF6;&#x5B58;&#x50A8;nas&#x670D;&#x52A1;&#xFF09; nas&#x5B58;&#x50A8;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6302;&#x8F7D;&#x70B9;&#x624D;&#x80FD;&#x4F7F;&#x7528; &#x6302;&#x8F7D;&#x70B9;&#x7ED1;&#x5B9A;vpc&#x4E0B;&#x7684;&#x4EA4;&#x6362;&#x673A; nas&#x5B58;&#x50A8;&#x76EE;&#x524D;&#x53EA;&#x652F;&#x6301;&#x540C;&#x65F6;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x6302;&#x8F7D;&#x70B9; &#x9ED8;&#x8BA4;&#x7ED1;&#x5B9A;&#x5728;BaseManager&#x4E0B;172.16.1.0/24&#x4EA4;&#x6362;&#x673A;&#x4E0A; &#x6709;&#x5176;&#x4ED6;&#x533A;&#x57DF;&#x9700;&#x8981;&#x53EF;&#x4E34;&#x65F6;&#x8BBE;&#x7F6E;&#x6302;&#x8F7D;&#x70B9; ansible&#x673A;&#x5668;&#x914D;&#x7F6E;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;&#xFF0C;&#x6BCF;&#x5929;&#x51CC;&#x6668;4&#x70B9;umount&#x6240;&#x6709;&#x673A;&#x5668;&#x7684;&#x6302;&#x8F7D;&#x4EE5;&#x514D;&#x9020;&#x6210;&#x6027;&#x80FD;&#x635F;&#x5931; &#x5347;&#x7EA7;openssl&#x3001;openssl-devel &#x4F7F;&#x7528;trash-cli&#x91CD;&#x65B0;&#x5B9A;&#x4E49;rm&#x547D;&#x4EE4;&#xFF0C;&#x9632;&#x6B62;&#x8BEF;&#x5220;&#xFF0C;&#x6E05;&#x7406;&#x56DE;&#x6536;&#x7AD9;&#x7B49; rm! &#x7CFB;&#x7EDF;&#x539F;rm&#x547D;&#x4EE4; rm | RM | r &#x6587;&#x4EF6;&#x79FB;&#x81F3;&#x56DE;&#x6536;&#x7AD9; rl &#x5217;&#x51FA;&#x56DE;&#x6536;&#x7AD9;&#x6587;&#x4EF6; ul &#x6062;&#x590D;&#x5220;&#x9664;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x76EE;&#x524D;&#x53EA;&#x80FD;&#x5355;&#x4E2A;&#x6062;&#x590D; cleartrash days &#x6E05;&#x7406; days &#x4E4B;&#x524D;&#x7684;&#x56DE;&#x6536;&#x7AD9;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x52A0;&#x65F6;&#x95F4;&#x5168;&#x90E8;&#x6E05;&#x9664; &#x66F4;&#x65B0;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B89;&#x88C5;redis&#x5BA2;&#x6237;&#x7AEF;&#x3001;&#x66F4;&#x65B0;&#x5185;&#x6838;&#x7248;&#x672C; &#x66F4;&#x65B0;&#x521D;&#x59CB;&#x5316;&#x914D;&#x7F6E;&#x4E0D;&#x540C;&#x73AF;&#x5883;pinpoint&#x7684;ip&#x914D;&#x7F6E; root&#x5BC6;&#x7801;&#x8BBE;&#x7F6E; root&#x7528;&#x6237;&#x6DFB;&#x52A0;ansible&#x7BA1;&#x7406;&#x5BC6;&#x94A5; &#x7981;&#x6B62;root&#x8FDC;&#x7A0B;&#x767B;&#x5F55; services &#x521B;&#x5EFA;&#x670D;&#x52A1;&#x8FD0;&#x884C;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x7528;&#x6237;&#x7EC4; services&#x6DFB;&#x52A0;&#x53D1;&#x5E03;&#x7BA1;&#x7406;key 12root@pts/0 $id servicesuid=1000(services) gid=1000(services) groups=1000(services) devops &#x521B;&#x5EFA;&#x8FD0;&#x7EF4;&#x7BA1;&#x7406;&#x8D26;&#x53F7; devops&#x7528;&#x6237;&#x6DFB;&#x52A0;key&#x4E0E;root&#x7528;&#x6237;&#x4E00;&#x81F4; 12345root@pts/0 $id devopsuid=1001(devops) gid=1001(devops) groups=1001(devops),10(wheel)root@pts/0 $grep wheel /etc/sudoers%wheel ALL=(ALL) NOPASSWD: ALL bashrc12345678910111213141516171819# Moss bashrc - STARTalias vi=&apos;vim&apos;alias grep=&apos;grep --color&apos;alias dstat=&apos;dstat -cdlmnpsy&apos;alias d=&apos;dirs -v | head -10&apos;alias l=&apos;ls -lah --color&apos;alias la=&apos;ls -lAh --color&apos;alias ll=&apos;ls -lh --color&apos;alias ls=&apos;ls --color&apos;alias lsa=&apos;ls -lah --color&apos;alias rm!=&apos;/bin/rm -vi&apos;alias rm=trash-putalias RM=trash-putalias r=trash-putalias rl=trash-listalias ur=trash-restorealias cleartrash=trash-emptyexport PROMPT_COMMAND=&apos;RETRN_VAL=$?;logger -p authpriv.debug &quot;$(who -u am i): $(history 1 | sed &quot;s/^[ ]*[0-9]+[ ]*//&quot; ) [$PWD][$RETRN_VAL]&quot;&apos;# Moss bashrc - END vimrc12345678910111213&quot; Moss vimrc - STARTsyntax onset background=darkset showcmdset nobackupset ts=4set tabstop=4set shiftwidth=4set softtabstop=4set pasteset laststatus=2set statusline=%F%m%r%h%w\ [FORMAT=%{&amp;ff}]\ [TYPE=%Y]\ [POS=%l/%L,%v][%p%%]&quot; Moss vimrc - END profile.d12345# historyexport HISTTIMEFORMAT=&apos;%Y-%m-%d %H:%M:%S | &apos;export HISTSIZE=50000# pathexport PATH=&quot;/bin:/usr/bin:/sbin:/usr/sbin:/usr/local/bin:/usr/local/sbin:/usr/local/nginx/sbin:/usr/local/python/bin&quot; tcp&#x3001;&#x5185;&#x6838;&#x53C2;&#x6570;&#x4F18;&#x5316;1234567891011121314151617181920212223242526272829# Moss sysctl - STARTnet.ipv4.ip_forward = 0net.ipv4.conf.default.accept_source_route = 0kernel.core_uses_pid = 1kernel.msgmnb = 65536kernel.msgmax = 65536net.ipv4.tcp_timestamps = 1net.core.somaxconn = 4096net.core.rmem_default = 262144net.core.wmem_default = 262144net.core.rmem_max = 16777216net.core.wmem_max = 16777216net.ipv4.tcp_rmem = 4096 4096 16777216net.ipv4.tcp_wmem = 4096 4096 16777216net.ipv4.tcp_mem = 786432 2097152 3145728net.ipv4.tcp_max_syn_backlog = 16384net.core.netdev_max_backlog = 20000net.ipv4.tcp_fin_timeout = 10net.ipv4.tcp_tw_reuse = 1net.ipv4.tcp_tw_recycle = 0#net.netfilter.nf_conntrack_tcp_timeout_established = 1200#net.netfilter.nf_conntrack_max = 1048576net.ipv4.tcp_max_tw_buckets = 180000net.ipv4.ip_local_port_range = 1024 65535vm.swappiness = 0vm.dirty_ratio = 20vm.dirty_background_ratio = 10vm.overcommit_memory = 1# Moss sysctl - END &#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x53E5;&#x67C4;&#x9650;&#x5236;1234root soft nofile 65535root hard nofile 65535* soft nofile 65535* hard nofile 65535 &#x4FEE;&#x6539;PS1&#x8FD9;&#x6BB5;&#x6682;&#x65F6;&#x4E0D;&#x8981;&#x4E86; rc.local1234/usr/lib/systemd/system/rc-local.service/etc/rc.d/rc.localsystemctl enable rc-localsystemctl start rc-local java &#x7248;&#x672C;&#xFF1A;8u77 /usr/java/jdk1.8.0_77/jre/lib/security&#x4E0B;&#x9762;&#x4E24;&#x4E2A;jar&#x5305;&#x66FF;&#x6362; java.security&#x4E2D;random&#x6539;&#x6210;urandom &#x5F85;&#x786E;&#x8BA4; 1234export JAVA_HOME=&quot;/usr/local/jdk8&quot;export JRE_HOME=&quot;$JAVA_HOME/jre&quot;export PATH=&quot;$PATH:$JAVA_HOME/bin&quot;export CLASSPATH=./:$JAVA_HOME/lib:$JRE_HOME/lib &#x91CD;&#x65B0;&#x5B9A;&#x4E49;rm&#x547D;&#x4EE4; &#x4F7F;&#x7528;trash-cli&#x91CD;&#x65B0;&#x5B9A;&#x4E49;rm &#x5B98;&#x65B9;&#x6587;&#x6863;&#x6682;&#x65F6;&#x4E0D;&#x5EFA;&#x8BAE;&#x8FD9;&#x4E48;&#x505A; 12345trash-put &#x5C06;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x79FB;&#x5165;&#x56DE;&#x6536;&#x7AD9; trash-empty &#x6E05;&#x7A7A;&#x56DE;&#x6536;&#x7AD9; trash-list &#x5217;&#x51FA;&#x56DE;&#x6536;&#x7AD9;&#x4E2D;&#x7684;&#x6587;&#x4EF6; restore-trash &#x8FD8;&#x539F;&#x56DE;&#x6536;&#x7AD9;&#x4E2D;&#x7684;&#x6587;&#x4EF6; trash-rm &#x5220;&#x9664;&#x56DE;&#x6536;&#x7AD9;&#x4E2D;&#x7684;&#x5355;&#x4E2A;&#x6587;&#x4EF6; 1234567alias rm!=&apos;/bin/rm -vi&apos;alias rm=trash-putalias RM=trash-putalias r=trash-putalias rl=trash-listalias ur=trash-restorealias cleartrash=trash-empty &#x4EE5;&#x4E0B;&#x5E9F;&#x5F03; &#x6DFB;&#x52A0;&#x56DE;&#x6536;&#x7AD9; &#x9632;&#x6B62;&#x8BEF;&#x5220; &#x6E05;&#x7406;&#x56DE;&#x6536;&#x7AD9;&#x529F;&#x80FD; 123456789101112131415161718192021222324TRASH=&quot;/data/.trash&quot;mkdir -p /data/.trash alias rm!=&apos;/bin/rm -vi&apos;alias rm=trashalias r=trashalias RM=trashalias rl=&apos;ls -l /data/.trash&apos;alias ur=undelfile undelfile(){ mv -i /data/.trash/$@ ./}trash(){ mv $@ /data/.trash/}cleartrash(){ read -p &quot;clear sure?[n]&quot; confirm [ $confirm == &apos;y&apos; ] || [ $confirm == &apos;Y&apos; ] &amp;&amp; /usr/bin/rm -rf /data/.trash/*} &#x7CFB;&#x7EDF;&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C; &#x8DEF;&#x5F84;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778### system* &#x7B2C;&#x4E00;&#x6B21;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x8FD0;&#x884C;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x4E3B;&#x673A;&#x540D;* &#x518D;&#x6B21;&#x5F00;&#x673A;&#x4E0D;&#x4F1A;&#x91CD;&#x590D;&#x8FD0;&#x884C;* &#x53EF;&#x65E0;&#x9650;&#x6B21;&#x624B;&#x52A8;&#x8FD0;&#x884C;&#xFF0C;&#x7B2C;&#x4E00;&#x4F20;&#x53C2;&#x4E3A;hostname&#x6700;&#x540E;&#x4E00;&#x6BB5;&#x4E1A;&#x52A1;&#x540D;* &#x963F;&#x91CC;&#x4E91;&#x81EA;&#x52A8;&#x8BBE;&#x7F6E;&#x4E3B;&#x673A;&#x540D;&#x8C8C;&#x4F3C;&#x4F1A;&#x5728;rc.local&#x4E4B;&#x540E;&#x8FD0;&#x884C;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5F00;&#x673A;&#x540E;&#x624B;&#x52A8;&#x4F20;&#x53C2;&#x8FD0;&#x884C;&#x4E00;&#x6B21;``` bashcat init_system#!/bin/bash# comment: system init scripts ## date: 2018-05-03if [ ! -z $1 ]; then project=&quot;.$1&quot;else [ -f /hostname ] &amp;&amp; exitfiexist=$(ifconfig | grep -c eth1)if [ $exist -eq 1 ]; then localip=$(ifconfig eth1 | awk &apos;/inet/{print $2}&apos;) types=&quot;class&quot;else localip=$(ifconfig eth0 | awk &apos;/inet/{print $2}&apos;) env=$(echo ${localip} | awk -F&apos;.&apos; &apos;{print $2}&apos;) subnet=$(echo ${localip} | awk -F&apos;.&apos; &apos;{print $3}&apos;) types=&quot;vpc&quot; case $env in &quot;16&quot;) case $subnet in &quot;1&quot;|&quot;2&quot;|&quot;3&quot;|&quot;4&quot;|&quot;5&quot;|&quot;6&quot;|&quot;7&quot;) region=&quot;manager&quot; ;; &quot;8&quot;|&quot;9&quot;|&quot;10&quot;|&quot;11&quot;) region=&quot;dev&quot; ;; &quot;12&quot;|&quot;13&quot;|&quot;14&quot;|&quot;15&quot;) region=&quot;test&quot; ;; *) region=&quot;other&quot; ;; esac ;; &quot;17&quot;) case $subnet in &quot;1&quot;|&quot;2&quot;|&quot;3&quot;|&quot;4&quot;|&quot;5&quot;|&quot;6&quot;|&quot;7&quot;) region=&quot;gamma&quot; ;; &quot;8&quot;|&quot;9&quot;|&quot;10&quot;|&quot;11&quot;|&quot;12&quot;|&quot;13&quot;|&quot;14&quot;|&quot;15&quot;) region=&quot;prod&quot; ;; *) region=&quot;other&quot; ;; esac ;; *) region=&quot;other&quot; ;; esacficiHostname=&quot;ecs.ali-bj-${types}.${region}.$localip$project&quot;hostname ${ciHostname}echo ${ciHostname} | tee /etc/hostname /hostnamesed -i &quot;/127.0.0.1/s/ ecs.*$//&quot; /etc/hostssed -i &quot;/ecs.*/d&quot; /etc/hostsflag=$(grep &quot;^${localip} ${ciHostname}&quot; /etc/hosts | wc -l)if [ ${flag} -eq 0 ]; then echo ${localip} ${ciHostname} &gt;&gt; /etc/hostsfilocalflag=$(grep &quot;127.0.0.1&quot; /etc/hosts | grep ${ciHostname} | wc -l)if [ ${localflag} -eq 0 ]; then sed -i &quot;/127.0.0.1/s/$/ ${ciHostname}/&quot; /etc/hostsfi disk db &#x5F00;&#x673A;&#x540E;&#x9700;&#x8981;&#x624B;&#x52A8;&#x6267;&#x884C; &#x9ED8;&#x8BA4;&#x521D;&#x59CB;&#x5316;*db&#x78C1;&#x76D8;&#x6302;&#x8F7D;&#x5230;/data&#x76EE;&#x5F55; &#x521D;&#x59CB;&#x5316;/data&#x4E0B;&#x76EE;&#x5F55;&#x4EE5;&#x53CA;&#x6743;&#x9650; 123456789101112131415161718192021222324252627282930313233cat init_disk#!/bin/bash# comment: *db disk init scripts ## date: 2018-05-07partition=$(fdisk -l |grep db | grep Disk | grep dev | tail -n 1 | awk &apos;{print $2}&apos; | sed -e s/://g)echo ${partition}if [ ! -z ${partition} ]; then fdisk $partition &lt;&lt;EOFnp1wEOF mkfs.ext4 $partition&apos;1&apos; echo &quot;$partition&quot;&quot;1 /data ext4 defaults 0 0&quot; &gt;&gt; /etc/fstab mount -a df -helse echo &quot;not found disk *db!&quot; exitfimkdir -p /data/home/{install,services,shell,tmp}mkdir -p /data/logs/{nginx,pinpoint,supervisor,zabbix}mkdir -p /data/{web,backup}chown services.services -R /data/home/echo &quot;ok&quot; &gt; /data/web/index.htmlchown www.www -R /data/web/chown www.www -R /data/logs/nginx clear_log &#x624B;&#x52A8;&#x6267;&#x884C;&#x6E05;&#x9664;123456789``` bash#!/bin/bash# comment: clear log scripts ## date: 2018-05-14logDir=&quot;/data/logs&quot;find ${logDir} -name &quot;*.log&quot; -type f -mtime +7 | xargs rm -f logrotate &#x65B0;&#x589E;/usr/local/logrotate/*&#xFF0C;&#x7528;&#x4E8E;&#x4E00;&#x4E9B;&#x670D;&#x52A1;&#x7684;&#x65E5;&#x5FD7;&#x5207;&#x5272; &#x65B0;&#x589E;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x542F;&#x7528; 1234567891011121314151617181920212223242526272829303132333435cat nginx/data/logs/nginx/*.log { daily rotate 30 ifempty #compress dateext dateformat -%Y%m%d missingok nomail noolddir sharedscripts prerotate systemctl reload nginx endscript postrotate systemctl reload nginx YESTERDAY=$(/bin/date --date &apos;1 days ago&apos; +&apos;%Y%m%d&apos;) cd /data/logs/nginx/ LOG_FILE=$(ls -1 *.log-* | grep -v .tar.gz) for I in ${LOG_FILE};do LOG_FILE_NAME=$(echo ${I} | awk -F &apos;.log-&apos; &apos;{print $1}&apos;) LOG_FULL_NAME=${LOG_FILE_NAME}.log-${YESTERDAY} mv ${I} ${LOG_FULL_NAME} /bin/tar czf ${LOG_FULL_NAME}.tar.gz ${LOG_FULL_NAME} rm -f ${LOG_FULL_NAME} done /bin/find /data/logs/nginx/ -mtime +30 | xargs rm -rf endscript} &#x96C6;&#x6210;nas&#x6302;&#x8F7D; &#x5B89;&#x88C5;&#x4F9D;&#x8D56; CentOS&#xFF1A;sudo yum install nfs-utils Ubuntu &#x6216; Debian&#xFF1A;sudo apt-get install nfs-common &#x6302;&#x8F7D;&#x4EE5;&#x53CA;&#x5378;&#x8F7D;&#x811A;&#x672C; nas unas 1234567891011121314151617181920212223242526cat nas#!/bin/bash# comment: mount nas scripts ## date: 2018-05-14[ ! -d &quot;/data/nas&quot; ] &amp;&amp; mkdir -p /data/nasflag=$(df -h | grep &quot;data/nas&quot; | wc -l)if [ ${flag} -eq 0 ]; then mount -t nfs -o vers=3,nolock,proto=tcp 18df2499ac-fjs14.cn-beijing.nas.aliyuncs.com:/ /data/nas/else echo &quot;nas already mounted!&quot;ficat unas#!/bin/bash# comment: umount nas scripts ## date: 2018-05-14flag=$(df -h | grep &quot;data/nas&quot; | wc -l)if [ ${flag} -eq 0 ]; then echo &quot;nas already unmounted!&quot;else umount /data/nasfi nginx&#x914D;&#x7F6E;12345678server { listen 80 default; server_name _; location / { alias /data/web/; index index.html; }} &#x6A21;&#x677F;&#x673A;&#x76EE;&#x524D;&#x81EA;&#x542F;&#x8FDB;&#x7A0B;&#x89E3;&#x6790;12345678910111213141516171819202122systemd&#x2500;&#x252C;&#x2500;AliYunDun&#x2500;&#x2500;&#x2500;15*[{AliYunDun}] # &#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x8FDB;&#x7A0B; &#x251C;&#x2500;AliYunDunUpdate&#x2500;&#x2500;&#x2500;3*[{AliYunDunUpdate}] # &#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x8FDB;&#x7A0B; &#x251C;&#x2500;2*[agetty] # &#x7EC8;&#x7AEF;tty &#x251C;&#x2500;aliyun-service&#x2500;&#x2500;&#x2500;6*[{aliyun-service}] # &#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x8FDB;&#x7A0B; &#x251C;&#x2500;atd # &#x8BA1;&#x5212;&#x4EFB;&#x52A1;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B; &#x251C;&#x2500;auditd&#x2500;&#x2500;&#x2500;{auditd} # linux&#x5B89;&#x5168;&#x5BA1;&#x8BA1;&#x5DE5;&#x5177; &#x251C;&#x2500;chronyd # centos7&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1; &#x251C;&#x2500;crond # &#x8BA1;&#x5212;&#x4EFB;&#x52A1; &#x251C;&#x2500;dbus-daemon # D-Bus&#x7684;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;IP&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x8DEF;&#x7531;&#x5668; &#x251C;&#x2500;dhclient # &#x81EA;&#x52A8;&#x83B7;&#x53D6;ip &#x251C;&#x2500;nscd&#x2500;&#x2500;&#x2500;16*[{nscd}] # &#x7F13;&#x5B58;&#x670D;&#x52A1; &#x251C;&#x2500;polkitd&#x2500;&#x2500;&#x2500;5*[{polkitd}] &#x251C;&#x2500;rsyslogd&#x2500;&#x2500;&#x2500;2*[{rsyslogd}] # &#x65E5;&#x5FD7; &#x251C;&#x2500;sshd&#x2500;&#x252C;&#x2500;sshd&#x2500;&#x2500;&#x2500;sshd # sshd &#x2502; &#x2514;&#x2500;sshd&#x2500;&#x2500;&#x2500;sshd&#x2500;&#x2500;&#x2500;bash&#x2500;&#x2500;&#x2500;sudo&#x2500;&#x2500;&#x2500;su&#x2500;&#x2500;&#x2500;bash&#x2500;&#x2500;&#x2500;pstree &#x251C;&#x2500;systemd-journal # systemd&#x65E5;&#x5FD7;&#x670D;&#x52A1; &#x251C;&#x2500;systemd-logind # systemd &#x7684;cgroup&#x7BA1;&#x7406;&#x5BF9;&#x8C61; &#x251C;&#x2500;systemd-udevd # &#x76D1;&#x542C;&#x5185;&#x6838;&#x53D1;&#x51FA;&#x7684;&#x8BBE;&#x5907;&#x4E8B;&#x4EF6;&#xFF0C;&#x5E76;&#x6839;&#x636E;udev&#x89C4;&#x5219;&#x5904;&#x7406;&#x6BCF;&#x4E2A;&#x4E8B;&#x4EF6; &#x251C;&#x2500;tuned&#x2500;&#x2500;&#x2500;4*[{tuned}] # profile&#x4F18;&#x5316; &#x251C;&#x2500;wrapper&#x2500;&#x252C;&#x2500;java&#x2500;&#x2500;&#x2500;14*[{java}] # &#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x8FDB;&#x7A0B; &#x2502; &#x2514;&#x2500;{wrapper} &#x2514;&#x2500;zabbix_agentd&#x2500;&#x2500;&#x2500;7*[zabbix_agentd] # zabbix-agent Ansible ansible jumpserver nginx-proxy 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354cat ansible.cfg[defaults]inventory = /etc/ansible/hostsremote_tmp = $HOME/.ansible/tmproles_path = /data/ansible/roles:/etc/ansible/rolestransport = smartgathering = smartfact_caching_timeout = 30require_sudo = Falsemodule_name = shellprivate_key_file = /root/.ssh/id_rsaansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}#action_plugins = /data/ansible/ansible_plugins/action_plugins#connection_plugins = /data/ansible/ansible_plugins/connection_plugins#lookup_plugins = /data/ansible/ansible_plugins/lookup_plugins#vars_plugins = /data/ansible/ansible_plugins/vars_plugins#filter_plugins = /data/ansible/ansible_plugins/filter_pluginsnocolor = 0fact_caching = memoryhost_key_checking = Falsetimeout = 10pattern = *forks = 20poll_interval = 15remote_user = devopsremote_port = 9555log_path = /data/logs/ansible/ansible.log[inventory][privilege_escalation]become=Truebecome_exe=sudobecome_method=sudobecome_user=rootbecome_ask_pass=False[paramiko_connection]record_host_keys=False[ssh_connection]pipelining = True[persistent_connection][accelerate]accelerate_port = 5099accelerate_timeout = 30accelerate_connect_timeout = 5.0accelerate_daemon_timeout = 30#accelerate_multi_key = yes[selinux][colors][diff] &#x670D;&#x52A1;supervisor&#x914D;&#x7F6E;12345678910111213141516171819202122232425262728293031323334[program:jumpcoco]environment=LANG=&quot;en_US.utf8&quot;, LC_ALL=&quot;en_US.UTF-8&quot;, LC_LANG=&quot;en_US.UTF-8&quot;directory = /usr/local/coco/command = bash /usr/local/sbin/cocouser = rootautostart = trueautorestart = truestopsignal=QUITstopwaitsecs=10stopasgroup=truekillasgroup=truestdout_logfile = /data/logs/supervisor/coco.logstderr_logfile = /data/logs/supervisor/coco_err.log[program:jumpserver]environment=LANG=&quot;en_US.utf8&quot;, LC_ALL=&quot;en_US.UTF-8&quot;, LC_LANG=&quot;en_US.UTF-8&quot;directory = /usr/local/jumpserver/command = bash /usr/local/sbin/jumpserveruser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/jumpserver.logstderr_logfile = /data/logs/supervisor/jumpserver_err.log[program:jenkins]environment=LANG=&quot;en_US.utf8&quot;, LC_ALL=&quot;en_US.UTF-8&quot;, LC_LANG=&quot;en_US.UTF-8&quot;, JENKINS_HOME=&quot;/data/jenkins/home&quot;, JAVA_HOME=&quot;/usr/local/jdk8&quot;, JRE_HOME=&quot;/usr/local/jdk8/jre&quot;, PATH=&apos;$PATH:/usr/local/maven/bin:/usr/local/jdk8/bin&apos;, CLASSPATH=&quot;./:/usr/local/jdk8/lib:/usr/local/jdk8/jre/lib&quot;directory = /data/jenkins/war/command = /usr/local/jdk8/bin/java -jar jenkins.waruser = jenkinsautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/jenkins.logstderr_logfile = /data/logs/supervisor/jenkins_err.log &#x8FC1;&#x79FB;&#x8FDB;&#x5C55; &#x8FD0;&#x7EF4;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5668; ansible playbook zabbix-agent&#x5B89;&#x88C5; &#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x66F4;&#x65B0; jumpserver nginx-proxy &#x7EDF;&#x4E00;nginx&#x4EE3;&#x7406; zabbix &#x642D;&#x5EFA;&#x5B8C;&#x6210; zabbix.devops.kaishustory.com admin/Kaishu2099= agent&#x90E8;&#x7F72;&#x5B8C;&#x6210; grafana&#x5B89;&#x88C5; grafana.devops.kaishustory.com http://play.grafana-zabbix.org/d/000000003/grafana-zabbix-demo? grafana123grafana-cli plugins list-remotegrafana-cli plugins install alexanderzobnin-zabbix-appgrafana-cli plugins install grafana-clock-panel &#x4F7F;&#x7528;&#x6A21;&#x677F;&#x955C;&#x50CF;&#x5F00;&#x673A;&#x6D41;&#x7A0B; &#x6A21;&#x677F;&#x673A;&#x955C;&#x50CF;&#x547D;&#x540D;&#x89C4;&#x5219;&#xFF1A;ks-template-%Y%m%d &#x5982;&#xFF1A; ks-template-20180515 &#x963F;&#x91CC;&#x4E91;vpc&#x5F00;&#x673A;&#x4F1A;&#x81EA;&#x52A8;&#x968F;&#x673A;&#x751F;&#x6210;vpc&#x4EA4;&#x6362;&#x673A;&#x7F51;&#x6BB5;&#x5185;ip &#x5982;&#x9700;&#x4FEE;&#x6539;&#x5230;&#x6307;&#x5B9A;ip&#x7684;&#x6D41;&#x7A0B; &#x5728;&#x963F;&#x91CC;&#x4E91;&#x540E;&#x53F0;&#x505C;&#x6B62;&#x4E3B;&#x673A; &#x505C;&#x6B62;&#x540E;&#x4ECE;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x7684;&#x66F4;&#x591A;&#x83DC;&#x5355;&#x4E2D;&#x9009;&#x53D6;&#x4FEE;&#x6539;&#x79C1;&#x6709;ip &#x4FEE;&#x6539;&#x5230;&#x5F53;&#x524D;vpc&#x4EA4;&#x6362;&#x673A;&#x7F51;&#x6BB5;&#x7684;&#x5176;&#x4ED6;ip&#x540E;&#x5F00;&#x673A; &#x65B0;&#x5F00;&#x673A;&#x5668;&#x6216;&#x4FEE;&#x6539;&#x79C1;&#x6709;ip&#x540E; &#x52A0;&#x5230;jumpserver&#x8D44;&#x4EA7;&#x4E2D;&#x6216;&#x4FEE;&#x6539;&#x539F;&#x6709;&#x4FE1;&#x606F; &#x901A;&#x8FC7;jumpserver&#x767B;&#x5F55;&#x6267;&#x884C;&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C; &#x6267;&#x884C; init_system &#x201C;&#x4E3B;&#x673A;&#x4E1A;&#x52A1;&#x5206;&#x7EC4;&#x201D; &#x5982;&#x662F;&#x65B0;&#x5F00;&#x673A;&#x5668;&#x5E76;&#x4E14;&#x5206;&#x914D;&#x4E86;&#x6570;&#x636E;&#x76D8;&#xFF0C;&#x6267;&#x884C; init_disk &#x6267;&#x884C;&#x91CD;&#x542F;zabbix_agent systemctl restart zabbix-agent &#x786E;&#x8BA4;&#x81EA;&#x52A8;&#x6CE8;&#x518C;&#x5230;zabbix-server&#x4E2D;]]></content>
      <categories>
        <category>vpc</category>
      </categories>
      <tags>
        <tag>vpc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gerrit-cicd]]></title>
    <url>%2F2018%2F05%2F16%2Fgerrit-cicd%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;GitLab&#x4E0E;Gerrit&#x7684;&#x533A;&#x522B; &#x539F;&#x6587;&#x5730;&#x5740; &#x5F00;&#x53D1;&#x98CE;&#x683C; gitlab&#x7684;&#x7279;&#x70B9;&#x662F;&#x4E00;&#x4E2A;&#x4EBA;&#x7EF4;&#x7CFB;&#x4E00;&#x4E2A;&#x5206;&#x652F;&#x3002; gerrit&#x7684;&#x7279;&#x70B9;&#x662F;&#x4E00;&#x4E2A;&#x56E2;&#x961F;&#x7EF4;&#x7CFB;&#x4E00;&#x4E2A;&#x5206;&#x652F;&#x3002;&#xFF08;&#x8FD9;&#x91CC;&#x7684;&#x5206;&#x652F;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x4E1A;&#x52A1;&#x9700;&#x6C42;&#xFF09; &#x6743;&#x9650;&#x7BA1;&#x7406; gitlab&#x63D0;&#x4F9B;&#x4E86;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x521B;&#x5EFA;project&#xFF0C;&#x6BCF;&#x4E2A;&#x56E2;&#x961F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x6C42;&#x7BA1;&#x7406;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x65B9;&#x5F0F;&#x66F4;&#x52A0;&#x7684;&#x7075;&#x6D3B;&#x3002; gerrit&#x6BD4;&#x8F83;&#x5355;&#x4E00;&#xFF0C;&#x800C;&#x4E14;&#x6743;&#x9650;&#x914D;&#x7F6E;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x5F80;&#x5F80;&#x90FD;&#x662F;&#x8981;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#x505A;&#x51FA;&#x4FEE;&#x6539;&#xFF0C;&#x6BCF;&#x4E2A;&#x56E2;&#x961F;&#x5F88;&#x96BE;&#x505A;&#x5230;&#x5BF9;&#x4EE3;&#x7801;&#x7684;&#x4E2A;&#x6027;&#x5316;&#x7BA1;&#x7406;&#x3002; &#x4EE3;&#x7801;&#x8BC4;&#x5BA1; gitlab&#x662F;&#x4EE5;mergerequest&#x4F5C;&#x4E3A;&#x4E00;&#x6B21;review&#xFF0C;mergerequest&#x4E2D;&#x53EF;&#x80FD;&#x5305;&#x542B;&#x591A;&#x4E2A;commit&#xFF0C;&#x5982;&#x679C;review&#x4E0D;&#x901A;&#x8FC7;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x53D1;&#x8D77;&#x53E6;&#x4E00;&#x6B21;mergerequest&#x3002; gerrit&#x662F;&#x4EE5;commit&#x4F5C;&#x4E3A;&#x4E00;&#x6B21;review&#xFF0C;&#x7531;&#x4E8E;changeId&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x4E00;&#x6B21;commit&#x53CD;&#x590D;&#x7684;&#x8FDB;&#x884C;review&#x3002; &#x5982;&#x679C;task&#x5212;&#x5206;&#x7684;&#x7C92;&#x5EA6;&#x591F;&#x7EC6;&#x7684;&#x8BDD;&#xFF0C;&#x5E76;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5404;&#x4E2A;&#x56E2;&#x961F;&#x7684;review&#x4E60;&#x60EF;&#x3002; &#x56E2;&#x961F;&#x534F;&#x4F5C; gitlab&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x516C;&#x5F00;&#x4EE3;&#x7801;&#xFF0C;&#x56E2;&#x961F;&#x95F4;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E92;&#x76F8;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6709;&#x5229;&#x4E8E;&#x56E2;&#x961F;&#x7684;&#x534F;&#x4F5C;&#x3002; gerrit&#x7531;&#x4E8E;&#x6743;&#x9650;&#x63A7;&#x5236;&#x95EE;&#x9898;&#xFF0C;&#x53EA;&#x80FD;&#x5728;&#x6743;&#x9650;&#x8303;&#x56F4;&#x5185;&#x516C;&#x5F00;&#x4EE3;&#x7801;&#x3002; &#x4FE1;&#x606F;&#x5171;&#x4EAB; gitlab&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;issues&#xFF0C;wiki&#x7B49;&#x529F;&#x80FD;&#x65B9;&#x4FBF;&#x5F00;&#x53D1;&#x8005;&#x4E0E;&#x4F7F;&#x7528;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x6C9F;&#x901A;&#xFF0C;&#x5E76;&#x4E14;gitlab&#x53EF;&#x4EE5;&#x65E0;&#x7F1D;&#x7684;&#x4E0E;&#x4E00;&#x4E9B;&#x9879;&#x76EE;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x96C6;&#x6210;&#xFF0C;&#x6BD4;&#x5982;:jira&#x3002; gerrit&#x8FD9;&#x4E2A;&#x65B9;&#x9762;&#x6BD4;&#x8F83;&#x6B20;&#x7F3A;&#x3002; gitlab&#x6BCF;&#x4E2A;&#x9879;&#x76EE;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;wiki&#xFF0C;&#x5F88;&#x65B9;&#x4FBF;&#x67E5;&#x770B;&#x3002; &#x6709;&#x5173;gitlab+gerrit+jenkins&#x96C6;&#x6210; &#x73B0;&#x5728;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;CI&#x7CFB;&#x7EDF;&#xFF0C;gitlab&#x63D0;&#x4F9B;&#x4EE3;&#x7801;&#x67E5;&#x770B;&#x529F;&#x80FD;&#xFF0C;gerrit&#x4FDD;&#x5B58;&#x771F;&#x6B63;&#x5F97;&#x4EE3;&#x7801;&#xFF0C;jenkins&#x901A;&#x8FC7;plugin&#x53D1;&#x5E03;gerrit&#x4E0A;&#x7684;&#x4EE3;&#x7801;&#x3002; &#x8FD9;&#x6837;&#x505A;&#x6CA1;&#x6709;&#x4F53;&#x73B0;&#x51FA;gitlab&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x800C;&#x4E14;&#x7531;&#x4E8E;gerrit&#x7684;&#x6743;&#x9650;&#x95EE;&#x9898;&#xFF0C;&#x5F88;&#x591A;&#x4EE3;&#x7801;&#x65E0;&#x6CD5;&#x653E;&#x5728;gitlab&#x4E0A;&#xFF0C;gitlab&#x6CA6;&#x4E3A;&#x4EE3;&#x7801;&#x67E5;&#x770B;&#x5DE5;&#x5177;&#xFF0C;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x5F62;&#x540C;&#x865A;&#x8BBE;&#x3002;&#x6709;&#x5173;docker&#xFF1A; &#x8003;&#x8651;&#x5230;&#x516C;&#x53F8;&#x5C06;&#x4F7F;&#x7528;docker&#x6280;&#x672F;&#xFF0C;&#x5BF9;&#x4E8E;dockerfile&#x5B58;&#x653E;&#x7B49;&#x95EE;&#x9898;&#xFF0C;gitlab&#x6BD4;gerrit&#x652F;&#x6301;&#x7684;&#x66F4;&#x597D;&#xFF08;&#x56E0;&#x4E3A;&#x6743;&#x9650;&#xFF0C;&#x6587;&#x4EF6;&#x67E5;&#x770B;&#x7684;&#x95EE;&#x9898;&#xFF09;&#x3002; &#x6709;&#x5173;CI jenkins&#x63D0;&#x4F9B;&#x4E86;plugin&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4ECE;gitlab&#x4E0A;&#x62C9;&#x53D6;&#x4EE3;&#x7801;&#x76F4;&#x63A5;&#x90E8;&#x7F72;&#xFF08;&#x5DF2;&#x6D4B;&#x8BD5;&#x6210;&#x529F;&#xFF0C;CA&#x91C7;&#x7528;sshkey&#xFF09;&#x3002; &#x603B;&#x7ED3; gerrit&#x4F5C;&#x4E3A;&#x8C37;&#x6B4C;&#x7BA1;&#x7406;&#x5B89;&#x5353;&#x9879;&#x76EE;&#x7684;&#x7248;&#x672C;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x8FD8;&#x662F;&#x6709;&#x5176;&#x4F18;&#x70B9;&#x7684;&#xFF0C; &#x591A;&#x90E8;&#x95E8;&#x4E4B;&#x95F4;&#x7684;&#x6743;&#x9650;&#x9694;&#x79BB;&#xFF0C;&#x5F3A;&#x5236;review&#x7684;&#x673A;&#x5236;&#x90FD;&#x662F;&#x5176;&#x4F18;&#x70B9;&#xFF0C; &#x53CD;&#x89C2;gitlab&#x4F5C;&#x4E3A;github&#x7684;&#x5F00;&#x6E90;&#x7248;&#xFF0C;&#x9075;&#x5FAA;&#x4E86;&#x4E00;&#x5957;&#x5F00;&#x6E90;&#x7684;&#x6D41;&#x7A0B;&#xFF0C;&#x6BD4;&#x8F83;&#x7B26;&#x5408;&#x5927;&#x591A;&#x6570;&#x4EBA;&#x5F97;&#x4E60;&#x60EF;&#x3002; &#x6240;&#x4EE5;&#xFF0C;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;gitlab&#x4F5C;&#x4E3A;&#x7248;&#x672C;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4E0E;gerrit&#x505A;&#x96C6;&#x6210;&#x3002;]]></content>
  </entry>
  <entry>
    <title><![CDATA[使用strongswan配置ipsec隧道]]></title>
    <url>%2F2018%2F05%2F16%2Fstrongswan-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x4F7F;&#x7528;strongswan&#x914D;&#x7F6E;ipsec&#x96A7;&#x9053;&#x6253;&#x901A;vpc&#x4E0E;&#x529E;&#x516C;&#x7F51; &#x5B98;&#x65B9;&#x4E0B;&#x8F7D;&#x5730;&#x5740; &#x5B89;&#x88C5;strongswan&#x5B89;&#x88C5;&#x4F9D;&#x8D56;1yum install -y pam-devel openssl-devel make gcc curl wget &#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;1234WORKDIR=&quot;/usr/local/src&quot;INSTALL_DIR=&quot;/usr/local/product&quot;SOFT_DIR=&quot;/usr/local&quot;VERSION=&quot;5.6.2&quot; &#x7F16;&#x8BD1;&#x5B89;&#x88C5;12345678910111213141516171819202122232425262728cd ${WORKDIR}wget https://download.strongswan.org/strongswan-${VERSION}.tar.gztar xvf strongswan-${VERSION}.tar.gz &amp;&amp; cd strongswan-${VERSION}./configure \--prefix=${INSTALL_DIR}/strongswan-${VERSION} \--enable-eap-identity \--enable-eap-md5 \--enable-eap-mschapv2 \--enable-eap-tls \--enable-eap-ttls \--enable-eap-peap \--enable-eap-tnc \--enable-eap-dynamic \--enable-eap-radius \--enable-xauth-eap \--enable-xauth-pam \--enable-dhcp \--enable-openssl \--enable-addrblock \--enable-unity \--enable-certexpire \--enable-radattr \--enable-swanctl \--enable-openssl \--disable-gmpmake &amp;&amp; make installln -s ${INSTALL_DIR}/strongswan-${VERSION} ${SOFT_DIR}/strongswan &#x4FEE;&#x6539;&#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556mkdir -p /data/logs/strongswancat strongswan.conf# strongswan.conf - strongSwan configuration file## Refer to the strongswan.conf(5) manpage for details## Configuration changes should be made in the included filescharon { interfaces_use = eth0 load_modular = yes filelog { /data/logs/strongswan/strongswan.charon.log { time_format = %b %e %T default = 1 append = yes flush_line = yes } } plugins { include strongswan.d/charon/*.conf }}include strongswan.d/*.conf###############cat ipsec.confconfig setup uniqueids = never charondebug=&quot;ike 4, knl 4, net 4, cfg 4&quot;conn %defualt type=tunnel ikelifetime=60m keylife=5m dpddelay=10s rekeymargin=3m keyingtries=3 mobike=noconn site-to-site-beijing keyexchange=ikev1 left=0.0.0.0 leftid=vpc-beijing leftsubnet=172.16.1.0/24 leftfirewall=no right=x.x.x.x rightid=BaseManager authby=secret ike=aes128-sha1-modp1024 esp=aes128-sha1 rightsubnet=172.32.0.0/16 auto=start &#x751F;&#x6210;ca&#x8BC1;&#x4E66;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129&#x8FDB;&#x884C;CA&#x914D;&#x7F6E;CA &#x751F;&#x6210;&#x5B58;&#x653E;&#x76EE;&#x5F55;&#x4E3A; /usr/local/src/ca&#x521B;&#x5EFA;ca&#x76EE;&#x5F55;mkdir /usr/local/src/ca&#x751F;&#x6210;&#x79C1;&#x94A5;&#x548C;&#x6839;&#x8BC1;&#x4E66;,&#x5E76;&#x4E14;&#x6839;&#x8BC1;&#x4E66;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x81EA;&#x7B7E;&#x540D;&#x5F62;&#x5F0F;&#x8FD9;&#x91CC;C&#x8868;&#x793A;&#x56FD;&#x5BB6;&#x540D;,O&#x8868;&#x793A;&#x7EC4;&#x7EC7;&#x5355;&#x4F4D;&#xFF0C;CN&#x8868;&#x793A;&#x901A;&#x7528;&#x540D;&#x5B57;ipsec pki --gen --outform pem &gt; ca.key.pemipsec pki --self --in ca.key.pem --dn &quot;C=CN, O=MyStrongSwan, CN=MyStrongSwan CA&quot; --ca --lifetime 3650 --outform pem &gt; ca.cert.pem&#x751F;&#x6210;&#x670D;&#x52A1;&#x5668;&#x8BC1;&#x4E66;ipsec pki --gen --outform pem &gt; server.key.pemipsec pki --pub --in server.key.pem --outform pem &gt; server.pub.pemipsec pki --issue --lifetime 1200 --cacert ca.cert.pem --cakey ca.key.pem --in server.pub.pem --dn &quot;C=CN, O=MyStrongSwan, CN=myDomain.com&quot; --san=&quot;myDomain.com&quot; --san=&quot;YourIP&quot; --flag serverAuth --flag ikeIntermediate --outform pem &gt; server.cert.pem&#x6CE8;&#x610F;&#x4E8B;&#x9879; &#xFF1A; &#x670D;&#x52A1;&#x5668;&#x8FD9;&#x8FB9;&#x7684;CN&#x4E00;&#x5B9A;&#x662F;&#x4F60;&#x7F51;&#x5361;&#x7684;ip&#xFF0C;&#x6216;&#x8005;&#x4F60;&#x7F51;&#x5361;ip&#x5BF9;&#x5E94;&#x7684;&#x57DF;&#x540D;&#xFF0C;--san &#x8BBE;&#x7F6E;&#x8BBE;&#x7F6E;&#x522B;&#x540D;&#xFF0C;&#x5EFA;&#x8BAE;&#x8BBE;&#x7F6E;&#x4E24;&#x4E2A;&#x6216;&#x8005;&#x4E24;&#x4E2A;&#x4EE5;&#x4E0A;&#xFF0C;&#x5206;&#x522B;&#x4E3A;&#x4F60;&#x7684;&#x57DF;&#x540D;&#x548C;&#x7F51;&#x5361;ip;&#x2013;flag serverAuth &#x8868;&#x793A;&#x8BC1;&#x4E66;&#x4F7F;&#x7528;&#x7528;&#x9014;&#xFF0C;&#x4E0D;&#x52A0;windows 7&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x975E; iOS &#x7684; Mac OS X &#x8981;&#x6C42;&#x4E86;&#x201C;IP &#x5B89;&#x5168;&#x7F51;&#x7EDC;&#x5BC6;&#x94A5;&#x4E92;&#x6362;&#x5C45;&#x95F4;&#xFF08;IP Security IKE Intermediate&#xFF09;&#x201D;&#x8FD9;&#x79CD;&#x589E;&#x5F3A;&#x578B;&#x5BC6;&#x94A5;&#x7528;&#x6CD5;&#xFF08;EKU&#xFF09;&#xFF0C;&#x2013;flag ikdeIntermediate;&#x751F;&#x6210;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66; &#xFF08;&#x53EF;&#x9009;&#xFF09;ipsec pki --gen --outform pem &gt; client.key.pemipsec pki --pub --in client.key.pem --outform pem &gt; client.pub.pemipsec pki --issue --lifetime 1200 --cacert ca.cert.pem --cakey ca.key.pem --in client.pub.pem --dn &quot;C=CN, O=MyStrongSwan, CN=MyDomain.com&quot; --outform pem &gt; client.cert.pem#&#x4EE5;&#x4E0B;&#x751F;&#x6210;&#x8BC1;&#x4E66;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x5730;&#xFF0C;&#x8BF7;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;MAC&#x4E0D;&#x80FD;&#x5BFC;&#x5165;&#x5BC6;&#x7801;&#x4E3A;&#x7A7A;&#x7684;&#x8BC1;&#x4E66;openssl pkcs12 -export -inkey client.key.pem -in client.cert.pem -name &quot;MyStrongSwan Client Cert&quot; -certfile ca.cert.pem -caname &quot;MyStrongSwan CA&quot; -out client.cert.p12&#x5B89;&#x88C5;&#x8BC1;&#x4E66;\cp -r ca.key.pem /usr/local/strongswan/etc/ipsec.d/private/\cp -r ca.cert.pem /usr/local/strongswan/etc/ipsec.d/cacerts/\cp -r server.cert.pem /usr/local/strongswan/etc/ipsec.d/certs/\cp -r server.key.pem /usr/local/strongswan/etc/ipsec.d/private/\cp -r client.cert.pem /usr/local/strongswan/etc/ipsec.d/certs/\cp -r client.key.pem /usr/local/strongswan/etc/ipsec.d/private/&#x914D;&#x7F6E;ipsec.confvim /usr/local/strongswan/etc/ipsec.conf config setup uniqueids=no conn %default compress = yes ike=aes128-sha1-modp1024,aes128-sha1-modp1536,aes128-sha1-modp2048,aes128-sha256-ecp256,aes128-sha256-modp1024,aes128-sha256-modp1536,aes128-sha256-modp2048,aes256-aes128-sha256-sha1-modp2048-modp4096-modp1024,aes256-sha1-modp1024,aes256-sha256-modp1024,aes256-sha256-modp1536,aes256-sha256-modp2048,aes256-sha256-modp4096,aes256-sha384-ecp384,aes256-sha384-modp1024,aes256-sha384-modp1536,aes256-sha384-modp2048,aes256-sha384-modp4096,aes256gcm16-aes256gcm12-aes128gcm16-aes128gcm12-sha256-sha1-modp2048-modp4096-modp1024,3des-sha1-modp1024! esp=aes128-aes256-sha1-sha256-modp2048-modp4096-modp1024,aes128-sha1,aes128-sha1-modp1024,aes128-sha1-modp1536,aes128-sha1-modp2048,aes128-sha256,aes128-sha256-ecp256,aes128-sha256-modp1024,aes128-sha256-modp1536,aes128-sha256-modp2048,aes128gcm12-aes128gcm16-aes256gcm12-aes256gcm16-modp2048-modp4096-modp1024,aes128gcm16,aes128gcm16-ecp256,aes256-sha1,aes256-sha256,aes256-sha256-modp1024,aes256-sha256-modp1536,aes256-sha256-modp2048,aes256-sha256-modp4096,aes256-sha384,aes256-sha384-ecp384,aes256-sha384-modp1024,aes256-sha384-modp1536,aes256-sha384-modp2048,aes256-sha384-modp4096,aes256gcm16,aes256gcm16-ecp384,3des-sha1! keyexchange = ike keyingtries = 1 #for andorid&#x3001;ios&#x3001;mac conn cisco_xauth_psk left = %any leftid = YourIP or Domain leftauth = psk leftfirewall = yes fragmentation = yes leftsubnet = 0.0.0.0/0 right = %any rightauth = psk rightauth2 = xauth rightsourceip = 172.16.6.0/24 rekey = no auto = add dpdaction=clear #for windows 7/10 , strongswan agent and other ca conn IKEv2-EAP-Windows leftca = &quot;C=CN, O=,MyStrongSwan; CN=YourIP or domain&quot; leftcert = server.cert.pem leftsendcert = always rightsendcert = never leftid = YourIP or domain left = %any right = %any leftauth = pubkey #&#x4F7F;&#x7528;&#x8BC1;&#x4E66;&#x5F62;&#x5F0F;&#x8BA4;&#x8BC1; rightauth = eap-radius #&#x8BA4;&#x8BC1;&#x4F7F;&#x7528;radius leftfirewall = yes leftsubnet = 0.0.0.0/0 #&#x5168;&#x90E8;&#x6D41;&#x91CF;&#x8D70;vpn rightsourceip = 172.16.7.0/24 fragmentation = yes #&#x5305;&#x91CD;&#x7EC4; eap_identity = %any rekey = no #&#x4E0D;&#x91CD;&#x590D;&#x68C0;&#x67E5;&#xFF0C;&#x7528;&#x6765;&#x5F00;&#x542F;&#x591A;&#x8BBE;&#x5907;&#x767B;&#x5F55; auto = add dpdaction=clear #&#x65AD;&#x5F00;&#x540E;&#x6E05;&#x7A7A;&#x914D;&#x7F6E; strongswan.confvim /usr/local/strongswan/etc/strongswan.confcharon { filelog { /var/log/strongswan.charon.log { time_format = %b %e %T default = 2 append = no flush_line = yes } } load_modular = yes duplicheck.enable = no #&#x662F;&#x4E3A;&#x4E86;&#x4F60;&#x80FD;&#x540C;&#x65F6;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x8BBE;&#x5907;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x628A;&#x5197;&#x4F59;&#x68C0;&#x67E5;&#x5173;&#x95ED; compress = yes plugins { include strongswan.d/charon/*.conf } dns1 = 8.8.8.8 dns2 = 223.5.5.5#only for windows nbns1 = 8.8.8.8 nbns2 = 223.5.5.5}include strongswan.d/*.conf&#x914D;&#x7F6E; ipsec.secrets: RSA server.key.pem: PSK &quot;visionsrv&quot;: XAUTH &quot;visionsrv&quot; myvpn %any : EAP &quot;123456&quot;&#x914D;&#x7F6E;Firewall&#x548C;&#x8F6C;&#x53D1;1.&#x5F00;&#x653E;&#x7AEF;&#x53E3;firewall-cmd --add-port=500/tcp --permanentfirewall-cmd --add-port=500/udp --permanentfirewall-cmd --add-port=4500/tcp --permanentfirewall-cmd --add-port=4500/udp --permanentfirewall-cmd --add-masquerade --permanentfirewall-cmd --reload2.&#x7F16;&#x8F91; /etc/systcl.confvim /etc/sysctl.confnet.ipv4.ip_forward=1net.ipv6.conf.all.forwarding=1net.ipv4.conf.all.accept_redirects = 0net.ipv4.conf.all.send_redirects = 03.&#x5F00;&#x542F; firewall&#x7684;&#x8F6C;&#x53D1;&#x529F;&#x80FD;iptables -t nat -A POSTROUTING -s 172.16.6.0/24 -o ens160 -j MASQUERADEiptables -t nat -A POSTROUTING -s 172.16.7.0/24 -o ens160 -j MASQUERADE&#x542F;&#x52A8;&#x670D;&#x52A1; ipsec start systemctl restart strongswan&#x4E09;&#x3001; &#x5404;&#x79CD;&#x7EC8;&#x7AEF;&#x6D4B;&#x8BD5;]]></content>
      <categories>
        <category>vpn</category>
        <category>strongswan</category>
      </categories>
      <tags>
        <tag>vpn</tag>
        <tag>strongswan</tag>
        <tag>ipsec</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[js字符串切割方法]]></title>
    <url>%2F2018%2F05%2F16%2Fjs-string-trim%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;js&#x4E2D;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5207;&#x5272;&#x65B9;&#x6CD5; js&#x4E2D;&#x5BF9;String&#x53BB;&#x7A7A;&#x683C; str&#x4E3A;&#x8981;&#x53BB;&#x9664;&#x7A7A;&#x683C;&#x7684;&#x5B57;&#x7B26;&#x4E32;: 1234567891011## &#x53BB;&#x9664;&#x6240;&#x6709;&#x7A7A;&#x683C;: str = str.replace(/\s+/g,&quot;&quot;);## &#x53BB;&#x9664;&#x4E24;&#x5934;&#x7A7A;&#x683C;: str = str.replace(/^\s+|\s+$/g,&quot;&quot;);str = str.replace(/^\s+|\s+$/g,&quot;&quot;);## &#x53BB;&#x9664;&#x5DE6;&#x7A7A;&#x683C;&#xFF1A;str = str.replace( /^\s*/, &apos;&apos;);## &#x53BB;&#x9664;&#x53F3;&#x7A7A;&#x683C;&#xFF1A;str = str.replace(/(\s*$)/g, &quot;&quot;);## &#x53BB;&#x9664;&#x7A7A;&#x683C;(TimeSheet&#x7528;&#x8FC7;)str = str.replace(/\s+$|^\s+/g,&quot;&quot;); Trim() , Ltrim() , RTrim()12345678910111213141516171819String.prototype.Trim = function() { returnthis.replace(/(^\s*)|(\s*$)/g, &quot;&quot;); } String.prototype.LTrim = function() { returnthis.replace(/(^\s*)/g, &quot;&quot;); } String.prototype.RTrim = function() { returnthis.replace(/(\s*$)/g, &quot;&quot;); } &lt;input type=&quot;text&quot; value=&quot; &#x524D;&#x540E;&#x90FD;&#x662F;&#x7A7A;&#x683C; &quot; id=&quot;space&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;&#x53BB;&#x524D;&#x540E;&#x7A7A;&#x683C;&quot; onclick=&quot;javascript:document.getElementById(&apos;space&apos;).value=document.getElementById(&apos;space&apos;).value.Trim();document.getElementById(&apos;space&apos;).select();&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;&#x53BB;&#x524D;&#x7A7A;&#x683C;&quot; onclick=&quot;javascript:document.getElementById(&apos;space&apos;).value=document.getElementById(&apos;space&apos;).value.LTrim();document.getElementById(&apos;space&apos;).select();&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;&#x53BB;&#x540E;&#x7A7A;&#x683C;&quot; onclick=&quot;javascript:document.getElementById(&apos;space&apos;).value=document.getElementById(&apos;space&apos;).value.RTrim();document.getElementById(&apos;space&apos;).select();&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;&#x8FD8;&#x539F;&quot; onclick=&quot;javascript:document.getElementById(&apos;space&apos;).value=&apos; &#x524D;&#x540E;&#x90FD;&#x662F;&#x7A7A;&#x683C; &apos;;&quot;&gt;]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos7-openvpn]]></title>
    <url>%2F2018%2F05%2F15%2Fcentos7-openvpn%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243&#x73AF;&#x5883;&#xFF1A;CentOS Linux release 7.3.1611 (Core)&#x67E5;&#x770B;os&#x7248;&#x672C;&#x547D;&#x4EE4;&#xFF1A;[root@openvpn ~]# cat /etc/redhat-release&#x547D;&#x4EE4;&#x8BB0;&#x5F55;&#x5982;&#x4E0B;&#xFF1A;123yum upgrade #&#x66F4;&#x65B0;&#x6E90;yum install epel-release -y #&#x5B89;&#x88C5;epel&#x5E93;yum install easy-rsa openssh-server lzo openssl openssl-devel openvpn NetworkManager-openvpn openvpn-auth-ldap -y #&#x5B89;&#x88C5;&#x4E00;&#x7CFB;&#x5217;&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x3001; &#x62F7;&#x8D1D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;1cp /usr/share/doc/openvpn-*/sample/sample-config-files/server.conf /etc/openvpn #&#x62F7;&#x8D1D;server.conf&#x5230;/etc/openvpn&#x76EE;&#x5F55;&#x4E0B; &#x7F16;&#x8F91;openvpn&#x914D;&#x7F6E;&#x6587;&#x4EF6;1vim /etc/openvpn/server.conf &#x6211;&#x7684;&#x914D;&#x7F6E;&#x5982;&#x4E0B;(&#x6709;&#x4E9B;&#x6CE8;&#x91CA;&#x6389;&#x4E86;&#xFF0C;&#x4F46;&#x7559;&#x7740;&#x5907;&#x7528;)&#xFF1A;12345678910111213141516171819202122232425262728port 1194proto tcp&#x3000;&#x3000;&#x3000;&#x3000;#&#x6307;&#x5B9A;TCP&#x534F;&#x8BAE;(&#x4F7F;&#x7528;TCP&#x534F;&#x8BAE;&#x5982;&#x679C;&#x8FDE;&#x63A5;&#x4E0A;VPN&#x540E;&#x7F51;&#x7EDC;&#x5F88;&#x6162;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x6539;&#x6210;&#x4F7F;&#x7528;UDP&#x534F;&#x8BAE;)dev tun&#x3000;&#x3000;&#x3000;&#x3000;#&#x91C7;&#x7528;&#x8DEF;&#x7531;&#x96A7;&#x9053;&#x6A21;&#x5F0F;ca ca.crtcert server.crtkey server.key&#x3000;&#x3000;&#x3000;&#x3000;# This file should be kept secret &#x670D;&#x52A1;&#x5668;&#x5BC6;&#x94A5;dh dh2048.pem&#x3000;&#x3000;&#x3000;&#x3000;#&#x5BC6;&#x94A5;&#x4EA4;&#x6362;&#x534F;&#x8BAE;&#x6587;&#x4EF6;topology subnetserver 10.8.0.0 255.255.255.0&#x3000;&#x3000;&#x3000;&#x3000;#&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x5206;&#x914D;&#x5730;&#x5740;&#x6C60;&#xFF0C;&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x80FD;&#x548C;VPN&#x670D;&#x52A1;&#x5668;&#x5185;&#x7F51;&#x7F51;&#x6BB5;&#x76F8;&#x540C;ifconfig-pool-persist ipp.txtpush &quot;route 0.0.0.0 0.0.0.0&quot;&#x3000;&#x3000;&#x3000;&#x3000;#&#x5B9A;&#x4E49;&#x7F51;&#x5173;push &quot;route 192.168.0.0 255.255.255.0&quot;&#x3000;&#x3000;&#x3000;&#x3000;#&#x63A8;&#x9001;vpn&#x670D;&#x52A1;&#x5668;&#x5185;&#x7F51;&#x7F51;&#x6BB5;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;push &quot;redirect-gateway def1 bypass-dhcp&quot;push &quot;dhcp-option DNS 223.5.5.5&quot;push &quot;dhcp-option DNS 114.114.114.114&quot;;client-to-client #&#x8FD9;&#x91CC;&#x4E3A;&#x4E86;&#x5B89;&#x5168;&#x8D77;&#x89C1;&#xFF0C;&#x6211;&#x7981;&#x6B62;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x95F4;&#x7684;&#x4E92;&#x8BBF;;duplicate-cn&#x3000;&#x3000;&#x3000;&#x3000;#&#x6B63;&#x5F0F;&#x73AF;&#x5883;&#x4E0B;&#x5EFA;&#x8BAE;&#x6CE8;&#x91CA;&#x6389;&#xFF0C;&#x56E0;&#x4E3A;&#x4F1A;&#x6709;&#x5B89;&#x5168;&#x9690;&#x60A3;keepalive 10 120&#x3000;&#x3000;&#x3000;&#x3000;#&#x5B58;&#x6D3B;&#x65F6;&#x95F4;&#xFF0C;10&#x79D2;ping&#x4E00;&#x6B21;,120 &#x5982;&#x672A;&#x6536;&#x5230;&#x54CD;&#x5E94;&#x5219;&#x89C6;&#x4E3A;&#x65AD;&#x7EBF;tls-auth ta.key 0&#x3000;&#x3000;&#x3000;&#x3000;# &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5E94;&#x8BE5;&#x4E3A;&apos;0&apos;&#xFF0C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x8BE5;&#x4E3A;&apos;1&apos;&#x3002;cipher AES-256-CBC&#x3000;&#x3000;&#x3000;&#x3000;# &#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x3002;comp-lzo&#x3000;&#x3000;&#x3000;&#x3000;#&#x4F20;&#x8F93;&#x6570;&#x636E;&#x538B;&#x7F29;max-clients 50&#x3000;&#x3000;&#x3000;&#x3000;#&#x6700;&#x591A;&#x5141;&#x8BB8; 50 &#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;persist-keypersist-tunstatus openvpn-status.log&#x3000;&#x3000;&#x3000;&#x3000;# OpenVPN&#x7684;&#x72B6;&#x6001;&#x65E5;&#x5FD7;log-append openvpn.log&#x3000;&#x3000;&#x3000;&#x3000;# OpenVPN&#x7684;&#x8FD0;&#x884C;&#x65E5;&#x5FD7;(&#x8FFD;&#x52A0;)verb 3mute 20&#x3000;&#x3000;&#x3000;&#x3000;# &#x76F8;&#x540C;&#x7C7B;&#x522B;&#x7684;&#x4FE1;&#x606F;&#x53EA;&#x6709;&#x524D;20&#x6761;&#x4F1A;&#x8F93;&#x51FA;&#x5230;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D; &#x66F4;&#x591A;&#x914D;&#x7F6E;&#x53C2;&#x8003;&#x8BF7;&#x8BBF;&#x95EE;&#xFF1A;http://www.softown.cn/post/137.html&#x51C6;&#x5907;&#x914D;&#x7F6E;&#x8BC1;&#x4E66;&#x6587;&#x4EF6;123mkdir -p /etc/openvpn/easy-rsa/keyscp -a /usr/share/easy-rsa/2.0/* /etc/openvpn/easy-rsa/vi /etc/openvpn/easy-rsa/vars &#x4FEE;&#x6539;vars&#x914D;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#xFF0C; &#x81EA;&#x5B9A;&#x4E49;&#x8BBE;&#x7F6E;&#x5404;&#x9879;&#x503C;&#x5C31;&#x53EF;&#x4EE5;&#x3002;&#x590D;&#x5236;&#x4EE3;&#x7801;export KEY_COUNTRY=&quot;CN&quot;export KEY_PROVINCE=&quot;ZJ&quot;export KEY_CITY=&quot;HZ&quot;export KEY_ORG=&quot;xihu&quot; #&#x5B9A;&#x4E49;&#x6240;&#x5728;&#x7684;&#x7EC4;&#x7EC7;export KEY_EMAIL=&quot;airoot@hz.com&quot;export KEY_OU=&quot;westlake&quot; #&#x5B9A;&#x4E49;&#x6240;&#x5728;&#x7684;&#x5355;&#x4F4D;export KEY_NAME=&quot;openvpn&quot; #&#x5B9A;&#x4E49;openvpn&#x670D;&#x52A1;&#x5668;&#x7684;&#x540D;&#x79F0;export KEY_CN=&quot;APEC&quot; #&#x8FD9;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x524D;&#x8FB9;&#x7684;&#x201C;#&#x201D;&#x53F7;&#x6CE8;&#x91CA;&#x53BB;&#x6389;&#x3002;&#x590D;&#x5236;&#x4EE3;&#x7801; &#x5F00;&#x59CB;&#x5236;&#x4F5C;&#x8BC1;&#x4E66;12345cp /etc/openvpn/easy-rsa/openssl-1.0.0.cnf /etc/openvpn/easy-rsa/openssl.cnfcd /etc/openvpn/easy-rsa #&#x5207;&#x6362;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;source ./vars #&#x8BA9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x751F;&#x6548;./clean-all./build-ca #&#x4E4B;&#x524D;&#x5DF2;&#x914D;&#x7F6E;&#x597D;&#x76F8;&#x5173;&#x53C2;&#x6570;&#xFF0C;&#x6545;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x6309;&#x56DE;&#x8F66;&#x952E;&#xFF0C;&#x4E00;&#x76F4;&#x5230;&#x7ED3;&#x675F;&#x5373;&#x53EF;&#x3002; &#x521B;&#x5EFA;&#x670D;&#x52A1;&#x7AEF;&#x8BC1;&#x4E66;1./build-key-server server #&#x521B;&#x5EFA;&#x901A;&#x7528;&#x540D;(common name)&#x4E3A;&quot;server&quot;&#x7684;&#x8BC1;&#x4E66;&#x6587;&#x4EF6; #&#x6309;&#x56DE;&#x8F66;&#x952E;&#x8FDB;&#x884C;&#xFF0C;&#x5728;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5BC6;&#x7801;&#x5982;qaz123&#xFF0C;&#x5728;An optional company name&#x5904;&#x8F93;&#x5165;CNABB&#xFF0C;&#x6700;&#x540E;&#x8F93;&#x5165;&#x4E24;&#x6B21;&#x201C;y&#x201D;&#x786E;&#x8BA4; &#x751F;&#x6210;&#x9632;&#x653B;&#x51FB;&#x7684;key&#x6587;&#x4EF6;1openvpn --genkey --secret keys/ta.key # &#x751F;&#x6210;ta.key&#x6587;&#x4EF6;&#xFF08;&#x9632;DDos&#x653B;&#x51FB;&#x3001;UDP&#x6DF9;&#x6CA1;&#x7B49;&#x6076;&#x610F;&#x653B;&#x51FB;&#xFF09; &#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;1234567./build-dh #&#x521B;&#x5EFA;&#x79D8;&#x94A5;&#x6587;&#x4EF6;&#xFF0C;&#x8017;&#x65F6;1&#x5206;&#x949F;&#x5DE6;&#x53F3;ls /etc/openvpn/easy-rsa/keys/ #&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;db2048.pem&#x7684;&#x6587;&#x4EF6;&#x4EA7;&#x751F;&#x3002;cd /etc/openvpn/easy-rsa/keyscp dh2048.pem ca.crt server.crt server.key ta.key /etc/openvpncd /etc/openvpn/easy-rsa ./build-key client #&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x540D;(common name)&#x4E3A; client&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66; #&#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x6587;&#x4EF6;&#xFF0C;&#x6309;&#x56DE;&#x8F66;&#x8FDB;&#x884C;&#xFF0C;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x8F93;&#x5165;&#x4E4B;&#x524D;&#x8BBE;&#x7F6E;&#x7684;&#x8BC1;&#x4E66;&#x5BC6;&#x7801; &quot;qaz123&quot;&#xFF0C;An optional company name&#x5904;&#x8F93;&#x5165;&#x5148;&#x524D;&#x8BBE;&#x7F6E;&#x7684;&#x516C;&#x53F8;&#x540D;&#x5B57;&#xFF08;CNABB&#xFF09;&#x3002;&#x3010;&#x4E00;&#x5B9A;&#x8981;&#x548C;&#x5148;&#x524D;&#x8F93;&#x5165;&#x7684;&#x4E00;&#x6837;&#x3011; #&#x53E6;&#x5916;&#x6CE8;&#x610F;&#xFF1A;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x5C31;&#x9700;&#x8981;./build-key client &#x591A;&#x5C11;&#x6B21;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x91CC;&#x7684;client&#x540D;&#x5B57;&#x9700;&#x4E0D;&#x540C;&#x3002;1ls /etc/openvpn/easy-rsa/keys/ #&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x751F;&#x6210;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BC1;&#x4E66;&#x6587;&#x4EF6; &#x8BBE;&#x7F6E;iptables&#x3001;&#x8DEF;&#x7531;&#x8F6C;&#x53D1;12345678910yum install -y iptables-servicessystemctl enable iptablessystemctl stop firewalld #&#x5173;&#x95ED;firewall&#x9632;&#x706B;&#x5899;&#xFF0C;&#x6211;&#x7684;OS&#x6CA1;&#x6709;&#x9884;&#x88C5;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x4E0D;&#x7528;&#x8F93;&#xFF0C;systemctl start iptables #&#x542F;&#x52A8;iptablesiptables -F #&#x6E05;&#x7A7A;&#x9ED8;&#x8BA4;&#x7684;iptables&#x89C4;&#x5219;iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -j MASQUERADE #&#x8BBE;&#x7F6E;iptables NAT&#x8F6C;&#x53D1;&#x89C4;&#x5219;service iptables save #&#x4FDD;&#x5B58;&#x9632;&#x706B;&#x5899;&#x89C4;&#x5219;echo 1 &gt; /proc/sys/net/ipv4/ip_forward #&#x4E34;&#x65F6;&#x5F00;&#x542F;&#x8DEF;&#x7531;&#x8F6C;&#x53D1;vi /etc/sysctl.conf #&#x7F16;&#x8F91;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4FEE;&#x6539;&#x4EE5;&#x4E0B;&#x914D;&#x7F6E;&#xFF0C;&#x8BBE;&#x7F6E;&#x6C38;&#x4E45;&#x8DEF;&#x7531;&#x8F6C;&#x53D1;net.ipv4.ip_forward = 1 &#x542F;&#x52A8;openvpn1234systemctl -f enable openvpn@server.service #&#x8BBE;&#x7F6E;&#x542F;&#x52A8;&#x6587;&#x4EF6;systemctl start openvpn@server.service #&#x542F;&#x52A8;openvpn&#x7684;&#x547D;&#x4EE4; #&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x5982;&#x679C;&#x542F;&#x52A8;&#x62A5;&#x9519;&#xFF0C;&#x8BF4;&#x660E;&#x4F60;&#x524D;&#x9762;&#x7684;server.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6709;&#x8BEF;&#xFF0C;&#x9700;&#x8981;&#x8C03;&#x8BD5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;openvpn&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x7535;&#x8111;&#xFF09;&#x8FDE;&#x63A5;vpn&#x628A;&#x670D;&#x52A1;&#x5668;&#x4E0A; /etc/openvpn/easy-rsa/keys/ &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x4E09;&#x4E2A;&#x8BC1;&#x4E66;&#x6587;&#x4EF6;&#x548C;&#x4E00;&#x4E2A;Ddos&#x9632;&#x62A4;&#x6587;&#x4EF6;&#xFF0C;&#x4E0B;&#x8F7D;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#xFF1A;ca.crt&#xFF0C;client.crt&#xFF0C;client.key , ta.key&#x5B89;&#x88C5;&#x597D;openvpn&#x5BA2;&#x6237;&#x7AEF;&#x8F6F;&#x4EF6;&#x540E;&#xFF0C;&#x628A;&#x4EE5;&#x4E0A;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x5230;openvpn&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x7684;config&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x4ECE;sample-config&#x6587;&#x4EF6;&#x5939;&#x5185;&#x62F7;&#x8D1D;client.ovpn &#x5230;config&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x7F16;&#x8F91;client.ovpn&#xFF0C;&#x6307;&#x5B9A;openvpn&#x670D;&#x52A1;&#x5668;&#x7684;ip&#x5730;&#x5740;&#x3002;&#x518D;&#x6839;&#x636E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x914D;&#x7F6E;&#x505A;&#x76F8;&#x5E94;&#x4FEE;&#x6539;&#xFF0C;&#x6211;&#x7684;client.conf&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;&#x590D;&#x5236;&#x4EE3;&#x7801;clientdev tunproto tcpremote &#x670D;&#x52A1;&#x5668;IP 1194resolv-retry infinitenobindpersist-keypersist-tunca ca.crtcert client.crtkey client.keyremote-cert-tls servertls-auth ta.key 1cipher AES-256-CBCcomp-lzoverb 3mute 20&#x590D;&#x5236;&#x4EE3;&#x7801; &#x914D;&#x7F6E;&#x597D;&#x540E;&#xFF0C;&#x70B9;&#x51FB;openvpn&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x56FE;&#x6807;&#xFF0C;&#x8FDE;&#x63A5;vpn&#x3002; openvpn&#x7684;&#x56FE;&#x6807;&#x663E;&#x793A;&#x7EFF;&#x8272;&#x540E;&#xFF0C;&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x8FDE;&#x63A5;&#x4E0A;vpn&#x4E86;&#x3002;openvpn&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x624B;&#x673A;&#xFF09;&#x8FDE;&#x63A5;vpn&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x624B;&#x673A;&#x8FDE;&#x63A5;&#x5219;&#x9700;&#x8981;&#x5408;&#x5E76;&#x8FD9;&#x51E0;&#x4E2A;&#x6587;&#x4EF6;&#x5230;client.conf&#x91CC;&#xFF0C;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;&#x590D;&#x5236;&#x4EE3;&#x7801;clientdev tunproto tcpremote &#x670D;&#x52A1;&#x5668;IP 1194resolv-retry infinitenobindpersist-keypersist-tuncipher AES-256-CBCcomp-lzoverb 3&#x5220;&#x9664;&#x6216;&#x8005;&#x6CE8;&#x91CA;&#x6389;&#x4EE5;&#x4E0B;&#x51E0;&#x884C;&#x5185;&#x5BB9;&#xFF1A;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x628A;&#x5B83;&#x4EEC;&#x6CE8;&#x91CA;&#x6389;&#xFF1A;ca ca.crt&#x3000;&#x3000;&#x6539;&#x4E3A;&#xFF1A;#ca ca.crtcert client.crt&#x3000;&#x3000;&#x6539;&#x4E3A;&#xFF1A;#cert client.crtkey client.key&#x3000;&#x3000;&#x6539;&#x4E3A;&#xFF1A;#key client.keytls-auth ta.key 1&#x3000;&#x3000;&#x6539;&#x4E3A;&#xFF1A;#tls-auth ta.key 1&#x5728;&#x6700;&#x540E;&#x9762;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;&lt;ca&gt; ca.crt&#x6587;&#x4EF6;&#x5185;&#x5BB9;&lt;/ca&gt;&lt;cert&gt; client.crt&#x6587;&#x4EF6;&#x5185;&#x5BB9;&lt;/cert&gt;&lt;key&gt; client.key&#x6587;&#x4EF6;&#x5185;&#x5BB9;&lt;/key&gt;key-direction 1 &lt;tls-auth&gt; ta.key&#x6587;&#x4EF6;&#x5185;&#x5BB9;&lt;/tls-auth&gt;&#x590D;&#x5236;&#x4EE3;&#x7801;]]></content>
  </entry>
  <entry>
    <title><![CDATA[ansible文件处理模块的使用]]></title>
    <url>%2F2018%2F05%2F11%2Fansible-file%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;ansible &#x6587;&#x4EF6;&#x5904;&#x7406;&#x6A21;&#x5757;&#x7684;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x7B80;&#x5355;&#x4F7F;&#x7528;&#x65B9;&#x6CD5; &#x6587;&#x4EF6;&#x7EC4;&#x88C5;&#x6A21;&#x5757;-assembleassemble&#x4E3B;&#x8981;&#x662F;&#x5C06;&#x591A;&#x4EFD;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7EC4;&#x88C5;&#x4E3A;&#x4E00;&#x4EFD;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; 1234567891011&#x53C2;&#x6570; &#x5FC5;&#x586B; &#x9ED8;&#x8BA4; &#x9009;&#x9879; &#x8BF4;&#x660E;Backup &#x5426; No Yes/no &#x662F;&#x5426;&#x521B;&#x5EFA;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x6233;Delimiter &#x5426; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4E4B;&#x95F4;&#x7684;&#x5206;&#x9694;&#x7B26;Dest &#x662F; &#x76EE;&#x7684;&#x6587;&#x4EF6;&#x7528;&#x6765;&#x8FDE;&#x63A5;&#x6240;&#x6709;&#x7684;&#x6E90;&#x6587;&#x4EF6;Follow &#x5426; No Yes/no &#x8868;&#x793A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x94FE;&#x63A5;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF0C;&#x5E94;&#x8BE5;followGroup &#x5426; &#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x7EC4;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;chownMode &#x5426; &#x6587;&#x4EF6;&#x5C5E;&#x6027;&#xFF0C;0644&#xFF0C;&#x8BB0;&#x4F4F;&#x4FDD;&#x7559;&#x524D;&#x9762;&#x7684;0Owner &#x5426; &#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x7528;&#x6237;Regexp &#x5426; &#x7EC4;&#x88C5;&#x7684;&#x65F6;&#x5019;&#x662F;&#x5426;&#x5339;&#x914D;&#x76F8;&#x5173;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x7EC4;&#x5408;Remote_src &#x5426; True True/False False&#x8868;&#x793A;src&#x6587;&#x4EF6;&#x5728;&#x672C;&#x673A;&#x4E0A;&#xFF0C;True&#x8868;&#x793A;src&#x5728;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E0A;Src &#x662F; &#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x6587;&#x4EF6; &#x5C06;&#x672C;&#x673A;&#x4E0A;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7EC4;&#x88C5;&#x53D1;&#x9001;&#x5230;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;123456789101112131415[root@ansibleserver kel]# ansible pythonserver -m assemble -a &quot;src=/root/kel/ dest=/tmp/kel.conf remote_src=False&quot;SSH password:192.168.1.60 | success &gt;&gt; {&quot;changed&quot;: true,&quot;dest&quot;: &quot;/tmp/kel.conf&quot;,&quot;gid&quot;: 0,&quot;group&quot;: &quot;root&quot;,&quot;md5sum&quot;: &quot;23245453347840c2aa288bcc274bc298&quot;,&quot;mode&quot;: &quot;0600&quot;,&quot;owner&quot;: &quot;root&quot;,&quot;size&quot;: 32,&quot;src&quot;: &quot;/root/.ansible/tmp/ansible-tmp-1453144282.9-4482221307096/src&quot;,&quot;state&quot;: &quot;file&quot;,&quot;uid&quot;: 0} &#x5728;&#x672C;&#x673A;&#x76EE;&#x5F55;/root/kel&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x7EC4;&#x88C5;&#xFF0C;&#x53D1;&#x9001;&#x5230;&#x8FDC;&#x7A0B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/tmp/kel.conf&#x4E2D;&#xFF0C;&#x5728;&#x6B64;&#x6CE8;&#x610F;&#x53C2;&#x6570;remote_src&#x4E3A;False&#x8868;&#x793A;&#x7EC4;&#x88C5;&#x672C;&#x673A;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x5982;&#x679C;&#x5728;&#x672C;&#x673A;&#x76EE;&#x5F55;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x4F1A;&#x663E;&#x793A;python&#x4EE3;&#x7801;&#x548C;&#x4E71;&#x7801; &#x4F7F;&#x7528;&#x5206;&#x9694;&#x7B26;123456789101112131415[root@ansibleserver kel]# ansible pythonserver -m assemble -a &quot;src=/root/kel/ dest=/tmp/kel.conf remote_src=False delimiter=&apos;####&apos;&quot;SSH password:192.168.1.60 | success &gt;&gt; {&quot;changed&quot;: true,&quot;dest&quot;: &quot;/tmp/kel.conf&quot;,&quot;gid&quot;: 0,&quot;group&quot;: &quot;root&quot;,&quot;md5sum&quot;: &quot;b46dcc49d69688a6be5bfd5b82737c0c&quot;,&quot;mode&quot;: &quot;0600&quot;,&quot;owner&quot;: &quot;root&quot;,&quot;size&quot;: 42,&quot;src&quot;: &quot;/root/.ansible/tmp/ansible-tmp-1453144492.01-279709420329993/src&quot;,&quot;state&quot;: &quot;file&quot;,&quot;uid&quot;: 0} &#x4F7F;&#x7528;&#x5206;&#x9694;&#x7B26;&#x8FDB;&#x884C;&#x5206;&#x5272;&#x6BCF;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5206;&#x9694;&#x7B26;&#x53C2;&#x6570;&#x4E3A;delimiter &#x6587;&#x4EF6;&#x590D;&#x5236;&#x6A21;&#x5757;-copycopy&#x6A21;&#x5757;&#x662F;&#x5C06;&#x672C;&#x673A;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x5F53;&#x4E2D;&#xFF0C;fetch&#x6A21;&#x5757;&#x662F;&#x5C06;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x590D;&#x5236;&#x5230;&#x672C;&#x673A;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x8FC7;&#x7A0B;&#x5F53;&#x4E2D;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x53D8;&#x91CF;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F7F;&#x7528;template&#x6A21;&#x5757; 12345678910111213&#x53C2;&#x6570; &#x5FC5;&#x586B; &#x9ED8;&#x8BA4; &#x9009;&#x9879; &#x8BF4;&#x660E;Backup &#x5426; No Yes/no &#x662F;&#x5426;&#x521B;&#x5EFA;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x6233;Content &#x5426; &#x5F53;&#x4F7F;&#x7528;content&#x66FF;&#x4EE3;src&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x6587;&#x6863;&#x4E2D;&#x5185;&#x5BB9;&#x8BBE;&#x5B9A;&#x4E3A;&#x7279;&#x5B9A;&#x503C;Dest &#x662F; &#x6587;&#x4EF6;&#x590D;&#x5236;&#x7684;&#x76EE;&#x7684;&#x5730;Follow &#x5426; No Yes/no &#x8868;&#x793A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x94FE;&#x63A5;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF0C;&#x5E94;&#x8BE5;followGroup &#x5426; &#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x7EC4;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;chownMode &#x5426; &#x6587;&#x4EF6;&#x5C5E;&#x6027;&#xFF0C;0644&#xFF0C;&#x8BB0;&#x4F4F;&#x4FDD;&#x7559;&#x524D;&#x9762;&#x7684;0Owner &#x5426; &#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x7528;&#x6237;Directory_mode &#x5426; &#x8BBE;&#x5B9A;&#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x65B0;&#x5EFA;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;Remote_src &#x5426; True True/False False&#x8868;&#x793A;src&#x6587;&#x4EF6;&#x5728;&#x672C;&#x673A;&#x4E0A;&#xFF0C;True&#x8868;&#x793A;src&#x5728;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E0A;Src &#x5426; &#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x6587;&#x4EF6;Force &#x5426; No Yes/no &#x662F;&#x5426;&#x8986;&#x76D6;Validate &#x5426; &#x590D;&#x5236;&#x524D;&#x662F;&#x5426;&#x9700;&#x8981;&#x68C0;&#x9A8C;&#x590D;&#x5236;&#x7684;&#x76EE;&#x7684;&#x5730; &#x8BBE;&#x5B9A;&#x6743;&#x9650;&#x8FDB;&#x884C;&#x62F7;&#x8D1D;123456789101112131415[root@ansibleserver kel]# ansible pythonserver -m copy -a &quot;src=/root/kel/1 dest=/tmp/kel owner=root group=root mode=0777&quot;SSH password:192.168.1.60 | success &gt;&gt; {&quot;changed&quot;: true,&quot;dest&quot;: &quot;/tmp/kel&quot;,&quot;gid&quot;: 0,&quot;group&quot;: &quot;root&quot;,&quot;md5sum&quot;: &quot;799e373c68e4b72dd2eb7ed715cfced9&quot;,&quot;mode&quot;: &quot;0777&quot;,&quot;owner&quot;: &quot;root&quot;,&quot;size&quot;: 4,&quot;src&quot;: &quot;/root/.ansible/tmp/ansible-tmp-1453145233.73-276909183600356/source&quot;,&quot;state&quot;: &quot;file&quot;,&quot;uid&quot;: 0} &#x8BBE;&#x5B9A;&#x4E86;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x8BBE;&#x5B9A;mode&#x4E3A;0777&#xFF0C;&#x7528;&#x6237;&#x548C;&#x7EC4;&#x5747;&#x4E3A;root &#x62F7;&#x8D1D;&#x7684;&#x65F6;&#x5019;&#x5907;&#x4EFD;12345678910111213141516[root@ansibleserver kel]# ansible pythonserver -m copy -a &quot;src=/root/kel/1 dest=/tmp/kel owner=root group=root backup=yes&quot;SSH password:192.168.1.60 | success &gt;&gt; {&quot;backup_file&quot;: &quot;/tmp/kel.2016-01-18@14:34~&quot;,&quot;changed&quot;: true,&quot;dest&quot;: &quot;/tmp/kel&quot;,&quot;gid&quot;: 0,&quot;group&quot;: &quot;root&quot;,&quot;md5sum&quot;: &quot;a8cb3ba3ab8a8840e019c6b21521c483&quot;,&quot;mode&quot;: &quot;0777&quot;,&quot;owner&quot;: &quot;root&quot;,&quot;size&quot;: 8,&quot;src&quot;: &quot;/root/.ansible/tmp/ansible-tmp-1453145701.59-117060156554446/source&quot;,&quot;state&quot;: &quot;file&quot;,&quot;uid&quot;: 0} &#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x6587;&#x4EF6;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x5728;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E0A;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x672C;&#x673A;&#x4E0A;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x5907;&#x4EFD;&#x7684;&#x662F;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E0A;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#x6587;&#x4EF6; &#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;123456789101112131415[root@ansibleserver kel]# ansible pythonserver -m copy -a &quot;src=/etc/sudoers dest=/tmp/2 validate=&apos;visudo -cf %s&apos;&quot;SSH password:192.168.1.60 | success &gt;&gt; {&quot;changed&quot;: true,&quot;dest&quot;: &quot;/tmp/2&quot;,&quot;gid&quot;: 0,&quot;group&quot;: &quot;root&quot;,&quot;md5sum&quot;: &quot;4093e52552d97099d003c645f15f9372&quot;,&quot;mode&quot;: &quot;0644&quot;,&quot;owner&quot;: &quot;root&quot;,&quot;size&quot;: 3797,&quot;src&quot;: &quot;/root/.ansible/tmp/ansible-tmp-1453146150.33-246902811238377/source&quot;,&quot;state&quot;: &quot;file&quot;,&quot;uid&quot;: 0} &#x62F7;&#x8D1D;&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1; &#x6587;&#x4EF6;&#x62C9;&#x53D6;&#x6A21;&#x5757;-fetch&#x6587;&#x4EF6;&#x62C9;&#x53D6;&#x6A21;&#x5757;&#x4E3B;&#x8981;&#x662F;&#x5C06;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;&#x672C;&#x673A;&#x4E2D;&#xFF0C;&#x548C;copy&#x6A21;&#x5757;&#x7684;&#x4F5C;&#x7528;&#x521A;&#x521A;&#x76F8;&#x53CD;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x4FDD;&#x5B58;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;hostname&#x6765;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#xFF0C;&#x5F53;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;&#x9664;&#x975E;&#x8BBE;&#x7F6E;&#x4E86;&#x9009;&#x9879;fail_on_missing&#x4E3A;yes 123456&#x53C2;&#x6570; &#x5FC5;&#x586B; &#x9ED8;&#x8BA4;&#x503C; &#x9009;&#x9879; &#x8BF4;&#x660E;Dest Yes &#x7528;&#x6765;&#x5B58;&#x653E;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x4F8B;&#x5982;&#x5B58;&#x653E;&#x76EE;&#x5F55;&#x4E3A;backup&#xFF0C;&#x6E90;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x4E3A;/etc/profile&#x5728;&#x4E3B;&#x673A;pythonserver&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x4FDD;&#x5B58;&#x4E3A;/backup/pythonserver/etc/profileFail_on_missing No No Yes/no &#x5F53;&#x6E90;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6807;&#x8BC6;&#x4E3A;&#x5931;&#x8D25;Flat No &#x5141;&#x8BB8;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#x4ECE;hostname/path&#x5230;/file&#x7684;&#xFF0C;&#x5982;&#x679C;dest&#x4EE5;/&#x7ED3;&#x5C3E;&#xFF0C;&#x5B83;&#x5C06;&#x4F7F;&#x7528;&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x57FA;&#x7840;&#x540D;&#x79F0;Src Yes &#x5728;&#x8FDC;&#x7A0B;&#x62C9;&#x53D6;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;file&#xFF0C;&#x4E0D;&#x80FD;&#x662F;&#x76EE;&#x5F55;Validate_checksum No Yes Yes/no &#x5F53;&#x6587;&#x4EF6;fetch&#x4E4B;&#x540E;&#x8FDB;&#x884C;md5&#x68C0;&#x67E5; fetch&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;12345678[root@ansibleserver ~]# ansible pythonserver -m fetch -a &quot;src=/root/123 dest=/root&quot;SSH password:192.168.1.60 | success &gt;&gt; { &quot;changed&quot;: true, &quot;dest&quot;: &quot;/root/192.168.1.60/root/123&quot;, &quot;md5sum&quot;: &quot;31be5a34915d52fe0a433d9278e99cac&quot;, &quot;remote_md5sum&quot;: &quot;31be5a34915d52fe0a433d9278e99cac&quot;} src&#x8868;&#x793A;&#x4E3A;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E0A;&#x9700;&#x8981;&#x4F20;&#x9001;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;dest&#x8868;&#x793A;&#x4E3A;&#x672C;&#x673A;&#x4E0A;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x5728;&#x4F20;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x662F;&#x6309;&#x7167;IP&#x5730;&#x5740;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x8DEF;&#x5F84;&#x662F;&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84; &#x5728;&#x62C9;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5FC5;&#x987B;&#x62C9;&#x53D6;&#x7684;&#x662F;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x80FD;&#x62C9;&#x53D6;&#x6587;&#x4EF6;&#x5939; &#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;12345678[root@ansibleserver ~]# ansible pythonserver -m fetch -a &quot;src=/root/Ssh.py dest=/root/kel/ flat=yes&quot;SSH password:192.168.1.60 | success &gt;&gt; { &quot;changed&quot;: true, &quot;dest&quot;: &quot;/root/kel/Ssh.py&quot;, &quot;md5sum&quot;: &quot;63f8a200d1d52d41f6258b41d7f8432c&quot;, &quot;remote_md5sum&quot;: &quot;63f8a200d1d52d41f6258b41d7f8432c&quot;} &#x5728;&#x4F7F;&#x7528;&#x53C2;&#x6570;&#x4E3A;flat&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;dest&#x7684;&#x540E;&#x7F00;&#x540D;&#x4E3A;/&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x4FDD;&#x5B58;&#x5728;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x76F4;&#x63A5;&#x4FDD;&#x5B58;&#x4E3A;&#x6587;&#x4EF6;&#x540D;&#xFF1B;&#x5F53;dest&#x540E;&#x7F00;&#x4E0D;&#x4E3A;/&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x76F4;&#x63A5;&#x4FDD;&#x5B58;&#x4E3A;kel&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x4E0A;&#x4F8B;&#x6240;&#x793A;&#x3002; &#x4E3B;&#x8981;&#x662F;&#x5728;&#x4E8E;dest&#x662F;&#x5426;&#x5DF2;/&#x7ED3;&#x5C3E;&#xFF0C;&#x4ECE;&#x800C;&#x6765;&#x533A;&#x5206;&#x8FD9;&#x662F;&#x4E2A;&#x76EE;&#x5F55;&#x8FD8;&#x662F;&#x8DEF;&#x5F84;&#x3002; &#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x6A21;&#x5757;-file&#x4E3B;&#x8981;&#x7528;&#x6765;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x3001;&#x94FE;&#x63A5;&#x3001;&#x76EE;&#x5F55;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6216;&#x8005;&#x79FB;&#x9664;&#x6587;&#x4EF6;&#x3001;&#x94FE;&#x63A5;&#x3001;&#x76EE;&#x5F55;&#xFF0C;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x7684;&#x6A21;&#x5757;&#x4E5F;&#x4F1A;&#x5305;&#x542B;&#x8FD9;&#x79CD;&#x4F5C;&#x7528;&#xFF0C;&#x4F8B;&#x5982;copy&#xFF0C;assemble&#x548C;template 12345678910&#x53C2;&#x6570; &#x5FC5;&#x586B; &#x9ED8;&#x8BA4; &#x9009;&#x9879; &#x8BF4;&#x660E;Follow No No Yes/no &#x8FD9;&#x4E2A;&#x6807;&#x8BC6;&#x8BF4;&#x660E;&#x8FD9;&#x662F;&#x7CFB;&#x7EDF;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF0C;&#x5E94;&#x8BE5;&#x9075;&#x5FAA;Force No No Yes/no &#x5F3A;&#x5236;&#x521B;&#x5EFA;&#x94FE;&#x63A5;&#x5728;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF1A;&#x6E90;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF08;&#x8FC7;&#x4F1A;&#x4F1A;&#x5B58;&#x5728;&#xFF09;&#xFF1B;&#x76EE;&#x6807;&#x5B58;&#x5728;&#x4F46;&#x662F;&#x662F;&#x6587;&#x4EF6;&#xFF08;&#x521B;&#x5EFA;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#x66FF;&#x4EE3;&#xFF09;Group No &#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x7528;&#x6237;&#x7EC4;Mode No &#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x6743;&#x9650;Owner No &#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x7528;&#x6237;Path Yes &#x8981;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;Recurse No No Yes/no &#x5F53;&#x6587;&#x4EF6;&#x4E3A;&#x76EE;&#x5F55;&#x65F6;&#xFF0C;&#x662F;&#x5426;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x8BBE;&#x7F6E;&#x6743;&#x9650;Src No &#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x8DEF;&#x5F84;&#xFF0C;&#x53EA;&#x6709;&#x72B6;&#x6001;&#x4E3A;link&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x624D;&#x4F1A;&#x8BBE;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x7EDD;&#x5BF9;&#x76F8;&#x5BF9;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8DEF;&#x5F84;State No File File/link Directory Hard/touch Absent &#x5982;&#x679C;&#x662F;&#x76EE;&#x5F55;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x521B;&#x5EFA;&#x76EE;&#x5F55;&#xFF1B;&#x5982;&#x679C;&#x662F;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x90A3;&#x4E48;&#x4E0D;&#x4F1A;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#xFF1B;&#x5982;&#x679C;&#x662F;link&#xFF0C;&#x90A3;&#x4E48;&#x8F6F;&#x94FE;&#x63A5;&#x4F1A;&#x88AB;&#x521B;&#x5EFA;&#x6216;&#x8005;&#x4FEE;&#x6539;&#xFF1B;&#x5982;&#x679C;&#x662F;absent&#xFF0C;&#x90A3;&#x4E48;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x90FD;&#x4F1A;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x5982;&#x679C;&#x662F;touch&#xFF0C;&#x4F1A;&#x521B;&#x5EFA;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x548C;&#x6587;&#x4EF6; &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x5C5E;&#x6027;12345678910111213[root@ansibleserver ~]# ansible pythonserver -m file -a &quot;path=/root/123 owner=kel group=kel mode=0644&quot;SSH password:192.168.1.60 | success &gt;&gt; { &quot;changed&quot;: true, &quot;gid&quot;: 500, &quot;group&quot;: &quot;kel&quot;, &quot;mode&quot;: &quot;0644&quot;, &quot;owner&quot;: &quot;kel&quot;, &quot;path&quot;: &quot;/root/123&quot;, &quot;size&quot;: 294, &quot;state&quot;: &quot;file&quot;, &quot;uid&quot;: 500} &#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4E3A;path&#xFF0C;&#x8868;&#x793A;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x8BBE;&#x5B9A;&#x6240;&#x5C5E;&#x7528;&#x6237;&#x548C;&#x6240;&#x5C5E;&#x7528;&#x6237;&#x7EC4;&#xFF0C;&#x6743;&#x9650;&#x4E3A;0644 12345678910111213[root@ansibleserver ~]# ansible pythonserver -m file -a &quot;path=/tmp/kel/ owner=kel group=kel mode=0644 recurse=yes&quot;SSH password:192.168.1.60 | success &gt;&gt; { &quot;changed&quot;: true, &quot;gid&quot;: 500, &quot;group&quot;: &quot;kel&quot;, &quot;mode&quot;: &quot;0644&quot;, &quot;owner&quot;: &quot;kel&quot;, &quot;path&quot;: &quot;/tmp/kel/&quot;, &quot;size&quot;: 4096, &quot;state&quot;: &quot;directory&quot;, &quot;uid&quot;: 500} &#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4E3A;path&#xFF0C;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x5939;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x4FEE;&#x6539;&#x6743;&#x9650;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x53C2;&#x6570;&#x4E3A;recurse&#x8868;&#x793A;&#x4E3A;&#x9012;&#x5F52; &#x521B;&#x5EFA;&#x76EE;&#x5F55;12345678910111213[root@ansibleserver ~]# ansible pythonserver -m file -a &quot;path=/tmp/kel state=directory mode=0755&quot;SSH password:192.168.1.60 | success &gt;&gt; { &quot;changed&quot;: true, &quot;gid&quot;: 0, &quot;group&quot;: &quot;root&quot;, &quot;mode&quot;: &quot;0755&quot;, &quot;owner&quot;: &quot;root&quot;, &quot;path&quot;: &quot;/tmp/kel&quot;, &quot;size&quot;: 4096, &quot;state&quot;: &quot;directory&quot;, &quot;uid&quot;: 0} &#x521B;&#x5EFA;&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x53C2;&#x6570;&#x4E3B;&#x8981;&#x662F;state&#x4E3A;directory &#x4FEE;&#x6539;&#x6743;&#x9650;12345678910111213[root@ansibleserver ~]# ansible pythonserver -m file -a &quot;path=/tmp/kel mode=0444&quot;SSH password:192.168.1.60 | success &gt;&gt; { &quot;changed&quot;: true, &quot;gid&quot;: 0, &quot;group&quot;: &quot;root&quot;, &quot;mode&quot;: &quot;0444&quot;, &quot;owner&quot;: &quot;root&quot;, &quot;path&quot;: &quot;/tmp/kel&quot;, &quot;size&quot;: 4096, &quot;state&quot;: &quot;directory&quot;, &quot;uid&quot;: 0} &#x76F4;&#x63A5;&#x4F7F;&#x7528;mode&#x6765;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x6743;&#x9650; &#x521B;&#x5EFA;&#x8F6F;&#x8FDE;&#x63A5;1234567891011121314[root@ansibleserver tmp]# ansible pythonserver -m file -a &quot;src=/tmp/1 dest=/tmp/2 owner=kel state=link&quot;SSH password:192.168.1.60 | success &gt;&gt; { &quot;changed&quot;: true, &quot;dest&quot;: &quot;/tmp/2&quot;, &quot;gid&quot;: 0, &quot;group&quot;: &quot;root&quot;, &quot;mode&quot;: &quot;0777&quot;, &quot;owner&quot;: &quot;kel&quot;, &quot;size&quot;: 6, &quot;src&quot;: &quot;/tmp/1&quot;, &quot;state&quot;: &quot;link&quot;, &quot;uid&quot;: 500} src&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x6587;&#x4EF6;&#xFF0C;dest&#x8868;&#x793A;&#x521B;&#x5EFA;&#x7684;&#x8F6F;&#x8FDE;&#x63A5;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x6700;&#x540E;&#x7684;state&#x72B6;&#x6001;&#x4E3A;link ini&#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x6A21;&#x5757;-ini_fileIni_file&#x6A21;&#x5757;&#x4E3B;&#x8981;&#x662F;&#x7528;&#x6765;&#x8BBE;&#x7F6E;ini&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#x3002; &#x6DFB;&#x52A0;&#x3001;&#x5220;&#x9664;&#x3001;&#x4FEE;&#x6539;&#x5355;&#x72EC;&#x7684;ini&#x683C;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;&#x4E3B;&#x8981;&#x662F;&#x7528;&#x6765;&#x4FEE;&#x6539;&#x90E8;&#x5206;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;template&#x6216;&#x8005;&#x662F;assemble&#xFF0C;&#x6DFB;&#x52A0;&#x5931;&#x53BB;&#x7684;section&#x3002; 123456789101112&#x53C2;&#x6570; &#x5FC5;&#x586B; &#x9ED8;&#x8BA4; &#x9009;&#x62E9; &#x8BF4;&#x660E;Backup No No Yes/no &#x5728;&#x4FEE;&#x6539;&#x4E4B;&#x524D;&#x8FDB;&#x884C;&#x5907;&#x4EFD;Dest Yes Ini&#x7C7B;&#x578B;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x4F1A;&#x521B;&#x5EFA;Follow No No Yes/no &#x6807;&#x8BC6;&#x662F;&#x5426;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x94FE;&#x63A5;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x9075;&#x5FAA;Group No &#x7EC4;&#x540D;Mode No &#x6743;&#x9650;Option No &#x5982;&#x679C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#xFF0C;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6574;&#x6BB5;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;Others No &#x6587;&#x4EF6;&#x6A21;&#x5757;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;Owner No &#x7528;&#x6237;&#x540D;Section Yes &#x5728;ini&#x6587;&#x4EF6;&#x4E2D;&#x7684;section&#x540D;&#x79F0;&#xFF0C;&#x5982;&#x679C;&#x72B6;&#x6001;&#x4E3A;present&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x4E86;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x6DFB;&#x52A0;State No Present Absent Present &#x65B0;&#x589E;/&#x5220;&#x9664;Value No &#x8FD9;&#x4E2A;&#x503C;&#x548C;option&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x5982;&#x679C;&#x5220;&#x9664;&#x90A3;&#x4E48;&#x4F1A;&#x5FFD;&#x7565; &#x6DFB;&#x52A0;&#x5176;&#x4E2D;&#x7684;&#x8282;&#x7684;&#x503C;1234567891011121314[root@ansibleserver tmp]# ansible pythonserver -m ini_file -a &quot;dest=/tmp/kel section=kel option=kel value=kel mode=0600 backup=yes&quot;SSH password:192.168.1.60 | success &gt;&gt; { &quot;changed&quot;: true, &quot;dest&quot;: &quot;/tmp/kel&quot;, &quot;gid&quot;: 0, &quot;group&quot;: &quot;root&quot;, &quot;mode&quot;: &quot;0600&quot;, &quot;msg&quot;: &quot;OK&quot;, &quot;owner&quot;: &quot;root&quot;, &quot;size&quot;: 29, &quot;state&quot;: &quot;file&quot;, &quot;uid&quot;: 0} &#x8868;&#x793A;&#x5728;ini&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x8DEF;&#x5F84;&#x4E3A;/tmp/kel&#xFF0C;&#x8282;&#x540D;&#x79F0;&#x4E3A;kel&#xFF0C;&#x5B57;&#x7B26;&#x4E3A;kel&#x503C;&#x4E3A;kel&#xFF0C;&#x5728;&#x4FEE;&#x6539;&#x4E4B;&#x524D;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF0C;ini&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A; 123[section]key=value]]></content>
      <categories>
        <category>ansible</category>
      </categories>
      <tags>
        <tag>ansible</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用strace查故障]]></title>
    <url>%2F2018%2F05%2F07%2Fstrace%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x539F;&#x6587;&#x5730;&#x5740; &#x4EC0;&#x4E48;&#x662F;strace?strace&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8DDF;&#x8E2A;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x7684;&#x6267;&#x884C;&#x3002;&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4ECE;&#x5934;&#x5230;&#x5C3E;&#x8DDF;&#x8E2A;binary&#x7684;&#x6267;&#x884C;&#xFF0C;&#x7136;&#x540E;&#x4EE5;&#x4E00;&#x884C;&#x6587;&#x672C;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x53C2;&#x6570;&#x548C;&#x8FD4;&#x56DE;&#x503C;&#x3002; &#x5176;&#x5B9E;&#x5B83;&#x53EF;&#x4EE5;&#x505A;&#x7684;&#x66F4;&#x591A;&#xFF1A; &#x53EF;&#x4EE5;&#x5BF9;&#x7279;&#x5B9A;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x6216;&#x8005;&#x51E0;&#x7EC4;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4; &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7EDF;&#x8BA1;&#x7279;&#x5B9A;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x7684;&#x8C03;&#x7528;&#x6B21;&#x6570;&#x3001;&#x8017;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#x3001;&#x6210;&#x529F;&#x548C;&#x5931;&#x8D25;&#x7684;&#x6B21;&#x6570;&#x6765;&#x914D;&#x7F6E;(profile)&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x7684;&#x4F7F;&#x7528;I &#x8DDF;&#x8E2A;&#x53D1;&#x9001;&#x7ED9;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#x91CF; &#x53EF;&#x4EE5;&#x901A;&#x8FC7;pid&#x9644;&#x7740;(attach)&#x5230;&#x4EFB;&#x4F55;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B; &#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5176;&#x5B83;Unix&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x7C7B;&#x4F3C;&#x4E8E;&#x201D;truss&#x201D;&#x3002;&#x5176;&#x5B83;&#x66F4;&#x590D;&#x6742;&#x7684;&#x662F;Sun&#x7684;Dtrace. &#x600E;&#x4E48;&#x4F7F;&#x7528;&#x5B83;&#x627E;&#x51FA;&#x7A0B;&#x5E8F;&#x5728;startup&#x7684;&#x65F6;&#x5019;&#x8BFB;&#x53D6;&#x7684;&#x54EA;&#x4E2A;config&#x6587;&#x4EF6;&#xFF1F; &#x6709;&#x6CA1;&#x6709;&#x5C1D;&#x8FC7;&#x89E3;&#x51B3;&#x4E3A;&#x4EC0;&#x4E48;&#x67D0;&#x4E9B;&#x7A0B;&#x5E8F;&#x4E0D;&#x8BFB;&#x53BB;&#x4F60;&#x8BA4;&#x4E3A;&#x5B83;&#x5E94;&#x8BE5;&#x8BFB;&#x53D6;&#x7684;config&#x6587;&#x4EF6;&#x7684;&#x95EE;&#x9898;&#xFF1F; 123456$ strace php 2&gt;&amp;1 | grep php.ini open(&quot;/usr/local/bin/php.ini&quot;, O_RDONLY) = -1 ENOENT (No such file or directory) open(&quot;/usr/local/lib/php.ini&quot;, O_RDONLY) = 4 lstat64(&quot;/usr/local/lib/php.ini&quot;, {st_mode=S_IFLNK|0777, st_size=27, ...}) = 0 readlink(&quot;/usr/local/lib/php.ini&quot;, &quot;/usr/local/Zend/etc/php.ini&quot;, 4096) = 27 lstat64(&quot;/usr/local/Zend/etc/php.ini&quot;, {st_mode=S_IFREG|0664, st_size=40971, ...}) = 0 &#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8FD9;&#x4E2A;&#x7248;&#x672C;&#x7684;PHP&#x4ECE;/usr/local/lib/php.init&#x8BFB;&#x53D6;config&#x6587;&#x4EF6;&#xFF08;&#x4F46;&#x662F;&#x5148;&#x5C1D;&#x8BD5;/usr/locl/bin) &#x5982;&#x679C;&#x53EA;&#x5173;&#x5FC3;&#x7279;&#x5B9A;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF0C;&#x6709;&#x66F4;&#x7CBE;&#x81F4;&#x7684;&#x65B9;&#x6CD5; 123$ strace -e open php 2&gt;&amp;1 | grep php.ini open(&quot;/usr/local/bin/php.ini&quot;, O_RDONLY) = -1 ENOENT (No such file or directory) open(&quot;/usr/local/lib/php.ini&quot;, O_RDONLY) = 4 &#x76F8;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#x9002;&#x7528;&#x4E8E;&#x5F88;&#x591A;&#x5176;&#x5B83;&#x7C7B;&#x4F3C;&#x7684;&#x95EE;&#x9898;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x5B89;&#x88C5;&#x4E86;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x7684;library&#xFF0C;&#x4E0D;&#x786E;&#x5B9A;&#x5B9E;&#x9645;&#x4E0A;&#x52A0;&#x8F7D;&#x4E86;&#x54EA;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x6CA1;&#x6709;&#x6253;&#x5F00;&#x6211;&#x7684;&#x6587;&#x4EF6;&#xFF1F; &#x662F;&#x5426;&#x66FE;&#x7ECF;&#x78B0;&#x5230;&#x8FC7;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x62D2;&#x7EDD;&#x8BFB;&#x53D6;&#x5B83;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x53D1;&#x8A93;&#x539F;&#x56E0;&#x662F;&#x5B83;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x627E;&#x5230;&#x90A3;&#x4E2A;&#x6587;&#x4EF6;&#xFF1F;&#x5BF9;&#x7A0B;&#x5E8F;&#x8DDF;&#x8E2A;open,access&#x8C03;&#x7528;&#xFF0C;&#x6CE8;&#x610F;&#x5931;&#x8D25;&#x7684;&#x60C5;&#x51B5; 1$ strace -e open,access 2&gt;&amp;1 | grep your-filename &#x67D0;&#x4E2A;&#x8FDB;&#x7A0B;&#x73B0;&#x5728;&#x5728;&#x505A;&#x4EC0;&#x4E48;? &#x67D0;&#x4E2A;&#x8FDB;&#x7A0B;&#x7A81;&#x7136;&#x5360;&#x7528;&#x4E86;&#x5F88;&#x591A;CPU? &#x6216;&#x8005;&#x67D0;&#x4E2A;&#x8FDB;&#x7A0B;&#x770B;&#x8D77;&#x6765;&#x50CF;hanging&#x4E86;&#xFF1F;&#x627E;&#x5230;&#x5BF9;&#x5E94;&#x7684;pid&#xFF0C;&#x7136;&#x540E; 1234root@dev:~# strace -p 15427 Process 15427 attached - interrupt to quit futex(0x402f4900, FUTEX_WAIT, 2, NULL Process 15427 detached &#x55EF;&#xFF0C;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x91CC;&#x9762;&#xFF0C;&#x5B83;&#x5728;&#x8C03;&#x7528;futex()&#x7684;&#x65F6;&#x5019;&#x6302;&#x8D77;&#x4E86;&#x3002; -p```&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x5B83;&#x51CF;&#x5C11;&#x4E86;&#x5F88;&#x591A;&#x731C;&#x6D4B;&#x5DE5;&#x4F5C;&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x5E94;&#x7528;&#x3002;1234567891011121314151617## &#x662F;&#x8C01;&#x5077;&#x8D70;&#x4E86;&#x65F6;&#x95F4;&#xFF1F;&gt; &#x4F60;&#x53EF;&#x4EE5;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;app&#xFF0C;&#x6253;&#x5F00;profiling&#xFF0C;&#x4EE5;&#x83B7;&#x53D6;&#x7CBE;&#x786E;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x4F46;&#x662F;&#x901A;&#x5E38;&#x5229;&#x7528;strace&#x9644;&#x7740;(attach&#xFF09;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4EE5;&#x5FEB;&#x901F;&#x5730;&#x770B;&#x4E00;&#x4E0B;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x82B1;&#x8D39;&#x5728;&#x54EA;&#x91CC;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002;&#x53EF;&#x4EE5;&#x770B;&#x4E0B;&#x662F;&#x5426;90%&#x7684;CPU&#x7528;&#x5728;&#x771F;&#x6B63;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x6216;&#x8005;&#x7528;&#x5728;&#x5176;&#x5B83;&#x65B9;&#x9762;&#x4E86;&#x3002;``` bashroot@dev:~# strace -c -p 11084 Process 11084 attached - interrupt to quit Process 11084 detached % time seconds usecs/call calls errors syscall ------ ----------- ----------- --------- --------- ---------------- 94.59 0.001014 48 21 select 2.89 0.000031 1 21 getppid 2.52 0.000027 1 21 time ------ ----------- ----------- --------- --------- ---------------- 100.00 0.001072 63 total root@dev:~# &#x5728;&#x6267;&#x884C;strace -c -p&#x547D;&#x4EE4;&#x4EE5;&#x540E;&#xFF0C;&#x7B49;&#x5230;&#x4F60;&#x5173;&#x6CE8;&#x7684;&#x65F6;&#x95F4;&#x5230;&#x4E86;&#x540E;&#xFF0C;&#x6309;ctrl-c&#x9000;&#x51FA;&#xFF0C;strace&#x4F1A;&#x5217;&#x51FA;&#x5982;&#x4E0A;&#x7684;profiling&#x6570;&#x636E;&#x3002; &#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x7A0B;&#x5E8F;&#x82B1;&#x4E86;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x65F6;&#x95F4;&#x5728;&#x7B49;&#x5F85;select()&#x3002;&#x5B83;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;slect()&#x8C03;&#x7528;&#x8FD9;&#x4EF6;&#x8C03;&#x7528;getpid()&#x548C;time()&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x5178;&#x578B;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3002; &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x201D;start to finish&#x201D;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x201D;ls&#x201D; 123456789101112131415161718192021222324root@dev:~# strace -c &gt;/dev/null ls % time seconds usecs/call calls errors syscall ------ ----------- ----------- --------- --------- ---------------- 23.62 0.000205 103 2 getdents64 18.78 0.000163 15 11 1 open 15.09 0.000131 19 7 read 12.79 0.000111 7 16 old_mmap 7.03 0.000061 6 11 close 4.84 0.000042 11 4 munmap 4.84 0.000042 11 4 mmap2 4.03 0.000035 6 6 6 access 3.80 0.000033 3 11 fstat64 1.38 0.000012 3 4 brk 0.92 0.000008 3 3 3 ioctl 0.69 0.000006 6 1 uname 0.58 0.000005 5 1 set_thread_area 0.35 0.000003 3 1 write 0.35 0.000003 3 1 rt_sigaction 0.35 0.000003 3 1 fcntl64 0.23 0.000002 2 1 getrlimit 0.23 0.000002 2 1 set_tid_address 0.12 0.000001 1 1 rt_sigprocmask ------ ----------- ----------- --------- --------- ---------------- 100.00 0.000868 87 10 total &#x6B63;&#x5982;&#x4F60;&#x7684;&#x9884;&#x671F;&#xFF0C;&#x5B83;&#x8017;&#x8D39;&#x4E86;&#x5927;&#x90E8;&#x5206;&#x65F6;&#x95F4;&#x5728;&#x4E24;&#x6B21;&#x8C03;&#x7528;&#x6765;&#x8BFB;&#x53D6;&#x76EE;&#x5F55;&#x6761;&#x76EE;&#x4E0A;&#xFF08;&#x56E0;&#x4E3A;&#x8FD0;&#x884C;&#x4E8E;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x76EE;&#x5F55;&#x4E0A;&#xFF0C;&#x6240;&#x6709;&#x53EA;&#x6709;&#x4E24;&#x6B21;&#xFF09; &#x4E3A;&#x4EC0;&#x4E48; &#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x5230;&#x670D;&#x52A1;&#x5668;?&#x8C03;&#x8BD5;&#x8FDB;&#x7A0B;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x5230;&#x8FDC;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x6709;&#x65F6;&#x5019;&#x662F;&#x4EF6;&#x975E;&#x5E38;&#x5934;&#x75DB;&#x7684;&#x4E8B;&#x3002;DNS&#x4F1A;&#x5931;&#x8D25;&#xFF0C;connect&#x4F1A;&#x6302;&#x8D77;&#xFF0C;server&#x6709;&#x53EF;&#x80FD;&#x8FD4;&#x56DE;&#x4E00;&#x4E9B;&#x610F;&#x6599;&#x4E4B;&#x5916;&#x7684;&#x6570;&#x636E;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;tcpdump&#x6765;&#x5206;&#x6790;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x68D2;&#x7684;&#x5DE5;&#x4F5C;&#x3002;&#x4F46;&#x662F;&#x6709;&#x65F6;&#x5019;&#x4F60;strace&#x53EF;&#x4EE5;&#x7ED9;&#x4F60;&#x66F4;&#x7B80;&#x5355;&#xFF0C;&#x803F;&#x76F4;&#x501F;&#x7684;&#x89D2;&#x5EA6;&#xFF0C;&#x56E0;&#x4E3A;strace&#x53EA;&#x8FD4;&#x56DE;&#x4F60;&#x7684;&#x8FDB;&#x7A0B;&#x76F8;&#x5173;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x4EA7;&#x751F;&#x7684;&#x6570;&#x636E;&#x3002;&#x5982;&#x679C;&#x4F60;&#x8981;&#x4ECE;100&#x4E2A;&#x8FDE;&#x63A5;&#x5230;&#x7EDF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FD0;&#x884C;&#x8FDB;&#x7A0B;&#x91CC;&#x9762;&#x627E;&#x51FA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x6240;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x7528;strace&#x5C31;&#x6BD4;tcpdump&#x7B80;&#x5355;&#x5F97;&#x591A;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x8DDF;&#x8E2A;&#x201D;nc&#x201D;&#x8FDE;&#x63A5;&#x5230;www.news.com 80&#x7AEF;&#x53E3;&#x7684;&#x4F8B;&#x5B50; 123456789101112131415161718192021$ strace -e poll,select,connect,recvfrom,sendto nc www.news.com 80 sendto(3, &quot;\\24\\0\\0\\0\\26\\0\\1\\3\\255\\373NH\\0\\0\\0\\0\\0\\0\\0\\0&quot;, 20, 0, {sa_family=AF_NETLINK, pid=0, groups=00000000}, 12) = 20 connect(3, {sa_family=AF_FILE, path=&quot;/var/run/nscd/socket&quot;}, 110) = -1 ENOENT (No such file or directory) connect(3, {sa_family=AF_FILE, path=&quot;/var/run/nscd/socket&quot;}, 110) = -1 ENOENT (No such file or directory) connect(3, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(&quot;62.30.112.39&quot;)}, 28) = 0 poll([{fd=3, events=POLLOUT, revents=POLLOUT}], 1, 0) = 1 sendto(3, &quot;\\213\\321\\1\\0\\0\\1\\0\\0\\0\\0\\0\\0\\3www\\4news\\3com\\0\\0\\34\\0\\1&quot;, 30, MSG_NOSIGNAL, NULL, 0) = 30 poll([{fd=3, events=POLLIN, revents=POLLIN}], 1, 5000) = 1 recvfrom(3, &quot;\\213\\321\\201\\200\\0\\1\\0\\1\\0\\1\\0\\0\\3www\\4news\\3com\\0\\0\\34\\0\\1\\300\\f&quot;..., 1024, 0, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(&quot;62.30.112.39&quot;)}, [16]) = 153 connect(3, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(&quot;62.30.112.39&quot;)}, 28) = 0 poll([{fd=3, events=POLLOUT, revents=POLLOUT}], 1, 0) = 1 sendto(3, &quot;k\\374\\1\\0\\0\\1\\0\\0\\0\\0\\0\\0\\3www\\4news\\3com\\0\\0\\1\\0\\1&quot;, 30, MSG_NOSIGNAL, NULL, 0) = 30 poll([{fd=3, events=POLLIN, revents=POLLIN}], 1, 5000) = 1 recvfrom(3, &quot;k\\374\\201\\200\\0\\1\\0\\2\\0\\0\\0\\0\\3www\\4news\\3com\\0\\0\\1\\0\\1\\300\\f&quot;..., 1024, 0, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(&quot;62.30.112.39&quot;)}, [16]) = 106 connect(3, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(&quot;62.30.112.39&quot;)}, 28) = 0 poll([{fd=3, events=POLLOUT, revents=POLLOUT}], 1, 0) = 1 sendto(3, &quot;\\\\\\2\\1\\0\\0\\1\\0\\0\\0\\0\\0\\0\\3www\\4news\\3com\\0\\0\\1\\0\\1&quot;, 30, MSG_NOSIGNAL, NULL, 0) = 30 poll([{fd=3, events=POLLIN, revents=POLLIN}], 1, 5000) = 1 recvfrom(3, &quot;\\\\\\2\\201\\200\\0\\1\\0\\2\\0\\0\\0\\0\\3www\\4news\\3com\\0\\0\\1\\0\\1\\300\\f&quot;..., 1024, 0, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(&quot;62.30.112.39&quot;)}, [16]) = 106 connect(3, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr(&quot;216.239.122.102&quot;)}, 16) = -1 EINPROGRESS (Operation now in progress) select(4, NULL, [3], NULL, NULL) = 1 (out [3]) &#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48;&#xFF1F;&#x6CE8;&#x610F;&#x5230;&#x5C1D;&#x8BD5;&#x8FDE;&#x63A5;/var/run/nscd/socket?&#x8FD9;&#x610F;&#x5473;&#x7740;nc&#x9996;&#x5148;&#x5C1D;&#x8BD5;&#x8FDE;&#x63A5;NSCD&#x2013;the Name Service Cache Daemon&#x2013;&#x5B83;&#x901A;&#x5E38;&#x7528;&#x6765;&#x57FA;&#x4E8E;NIS,YP,LDAP&#x6216;&#x8005;&#x7C7B;&#x4F3C;&#x7684;&#x76EE;&#x5F55;&#x534F;&#x8BAE;&#x63D0;&#x4F9B;&#x57DF;&#x540D;&#x67E5;&#x8BE2;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#x5B83;&#x5931;&#x8D25;&#x4E86;&#x3002;&#x7136;&#x540E;&#x5B83;&#x8FDE;&#x63A5;DNS&#xFF08;DNS&#x662F;port 53,&#x6240;&#x4EE5;&#x201D;sin_port=htons(53)&#x201D;)&#x3002;&#x7136;&#x540E;&#x5B83;&#x8C03;&#x7528;&#x4E86;&#x201D;sendto&#xFF08;&#xFF09;&#x201C;,&#x53D1;&#x9001;&#x5305;&#x542B;www.news.com&#x7684;DNS &#x5305;&#x3002;&#x7136;&#x540E;&#x8BFB;&#x56DE;&#x54CD;&#x5E94;&#x3002;&#x4E0D;&#x77E5;&#x4E3A;&#x4F55;&#xFF0C;&#x5B83;&#x5C1D;&#x8BD5;&#x4E86;&#x4E09;&#x6B21;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x6709;&#x7EC6;&#x5FAE;&#x7684;&#x5374;&#x522B;&#xFF0C;&#x6211;&#x731C;&#x662F;&#x5B83;www.news.com&#x5341;&#x4E00;&#x4E2A;CNAME&#xFF08;&#x522B;&#x540D;&#xFF09;&#xFF0C;&#x591A;&#x6B21;&#x8BF7;&#x6C42;&#x53EF;&#x80FD;&#x662F;nc&#x6545;&#x610F;&#x7684;&#x3002; &#x6700;&#x540E;&#xFF0C;&#x5B83;&#x53D1;&#x8D77;&#x4E00;&#x4E2A;connect()&#x8BF7;&#x6C42;&#x5230;&#x5F97;&#x5230;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x6CE8;&#x610F;&#x5230;&#x8FD4;&#x56DE;&#x503C;&#x662F;EINPROGRESS&#x3002;&#x8FD9;&#x610F;&#x5473;&#x8FD9;connect&#x662F;&#x975E;&#x963B;&#x585E;&#x7684;&#xFF0C;nc&#x5E0C;&#x671B;&#x7EE7;&#x7EED;&#x5904;&#x7406;&#xFF0C;&#x7136;&#x540E;&#x5B83;&#x8C03;&#x7528;slect()&#xFF0C;&#x8FDE;&#x63A5;&#x5EFA;&#x7ACB;&#x540E;&#xFF0C;select&#x8FD4;&#x56DE;&#x6210;&#x529F;&#x3002; &#x6DFB;&#x52A0;&#x201D;read&#x201D;,&#x201D;write&#x201D;&#x5230;&#x8FC7;&#x6EE4;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x8FDE;&#x63A5;&#x65F6;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x5B57;&#x4E32;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5F97;&#x5230;&#x5982;&#x4E0B; 1234567Notice the connection attempts to /var/run/nscd/socket? They mean nc first tries to connect to NSCD - the Name Service Cache Daemon - which is usually used in setups that rely on NIS, YP, LDAP or similar directory protocols for name lookups. In this case the connects fails.It then moves on to DNS (DNS is port 53, hence the &quot;sin_port=htons(53)&quot; in the following connect. You can see it then does a &quot;sendto()&quot; call, sending a DNS packet that contains www.news.com. It then reads back a packet. For whatever reason it tries three times, the last with a slightly different request. My best guess why in this case is that www.news.com is a CNAME (an &quot;alias&quot;), and the multiple requests may just be an artifact of how nc deals with that.Then in the end, it finally issues a connect() to the IP it found. Notice it returns EINPROGRESS. That means the connect was non-blocking - nc wants to Go on processing. It then calls select(), which succeeds when the connection was successful.Try adding &quot;read&quot; and &quot;write&quot; to the list of syscalls given to strace and enter a string when connected, and you&apos;ll get something like this: 1234read(0, &quot;test\\n&quot;, 1024) = 5 write(3, &quot;test\\n&quot;, 5) = 5 poll([{fd=3, events=POLLIN, revents=POLLIN}, {fd=0, events=POLLIN}], 2, -1) = 1 read(3, &quot; &#x8FD9;&#x8868;&#x793A;&#x4ECE;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x5165;&#x201D;test&#x201D;+&#x6362;&#x884C;&#x7B26;&#xFF0C;&#x5E76;&#x5199;&#x5230;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;poll&#x7B49;&#x5F85;&#x54CD;&#x5E94;&#xFF0C;&#x8BFB;&#x53D6;&#x54CD;&#x5E94;&#xFF0C;&#x5199;&#x56DE;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x3002; &#x4E00;&#x5207;&#x770B;&#x8D77;&#x6765;&#x90FD;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002;]]></content>
  </entry>
  <entry>
    <title><![CDATA[systemd使用配置教程]]></title>
    <url>%2F2018%2F05%2F04%2Fsystemd-config%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;Systemd &#x662F; Linux &#x7CFB;&#x7EDF;&#x5DE5;&#x5177;&#xFF0C;&#x7528;&#x6765;&#x542F;&#x52A8;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x5DF2;&#x6210;&#x4E3A;&#x5927;&#x591A;&#x6570;&#x53D1;&#x884C;&#x7248;&#x7684;&#x6807;&#x51C6;&#x914D;&#x7F6E;&#x3002; &#x672C;&#x6587;&#x53D6;&#x81EA;12 &#x7531;&#x6765;&#x5386;&#x53F2;&#x4E0A;&#xFF0C;Linux &#x7684;&#x542F;&#x52A8;&#x4E00;&#x76F4;&#x91C7;&#x7528;init&#x8FDB;&#x7A0B;&#x3002; &#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x7528;&#x6765;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x3002; 123$ sudo /etc/init.d/apache2 start# &#x6216;&#x8005;$ service apache2 start &#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x6709;&#x4E24;&#x4E2A;&#x7F3A;&#x70B9;&#x3002; &#x662F;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x957F;&#x3002;init&#x8FDB;&#x7A0B;&#x662F;&#x4E32;&#x884C;&#x542F;&#x52A8;&#xFF0C;&#x53EA;&#x6709;&#x524D;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x5B8C;&#xFF0C;&#x624D;&#x4F1A;&#x542F;&#x52A8;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x3002; &#x662F;&#x542F;&#x52A8;&#x811A;&#x672C;&#x590D;&#x6742;&#x3002;init&#x8FDB;&#x7A0B;&#x53EA;&#x662F;&#x6267;&#x884C;&#x542F;&#x52A8;&#x811A;&#x672C;&#xFF0C;&#x4E0D;&#x7BA1;&#x5176;&#x4ED6;&#x4E8B;&#x60C5;&#x3002;&#x811A;&#x672C;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5904;&#x7406;&#x5404;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x8FD9;&#x5F80;&#x5F80;&#x4F7F;&#x5F97;&#x811A;&#x672C;&#x53D8;&#x5F97;&#x5F88;&#x957F;&#x3002; Systemd &#x6982;&#x8FF0;Systemd &#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x800C;&#x8BDE;&#x751F;&#x7684;&#x3002;&#x5B83;&#x7684;&#x8BBE;&#x8BA1;&#x76EE;&#x6807;&#x662F;&#xFF0C;&#x4E3A;&#x7CFB;&#x7EDF;&#x7684;&#x542F;&#x52A8;&#x548C;&#x7BA1;&#x7406;&#x63D0;&#x4F9B;&#x4E00;&#x5957;&#x5B8C;&#x6574;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; &#x6839;&#x636E; Linux &#x60EF;&#x4F8B;&#xFF0C;&#x5B57;&#x6BCD;d&#x662F;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF08;daemon&#xFF09;&#x7684;&#x7F29;&#x5199;&#x3002; Systemd &#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x7684;&#x542B;&#x4E49;&#xFF0C;&#x5C31;&#x662F;&#x5B83;&#x8981;&#x5B88;&#x62A4;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x3002; &#xFF08;&#x4E0A;&#x56FE;&#x4E3A; Systemd &#x4F5C;&#x8005; Lennart Poettering&#xFF09; &#x4F7F;&#x7528;&#x4E86; Systemd&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x7528;init&#x4E86;&#x3002;Systemd &#x53D6;&#x4EE3;&#x4E86;initd&#xFF0C;&#x6210;&#x4E3A;&#x7CFB;&#x7EDF;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF08;PID &#x7B49;&#x4E8E; 1&#xFF09;&#xFF0C;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x90FD;&#x662F;&#x5B83;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x3002; 1$ systemctl --version &#x4E0A;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x67E5;&#x770B; Systemd &#x7684;&#x7248;&#x672C;&#x3002; Systemd &#x7684;&#x4F18;&#x70B9;&#x662F;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x4FBF;&#xFF0C;&#x7F3A;&#x70B9;&#x662F;&#x4F53;&#x7CFB;&#x5E9E;&#x5927;&#xFF0C;&#x975E;&#x5E38;&#x590D;&#x6742;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x73B0;&#x5728;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x4EBA;&#x53CD;&#x5BF9;&#x4F7F;&#x7528; Systemd&#xFF0C;&#x7406;&#x7531;&#x5C31;&#x662F;&#x5B83;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#xFF0C;&#x4E0E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x5F3A;&#x8026;&#x5408;&#xFF0C;&#x8FDD;&#x53CD;&#x201D;keep simple, keep stupid&#x201D;&#x7684;Unix &#x54F2;&#x5B66;&#x3002; &#xFF08;&#x4E0A;&#x56FE;&#x4E3A; Systemd &#x67B6;&#x6784;&#x56FE;&#xFF09; &#x7CFB;&#x7EDF;&#x7BA1;&#x7406;Systemd &#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x800C;&#x662F;&#x4E00;&#x7EC4;&#x547D;&#x4EE4;&#xFF0C;&#x6D89;&#x53CA;&#x5230;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x7684;&#x65B9;&#x65B9;&#x9762;&#x9762;&#x3002; systemctlsystemctl&#x662F; Systemd &#x7684;&#x4E3B;&#x547D;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x3002; 123456789101112131415161718192021# &#x91CD;&#x542F;&#x7CFB;&#x7EDF;$ sudo systemctl reboot# &#x5173;&#x95ED;&#x7CFB;&#x7EDF;&#xFF0C;&#x5207;&#x65AD;&#x7535;&#x6E90;$ sudo systemctl poweroff# CPU&#x505C;&#x6B62;&#x5DE5;&#x4F5C;$ sudo systemctl halt# &#x6682;&#x505C;&#x7CFB;&#x7EDF;$ sudo systemctl suspend# &#x8BA9;&#x7CFB;&#x7EDF;&#x8FDB;&#x5165;&#x51AC;&#x7720;&#x72B6;&#x6001;$ sudo systemctl hibernate# &#x8BA9;&#x7CFB;&#x7EDF;&#x8FDB;&#x5165;&#x4EA4;&#x4E92;&#x5F0F;&#x4F11;&#x7720;&#x72B6;&#x6001;$ sudo systemctl hybrid-sleep# &#x542F;&#x52A8;&#x8FDB;&#x5165;&#x6551;&#x63F4;&#x72B6;&#x6001;&#xFF08;&#x5355;&#x7528;&#x6237;&#x72B6;&#x6001;&#xFF09;$ sudo systemctl rescue systemd-analyzesystemd-analyze&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x770B;&#x542F;&#x52A8;&#x8017;&#x65F6;&#x3002; 1234567891011# &#x67E5;&#x770B;&#x542F;&#x52A8;&#x8017;&#x65F6;$ systemd-analyze # &#x67E5;&#x770B;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x8017;&#x65F6;$ systemd-analyze blame# &#x663E;&#x793A;&#x7011;&#x5E03;&#x72B6;&#x7684;&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#x6D41;$ systemd-analyze critical-chain# &#x663E;&#x793A;&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x6D41;$ systemd-analyze critical-chain atd.service hostnamectlhostnamectl&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x4E3B;&#x673A;&#x7684;&#x4FE1;&#x606F;&#x3002; 12345# &#x663E;&#x793A;&#x5F53;&#x524D;&#x4E3B;&#x673A;&#x7684;&#x4FE1;&#x606F;$ hostnamectl# &#x8BBE;&#x7F6E;&#x4E3B;&#x673A;&#x540D;&#x3002;$ sudo hostnamectl set-hostname rhel7 localectllocalectl&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x770B;&#x672C;&#x5730;&#x5316;&#x8BBE;&#x7F6E;&#x3002; 123456# &#x67E5;&#x770B;&#x672C;&#x5730;&#x5316;&#x8BBE;&#x7F6E;$ localectl# &#x8BBE;&#x7F6E;&#x672C;&#x5730;&#x5316;&#x53C2;&#x6570;&#x3002;$ sudo localectl set-locale LANG=en_GB.utf8$ sudo localectl set-keymap en_GB timedatectltimedatectl&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x65F6;&#x533A;&#x8BBE;&#x7F6E;&#x3002; 12345678910# &#x67E5;&#x770B;&#x5F53;&#x524D;&#x65F6;&#x533A;&#x8BBE;&#x7F6E;$ timedatectl# &#x663E;&#x793A;&#x6240;&#x6709;&#x53EF;&#x7528;&#x7684;&#x65F6;&#x533A;$ timedatectl list-timezones # &#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x65F6;&#x533A;$ sudo timedatectl set-timezone America/New_York$ sudo timedatectl set-time YYYY-MM-DD$ sudo timedatectl set-time HH:MM:SS loginctlloginctl&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x3002; 12345678# &#x5217;&#x51FA;&#x5F53;&#x524D;session$ loginctl list-sessions# &#x5217;&#x51FA;&#x5F53;&#x524D;&#x767B;&#x5F55;&#x7528;&#x6237;$ loginctl list-users# &#x5217;&#x51FA;&#x663E;&#x793A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;$ loginctl show-user ruanyf Unit&#x542B;&#x4E49;Systemd &#x53EF;&#x4EE5;&#x7BA1;&#x7406;&#x6240;&#x6709;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x3002;&#x4E0D;&#x540C;&#x7684;&#x8D44;&#x6E90;&#x7EDF;&#x79F0;&#x4E3A; Unit&#xFF08;&#x5355;&#x4F4D;&#xFF09;&#x3002; Unit &#x4E00;&#x5171;&#x5206;&#x6210;12&#x79CD;&#x3002; 123456789101112Service unit&#xFF1A;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;Target unit&#xFF1A;&#x591A;&#x4E2A; Unit &#x6784;&#x6210;&#x7684;&#x4E00;&#x4E2A;&#x7EC4;Device Unit&#xFF1A;&#x786C;&#x4EF6;&#x8BBE;&#x5907;Mount Unit&#xFF1A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x6302;&#x8F7D;&#x70B9;Automount Unit&#xFF1A;&#x81EA;&#x52A8;&#x6302;&#x8F7D;&#x70B9;Path Unit&#xFF1A;&#x6587;&#x4EF6;&#x6216;&#x8DEF;&#x5F84;Scope Unit&#xFF1A;&#x4E0D;&#x662F;&#x7531; Systemd &#x542F;&#x52A8;&#x7684;&#x5916;&#x90E8;&#x8FDB;&#x7A0B;Slice Unit&#xFF1A;&#x8FDB;&#x7A0B;&#x7EC4;Snapshot Unit&#xFF1A;Systemd &#x5FEB;&#x7167;&#xFF0C;&#x53EF;&#x4EE5;&#x5207;&#x56DE;&#x67D0;&#x4E2A;&#x5FEB;&#x7167;Socket Unit&#xFF1A;&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x7684; socketSwap Unit&#xFF1A;swap &#x6587;&#x4EF6;Timer Unit&#xFF1A;&#x5B9A;&#x65F6;&#x5668; systemctl list-units&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7684;&#x6240;&#x6709; Unit &#x3002; 1234567891011121314# &#x5217;&#x51FA;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684; Unit$ systemctl list-units# &#x5217;&#x51FA;&#x6240;&#x6709;Unit&#xFF0C;&#x5305;&#x62EC;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6216;&#x8005;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x7684;$ systemctl list-units --all# &#x5217;&#x51FA;&#x6240;&#x6709;&#x6CA1;&#x6709;&#x8FD0;&#x884C;&#x7684; Unit$ systemctl list-units --all --state=inactive# &#x5217;&#x51FA;&#x6240;&#x6709;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x7684; Unit$ systemctl list-units --failed# &#x5217;&#x51FA;&#x6240;&#x6709;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x3001;&#x7C7B;&#x578B;&#x4E3A; service &#x7684; Unit$ systemctl list-units --type=service Unit &#x7684;&#x72B6;&#x6001;systemctl status&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#x548C;&#x5355;&#x4E2A; Unit &#x7684;&#x72B6;&#x6001;&#x3002; 12345678910111213141516171819# &#x663E;&#x793A;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;$ systemctl status# &#x663E;&#x793A;&#x5355;&#x4E2A; Unit &#x7684;&#x72B6;&#x6001;$ sysystemctl status bluetooth.service# &#x663E;&#x793A;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x7684;&#x67D0;&#x4E2A; Unit &#x7684;&#x72B6;&#x6001;$ systemctl -H root@rhel7.example.com status httpd.service&#x9664;&#x4E86;status&#x547D;&#x4EE4;&#xFF0C;systemctl&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x4E09;&#x4E2A;&#x67E5;&#x8BE2;&#x72B6;&#x6001;&#x7684;&#x7B80;&#x5355;&#x65B9;&#x6CD5;&#xFF0C;&#x4E3B;&#x8981;&#x4F9B;&#x811A;&#x672C;&#x5185;&#x90E8;&#x7684;&#x5224;&#x65AD;&#x8BED;&#x53E5;&#x4F7F;&#x7528;&#x3002;# &#x663E;&#x793A;&#x67D0;&#x4E2A; Unit &#x662F;&#x5426;&#x6B63;&#x5728;&#x8FD0;&#x884C;$ systemctl is-active application.service# &#x663E;&#x793A;&#x67D0;&#x4E2A; Unit &#x662F;&#x5426;&#x5904;&#x4E8E;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x72B6;&#x6001;$ systemctl is-failed application.service# &#x663E;&#x793A;&#x67D0;&#x4E2A; Unit &#x670D;&#x52A1;&#x662F;&#x5426;&#x5EFA;&#x7ACB;&#x4E86;&#x542F;&#x52A8;&#x94FE;&#x63A5;$ systemctl is-enabled application.service Unit &#x7BA1;&#x7406;&#x5BF9;&#x4E8E;&#x7528;&#x6237;&#x6765;&#x8BF4;&#xFF0C;&#x6700;&#x5E38;&#x7528;&#x7684;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62; Unit&#xFF08;&#x4E3B;&#x8981;&#x662F; service&#xFF09;&#x3002; 1234567891011121314151617181920212223242526# &#x7ACB;&#x5373;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x670D;&#x52A1;$ sudo systemctl start apache.service# &#x7ACB;&#x5373;&#x505C;&#x6B62;&#x4E00;&#x4E2A;&#x670D;&#x52A1;$ sudo systemctl stop apache.service# &#x91CD;&#x542F;&#x4E00;&#x4E2A;&#x670D;&#x52A1;$ sudo systemctl restart apache.service# &#x6740;&#x6B7B;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x6240;&#x6709;&#x5B50;&#x8FDB;&#x7A0B;$ sudo systemctl kill apache.service# &#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;$ sudo systemctl reload apache.service# &#x91CD;&#x8F7D;&#x6240;&#x6709;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;$ sudo systemctl daemon-reload# &#x663E;&#x793A;&#x67D0;&#x4E2A; Unit &#x7684;&#x6240;&#x6709;&#x5E95;&#x5C42;&#x53C2;&#x6570;$ systemctl show httpd.service# &#x663E;&#x793A;&#x67D0;&#x4E2A; Unit &#x7684;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x7684;&#x503C;$ systemctl show -p CPUShares httpd.service# &#x8BBE;&#x7F6E;&#x67D0;&#x4E2A; Unit &#x7684;&#x6307;&#x5B9A;&#x5C5E;&#x6027;$ sudo systemctl set-property httpd.service CPUShares=500 &#x4F9D;&#x8D56;&#x5173;&#x7CFB;Unit &#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF1A;A &#x4F9D;&#x8D56;&#x4E8E; B&#xFF0C;&#x5C31;&#x610F;&#x5473;&#x7740; Systemd &#x5728;&#x542F;&#x52A8; A &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x540C;&#x65F6;&#x4F1A;&#x53BB;&#x542F;&#x52A8; B&#x3002; systemctl list-dependencies&#x547D;&#x4EE4;&#x5217;&#x51FA;&#x4E00;&#x4E2A; Unit &#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x3002; 12345$ systemctl list-dependencies nginx.service&#x4E0A;&#x9762;&#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4E4B;&#x4E2D;&#xFF0C;&#x6709;&#x4E9B;&#x4F9D;&#x8D56;&#x662F; Target &#x7C7B;&#x578B;&#xFF08;&#x8BE6;&#x89C1;&#x4E0B;&#x6587;&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x5C55;&#x5F00;&#x663E;&#x793A;&#x3002;&#x5982;&#x679C;&#x8981;&#x5C55;&#x5F00; Target&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528;--all&#x53C2;&#x6570;&#x3002;$ systemctl list-dependencies --all nginx.service Unit &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6982;&#x8FF0;&#x6BCF;&#x4E00;&#x4E2A; Unit &#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x544A;&#x8BC9; Systemd &#x600E;&#x4E48;&#x542F;&#x52A8;&#x8FD9;&#x4E2A; Unit &#x3002; Systemd &#x9ED8;&#x8BA4;&#x4ECE;&#x76EE;&#x5F55;/etc/systemd/system/&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7684;&#x5927;&#x90E8;&#x5206;&#x6587;&#x4EF6;&#x90FD;&#x662F;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#xFF0C;&#x6307;&#x5411;&#x76EE;&#x5F55;/usr/lib/systemd/system/&#xFF0C;&#x771F;&#x6B63;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x5728;&#x90A3;&#x4E2A;&#x76EE;&#x5F55;&#x3002; systemctl enable&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x5728;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x76EE;&#x5F55;&#x4E4B;&#x95F4;&#xFF0C;&#x5EFA;&#x7ACB;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x5173;&#x7CFB;&#x3002; 123$ sudo systemctl enable clamd@scan.service# &#x7B49;&#x540C;&#x4E8E;$ sudo ln -s &apos;/usr/lib/systemd/system/clamd@scan.service&apos; &apos;/etc/systemd/system/multi-user.target.wants/clamd@scan.service&apos; &#x5982;&#x679C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x8BBE;&#x7F6E;&#x4E86;&#x5F00;&#x673A;&#x542F;&#x52A8;&#xFF0C;systemctl enable&#x547D;&#x4EE4;&#x76F8;&#x5F53;&#x4E8E;&#x6FC0;&#x6D3B;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x3002; &#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684;&#xFF0C;systemctl disable&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x5728;&#x4E24;&#x4E2A;&#x76EE;&#x5F55;&#x4E4B;&#x95F4;&#xFF0C;&#x64A4;&#x9500;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x5173;&#x7CFB;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x64A4;&#x9500;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x3002; 1$ sudo systemctl disable clamd@scan.service &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x540E;&#x7F00;&#x540D;&#xFF0C;&#x5C31;&#x662F;&#x8BE5; Unit &#x7684;&#x79CD;&#x7C7B;&#xFF0C;&#x6BD4;&#x5982;sshd.socket&#x3002;&#x5982;&#x679C;&#x7701;&#x7565;&#xFF0C;Systemd &#x9ED8;&#x8BA4;&#x540E;&#x7F00;&#x540D;&#x4E3A;.service&#xFF0C;&#x6240;&#x4EE5;sshd&#x4F1A;&#x88AB;&#x7406;&#x89E3;&#x6210;sshd.service&#x3002; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x72B6;&#x6001;systemctl list-unit-files&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x5217;&#x51FA;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; 12345# &#x5217;&#x51FA;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x6587;&#x4EF6;$ systemctl list-unit-files# &#x5217;&#x51FA;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;$ systemctl list-unit-files --type=service &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x4F1A;&#x8F93;&#x51FA;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x3002; 123456$ systemctl list-unit-filesUNIT FILE STATEchronyd.service enabledclamd@.service staticclamd@scan.service disabled &#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x663E;&#x793A;&#x6BCF;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4E00;&#x5171;&#x6709;&#x56DB;&#x79CD;&#x3002; 1234enabled&#xFF1A;&#x5DF2;&#x5EFA;&#x7ACB;&#x542F;&#x52A8;&#x94FE;&#x63A5;disabled&#xFF1A;&#x6CA1;&#x5EFA;&#x7ACB;&#x542F;&#x52A8;&#x94FE;&#x63A5;static&#xFF1A;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6CA1;&#x6709;[Install]&#x90E8;&#x5206;&#xFF08;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#xFF09;&#xFF0C;&#x53EA;&#x80FD;&#x4F5C;&#x4E3A;&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4F9D;&#x8D56;masked&#xFF1A;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x88AB;&#x7981;&#x6B62;&#x5EFA;&#x7ACB;&#x542F;&#x52A8;&#x94FE;&#x63A5; &#x6CE8;&#x610F;&#xFF0C;&#x4ECE;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x72B6;&#x6001;&#x65E0;&#x6CD5;&#x770B;&#x51FA;&#xFF0C;&#x8BE5; Unit &#x662F;&#x5426;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x3002;&#x8FD9;&#x5FC5;&#x987B;&#x6267;&#x884C;&#x524D;&#x9762;&#x63D0;&#x5230;&#x7684;systemctl status&#x547D;&#x4EE4;&#x3002; 1$ systemctl status bluetooth.service &#x4E00;&#x65E6;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x8981;&#x8BA9; SystemD &#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#xFF0C;&#x5426;&#x5219;&#x4FEE;&#x6539;&#x4E0D;&#x4F1A;&#x751F;&#x6548;&#x3002; 12$ sudo systemctl daemon-reload$ sudo systemctl restart httpd.service &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5C31;&#x662F;&#x666E;&#x901A;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x6253;&#x5F00;&#x3002; systemctl cat&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x3002; 1234567891011$ systemctl cat atd.service[Unit]Description=ATD daemon[Service]Type=forkingExecStart=/usr/bin/atd[Install]WantedBy=multi-user.target &#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x8F93;&#x51FA;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5206;&#x6210;&#x51E0;&#x4E2A;&#x533A;&#x5757;&#x3002;&#x6BCF;&#x4E2A;&#x533A;&#x5757;&#x7684;&#x7B2C;&#x4E00;&#x884C;&#xFF0C;&#x662F;&#x7528;&#x65B9;&#x62EC;&#x53F7;&#x8868;&#x793A;&#x7684;&#x533A;&#x522B;&#x540D;&#xFF0C;&#x6BD4;&#x5982;[Unit]&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x533A;&#x5757;&#x540D;&#x548C;&#x5B57;&#x6BB5;&#x540D;&#xFF0C;&#x90FD;&#x662F;&#x5927;&#x5C0F;&#x5199;&#x654F;&#x611F;&#x7684;&#x3002; &#x6BCF;&#x4E2A;&#x533A;&#x5757;&#x5185;&#x90E8;&#x662F;&#x4E00;&#x4E9B;&#x7B49;&#x53F7;&#x8FDE;&#x63A5;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002; 12345[Section]Directive1=valueDirective2=value. . . &#x6CE8;&#x610F;&#xFF0C;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x7B49;&#x53F7;&#x4E24;&#x4FA7;&#x4E0D;&#x80FD;&#x6709;&#x7A7A;&#x683C;&#x3002; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x533A;&#x5757;[Unit]&#x533A;&#x5757;&#x901A;&#x5E38;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x533A;&#x5757;&#xFF0C;&#x7528;&#x6765;&#x5B9A;&#x4E49; Unit &#x7684;&#x5143;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x53CA;&#x914D;&#x7F6E;&#x4E0E;&#x5176;&#x4ED6; Unit &#x7684;&#x5173;&#x7CFB;&#x3002;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x5B57;&#x6BB5;&#x5982;&#x4E0B;&#x3002; 12345678910Description&#xFF1A;&#x7B80;&#x77ED;&#x63CF;&#x8FF0;Documentation&#xFF1A;&#x6587;&#x6863;&#x5730;&#x5740;Requires&#xFF1A;&#x5F53;&#x524D; Unit &#x4F9D;&#x8D56;&#x7684;&#x5176;&#x4ED6; Unit&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x6CA1;&#x6709;&#x8FD0;&#x884C;&#xFF0C;&#x5F53;&#x524D; Unit &#x4F1A;&#x542F;&#x52A8;&#x5931;&#x8D25;Wants&#xFF1A;&#x4E0E;&#x5F53;&#x524D; Unit &#x914D;&#x5408;&#x7684;&#x5176;&#x4ED6; Unit&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x6CA1;&#x6709;&#x8FD0;&#x884C;&#xFF0C;&#x5F53;&#x524D; Unit &#x4E0D;&#x4F1A;&#x542F;&#x52A8;&#x5931;&#x8D25;BindsTo&#xFF1A;&#x4E0E;Requires&#x7C7B;&#x4F3C;&#xFF0C;&#x5B83;&#x6307;&#x5B9A;&#x7684; Unit &#x5982;&#x679C;&#x9000;&#x51FA;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x5F53;&#x524D; Unit &#x505C;&#x6B62;&#x8FD0;&#x884C;Before&#xFF1A;&#x5982;&#x679C;&#x8BE5;&#x5B57;&#x6BB5;&#x6307;&#x5B9A;&#x7684; Unit &#x4E5F;&#x8981;&#x542F;&#x52A8;&#xFF0C;&#x90A3;&#x4E48;&#x5FC5;&#x987B;&#x5728;&#x5F53;&#x524D; Unit &#x4E4B;&#x540E;&#x542F;&#x52A8;After&#xFF1A;&#x5982;&#x679C;&#x8BE5;&#x5B57;&#x6BB5;&#x6307;&#x5B9A;&#x7684; Unit &#x4E5F;&#x8981;&#x542F;&#x52A8;&#xFF0C;&#x90A3;&#x4E48;&#x5FC5;&#x987B;&#x5728;&#x5F53;&#x524D; Unit &#x4E4B;&#x524D;&#x542F;&#x52A8;Conflicts&#xFF1A;&#x8FD9;&#x91CC;&#x6307;&#x5B9A;&#x7684; Unit &#x4E0D;&#x80FD;&#x4E0E;&#x5F53;&#x524D; Unit &#x540C;&#x65F6;&#x8FD0;&#x884C;Condition...&#xFF1A;&#x5F53;&#x524D; Unit &#x8FD0;&#x884C;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x4F1A;&#x8FD0;&#x884C;Assert...&#xFF1A;&#x5F53;&#x524D; Unit &#x8FD0;&#x884C;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x62A5;&#x542F;&#x52A8;&#x5931;&#x8D25; [Install]&#x901A;&#x5E38;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x533A;&#x5757;&#xFF0C;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x542F;&#x52A8;&#xFF0C;&#x4EE5;&#x53CA;&#x662F;&#x5426;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x3002;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x5B57;&#x6BB5;&#x5982;&#x4E0B;&#x3002; 1234WantedBy&#xFF1A;&#x5B83;&#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A; Target&#xFF0C;&#x5F53;&#x524D; Unit &#x6FC0;&#x6D3B;&#x65F6;&#xFF08;enable&#xFF09;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x4F1A;&#x653E;&#x5165;/etc/systemd/system&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x4EE5; Target &#x540D; + .wants&#x540E;&#x7F00;&#x6784;&#x6210;&#x7684;&#x5B50;&#x76EE;&#x5F55;&#x4E2D;RequiredBy&#xFF1A;&#x5B83;&#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A; Target&#xFF0C;&#x5F53;&#x524D; Unit &#x6FC0;&#x6D3B;&#x65F6;&#xFF0C;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x4F1A;&#x653E;&#x5165;/etc/systemd/system&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x4EE5; Target &#x540D; + .required&#x540E;&#x7F00;&#x6784;&#x6210;&#x7684;&#x5B50;&#x76EE;&#x5F55;&#x4E2D;Alias&#xFF1A;&#x5F53;&#x524D; Unit &#x53EF;&#x7528;&#x4E8E;&#x542F;&#x52A8;&#x7684;&#x522B;&#x540D;Also&#xFF1A;&#x5F53;&#x524D; Unit &#x6FC0;&#x6D3B;&#xFF08;enable&#xFF09;&#x65F6;&#xFF0C;&#x4F1A;&#x88AB;&#x540C;&#x65F6;&#x6FC0;&#x6D3B;&#x7684;&#x5176;&#x4ED6; Unit [Service]&#x533A;&#x5757;&#x7528;&#x6765; Service &#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x53EA;&#x6709; Service &#x7C7B;&#x578B;&#x7684; Unit &#x624D;&#x6709;&#x8FD9;&#x4E2A;&#x533A;&#x5757;&#x3002;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x5B57;&#x6BB5;&#x5982;&#x4E0B;&#x3002; 1234567891011121314151617Type&#xFF1A;&#x5B9A;&#x4E49;&#x542F;&#x52A8;&#x65F6;&#x7684;&#x8FDB;&#x7A0B;&#x884C;&#x4E3A;&#x3002;&#x5B83;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x503C;&#x3002;Type=simple&#xFF1A;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x6267;&#x884C;ExecStart&#x6307;&#x5B9A;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x542F;&#x52A8;&#x4E3B;&#x8FDB;&#x7A0B;Type=forking&#xFF1A;&#x4EE5; fork &#x65B9;&#x5F0F;&#x4ECE;&#x7236;&#x8FDB;&#x7A0B;&#x521B;&#x5EFA;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x521B;&#x5EFA;&#x540E;&#x7236;&#x8FDB;&#x7A0B;&#x4F1A;&#x7ACB;&#x5373;&#x9000;&#x51FA;Type=oneshot&#xFF1A;&#x4E00;&#x6B21;&#x6027;&#x8FDB;&#x7A0B;&#xFF0C;Systemd &#x4F1A;&#x7B49;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x9000;&#x51FA;&#xFF0C;&#x518D;&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x6267;&#x884C;Type=dbus&#xFF1A;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x901A;&#x8FC7;D-Bus&#x542F;&#x52A8;Type=notify&#xFF1A;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x5B8C;&#x6BD5;&#xFF0C;&#x4F1A;&#x901A;&#x77E5;Systemd&#xFF0C;&#x518D;&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x6267;&#x884C;Type=idle&#xFF1A;&#x82E5;&#x6709;&#x5176;&#x4ED6;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x624D;&#x4F1A;&#x8FD0;&#x884C;ExecStart&#xFF1A;&#x542F;&#x52A8;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x7684;&#x547D;&#x4EE4;ExecStartPre&#xFF1A;&#x542F;&#x52A8;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;ExecStartPost&#xFF1A;&#x542F;&#x52A8;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;ExecReload&#xFF1A;&#x91CD;&#x542F;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x65F6;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;ExecStop&#xFF1A;&#x505C;&#x6B62;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x65F6;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;ExecStopPost&#xFF1A;&#x505C;&#x6B62;&#x5F53;&#x5176;&#x670D;&#x52A1;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;RestartSec&#xFF1A;&#x81EA;&#x52A8;&#x91CD;&#x542F;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x95F4;&#x9694;&#x7684;&#x79D2;&#x6570;Restart&#xFF1A;&#x5B9A;&#x4E49;&#x4F55;&#x79CD;&#x60C5;&#x51B5; Systemd &#x4F1A;&#x81EA;&#x52A8;&#x91CD;&#x542F;&#x5F53;&#x524D;&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x7684;&#x503C;&#x5305;&#x62EC;always&#xFF08;&#x603B;&#x662F;&#x91CD;&#x542F;&#xFF09;&#x3001;on-success&#x3001;on-failure&#x3001;on-abnormal&#x3001;on-abort&#x3001;on-watchdogTimeoutSec&#xFF1A;&#x5B9A;&#x4E49; Systemd &#x505C;&#x6B62;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#x7B49;&#x5F85;&#x7684;&#x79D2;&#x6570;Environment&#xFF1A;&#x6307;&#x5B9A;&#x73AF;&#x5883;&#x53D8;&#x91CF; Unit &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5B8C;&#x6574;&#x5B57;&#x6BB5;&#x6E05;&#x5355;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x3002; Target&#x542F;&#x52A8;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x542F;&#x52A8;&#x5927;&#x91CF;&#x7684; Unit&#x3002;&#x5982;&#x679C;&#x6BCF;&#x4E00;&#x6B21;&#x542F;&#x52A8;&#xFF0C;&#x90FD;&#x8981;&#x4E00;&#x4E00;&#x5199;&#x660E;&#x672C;&#x6B21;&#x542F;&#x52A8;&#x9700;&#x8981;&#x54EA;&#x4E9B; Unit&#xFF0C;&#x663E;&#x7136;&#x975E;&#x5E38;&#x4E0D;&#x65B9;&#x4FBF;&#x3002;Systemd &#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5C31;&#x662F; Target&#x3002; &#x7B80;&#x5355;&#x8BF4;&#xFF0C;Target &#x5C31;&#x662F;&#x4E00;&#x4E2A; Unit &#x7EC4;&#xFF0C;&#x5305;&#x542B;&#x8BB8;&#x591A;&#x76F8;&#x5173;&#x7684; Unit &#x3002;&#x542F;&#x52A8;&#x67D0;&#x4E2A; Target &#x7684;&#x65F6;&#x5019;&#xFF0C;Systemd &#x5C31;&#x4F1A;&#x542F;&#x52A8;&#x91CC;&#x9762;&#x6240;&#x6709;&#x7684; Unit&#x3002;&#x4ECE;&#x8FD9;&#x4E2A;&#x610F;&#x4E49;&#x4E0A;&#x8BF4;&#xFF0C;Target &#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x7C7B;&#x4F3C;&#x4E8E;&#x201D;&#x72B6;&#x6001;&#x70B9;&#x201D;&#xFF0C;&#x542F;&#x52A8;&#x67D0;&#x4E2A; Target &#x5C31;&#x597D;&#x6BD4;&#x542F;&#x52A8;&#x5230;&#x67D0;&#x79CD;&#x72B6;&#x6001;&#x3002; &#x4F20;&#x7EDF;&#x7684;init&#x542F;&#x52A8;&#x6A21;&#x5F0F;&#x91CC;&#x9762;&#xFF0C;&#x6709; RunLevel &#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x8DDF; Target &#x7684;&#x4F5C;&#x7528;&#x5F88;&#x7C7B;&#x4F3C;&#x3002;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;RunLevel &#x662F;&#x4E92;&#x65A5;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x591A;&#x4E2A; RunLevel &#x540C;&#x65F6;&#x542F;&#x52A8;&#xFF0C;&#x4F46;&#x662F;&#x591A;&#x4E2A; Target &#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x542F;&#x52A8;&#x3002; 12345678910111213141516# &#x67E5;&#x770B;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7684;&#x6240;&#x6709; Target$ systemctl list-unit-files --type=target# &#x67E5;&#x770B;&#x4E00;&#x4E2A; Target &#x5305;&#x542B;&#x7684;&#x6240;&#x6709; Unit$ systemctl list-dependencies multi-user.target# &#x67E5;&#x770B;&#x542F;&#x52A8;&#x65F6;&#x7684;&#x9ED8;&#x8BA4; Target$ systemctl get-default# &#x8BBE;&#x7F6E;&#x542F;&#x52A8;&#x65F6;&#x7684;&#x9ED8;&#x8BA4; Target$ sudo systemctl set-default multi-user.target# &#x5207;&#x6362; Target &#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x5173;&#x95ED;&#x524D;&#x4E00;&#x4E2A; Target &#x542F;&#x52A8;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;# systemctl isolate &#x547D;&#x4EE4;&#x6539;&#x53D8;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#xFF0C;# &#x5173;&#x95ED;&#x524D;&#x4E00;&#x4E2A; Target &#x91CC;&#x9762;&#x6240;&#x6709;&#x4E0D;&#x5C5E;&#x4E8E;&#x540E;&#x4E00;&#x4E2A; Target &#x7684;&#x8FDB;&#x7A0B;$ sudo systemctl isolate multi-user.target Target &#x4E0E; &#x4F20;&#x7EDF; RunLevel &#x7684;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#x3002; 123456789Traditional runlevel New target name Symbolically linked to...Runlevel 0 | runlevel0.target -&gt; poweroff.targetRunlevel 1 | runlevel1.target -&gt; rescue.targetRunlevel 2 | runlevel2.target -&gt; multi-user.targetRunlevel 3 | runlevel3.target -&gt; multi-user.targetRunlevel 4 | runlevel4.target -&gt; multi-user.targetRunlevel 5 | runlevel5.target -&gt; graphical.targetRunlevel 6 | runlevel6.target -&gt; reboot.target &#x5B83;&#x4E0E;init&#x8FDB;&#x7A0B;&#x7684;&#x4E3B;&#x8981;&#x5DEE;&#x522B;&#x5982;&#x4E0B;&#x3002; 12345&#xFF08;1&#xFF09;&#x9ED8;&#x8BA4;&#x7684; RunLevel&#xFF08;&#x5728;/etc/inittab&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;&#xFF09;&#x73B0;&#x5728;&#x88AB;&#x9ED8;&#x8BA4;&#x7684; Target &#x53D6;&#x4EE3;&#xFF0C;&#x4F4D;&#x7F6E;&#x662F;/etc/systemd/system/default.target&#xFF0C;&#x901A;&#x5E38;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x5230;graphical.target&#xFF08;&#x56FE;&#x5F62;&#x754C;&#x9762;&#xFF09;&#x6216;&#x8005;multi-user.target&#xFF08;&#x591A;&#x7528;&#x6237;&#x547D;&#x4EE4;&#x884C;&#xFF09;&#x3002;&#xFF08;2&#xFF09;&#x542F;&#x52A8;&#x811A;&#x672C;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4EE5;&#x524D;&#x662F;/etc/init.d&#x76EE;&#x5F55;&#xFF0C;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x5230;&#x4E0D;&#x540C;&#x7684; RunLevel &#x76EE;&#x5F55; &#xFF08;&#x6BD4;&#x5982;/etc/rc3.d&#x3001;/etc/rc5.d&#x7B49;&#xFF09;&#xFF0C;&#x73B0;&#x5728;&#x5219;&#x5B58;&#x653E;&#x5728;/lib/systemd/system&#x548C;/etc/systemd/system&#x76EE;&#x5F55;&#x3002;&#xFF08;3&#xFF09;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4EE5;&#x524D;init&#x8FDB;&#x7A0B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;/etc/inittab&#xFF0C;&#x5404;&#x79CD;&#x670D;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x5728;/etc/sysconfig&#x76EE;&#x5F55;&#x3002;&#x73B0;&#x5728;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E3B;&#x8981;&#x5B58;&#x653E;&#x5728;/lib/systemd&#x76EE;&#x5F55;&#xFF0C;&#x5728;/etc/systemd&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x7684;&#x4FEE;&#x6539;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x539F;&#x59CB;&#x8BBE;&#x7F6E;&#x3002; &#x65E5;&#x5FD7;&#x7BA1;&#x7406;Systemd &#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#x6240;&#x6709; Unit &#x7684;&#x542F;&#x52A8;&#x65E5;&#x5FD7;&#x3002;&#x5E26;&#x6765;&#x7684;&#x597D;&#x5904;&#x5C31;&#x662F;&#xFF0C;&#x53EF;&#x4EE5;&#x53EA;&#x7528;journalctl&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x67E5;&#x770B;&#x6240;&#x6709;&#x65E5;&#x5FD7;&#xFF08;&#x5185;&#x6838;&#x65E5;&#x5FD7;&#x548C;&#x5E94;&#x7528;&#x65E5;&#x5FD7;&#xFF09;&#x3002;&#x65E5;&#x5FD7;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;/etc/systemd/journald.conf&#x3002; journalctl&#x529F;&#x80FD;&#x5F3A;&#x5927;&#xFF0C;&#x7528;&#x6CD5;&#x975E;&#x5E38;&#x591A;&#x3002; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980# &#x67E5;&#x770B;&#x6240;&#x6709;&#x65E5;&#x5FD7;&#xFF08;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B; &#xFF0C;&#x53EA;&#x4FDD;&#x5B58;&#x672C;&#x6B21;&#x542F;&#x52A8;&#x7684;&#x65E5;&#x5FD7;&#xFF09;$ sudo journalctl# &#x67E5;&#x770B;&#x5185;&#x6838;&#x65E5;&#x5FD7;&#xFF08;&#x4E0D;&#x663E;&#x793A;&#x5E94;&#x7528;&#x65E5;&#x5FD7;&#xFF09;$ sudo journalctl -k# &#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x672C;&#x6B21;&#x542F;&#x52A8;&#x7684;&#x65E5;&#x5FD7;$ sudo journalctl -b$ sudo journalctl -b -0# &#x67E5;&#x770B;&#x4E0A;&#x4E00;&#x6B21;&#x542F;&#x52A8;&#x7684;&#x65E5;&#x5FD7;&#xFF08;&#x9700;&#x66F4;&#x6539;&#x8BBE;&#x7F6E;&#xFF09;$ sudo journalctl -b -1# &#x67E5;&#x770B;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x7684;&#x65E5;&#x5FD7;$ sudo journalctl --since=&quot;2012-10-30 18:17:16&quot;$ sudo journalctl --since &quot;20 min ago&quot;$ sudo journalctl --since yesterday$ sudo journalctl --since &quot;2015-01-10&quot; --until &quot;2015-01-11 03:00&quot;$ sudo journalctl --since 09:00 --until &quot;1 hour ago&quot;# &#x663E;&#x793A;&#x5C3E;&#x90E8;&#x7684;&#x6700;&#x65B0;10&#x884C;&#x65E5;&#x5FD7;$ sudo journalctl -n# &#x663E;&#x793A;&#x5C3E;&#x90E8;&#x6307;&#x5B9A;&#x884C;&#x6570;&#x7684;&#x65E5;&#x5FD7;$ sudo journalctl -n 20# &#x5B9E;&#x65F6;&#x6EDA;&#x52A8;&#x663E;&#x793A;&#x6700;&#x65B0;&#x65E5;&#x5FD7;$ sudo journalctl -f# &#x67E5;&#x770B;&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x7684;&#x65E5;&#x5FD7;$ sudo journalctl /usr/lib/systemd/systemd# &#x67E5;&#x770B;&#x6307;&#x5B9A;&#x8FDB;&#x7A0B;&#x7684;&#x65E5;&#x5FD7;$ sudo journalctl _PID=1# &#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x8DEF;&#x5F84;&#x7684;&#x811A;&#x672C;&#x7684;&#x65E5;&#x5FD7;$ sudo journalctl /usr/bin/bash# &#x67E5;&#x770B;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x7684;&#x65E5;&#x5FD7;$ sudo journalctl _UID=33 --since today# &#x67E5;&#x770B;&#x67D0;&#x4E2A; Unit &#x7684;&#x65E5;&#x5FD7;$ sudo journalctl -u nginx.service$ sudo journalctl -u nginx.service --since today# &#x5B9E;&#x65F6;&#x6EDA;&#x52A8;&#x663E;&#x793A;&#x67D0;&#x4E2A; Unit &#x7684;&#x6700;&#x65B0;&#x65E5;&#x5FD7;$ sudo journalctl -u nginx.service -f# &#x5408;&#x5E76;&#x663E;&#x793A;&#x591A;&#x4E2A; Unit &#x7684;&#x65E5;&#x5FD7;$ journalctl -u nginx.service -u php-fpm.service --since today# &#x67E5;&#x770B;&#x6307;&#x5B9A;&#x4F18;&#x5148;&#x7EA7;&#xFF08;&#x53CA;&#x5176;&#x4EE5;&#x4E0A;&#x7EA7;&#x522B;&#xFF09;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x5171;&#x6709;8&#x7EA7;# 0: emerg# 1: alert# 2: crit# 3: err# 4: warning# 5: notice# 6: info# 7: debug$ sudo journalctl -p err -b# &#x65E5;&#x5FD7;&#x9ED8;&#x8BA4;&#x5206;&#x9875;&#x8F93;&#x51FA;&#xFF0C;--no-pager &#x6539;&#x4E3A;&#x6B63;&#x5E38;&#x7684;&#x6807;&#x51C6;&#x8F93;&#x51FA;$ sudo journalctl --no-pager# &#x4EE5; JSON &#x683C;&#x5F0F;&#xFF08;&#x5355;&#x884C;&#xFF09;&#x8F93;&#x51FA;$ sudo journalctl -b -u nginx.service -o json# &#x4EE5; JSON &#x683C;&#x5F0F;&#xFF08;&#x591A;&#x884C;&#xFF09;&#x8F93;&#x51FA;&#xFF0C;&#x53EF;&#x8BFB;&#x6027;&#x66F4;&#x597D;$ sudo journalctl -b -u nginx.serviceqq -o json-pretty# &#x663E;&#x793A;&#x65E5;&#x5FD7;&#x5360;&#x636E;&#x7684;&#x786C;&#x76D8;&#x7A7A;&#x95F4;$ sudo journalctl --disk-usage# &#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5360;&#x636E;&#x7684;&#x6700;&#x5927;&#x7A7A;&#x95F4;$ sudo journalctl --vacuum-size=1G# &#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x591A;&#x4E45;$ sudo journalctl --vacuum-time=1years &#x5F00;&#x673A;&#x542F;&#x52A8;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x652F;&#x6301; Systemd &#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x5B89;&#x88C5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5728;/usr/lib/systemd/system&#x76EE;&#x5F55;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; &#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;&#x8BE5;&#x8F6F;&#x4EF6;&#x5F00;&#x673A;&#x542F;&#x52A8;&#xFF0C;&#x5C31;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#xFF08;&#x4EE5;httpd.service&#x4E3A;&#x4F8B;&#xFF09;&#x3002; 1$ sudo systemctl enable httpd &#x4E0A;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x76F8;&#x5F53;&#x4E8E;&#x5728;/etc/systemd/system&#x76EE;&#x5F55;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#xFF0C;&#x6307;&#x5411;/usr/lib/systemd/system&#x91CC;&#x9762;&#x7684;httpd.service&#x6587;&#x4EF6;&#x3002; &#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5F00;&#x673A;&#x65F6;&#xFF0C;Systemd&#x53EA;&#x6267;&#x884C;/etc/systemd/system&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E5F;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x5982;&#x679C;&#x628A;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x653E;&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x8986;&#x76D6;&#x539F;&#x59CB;&#x914D;&#x7F6E;&#x7684;&#x6548;&#x679C;&#x3002; &#x542F;&#x52A8;&#x670D;&#x52A1;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x4EE5;&#x540E;&#xFF0C;&#x8F6F;&#x4EF6;&#x5E76;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x542F;&#x52A8;&#xFF0C;&#x5FC5;&#x987B;&#x7B49;&#x5230;&#x4E0B;&#x4E00;&#x6B21;&#x5F00;&#x673A;&#x3002;&#x5982;&#x679C;&#x60F3;&#x73B0;&#x5728;&#x5C31;&#x8FD0;&#x884C;&#x8BE5;&#x8F6F;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#x8981;&#x6267;&#x884C;systemctl start&#x547D;&#x4EE4;&#x3002; 1$ sudo systemctl start httpd &#x6267;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x4EE5;&#x540E;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x542F;&#x52A8;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x6B64;&#x8981;&#x7528;systemctl status&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x8BE5;&#x670D;&#x52A1;&#x7684;&#x72B6;&#x6001;&#x3002; 123456789101112131415161718$ sudo systemctl status httpdhttpd.service - The Apache HTTP Server Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled) Active: active (running) since &#x91D1; 2014-12-05 12:18:22 JST; 7min ago Main PID: 4349 (httpd) Status: &quot;Total requests: 1; Current requests/sec: 0; Current traffic: 0 B/sec&quot; CGroup: /system.slice/httpd.service &#x251C;&#x2500;4349 /usr/sbin/httpd -DFOREGROUND &#x251C;&#x2500;4350 /usr/sbin/httpd -DFOREGROUND &#x251C;&#x2500;4351 /usr/sbin/httpd -DFOREGROUND &#x251C;&#x2500;4352 /usr/sbin/httpd -DFOREGROUND &#x251C;&#x2500;4353 /usr/sbin/httpd -DFOREGROUND &#x2514;&#x2500;4354 /usr/sbin/httpd -DFOREGROUND12&#x6708; 05 12:18:22 localhost.localdomain systemd[1]: Starting The Apache HTTP Server...12&#x6708; 05 12:18:22 localhost.localdomain systemd[1]: Started The Apache HTTP Server.12&#x6708; 05 12:22:40 localhost.localdomain systemd[1]: Started The Apache HTTP Server. &#x4E0A;&#x9762;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x542B;&#x4E49;&#x5982;&#x4E0B;&#x3002; 123456Loaded&#x884C;&#xFF1A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x662F;&#x5426;&#x8BBE;&#x4E3A;&#x5F00;&#x673A;&#x542F;&#x52A8;Active&#x884C;&#xFF1A;&#x8868;&#x793A;&#x6B63;&#x5728;&#x8FD0;&#x884C;Main PID&#x884C;&#xFF1A;&#x4E3B;&#x8FDB;&#x7A0B;IDStatus&#x884C;&#xFF1A;&#x7531;&#x5E94;&#x7528;&#x672C;&#x8EAB;&#xFF08;&#x8FD9;&#x91CC;&#x662F; httpd &#xFF09;&#x63D0;&#x4F9B;&#x7684;&#x8F6F;&#x4EF6;&#x5F53;&#x524D;&#x72B6;&#x6001;CGroup&#x5757;&#xFF1A;&#x5E94;&#x7528;&#x7684;&#x6240;&#x6709;&#x5B50;&#x8FDB;&#x7A0B;&#x65E5;&#x5FD7;&#x5757;&#xFF1A;&#x5E94;&#x7528;&#x7684;&#x65E5;&#x5FD7; &#x505C;&#x6B62;&#x670D;&#x52A1;&#x7EC8;&#x6B62;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x9700;&#x8981;&#x6267;&#x884C;systemctl stop&#x547D;&#x4EE4;&#x3002; 1$ sudo systemctl stop httpd.service &#x6709;&#x65F6;&#x5019;&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#xFF0C;&#x670D;&#x52A1;&#x505C;&#x4E0D;&#x4E0B;&#x6765;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x4E0D;&#x5F97;&#x4E0D;&#x201D;&#x6740;&#x8FDB;&#x7A0B;&#x201D;&#x4E86;&#xFF0C;&#x5411;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x53D1;&#x51FA;kill&#x4FE1;&#x53F7;&#x3002; 1$ sudo systemctl kill httpd.service &#x6B64;&#x5916;&#xFF0C;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x8981;&#x6267;&#x884C;systemctl restart&#x547D;&#x4EE4;&#x3002; 1$ sudo systemctl restart httpd.service &#x8BFB;&#x61C2;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x600E;&#x4E48;&#x542F;&#x52A8;&#xFF0C;&#x5B8C;&#x5168;&#x7531;&#x5B83;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x51B3;&#x5B9A;&#x3002;&#x4E0B;&#x9762;&#x5C31;&#x6765;&#x770B;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6709;&#x4E9B;&#x4EC0;&#x4E48;&#x5185;&#x5BB9;&#x3002; &#x524D;&#x9762;&#x8BF4;&#x8FC7;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E3B;&#x8981;&#x653E;&#x5728;/usr/lib/systemd/system&#x76EE;&#x5F55;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x5728;/etc/systemd/system&#x76EE;&#x5F55;&#x3002;&#x627E;&#x5230;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4EE5;&#x540E;&#xFF0C;&#x4F7F;&#x7528;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x6253;&#x5F00;&#x5373;&#x53EF;&#x3002; systemctl cat&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x67E5;&#x770B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E0B;&#x9762;&#x4EE5;sshd.service&#x6587;&#x4EF6;&#x4E3A;&#x4F8B;&#xFF0C;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x542F;&#x52A8;&#x4E00;&#x4E2A; SSH &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F9B;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x4EE5; SSH &#x65B9;&#x5F0F;&#x767B;&#x5F55;&#x3002; 12345678910111213141516171819$ systemctl cat sshd.service[Unit]Description=OpenSSH server daemonDocumentation=man:sshd(8) man:sshd_config(5)After=network.target sshd-keygen.serviceWants=sshd-keygen.service[Service]EnvironmentFile=/etc/sysconfig/sshdExecStart=/usr/sbin/sshd -D $OPTIONSExecReload=/bin/kill -HUP $MAINPIDType=simpleKillMode=processRestart=on-failureRestartSec=42s[Install]WantedBy=multi-user.target &#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5206;&#x6210;&#x51E0;&#x4E2A;&#x533A;&#x5757;&#xFF0C;&#x6BCF;&#x4E2A;&#x533A;&#x5757;&#x5305;&#x542B;&#x82E5;&#x5E72;&#x6761;&#x952E;&#x503C;&#x5BF9;&#x3002; &#x4E0B;&#x9762;&#x4F9D;&#x6B21;&#x89E3;&#x91CA;&#x6BCF;&#x4E2A;&#x533A;&#x5757;&#x7684;&#x5185;&#x5BB9;&#x3002; [Unit] &#x533A;&#x5757;&#xFF1A;&#x542F;&#x52A8;&#x987A;&#x5E8F;&#x4E0E;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x3002;Unit&#x533A;&#x5757;&#x7684;Description&#x5B57;&#x6BB5;&#x7ED9;&#x51FA;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x7684;&#x7B80;&#x5355;&#x63CF;&#x8FF0;&#xFF0C;Documentation&#x5B57;&#x6BB5;&#x7ED9;&#x51FA;&#x6587;&#x6863;&#x4F4D;&#x7F6E;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x7684;&#x8BBE;&#x7F6E;&#x662F;&#x542F;&#x52A8;&#x987A;&#x5E8F;&#x548C;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x4E2A;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x3002; 1After&#x5B57;&#x6BB5;&#xFF1A;&#x8868;&#x793A;&#x5982;&#x679C;network.target&#x6216;sshd-keygen.service&#x9700;&#x8981;&#x542F;&#x52A8;&#xFF0C;&#x90A3;&#x4E48;sshd.service&#x5E94;&#x8BE5;&#x5728;&#x5B83;&#x4EEC;&#x4E4B;&#x540E;&#x542F;&#x52A8;&#x3002; &#x76F8;&#x5E94;&#x5730;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;Before&#x5B57;&#x6BB5;&#xFF0C;&#x5B9A;&#x4E49;sshd.service&#x5E94;&#x8BE5;&#x5728;&#x54EA;&#x4E9B;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#x542F;&#x52A8;&#x3002; &#x6CE8;&#x610F;&#xFF0C;After&#x548C;Before&#x5B57;&#x6BB5;&#x53EA;&#x6D89;&#x53CA;&#x542F;&#x52A8;&#x987A;&#x5E8F;&#xFF0C;&#x4E0D;&#x6D89;&#x53CA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x3002; &#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x67D0; Web &#x5E94;&#x7528;&#x9700;&#x8981; postgresql &#x6570;&#x636E;&#x5E93;&#x50A8;&#x5B58;&#x6570;&#x636E;&#x3002;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5B83;&#x53EA;&#x5B9A;&#x4E49;&#x8981;&#x5728; postgresql &#x4E4B;&#x540E;&#x542F;&#x52A8;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x4F9D;&#x8D56; postgresql &#x3002;&#x4E0A;&#x7EBF;&#x540E;&#xFF0C;&#x7531;&#x4E8E;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#xFF0C;postgresql &#x9700;&#x8981;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#xFF0C;&#x5728;&#x505C;&#x6B62;&#x670D;&#x52A1;&#x671F;&#x95F4;&#xFF0C;&#x8BE5; Web &#x5E94;&#x7528;&#x5C31;&#x4F1A;&#x65E0;&#x6CD5;&#x5EFA;&#x7ACB;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x3002; &#x8BBE;&#x7F6E;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;Wants&#x5B57;&#x6BB5;&#x548C;Requires&#x5B57;&#x6BB5;&#x3002; 1Wants&#x5B57;&#x6BB5;&#xFF1A;&#x8868;&#x793A;sshd.service&#x4E0E;sshd-keygen.service&#x4E4B;&#x95F4;&#x5B58;&#x5728;&quot;&#x5F31;&#x4F9D;&#x8D56;&quot;&#x5173;&#x7CFB;&#xFF0C;&#x5373;&#x5982;&#x679C;&quot;sshd-keygen.service&quot;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x6216;&#x505C;&#x6B62;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x5F71;&#x54CD;sshd.service&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002; Requires&#x5B57;&#x6BB5;&#x5219;&#x8868;&#x793A;&#x201D;&#x5F3A;&#x4F9D;&#x8D56;&#x201D;&#x5173;&#x7CFB;&#xFF0C;&#x5373;&#x5982;&#x679C;&#x8BE5;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x6216;&#x5F02;&#x5E38;&#x9000;&#x51FA;&#xFF0C;&#x90A3;&#x4E48;sshd.service&#x4E5F;&#x5FC5;&#x987B;&#x9000;&#x51FA;&#x3002; &#x6CE8;&#x610F;&#xFF0C;Wants&#x5B57;&#x6BB5;&#x4E0E;Requires&#x5B57;&#x6BB5;&#x53EA;&#x6D89;&#x53CA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x4E0E;&#x542F;&#x52A8;&#x987A;&#x5E8F;&#x65E0;&#x5173;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x540C;&#x65F6;&#x542F;&#x52A8;&#x7684;&#x3002; [Service] &#x533A;&#x5757;&#xFF1A;&#x542F;&#x52A8;&#x884C;&#x4E3A;Service&#x533A;&#x5757;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x542F;&#x52A8;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x3002; &#x542F;&#x52A8;&#x547D;&#x4EE4;&#x8BB8;&#x591A;&#x8F6F;&#x4EF6;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x73AF;&#x5883;&#x53C2;&#x6570;&#x6587;&#x4EF6;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x7528;EnvironmentFile&#x5B57;&#x6BB5;&#x8BFB;&#x53D6;&#x3002; 1EnvironmentFile&#x5B57;&#x6BB5;&#xFF1A;&#x6307;&#x5B9A;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x7684;&#x73AF;&#x5883;&#x53C2;&#x6570;&#x6587;&#x4EF6;&#x3002;&#x8BE5;&#x6587;&#x4EF6;&#x5185;&#x90E8;&#x7684;key=value&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;$key&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5728;&#x5F53;&#x524D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x83B7;&#x53D6;&#x3002; &#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;sshd &#x7684;&#x73AF;&#x5883;&#x53C2;&#x6570;&#x6587;&#x4EF6;&#x662F;/etc/sysconfig/sshd&#x3002; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5B57;&#x6BB5;&#x662F;ExecStart&#x3002; 1ExecStart&#x5B57;&#x6BB5;&#xFF1A;&#x5B9A;&#x4E49;&#x542F;&#x52A8;&#x8FDB;&#x7A0B;&#x65F6;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002; &#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x542F;&#x52A8;sshd&#xFF0C;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x662F;/usr/sbin/sshd -D $OPTIONS&#xFF0C;&#x5176;&#x4E2D;&#x7684;&#x53D8;&#x91CF;$OPTIONS&#x5C31;&#x6765;&#x81EA;EnvironmentFile&#x5B57;&#x6BB5;&#x6307;&#x5B9A;&#x7684;&#x73AF;&#x5883;&#x53C2;&#x6570;&#x6587;&#x4EF6;&#x3002; &#x4E0E;&#x4E4B;&#x4F5C;&#x7528;&#x76F8;&#x4F3C;&#x7684;&#xFF0C;&#x8FD8;&#x6709;&#x5982;&#x4E0B;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x3002; 12345ExecReload&#x5B57;&#x6BB5;&#xFF1A;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x65F6;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;ExecStop&#x5B57;&#x6BB5;&#xFF1A;&#x505C;&#x6B62;&#x670D;&#x52A1;&#x65F6;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;ExecStartPre&#x5B57;&#x6BB5;&#xFF1A;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;ExecStartPost&#x5B57;&#x6BB5;&#xFF1A;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;ExecStopPost&#x5B57;&#x6BB5;&#xFF1A;&#x505C;&#x6B62;&#x670D;&#x52A1;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4; &#x8BF7;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x3002; 123456[Service]ExecStart=/bin/echo execstart1ExecStart=ExecStart=/bin/echo execstart2ExecStartPost=/bin/echo post1ExecStartPost=/bin/echo post2 &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7B2C;&#x4E8C;&#x884C;ExecStart&#x8BBE;&#x4E3A;&#x7A7A;&#x503C;&#xFF0C;&#x7B49;&#x4E8E;&#x53D6;&#x6D88;&#x4E86;&#x7B2C;&#x4E00;&#x884C;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x3002; 123execstart2post1post2 &#x6240;&#x6709;&#x7684;&#x542F;&#x52A8;&#x8BBE;&#x7F6E;&#x4E4B;&#x524D;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x8FDE;&#x8BCD;&#x53F7;&#xFF08;-&#xFF09;&#xFF0C;&#x8868;&#x793A;&#x201D;&#x6291;&#x5236;&#x9519;&#x8BEF;&#x201D;&#xFF0C;&#x5373;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E0D;&#x5F71;&#x54CD;&#x5176;&#x4ED6;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;&#x6BD4;&#x5982;&#xFF0C;EnvironmentFile=-/etc/sysconfig/sshd&#xFF08;&#x6CE8;&#x610F;&#x7B49;&#x53F7;&#x540E;&#x9762;&#x7684;&#x90A3;&#x4E2A;&#x8FDE;&#x8BCD;&#x53F7;&#xFF09;&#xFF0C;&#x5C31;&#x8868;&#x793A;&#x5373;&#x4F7F;/etc/sysconfig/sshd&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002; &#x542F;&#x52A8;&#x7C7B;&#x578B;Type&#x5B57;&#x6BB5;&#x5B9A;&#x4E49;&#x542F;&#x52A8;&#x7C7B;&#x578B;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x7684;&#x503C;&#x5982;&#x4E0B;&#x3002; 123456simple&#xFF08;&#x9ED8;&#x8BA4;&#x503C;&#xFF09;&#xFF1A;ExecStart&#x5B57;&#x6BB5;&#x542F;&#x52A8;&#x7684;&#x8FDB;&#x7A0B;&#x4E3A;&#x4E3B;&#x8FDB;&#x7A0B;forking&#xFF1A;ExecStart&#x5B57;&#x6BB5;&#x5C06;&#x4EE5;fork()&#x65B9;&#x5F0F;&#x542F;&#x52A8;&#xFF0C;&#x6B64;&#x65F6;&#x7236;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x9000;&#x51FA;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x6210;&#x4E3A;&#x4E3B;&#x8FDB;&#x7A0B;oneshot&#xFF1A;&#x7C7B;&#x4F3C;&#x4E8E;simple&#xFF0C;&#x4F46;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;Systemd &#x4F1A;&#x7B49;&#x5B83;&#x6267;&#x884C;&#x5B8C;&#xFF0C;&#x624D;&#x542F;&#x52A8;&#x5176;&#x4ED6;&#x670D;&#x52A1;dbus&#xFF1A;&#x7C7B;&#x4F3C;&#x4E8E;simple&#xFF0C;&#x4F46;&#x4F1A;&#x7B49;&#x5F85; D-Bus &#x4FE1;&#x53F7;&#x540E;&#x542F;&#x52A8;notify&#xFF1A;&#x7C7B;&#x4F3C;&#x4E8E;simple&#xFF0C;&#x542F;&#x52A8;&#x7ED3;&#x675F;&#x540E;&#x4F1A;&#x53D1;&#x51FA;&#x901A;&#x77E5;&#x4FE1;&#x53F7;&#xFF0C;&#x7136;&#x540E; Systemd &#x518D;&#x542F;&#x52A8;&#x5176;&#x4ED6;&#x670D;&#x52A1;idle&#xFF1A;&#x7C7B;&#x4F3C;&#x4E8E;simple&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x7B49;&#x5230;&#x5176;&#x4ED6;&#x4EFB;&#x52A1;&#x90FD;&#x6267;&#x884C;&#x5B8C;&#xFF0C;&#x624D;&#x4F1A;&#x542F;&#x52A8;&#x8BE5;&#x670D;&#x52A1;&#x3002;&#x4E00;&#x79CD;&#x4F7F;&#x7528;&#x573A;&#x5408;&#x662F;&#x4E3A;&#x8BA9;&#x8BE5;&#x670D;&#x52A1;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x4E0D;&#x4E0E;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x7684;&#x8F93;&#x51FA;&#x76F8;&#x6DF7;&#x5408; &#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;oneshot&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x7B14;&#x8BB0;&#x672C;&#x7535;&#x8111;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x8981;&#x628A;&#x89E6;&#x6478;&#x677F;&#x5173;&#x6389;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#x3002; 123456789[Unit]Description=Switch-off Touchpad[Service]Type=oneshotExecStart=/usr/bin/touchpad-off[Install]WantedBy=multi-user.target &#x4E0A;&#x9762;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x542F;&#x52A8;&#x7C7B;&#x578B;&#x8BBE;&#x4E3A;oneshot&#xFF0C;&#x5C31;&#x8868;&#x660E;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x53EA;&#x8981;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x5C31;&#x591F;&#x4E86;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x957F;&#x671F;&#x8FD0;&#x884C;&#x3002; &#x5982;&#x679C;&#x5173;&#x95ED;&#x4EE5;&#x540E;&#xFF0C;&#x5C06;&#x6765;&#x67D0;&#x4E2A;&#x65F6;&#x5019;&#x8FD8;&#x60F3;&#x6253;&#x5F00;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#x3002; 1234567891011[Unit]Description=Switch-off Touchpad[Service]Type=oneshotExecStart=/usr/bin/touchpad-off startExecStop=/usr/bin/touchpad-off stopRemainAfterExit=yes[Install]WantedBy=multi-user.target &#x4E0A;&#x9762;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;RemainAfterExit&#x5B57;&#x6BB5;&#x8BBE;&#x4E3A;yes&#xFF0C;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x4EE5;&#x540E;&#xFF0C;&#x670D;&#x52A1;&#x4ECD;&#x7136;&#x4FDD;&#x6301;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x4E00;&#x65E6;&#x4F7F;&#x7528;systemctl stop&#x547D;&#x4EE4;&#x505C;&#x6B62;&#x670D;&#x52A1;&#xFF0C;ExecStop&#x6307;&#x5B9A;&#x7684;&#x547D;&#x4EE4;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x4ECE;&#x800C;&#x91CD;&#x65B0;&#x5F00;&#x542F;&#x89E6;&#x6478;&#x677F;&#x3002; &#x91CD;&#x542F;&#x884C;&#x4E3A;Service&#x533A;&#x5757;&#x6709;&#x4E00;&#x4E9B;&#x5B57;&#x6BB5;&#xFF0C;&#x5B9A;&#x4E49;&#x4E86;&#x91CD;&#x542F;&#x884C;&#x4E3A;&#x3002; 1KillMode&#x5B57;&#x6BB5;&#xFF1A;&#x5B9A;&#x4E49; Systemd &#x5982;&#x4F55;&#x505C;&#x6B62; sshd &#x670D;&#x52A1;&#x3002; &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x5C06;KillMode&#x8BBE;&#x4E3A;process&#xFF0C;&#x8868;&#x793A;&#x53EA;&#x505C;&#x6B62;&#x4E3B;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E0D;&#x505C;&#x6B62;&#x4EFB;&#x4F55;sshd &#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5373;&#x5B50;&#x8FDB;&#x7A0B;&#x6253;&#x5F00;&#x7684; SSH session &#x4ECD;&#x7136;&#x4FDD;&#x6301;&#x8FDE;&#x63A5;&#x3002;&#x8FD9;&#x4E2A;&#x8BBE;&#x7F6E;&#x4E0D;&#x592A;&#x5E38;&#x89C1;&#xFF0C;&#x4F46;&#x5BF9; sshd &#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x5426;&#x5219;&#x4F60;&#x505C;&#x6B62;&#x670D;&#x52A1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x8FDE;&#x81EA;&#x5DF1;&#x6253;&#x5F00;&#x7684; SSH session &#x4E00;&#x8D77;&#x6740;&#x6389;&#x3002; KillMode&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x7684;&#x503C;&#x5982;&#x4E0B;&#x3002; 1234control-group&#xFF08;&#x9ED8;&#x8BA4;&#x503C;&#xFF09;&#xFF1A;&#x5F53;&#x524D;&#x63A7;&#x5236;&#x7EC4;&#x91CC;&#x9762;&#x7684;&#x6240;&#x6709;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x90FD;&#x4F1A;&#x88AB;&#x6740;&#x6389;process&#xFF1A;&#x53EA;&#x6740;&#x4E3B;&#x8FDB;&#x7A0B;mixed&#xFF1A;&#x4E3B;&#x8FDB;&#x7A0B;&#x5C06;&#x6536;&#x5230; SIGTERM &#x4FE1;&#x53F7;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x6536;&#x5230; SIGKILL &#x4FE1;&#x53F7;none&#xFF1A;&#x6CA1;&#x6709;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x6740;&#x6389;&#xFF0C;&#x53EA;&#x662F;&#x6267;&#x884C;&#x670D;&#x52A1;&#x7684; stop &#x547D;&#x4EE4;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x662F;Restart&#x5B57;&#x6BB5;&#x3002; 1Restart&#x5B57;&#x6BB5;&#xFF1A;&#x5B9A;&#x4E49;&#x4E86; sshd &#x9000;&#x51FA;&#x540E;&#xFF0C;Systemd &#x7684;&#x91CD;&#x542F;&#x65B9;&#x5F0F;&#x3002; &#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;Restart&#x8BBE;&#x4E3A;on-failure&#xFF0C;&#x8868;&#x793A;&#x4EFB;&#x4F55;&#x610F;&#x5916;&#x7684;&#x5931;&#x8D25;&#xFF0C;&#x5C31;&#x5C06;&#x91CD;&#x542F;sshd&#x3002;&#x5982;&#x679C; sshd &#x6B63;&#x5E38;&#x505C;&#x6B62;&#xFF08;&#x6BD4;&#x5982;&#x6267;&#x884C;systemctl stop&#x547D;&#x4EE4;&#xFF09;&#xFF0C;&#x5B83;&#x5C31;&#x4E0D;&#x4F1A;&#x91CD;&#x542F;&#x3002; Restart&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x7684;&#x503C;&#x5982;&#x4E0B;&#x3002; 1234567no&#xFF08;&#x9ED8;&#x8BA4;&#x503C;&#xFF09;&#xFF1A;&#x9000;&#x51FA;&#x540E;&#x4E0D;&#x4F1A;&#x91CD;&#x542F;on-success&#xFF1A;&#x53EA;&#x6709;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x65F6;&#xFF08;&#x9000;&#x51FA;&#x72B6;&#x6001;&#x7801;&#x4E3A;0&#xFF09;&#xFF0C;&#x624D;&#x4F1A;&#x91CD;&#x542F;on-failure&#xFF1A;&#x975E;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x65F6;&#xFF08;&#x9000;&#x51FA;&#x72B6;&#x6001;&#x7801;&#x975E;0&#xFF09;&#xFF0C;&#x5305;&#x62EC;&#x88AB;&#x4FE1;&#x53F7;&#x7EC8;&#x6B62;&#x548C;&#x8D85;&#x65F6;&#xFF0C;&#x624D;&#x4F1A;&#x91CD;&#x542F;on-abnormal&#xFF1A;&#x53EA;&#x6709;&#x88AB;&#x4FE1;&#x53F7;&#x7EC8;&#x6B62;&#x548C;&#x8D85;&#x65F6;&#xFF0C;&#x624D;&#x4F1A;&#x91CD;&#x542F;on-abort&#xFF1A;&#x53EA;&#x6709;&#x5728;&#x6536;&#x5230;&#x6CA1;&#x6709;&#x6355;&#x6349;&#x5230;&#x7684;&#x4FE1;&#x53F7;&#x7EC8;&#x6B62;&#x65F6;&#xFF0C;&#x624D;&#x4F1A;&#x91CD;&#x542F;on-watchdog&#xFF1A;&#x8D85;&#x65F6;&#x9000;&#x51FA;&#xFF0C;&#x624D;&#x4F1A;&#x91CD;&#x542F;always&#xFF1A;&#x4E0D;&#x7BA1;&#x662F;&#x4EC0;&#x4E48;&#x9000;&#x51FA;&#x539F;&#x56E0;&#xFF0C;&#x603B;&#x662F;&#x91CD;&#x542F; &#x5BF9;&#x4E8E;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x63A8;&#x8350;&#x8BBE;&#x4E3A;on-failure&#x3002;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x5141;&#x8BB8;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x9000;&#x51FA;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x4E3A;on-abnormal&#x3002; &#x6700;&#x540E;&#x662F;RestartSec&#x5B57;&#x6BB5;&#x3002; 1RestartSec&#x5B57;&#x6BB5;&#xFF1A;&#x8868;&#x793A; Systemd &#x91CD;&#x542F;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x7684;&#x79D2;&#x6570;&#x3002;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x8BBE;&#x4E3A;&#x7B49;&#x5F85;42&#x79D2;&#x3002; [Install] &#x533A;&#x5757;Install&#x533A;&#x5757;&#xFF0C;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x5B89;&#x88C5;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5373;&#x600E;&#x6837;&#x505A;&#x5230;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x3002; 1WantedBy&#x5B57;&#x6BB5;&#xFF1A;&#x8868;&#x793A;&#x8BE5;&#x670D;&#x52A1;&#x6240;&#x5728;&#x7684; Target&#x3002; Target&#x7684;&#x542B;&#x4E49;&#x662F;&#x670D;&#x52A1;&#x7EC4;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x7EC4;&#x670D;&#x52A1;&#x3002;WantedBy=multi-user.target&#x6307;&#x7684;&#x662F;&#xFF0C;sshd &#x6240;&#x5728;&#x7684; Target &#x662F;multi-user.target&#x3002; &#x8FD9;&#x4E2A;&#x8BBE;&#x7F6E;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x6267;&#x884C;systemctl enable sshd.service&#x547D;&#x4EE4;&#x65F6;&#xFF0C;sshd.service&#x7684;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#xFF0C;&#x5C31;&#x4F1A;&#x653E;&#x5728;/etc/systemd/system&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x7684;multi-user.target.wants&#x5B50;&#x76EE;&#x5F55;&#x4E4B;&#x4E2D;&#x3002; Systemd &#x6709;&#x9ED8;&#x8BA4;&#x7684;&#x542F;&#x52A8; Target&#x3002; 12$ systemctl get-defaultmulti-user.target &#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x679C;&#x8868;&#x793A;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x542F;&#x52A8; Target &#x662F;multi-user.target&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x7EC4;&#x91CC;&#x7684;&#x6240;&#x6709;&#x670D;&#x52A1;&#xFF0C;&#x90FD;&#x5C06;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;systemctl enable&#x547D;&#x4EE4;&#x80FD;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x7684;&#x539F;&#x56E0;&#x3002; &#x4F7F;&#x7528; Target &#x7684;&#x65F6;&#x5019;&#xFF0C;systemctl list-dependencies&#x547D;&#x4EE4;&#x548C;systemctl isolate&#x547D;&#x4EE4;&#x4E5F;&#x5F88;&#x6709;&#x7528;&#x3002; 123456# &#x67E5;&#x770B; multi-user.target &#x5305;&#x542B;&#x7684;&#x6240;&#x6709;&#x670D;&#x52A1;$ systemctl list-dependencies multi-user.target# &#x5207;&#x6362;&#x5230;&#x53E6;&#x4E00;&#x4E2A; target# shutdown.target &#x5C31;&#x662F;&#x5173;&#x673A;&#x72B6;&#x6001;$ sudo systemctl isolate shutdown.target &#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x5E38;&#x7528;&#x7684; Target &#x6709;&#x4E24;&#x4E2A;&#xFF1A;&#x4E00;&#x4E2A;&#x662F;multi-user.target&#xFF0C;&#x8868;&#x793A;&#x591A;&#x7528;&#x6237;&#x547D;&#x4EE4;&#x884C;&#x72B6;&#x6001;&#xFF1B;&#x53E6;&#x4E00;&#x4E2A;&#x662F;graphical.target&#xFF0C;&#x8868;&#x793A;&#x56FE;&#x5F62;&#x7528;&#x6237;&#x72B6;&#x6001;&#xFF0C;&#x5B83;&#x4F9D;&#x8D56;&#x4E8E;multi-user.target&#x3002;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x6709;&#x4E00;&#x5F20;&#x975E;&#x5E38;&#x6E05;&#x6670;&#x7684; Target &#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x56FE;&#x3002; Target &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;Target &#x4E5F;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; 123456789$ systemctl cat multi-user.target[Unit]Description=Multi-User SystemDocumentation=man:systemd.special(7)Requires=basic.targetConflicts=rescue.service rescue.targetAfter=basic.target rescue.service rescue.targetAllowIsolate=yes &#x6CE8;&#x610F;&#xFF0C;Target &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x3002; &#x4E0A;&#x9762;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4E2D;&#xFF0C;&#x4E3B;&#x8981;&#x5B57;&#x6BB5;&#x542B;&#x4E49;&#x5982;&#x4E0B;&#x3002; 1234567Requires&#x5B57;&#x6BB5;&#xFF1A;&#x8981;&#x6C42;basic.target&#x4E00;&#x8D77;&#x8FD0;&#x884C;&#x3002;Conflicts&#x5B57;&#x6BB5;&#xFF1A;&#x51B2;&#x7A81;&#x5B57;&#x6BB5;&#x3002;&#x5982;&#x679C;rescue.service&#x6216;rescue.target&#x6B63;&#x5728;&#x8FD0;&#x884C;&#xFF0C;multi-user.target&#x5C31;&#x4E0D;&#x80FD;&#x8FD0;&#x884C;&#xFF0C;&#x53CD;&#x4E4B;&#x4EA6;&#x7136;&#x3002;After&#xFF1A;&#x8868;&#x793A;multi-user.target&#x5728;basic.target &#x3001; rescue.service&#x3001; rescue.target&#x4E4B;&#x540E;&#x542F;&#x52A8;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x3002;AllowIsolate&#xFF1A;&#x5141;&#x8BB8;&#x4F7F;&#x7528;systemctl isolate&#x547D;&#x4EE4;&#x5207;&#x6362;&#x5230;multi-user.target&#x3002; &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x540E;&#x91CD;&#x542F;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4EE5;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x76F8;&#x5173;&#x670D;&#x52A1;&#x3002; 12345# &#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;$ sudo systemctl daemon-reload# &#x91CD;&#x542F;&#x76F8;&#x5173;&#x670D;&#x52A1;$ sudo systemctl restart foobar]]></content>
      <categories>
        <category>linux</category>
        <category>systemd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>systemd</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pycharm-mac 快捷键]]></title>
    <url>%2F2018%2F04%2F12%2Fpycharm-keymap%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;Mac&#x952E;&#x76D8;&#x7B26;&#x53F7;&#x548C;&#x4FEE;&#x9970;&#x952E;&#x8BF4;&#x660E; Mac&#x952E;&#x76D8;&#x7B26;&#x53F7;&#x548C;&#x4FEE;&#x9970;&#x952E;&#x8BF4;&#x660E; &#x2318; Command &#x21E7; Shift &#x2325; Option &#x2303; Control &#x21A9;&#xFE0E; Return/Enter &#x232B; Delete &#x2326; &#x5411;&#x524D;&#x5220;&#x9664;&#x952E;&#xFF08;Fn+Delete&#xFF09; &#x2191; &#x4E0A;&#x7BAD;&#x5934; &#x2193; &#x4E0B;&#x7BAD;&#x5934; &#x2190; &#x5DE6;&#x7BAD;&#x5934; &#x2192; &#x53F3;&#x7BAD;&#x5934; &#x21DE; Page Up&#xFF08;Fn+&#x2191;&#xFF09; &#x21DF; Page Down&#xFF08;Fn+&#x2193;&#xFF09; Home Fn + &#x2190; End Fn + &#x2192; &#x21E5; &#x53F3;&#x5236;&#x8868;&#x7B26;&#xFF08;Tab&#x952E;&#xFF09; &#x21E4; &#x5DE6;&#x5236;&#x8868;&#x7B26;&#xFF08;Shift+Tab&#xFF09; &#x238B; Escape (Esc) Editing&#xFF08;&#x7F16;&#x8F91;&#xFF09; &#x2303;Space &#x57FA;&#x672C;&#x7684;&#x4EE3;&#x7801;&#x8865;&#x5168;&#xFF08;&#x8865;&#x5168;&#x4EFB;&#x4F55;&#x7C7B;&#x3001;&#x65B9;&#x6CD5;&#x3001;&#x53D8;&#x91CF;&#xFF09; &#x2303;&#x21E7;Space &#x667A;&#x80FD;&#x4EE3;&#x7801;&#x8865;&#x5168;&#xFF08;&#x8FC7;&#x6EE4;&#x5668;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x548C;&#x53D8;&#x91CF;&#x7684;&#x9884;&#x671F;&#x7C7B;&#x578B;&#xFF09; &#x2318;&#x21E7;&#x21A9; &#x81EA;&#x52A8;&#x7ED3;&#x675F;&#x4EE3;&#x7801;&#xFF0C;&#x884C;&#x672B;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x5206;&#x53F7; &#x2318;P &#x663E;&#x793A;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x4FE1;&#x606F; &#x2303;J, Mid. button click &#x5FEB;&#x901F;&#x67E5;&#x770B;&#x6587;&#x6863; &#x21E7;F1 &#x67E5;&#x770B;&#x5916;&#x90E8;&#x6587;&#x6863;&#xFF08;&#x5728;&#x67D0;&#x4E9B;&#x4EE3;&#x7801;&#x4E0A;&#x4F1A;&#x89E6;&#x53D1;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x663E;&#x793A;&#x76F8;&#x5173;&#x6587;&#x6863;&#xFF09; &#x2318;+&#x9F20;&#x6807;&#x653E;&#x5728;&#x4EE3;&#x7801;&#x4E0A; &#x663E;&#x793A;&#x4EE3;&#x7801;&#x7B80;&#x8981;&#x4FE1;&#x606F; &#x2318;F1 &#x5728;&#x9519;&#x8BEF;&#x6216;&#x8B66;&#x544A;&#x5904;&#x663E;&#x793A;&#x5177;&#x4F53;&#x63CF;&#x8FF0;&#x4FE1;&#x606F; &#x2318;N, &#x2303;&#x21A9;, &#x2303;N &#x751F;&#x6210;&#x4EE3;&#x7801;&#xFF08;getter&#x3001;setter&#x3001;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3001;hashCode/equals,toString&#xFF09; &#x2303;O &#x8986;&#x76D6;&#x65B9;&#x6CD5;&#xFF08;&#x91CD;&#x5199;&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#xFF09; &#x2303;I &#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#xFF08;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF09; &#x2318;&#x2325;T &#x5305;&#x56F4;&#x4EE3;&#x7801;&#xFF08;&#x4F7F;&#x7528;if..else, try..catch, for, synchronized&#x7B49;&#x5305;&#x56F4;&#x9009;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#xFF09; &#x2318;/ &#x6CE8;&#x91CA;/&#x53D6;&#x6D88;&#x6CE8;&#x91CA;&#x4E0E;&#x884C;&#x6CE8;&#x91CA; &#x2318;&#x2325;/ &#x6CE8;&#x91CA;/&#x53D6;&#x6D88;&#x6CE8;&#x91CA;&#x4E0E;&#x5757;&#x6CE8;&#x91CA; &#x2325;&#x2191; &#x8FDE;&#x7EED;&#x9009;&#x4E2D;&#x4EE3;&#x7801;&#x5757; &#x2325;&#x2193; &#x51CF;&#x5C11;&#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x5757; &#x2303;&#x21E7;Q &#x663E;&#x793A;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F; &#x2325;&#x21A9; &#x663E;&#x793A;&#x610F;&#x5411;&#x52A8;&#x4F5C;&#x548C;&#x5FEB;&#x901F;&#x4FEE;&#x590D;&#x4EE3;&#x7801; &#x2318;&#x2325;L &#x683C;&#x5F0F;&#x5316;&#x4EE3;&#x7801; &#x2303;&#x2325;O &#x4F18;&#x5316;import &#x2303;&#x2325;I &#x81EA;&#x52A8;&#x7F29;&#x8FDB;&#x7EBF; &#x21E5; / &#x21E7;&#x21E5; &#x7F29;&#x8FDB;&#x4EE3;&#x7801; / &#x53CD;&#x7F29;&#x8FDB;&#x4EE3;&#x7801; &#x2318;X &#x526A;&#x5207;&#x5F53;&#x524D;&#x884C;&#x6216;&#x9009;&#x5B9A;&#x7684;&#x5757;&#x5230;&#x526A;&#x8D34;&#x677F; &#x2318;C &#x590D;&#x5236;&#x5F53;&#x524D;&#x884C;&#x6216;&#x9009;&#x5B9A;&#x7684;&#x5757;&#x5230;&#x526A;&#x8D34;&#x677F; &#x2318;V &#x4ECE;&#x526A;&#x8D34;&#x677F;&#x7C98;&#x8D34; &#x2318;&#x21E7;V &#x4ECE;&#x6700;&#x8FD1;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x7C98;&#x8D34; &#x2318;D &#x590D;&#x5236;&#x5F53;&#x524D;&#x884C;&#x6216;&#x9009;&#x5B9A;&#x7684;&#x5757; &#x2318;&#x232B; &#x5220;&#x9664;&#x5F53;&#x524D;&#x884C;&#x6216;&#x9009;&#x5B9A;&#x7684;&#x5757;&#x7684;&#x884C; &#x2303;&#x21E7;J &#x667A;&#x80FD;&#x7684;&#x5C06;&#x4EE3;&#x7801;&#x62FC;&#x63A5;&#x6210;&#x4E00;&#x884C; &#x2318;&#x21A9; &#x667A;&#x80FD;&#x7684;&#x62C6;&#x5206;&#x62FC;&#x63A5;&#x7684;&#x884C; &#x21E7;&#x21A9; &#x5F00;&#x59CB;&#x65B0;&#x7684;&#x4E00;&#x884C; &#x2318;&#x21E7;U &#x5927;&#x5C0F;&#x5199;&#x5207;&#x6362; &#x2318;&#x21E7;] / &#x2318;&#x21E7;[ &#x9009;&#x62E9;&#x76F4;&#x5230;&#x4EE3;&#x7801;&#x5757;&#x7ED3;&#x675F;/&#x5F00;&#x59CB; &#x2325;&#x2326; &#x5220;&#x9664;&#x5230;&#x5355;&#x8BCD;&#x7684;&#x672B;&#x5C3E;&#xFF08;&#x2326;&#x952E;&#x4E3A;Fn+Delete&#xFF09; &#x2325;&#x232B; &#x5220;&#x9664;&#x5230;&#x5355;&#x8BCD;&#x7684;&#x5F00;&#x5934; &#x2318;+ / &#x2318;- &#x5C55;&#x5F00; / &#x6298;&#x53E0;&#x4EE3;&#x7801;&#x5757; &#x2318;&#x21E7;+ &#x5C55;&#x5F00;&#x6240;&#x4EE5;&#x4EE3;&#x7801;&#x5757; &#x2318;&#x21E7;- &#x6298;&#x53E0;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x5757; &#x2318;W &#x5173;&#x95ED;&#x6D3B;&#x52A8;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x9009;&#x9879;&#x5361; Search/Replace&#xFF08;&#x67E5;&#x8BE2;/&#x66FF;&#x6362;&#xFF09; Double &#x21E7; &#x67E5;&#x8BE2;&#x4EFB;&#x4F55;&#x4E1C;&#x897F; &#x2318;F &#x6587;&#x4EF6;&#x5185;&#x67E5;&#x627E; &#x2318;G &#x67E5;&#x627E;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x5411;&#x4E0B;&#x67E5;&#x627E; &#x2318;&#x21E7;G &#x67E5;&#x627E;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x5411;&#x4E0A;&#x67E5;&#x627E; &#x2318;R &#x6587;&#x4EF6;&#x5185;&#x66FF;&#x6362; &#x2318;&#x21E7;F &#x5168;&#x5C40;&#x67E5;&#x627E;&#xFF08;&#x6839;&#x636E;&#x8DEF;&#x5F84;&#xFF09; &#x2318;&#x21E7;R &#x5168;&#x5C40;&#x66FF;&#x6362;&#xFF08;&#x6839;&#x636E;&#x8DEF;&#x5F84;&#xFF09; &#x2318;&#x21E7;S &#x67E5;&#x8BE2;&#x7ED3;&#x6784;&#xFF08;Ultimate Edition &#x7248;&#x4E13;&#x7528;&#xFF0C;&#x9700;&#x8981;&#x5728;Keymap&#x4E2D;&#x8BBE;&#x7F6E;&#xFF09; &#x2318;&#x21E7;M &#x66FF;&#x6362;&#x7ED3;&#x6784;&#xFF08;Ultimate Edition &#x7248;&#x4E13;&#x7528;&#xFF0C;&#x9700;&#x8981;&#x5728;Keymap&#x4E2D;&#x8BBE;&#x7F6E;&#xFF09; Usage Search&#xFF08;&#x4F7F;&#x7528;&#x67E5;&#x8BE2;&#xFF09; &#x2325;F7 / &#x2318;F7 &#x5728;&#x6587;&#x4EF6;&#x4E2D;&#x67E5;&#x627E;&#x7528;&#x6CD5; / &#x5728;&#x7C7B;&#x4E2D;&#x67E5;&#x627E;&#x7528;&#x6CD5; &#x2318;&#x21E7;F7 &#x5728;&#x6587;&#x4EF6;&#x4E2D;&#x7A81;&#x51FA;&#x663E;&#x793A;&#x7684;&#x7528;&#x6CD5; &#x2318;&#x2325;F7 &#x663E;&#x793A;&#x7528;&#x6CD5; Compile and Run&#xFF08;&#x7F16;&#x8BD1;&#x548C;&#x8FD0;&#x884C;&#xFF09; &#x2318;F9 &#x7F16;&#x8BD1;Project &#x2318;&#x21E7;F9 &#x7F16;&#x8BD1;&#x9009;&#x62E9;&#x7684;&#x6587;&#x4EF6;&#x3001;&#x5305;&#x6216;&#x6A21;&#x5757; &#x2303;&#x2325;R &#x5F39;&#x51FA; Run &#x7684;&#x53EF;&#x9009;&#x62E9;&#x83DC;&#x5355; &#x2303;&#x2325;D &#x5F39;&#x51FA; Debug &#x7684;&#x53EF;&#x9009;&#x62E9;&#x83DC;&#x5355; &#x2303;R &#x8FD0;&#x884C; &#x2303;D &#x8C03;&#x8BD5; &#x2303;&#x21E7;R, &#x2303;&#x21E7;D &#x4ECE;&#x7F16;&#x8F91;&#x5668;&#x8FD0;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883;&#x914D;&#x7F6E; Debugging&#xFF08;&#x8C03;&#x8BD5;&#xFF09; F8 &#x8FDB;&#x5165;&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x884C;&#x65AD;&#x70B9;&#x662F;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x4E0D;&#x8FDB;&#x5165;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x4F53;&#x5185; F7 &#x8FDB;&#x5165;&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x884C;&#x65AD;&#x70B9;&#x662F;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x8FDB;&#x5165;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x4F53;&#x5185;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x65B9;&#x6CD5;&#x4F53;&#x8FD8;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x8FDB;&#x5165;&#x8BE5;&#x5185;&#x5D4C;&#x7684;&#x65B9;&#x6CD5;&#x4E2D; &#x21E7;F7 &#x667A;&#x80FD;&#x6B65;&#x5165;&#xFF0C;&#x65AD;&#x70B9;&#x6240;&#x5728;&#x884C;&#x4E0A;&#x6709;&#x591A;&#x4E2A;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#xFF0C;&#x4F1A;&#x5F39;&#x51FA;&#x8FDB;&#x5165;&#x54EA;&#x4E2A;&#x65B9;&#x6CD5; &#x21E7;F8 &#x8DF3;&#x51FA; &#x2325;F9 &#x8FD0;&#x884C;&#x5230;&#x5149;&#x6807;&#x5904;&#xFF0C;&#x5982;&#x679C;&#x5149;&#x6807;&#x524D;&#x6709;&#x5176;&#x4ED6;&#x65AD;&#x70B9;&#x4F1A;&#x8FDB;&#x5165;&#x5230;&#x8BE5;&#x65AD;&#x70B9; &#x2325;F8 &#x8BA1;&#x7B97;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x53EF;&#x4EE5;&#x66F4;&#x6539;&#x53D8;&#x91CF;&#x503C;&#x4F7F;&#x5176;&#x751F;&#x6548;&#xFF09; &#x2318;&#x2325;R &#x6062;&#x590D;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x65AD;&#x70B9;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x8FD8;&#x6709;&#x65AD;&#x70B9;&#x5219;&#x505C;&#x5728;&#x4E0B;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#x4E0A; &#x2318;F8 &#x5207;&#x6362;&#x65AD;&#x70B9;&#xFF08;&#x82E5;&#x5149;&#x6807;&#x5F53;&#x524D;&#x884C;&#x6709;&#x65AD;&#x70B9;&#x5219;&#x53D6;&#x6D88;&#x65AD;&#x70B9;&#xFF0C;&#x6CA1;&#x6709;&#x5219;&#x52A0;&#x4E0A;&#x65AD;&#x70B9;&#xFF09; &#x2318;&#x21E7;F8 &#x67E5;&#x770B;&#x65AD;&#x70B9;&#x4FE1;&#x606F; Navigation&#xFF08;&#x5BFC;&#x822A;&#xFF09; &#x2318;O &#x67E5;&#x627E;&#x7C7B;&#x6587;&#x4EF6; &#x2318;&#x21E7;O &#x67E5;&#x627E;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x6587;&#x4EF6;&#x3001;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x3001;&#x6253;&#x5F00;&#x76EE;&#x5F55;&#xFF0C;&#x6253;&#x5F00;&#x76EE;&#x5F55;&#x9700;&#x8981;&#x5728;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x524D;&#x9762;&#x6216;&#x540E;&#x9762;&#x52A0;&#x4E00;&#x4E2A;&#x53CD;&#x659C;&#x6760;/ &#x2318;&#x2325;O &#x524D;&#x5F80;&#x6307;&#x5B9A;&#x7684;&#x53D8;&#x91CF; / &#x65B9;&#x6CD5; &#x2303;&#x2190; / &#x2303;&#x2192; &#x5DE6;&#x53F3;&#x5207;&#x6362;&#x6253;&#x5F00;&#x7684;&#x7F16;&#x8F91;tab&#x9875; F12 &#x8FD4;&#x56DE;&#x5230;&#x524D;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#x7A97;&#x53E3; &#x238B; &#x4ECE;&#x5DE5;&#x5177;&#x7A97;&#x53E3;&#x8FDB;&#x5165;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x7A97;&#x53E3; &#x21E7;&#x238B; &#x9690;&#x85CF;&#x5F53;&#x524D;&#x6216;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6D3B;&#x52A8;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x4E14;&#x5149;&#x6807;&#x8FDB;&#x5165;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x7A97;&#x53E3; &#x2318;&#x21E7;F4 &#x5173;&#x95ED;&#x6D3B;&#x52A8;run/messages/find/&#x2026; tab &#x2318;L &#x5728;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x8DF3;&#x8F6C;&#x5230;&#x67D0;&#x4E00;&#x884C;&#x7684;&#x6307;&#x5B9A;&#x5904; &#x2318;E &#x663E;&#x793A;&#x6700;&#x8FD1;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x5217;&#x8868; &#x2318;&#x2325;&#x2190; / &#x2318;&#x2325;&#x2192; &#x9000;&#x56DE; / &#x524D;&#x8FDB;&#x5230;&#x4E0A;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7684;&#x5730;&#x65B9; &#x2318;&#x21E7;&#x232B; &#x8DF3;&#x8F6C;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x7F16;&#x8F91;&#x7684;&#x5730;&#x65B9; &#x2325;F1 &#x663E;&#x793A;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x9009;&#x62E9;&#x76EE;&#x6807;&#x5F39;&#x51FA;&#x5C42;&#xFF0C;&#x5F39;&#x51FA;&#x5C42;&#x4E2D;&#x6709;&#x5F88;&#x591A;&#x76EE;&#x6807;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x9009;&#x62E9;(&#x5982;&#x5728;&#x4EE3;&#x7801;&#x7F16;&#x8F91;&#x7A97;&#x53E3;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x663E;&#x793A;&#x8BE5;&#x6587;&#x4EF6;&#x7684;Finder) &#x2318;B / &#x2318; &#x9F20;&#x6807;&#x70B9;&#x51FB; &#x8FDB;&#x5165;&#x5149;&#x6807;&#x6240;&#x5728;&#x7684;&#x65B9;&#x6CD5;/&#x53D8;&#x91CF;&#x7684;&#x63A5;&#x53E3;&#x6216;&#x662F;&#x5B9A;&#x4E49;&#x5904; &#x2318;&#x2325;B &#x8DF3;&#x8F6C;&#x5230;&#x5B9E;&#x73B0;&#x5904;&#xFF0C;&#x5728;&#x67D0;&#x4E2A;&#x8C03;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x540D;&#x4E0A;&#x4F7F;&#x7528;&#x4F1A;&#x8DF3;&#x5230;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x5904;&#xFF0C;&#x53EF;&#x4EE5;&#x8DF3;&#x8FC7;&#x63A5;&#x53E3; &#x2325; Space, &#x2318;Y &#x5FEB;&#x901F;&#x6253;&#x5F00;&#x5149;&#x6807;&#x6240;&#x5728;&#x65B9;&#x6CD5;&#x3001;&#x7C7B;&#x7684;&#x5B9A;&#x4E49; &#x2303;&#x21E7;B &#x8DF3;&#x8F6C;&#x5230;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#x5904; &#x2318;U &#x524D;&#x5F80;&#x5F53;&#x524D;&#x5149;&#x6807;&#x6240;&#x5728;&#x65B9;&#x6CD5;&#x7684;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x6CD5; / &#x63A5;&#x53E3;&#x5B9A;&#x4E49; &#x2303;&#x2193; / &#x2303;&#x2191; &#x5F53;&#x524D;&#x5149;&#x6807;&#x8DF3;&#x8F6C;&#x5230;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x4E00;&#x4E2A;/&#x540E;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x540D;&#x4F4D;&#x7F6E; &#x2318;] / &#x2318;[ &#x79FB;&#x52A8;&#x5149;&#x6807;&#x5230;&#x5F53;&#x524D;&#x6240;&#x5728;&#x4EE3;&#x7801;&#x7684;&#x82B1;&#x62EC;&#x53F7;&#x5F00;&#x59CB;/&#x7ED3;&#x675F;&#x4F4D;&#x7F6E; &#x2318;F12 &#x5F39;&#x51FA;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x5C42;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5F39;&#x51FA;&#x7684;&#x5C42;&#x4E0A;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#xFF08;&#x53EF;&#x7528;&#x4E8E;&#x641C;&#x7D22;&#x7C7B;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF09; &#x2303;H &#x663E;&#x793A;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784; &#x2318;&#x21E7;H &#x663E;&#x793A;&#x65B9;&#x6CD5;&#x5C42;&#x6B21;&#x7ED3;&#x6784; &#x2303;&#x2325;H &#x663E;&#x793A;&#x8C03;&#x7528;&#x5C42;&#x6B21;&#x7ED3;&#x6784; F2 / &#x21E7;F2 &#x8DF3;&#x8F6C;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;/&#x4E0A;&#x4E00;&#x4E2A;&#x7A81;&#x51FA;&#x9519;&#x8BEF;&#x6216;&#x8B66;&#x544A;&#x7684;&#x4F4D;&#x7F6E; F4 / &#x2318;&#x2193; &#x7F16;&#x8F91;/&#x67E5;&#x770B;&#x4EE3;&#x7801;&#x6E90; &#x2325; Home &#x663E;&#x793A;&#x5230;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7684;&#x5BFC;&#x822A;&#x6761; F3&#x9009;&#x4E2D;&#x6587;&#x4EF6;/&#x6587;&#x4EF6;&#x5939;/&#x4EE3;&#x7801;&#x884C;&#xFF0C;&#x6DFB;&#x52A0;/&#x53D6;&#x6D88;&#x4E66;&#x7B7E; &#x2325;F3 &#x9009;&#x4E2D;&#x6587;&#x4EF6;/&#x6587;&#x4EF6;&#x5939;/&#x4EE3;&#x7801;&#x884C;&#xFF0C;&#x4F7F;&#x7528;&#x52A9;&#x8BB0;&#x7B26;&#x6DFB;&#x52A0;/&#x53D6;&#x6D88;&#x4E66;&#x7B7E; &#x2303;0&#x2026;&#x2303;9 &#x5B9A;&#x4F4D;&#x5230;&#x5BF9;&#x5E94;&#x6570;&#x503C;&#x7684;&#x4E66;&#x7B7E;&#x4F4D;&#x7F6E; &#x2318;F3 &#x663E;&#x793A;&#x6240;&#x6709;&#x4E66;&#x7B7E; Refactoring&#xFF08;&#x91CD;&#x6784;&#xFF09; F5 &#x590D;&#x5236;&#x6587;&#x4EF6;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55; F6 &#x79FB;&#x52A8;&#x6587;&#x4EF6;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55; &#x2318;&#x232B; &#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4E3A;&#x5B89;&#x5168;&#x5220;&#x9664;&#x6587;&#x4EF6;&#xFF0C;&#x5F39;&#x51FA;&#x786E;&#x8BA4;&#x6846; &#x21E7;F6 &#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6; &#x2318;F6 &#x66F4;&#x6539;&#x7B7E;&#x540D; &#x2318;&#x2325;N &#x4E00;&#x81F4;&#x6027; &#x2318;&#x2325;M &#x5C06;&#x9009;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x63D0;&#x53D6;&#x4E3A;&#x65B9;&#x6CD5; &#x2318;&#x2325;V &#x63D0;&#x53D6;&#x53D8;&#x91CF; &#x2318;&#x2325;F &#x63D0;&#x53D6;&#x5B57;&#x6BB5; &#x2318;&#x2325;C &#x63D0;&#x53D6;&#x5E38;&#x91CF; &#x2318;&#x2325;P &#x63D0;&#x53D6;&#x53C2;&#x6570; VCS/Local History&#xFF08;&#x7248;&#x672C;&#x63A7;&#x5236;/&#x672C;&#x5730;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#xFF09; &#x2318;K &#x63D0;&#x4EA4;&#x4EE3;&#x7801;&#x5230;&#x7248;&#x672C;&#x63A7;&#x5236;&#x5668; &#x2318;T &#x4ECE;&#x7248;&#x672C;&#x63A7;&#x5236;&#x5668;&#x66F4;&#x65B0;&#x4EE3;&#x7801; &#x2325;&#x21E7;C &#x67E5;&#x770B;&#x6700;&#x8FD1;&#x7684;&#x53D8;&#x66F4;&#x8BB0;&#x5F55; &#x2303;C &#x5FEB;&#x901F;&#x5F39;&#x51FA;&#x7248;&#x672C;&#x63A7;&#x5236;&#x5668;&#x64CD;&#x4F5C;&#x9762;&#x677F; Live Templates&#xFF08;&#x52A8;&#x6001;&#x4EE3;&#x7801;&#x6A21;&#x677F;&#xFF09; &#x2318;&#x2325;J &#x5F39;&#x51FA;&#x6A21;&#x677F;&#x9009;&#x62E9;&#x7A97;&#x53E3;&#xFF0C;&#x5C06;&#x9009;&#x5B9A;&#x7684;&#x4EE3;&#x7801;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x6A21;&#x677F;&#x5305;&#x4F4F; &#x2318;J &#x63D2;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x52A8;&#x6001;&#x4EE3;&#x7801;&#x6A21;&#x677F; General&#xFF08;&#x901A;&#x7528;&#xFF09; &#x2318;1&#x2026;&#x2318;9 &#x6253;&#x5F00;&#x76F8;&#x5E94;&#x7F16;&#x53F7;&#x7684;&#x5DE5;&#x5177;&#x7A97;&#x53E3; &#x2318;S &#x4FDD;&#x5B58;&#x6240;&#x6709; &#x2318;&#x2325;Y &#x540C;&#x6B65;&#x3001;&#x5237;&#x65B0; &#x2303;&#x2318;F &#x5207;&#x6362;&#x5168;&#x5C4F;&#x6A21;&#x5F0F; &#x2318;&#x21E7;F12 &#x5207;&#x6362;&#x6700;&#x5927;&#x5316;&#x7F16;&#x8F91;&#x5668; &#x2325;&#x21E7;F &#x6DFB;&#x52A0;&#x5230;&#x6536;&#x85CF;&#x5939; &#x2325;&#x21E7;I &#x68C0;&#x67E5;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x4E0E;&#x5F53;&#x524D;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; `&#xA7;&#x2303;, &#x2303;&#x201C; &#x5FEB;&#x901F;&#x5207;&#x6362;&#x5F53;&#x524D;&#x7684;scheme&#xFF08;&#x5207;&#x6362;&#x4E3B;&#x9898;&#x3001;&#x4EE3;&#x7801;&#x6837;&#x5F0F;&#x7B49;&#xFF09; &#x2318;, &#x6253;&#x5F00;IDEA&#x7CFB;&#x7EDF;&#x8BBE;&#x7F6E; &#x2318;; &#x6253;&#x5F00;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x5BF9;&#x8BDD;&#x6846; &#x21E7;&#x2318;A &#x67E5;&#x627E;&#x52A8;&#x4F5C;&#xFF08;&#x53EF;&#x8BBE;&#x7F6E;&#x76F8;&#x5173;&#x9009;&#x9879;&#xFF09; &#x2303;&#x21E5; &#x7F16;&#x8F91;&#x7A97;&#x53E3;&#x6807;&#x7B7E;&#x548C;&#x5DE5;&#x5177;&#x7A97;&#x53E3;&#x4E4B;&#x95F4;&#x5207;&#x6362;&#xFF08;&#x5982;&#x679C;&#x5728;&#x5207;&#x6362;&#x7684;&#x8FC7;&#x7A0B;&#x52A0;&#x6309;&#x4E0A;delete&#xFF0C;&#x5219;&#x662F;&#x5173;&#x95ED;&#x5BF9;&#x5E94;&#x9009;&#x4E2D;&#x7684;&#x7A97;&#x53E3;&#xFF09; Other&#xFF08;&#x4E00;&#x4E9B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E0A;&#x6CA1;&#x6709;&#x4F53;&#x73B0;&#x7684;&#x5FEB;&#x6377;&#x952E;&#xFF09; &#x2318;&#x21E7;8 &#x7AD6;&#x7F16;&#x8F91;&#x6A21;&#x5F0F; &#x5BFC;&#x822A; &#x2318;O &#x67E5;&#x627E;&#x7C7B;&#x6587;&#x4EF6; Ctrl + N &#x2318;&#x2325;O &#x524D;&#x5F80;&#x6307;&#x5B9A;&#x7684;&#x53D8;&#x91CF; / &#x65B9;&#x6CD5; Ctrl + Shift + Alt + N &#x2303;&#x2190; / &#x2303;&#x2192; &#x5DE6;&#x53F3;&#x5207;&#x6362;&#x6253;&#x5F00;&#x7684;&#x7F16;&#x8F91;tab&#x9875;Alt&#x2190;/Alt&#x2192; &#x238B; &#x4ECE;&#x5DE5;&#x5177;&#x7A97;&#x53E3;&#x8FDB;&#x5165;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x7A97;&#x53E3; ESC &#x2318;L &#x5728;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x8DF3;&#x8F6C;&#x5230;&#x67D0;&#x4E00;&#x884C;&#x7684;&#x6307;&#x5B9A;&#x5904; Ctrl + G &#x2318;E &#x663E;&#x793A;&#x6700;&#x8FD1;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x5217;&#x8868; Ctrl + E &#x2318;&#x2325;&#x2190;/ &#x2318;&#x2325;&#x2192;&#x9000;&#x56DE; / &#x524D;&#x8FDB;&#x5230;&#x4E0A;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7684;&#x5730;&#x65B9; Ctrl + Alt + &#x2190;/Ctrl + Alt + &#x2192; &#x2318;&#x21E7;&#x232B; &#x8DF3;&#x8F6C;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x7F16;&#x8F91;&#x7684;&#x5730;&#x65B9; &#x2303;H &#x663E;&#x793A;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784;Ctrl + H &#x2318;&#x21E7;H &#x663E;&#x793A;&#x65B9;&#x6CD5;&#x5C42;&#x6B21;&#x7ED3;&#x6784; &#x2303;&#x2325;H &#x663E;&#x793A;&#x8C03;&#x7528;&#x5C42;&#x6B21;&#x7ED3;&#x6784; F4 /&#x2318;&#x2193; &#x7F16;&#x8F91;/&#x67E5;&#x770B;&#x4EE3;&#x7801;&#x6E90; &#x2318;&#x2325;U &#x663E;&#x793A;&#x7C7B;UML&#x56FE; &#x2303;J &#x67E5;&#x770B;&#x6CE8;&#x91CA; &#x7F16;&#x8F91; &#x2325;&#x2326; &#x5220;&#x9664;&#x5230;&#x5355;&#x8BCD;&#x7684;&#x672B;&#x5C3E;&#xFF08;&#x2326;&#x952E;&#x4E3A;Fn+Delete&#xFF09; &#x2325;&#x232B; &#x5220;&#x9664;&#x5230;&#x5355;&#x8BCD;&#x7684;&#x5F00;&#x5934; &#x2318;+ /&#x2318;- &#x5C55;&#x5F00; / &#x6298;&#x53E0;&#x4EE3;&#x7801;&#x5757; &#x2318;F1 &#x5728;&#x9519;&#x8BEF;&#x6216;&#x8B66;&#x544A;&#x5904;&#x663E;&#x793A;&#x5177;&#x4F53;&#x63CF;&#x8FF0;&#x4FE1;&#x606F; &#x2318;&#x2325;L &#x683C;&#x5F0F;&#x5316;&#x4EE3;&#x7801; &#x2303;&#x2325;O &#x4F18;&#x5316;import &#x21E7;&#x21A9; &#x5F00;&#x59CB;&#x65B0;&#x7684;&#x4E00;&#x884C; &#x2318;&#x21E7;&#x21A9; &#x81EA;&#x52A8;&#x7ED3;&#x675F;&#x4EE3;&#x7801;&#xFF0C;&#x884C;&#x672B;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x5206;&#x53F7; &#x2303;I &#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#xFF08;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF09; &#x21E7;F6 &#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x53D8;&#x91CF; &#x2318;N,&#x2303;&#x21A9;,&#x2303;N &#x751F;&#x6210;&#x4EE3;&#x7801;&#xFF08;getter&#x3001;setter&#x3001;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3001;hashCode/equals,toString&#xFF09; &#x2318;P &#x663E;&#x793A;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x4FE1;&#x606F; &#x67E5;&#x627E; Double&#x21E7; &#x67E5;&#x627E;&#x4EFB;&#x4F55;&#x4E1C;&#x897F; &#x2318;&#x21E7;F &#x5168;&#x5C40;&#x67E5;&#x627E;&#xFF08;&#x6839;&#x636E;&#x8DEF;&#x5F84;&#xFF09; &#x2318;F &#x6587;&#x4EF6;&#x5185;&#x67E5;&#x627E; &#x2318;G &#x67E5;&#x627E;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x5411;&#x4E0B;&#x67E5;&#x627E; &#x2318;&#x21E7;G &#x67E5;&#x627E;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x5411;&#x4E0A;&#x67E5;&#x627E; &#x5BFC;&#x822A; &#x2318;&#x2325;B &#x8DF3;&#x8F6C;&#x5230;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0; &#x2318;U &#x67E5;&#x770B;&#x63A5;&#x53E3;&#x5B9A;&#x4E49; &#x2318;&#x2325;&#x2190; /&#x2318;&#x2325;&#x2192; &#x9000;&#x56DE; / &#x524D;&#x8FDB;&#x5230;&#x4E0A;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7684;&#x5730;&#x65B9; &#x2318;B /&#x2318; &#x9F20;&#x6807;&#x70B9;&#x51FB; &#x8FDB;&#x5165;&#x5149;&#x6807;&#x6240;&#x5728;&#x7684;&#x65B9;&#x6CD5;/&#x53D8;&#x91CF;&#x7684;&#x63A5;&#x53E3;&#x6216;&#x662F;&#x5B9A;&#x4E49;&#x5904; &#x2303;&#x21E7;B &#x8DF3;&#x8F6C;&#x5230;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#x5904; &#x2325; Space,&#x2318;Y &#x5FEB;&#x901F;&#x6253;&#x5F00;&#x5149;&#x6807;&#x6240;&#x5728;&#x65B9;&#x6CD5;&#x3001;&#x7C7B;&#x7684;&#x5B9A;&#x4E49; &#x2318;O &#x67E5;&#x627E;&#x7C7B;&#x6587;&#x4EF6; &#x2318;&#x21E7;O &#x67E5;&#x627E;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x6587;&#x4EF6;&#x3001;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x3001;&#x6253;&#x5F00;&#x76EE;&#x5F55;&#xFF0C;&#x6253;&#x5F00;&#x76EE;&#x5F55;&#x9700;&#x8981;&#x5728;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x524D;&#x9762;&#x6216;&#x540E;&#x9762;&#x52A0;&#x4E00;&#x4E2A;&#x53CD;&#x659C;&#x6760;/ F12 &#x8FD4;&#x56DE;&#x5230;&#x524D;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#x7A97;&#x53E3; &#x238B; &#x4ECE;&#x5DE5;&#x5177;&#x7A97;&#x53E3;&#x8FDB;&#x5165;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x7A97;&#x53E3; &#x21E7;&#x238B; &#x9690;&#x85CF;&#x5F53;&#x524D;&#x6216;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6D3B;&#x52A8;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x4E14;&#x5149;&#x6807;&#x8FDB;&#x5165;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x7A97;&#x53E3; F3&#x9009;&#x4E2D;&#x6587;&#x4EF6;/&#x6587;&#x4EF6;&#x5939;/&#x4EE3;&#x7801;&#x884C;&#xFF0C;&#x6DFB;&#x52A0;/&#x53D6;&#x6D88;&#x4E66;&#x7B7E; &#x2325;F3 &#x9009;&#x4E2D;&#x6587;&#x4EF6;/&#x6587;&#x4EF6;&#x5939;/&#x4EE3;&#x7801;&#x884C;&#xFF0C;&#x4F7F;&#x7528;&#x52A9;&#x8BB0;&#x7B26;&#x6DFB;&#x52A0;/&#x53D6;&#x6D88;&#x4E66;&#x7B7E; &#x2303;0&#x2026;&#x2303;9 &#x5B9A;&#x4F4D;&#x5230;&#x5BF9;&#x5E94;&#x6570;&#x503C;&#x7684;&#x4E66;&#x7B7E;&#x4F4D;&#x7F6E; &#x2318;F3 &#x663E;&#x793A;&#x6240;&#x6709;&#x4E66;&#x7B7E; &#x2325;F1 &#x663E;&#x793A;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x9009;&#x62E9;&#x76EE;&#x6807;&#x5F39;&#x51FA;&#x5C42;&#xFF0C;&#x5F39;&#x51FA;&#x5C42;&#x4E2D;&#x6709;&#x5F88;&#x591A;&#x76EE;&#x6807;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x9009;&#x62E9;(&#x5982;&#x5728;&#x4EE3;&#x7801;&#x7F16;&#x8F91;&#x7A97;&#x53E3;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x663E;&#x793A;&#x8BE5;&#x6587;&#x4EF6;&#x7684;Finder) &#x2318;F12 &#x5F39;&#x51FA;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x5C42;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5F39;&#x51FA;&#x7684;&#x5C42;&#x4E0A;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#xFF08;&#x53EF;&#x7528;&#x4E8E;&#x641C;&#x7D22;&#x7C7B;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF09; &#x901A;&#x7528; &#x2303;&#x2318;F &#x5207;&#x6362;&#x5168;&#x5C4F;&#x6A21;&#x5F0F; &#x81EA;&#x52A8;&#x4EE3;&#x7801;&#x26A0;&#x6CE8;&#xFF1A;&#x2318;+J&#x53EF;&#x4EE5;&#x8C03;&#x51FA;&#x6240;&#x6709;&#x63D0;&#x4F9B;&#x7684;&#x4EE3;&#x7801;&#x8865;&#x5168;&#x21A9;&#x5373;&#x53EF;&#xFF0C;&#x4E0B;&#x9762;&#x4EC5;&#x5217;&#x4E3E;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;]]></content>
      <categories>
        <category>pycharm</category>
      </categories>
      <tags>
        <tag>pycharm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[初学html]]></title>
    <url>%2F2018%2F04%2F09%2Fh5-html%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x81EA;&#x5F3A;&#x5B66;&#x9662;&#x7684;html5&#x6559;&#x7A0B;&#x672C;&#x6587;&#x7B80;&#x5355;&#x8BB0;&#x5F55;html&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x6807;&#x7B7E; HTML5&#x7B80;&#x4ECB;&#x4EC0;&#x4E48;&#x662F;HTML?HTML &#x662F;&#x7528;&#x6765;&#x63CF;&#x8FF0;&#x7F51;&#x9875;&#x7684;&#x4E00;&#x79CD;&#x8BED;&#x8A00;&#x3002; HTML &#x6307;&#x7684;&#x662F;&#x8D85;&#x6587;&#x672C;&#x6807;&#x8BB0;&#x8BED;&#x8A00;: Hyper Text Markup Language HTML &#x4E0D;&#x662F;&#x4E00;&#x79CD;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x800C;&#x662F;&#x4E00;&#x79CD;&#x6807;&#x8BB0;&#x8BED;&#x8A00; &#x6807;&#x8BB0;&#x8BED;&#x8A00;&#x662F;&#x4E00;&#x5957;&#x6807;&#x8BB0;&#x6807;&#x7B7E; (markup tag) HTML &#x4F7F;&#x7528;&#x6807;&#x8BB0;&#x6807;&#x7B7E;&#x6765;&#x63CF;&#x8FF0;&#x7F51;&#x9875; HTML &#x6587;&#x6863;&#x5305;&#x542B;&#x4E86;HTML &#x6807;&#x7B7E;&#x53CA;&#x6587;&#x672C;&#x5185;&#x5BB9; HTML&#x6587;&#x6863;&#x4E5F;&#x53EB;&#x505A; web &#x9875;&#x9762; &#x4EC0;&#x4E48;&#x662F; HTML5?HTML5 &#x662F;&#x4E0B;&#x4E00;&#x4EE3; HTML &#x6807;&#x51C6;&#x3002; HTML , HTML 4.01&#x7684;&#x4E0A;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x8BDE;&#x751F;&#x4E8E; 1999 &#x5E74;&#x3002;&#x81EA;&#x4ECE;&#x90A3;&#x4EE5;&#x540E;&#xFF0C;Web &#x4E16;&#x754C;&#x5DF2;&#x7ECF;&#x7ECF;&#x5386;&#x4E86;&#x5DE8;&#x53D8;&#x3002; HTML5 &#x4ECD;&#x5904;&#x4E8E;&#x5B8C;&#x5584;&#x4E4B;&#x4E2D;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x73B0;&#x4EE3;&#x6D4F;&#x89C8;&#x5668;&#x5DF2;&#x7ECF;&#x5177;&#x5907;&#x4E86;&#x67D0;&#x4E9B; HTML5 &#x652F;&#x6301;&#x3002; HTML5 &#x662F;&#x5982;&#x4F55;&#x8D77;&#x6B65;&#x7684;&#xFF1F;HTML5 &#x662F; W3C &#x4E0E; WHATWG &#x5408;&#x4F5C;&#x7684;&#x7ED3;&#x679C;,WHATWG &#x6307; Web Hypertext Application Technology Working Group&#x3002;&#x3002; WHATWG &#x81F4;&#x529B;&#x4E8E; web &#x8868;&#x5355;&#x548C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x800C; W3C &#x4E13;&#x6CE8;&#x4E8E; XHTML 2.0&#x3002;&#x5728; 2006 &#x5E74;&#xFF0C;&#x53CC;&#x65B9;&#x51B3;&#x5B9A;&#x8FDB;&#x884C;&#x5408;&#x4F5C;&#xFF0C;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7248;&#x672C;&#x7684; HTML&#x3002; HTML5 &#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x6709;&#x8DA3;&#x7684;&#x65B0;&#x7279;&#x6027;&#xFF1A; &#x7528;&#x4E8E;&#x7ED8;&#x753B;&#x7684; canvas &#x5143;&#x7D20; &#x7528;&#x4E8E;&#x5A92;&#x4ECB;&#x56DE;&#x653E;&#x7684; video &#x548C; audio &#x5143;&#x7D20; &#x5BF9;&#x672C;&#x5730;&#x79BB;&#x7EBF;&#x5B58;&#x50A8;&#x7684;&#x66F4;&#x597D;&#x7684;&#x652F;&#x6301; &#x65B0;&#x7684;&#x7279;&#x6B8A;&#x5185;&#x5BB9;&#x5143;&#x7D20;&#xFF0C;&#x6BD4;&#x5982; article&#x3001;footer&#x3001;header&#x3001;nav&#x3001;section &#x65B0;&#x7684;&#x8868;&#x5355;&#x63A7;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982; calendar&#x3001;date&#x3001;time&#x3001;email&#x3001;url&#x3001;search &#x6807;&#x7B7E;&#x5206;&#x7C7B; &#x81EA;&#x95ED;&#x548C;&#x6807;&#x7B7E; 1&lt;meta charset=&quot;UTF-8&quot;&gt; &#x4E3B;&#x52A8;&#x95ED;&#x5408;&#x6807;&#x7B7E; 1&lt;title&gt;Document&lt;/title&gt; head&#x6807;&#x7B7E;meta &#x7F16;&#x7801; &#x8DF3;&#x8F6C; &#x5237;&#x65B0; &#x5173;&#x952E;&#x5B57; &#x63CF;&#x8FF0; IE&#x517C;&#x5BB9; 123456&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0; url=http://example.com&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&lt;meta name=&quot;keywords&quot; content=&quot;meta,&#x6211;&#x7684;&#x6807;&#x7B7E;&quot;&gt;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;&lt;meta name=&quot;description&quot; content=&quot;Free Web tutorials on HTML and CSS&quot;&gt; title&#x7F51;&#x9875;&#x7684;&#x5934;&#x90E8;&#x4FE1;&#x606F; 1&lt;title&gt;Document&lt;/title&gt; link css icon 12&lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;&lt;link rel=&quot;shortcut icon&quot; href=&quot;favicon.ico&quot; type=&quot;image/x-icon&quot;&gt; style&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5199;&#x6837;&#x5F0F;&#xFF0C;&#x53C2;&#x7167;css script&#x5F15;&#x5165;js&#x6587;&#x4EF6; 1&lt;script src=&quot;my.js&quot;&gt;&lt;/script&gt; body&#x6807;&#x7B7E; &#x56FE;&#x6807;&#x4EE5;&#x53CA;&#x5404;&#x79CD;&#x5B57;&#x7B26;,&#x8BF7;&#x53C2;&#x7167; p&#xFF1A;&#x6BB5;&#x843D; br&#xFF1A;&#x6362;&#x884C; hr&#xFF1A;&#x5206;&#x5272;&#x7EBF; h&#x7CFB;&#x5217;&#xFF1A;&#x6807;&#x9898; &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6CE8;&#x91CA; --&gt;```12345678910## input* type=&apos;text&apos;&#xFF1A;name&#x3001;value* type=&apos;password&apos;&#xFF1A;name&#x3001;value* type=&apos;submit&apos;&#xFF1A;value=&apos;&apos; &#x63D0;&#x4EA4;&#x6309;&#x94AE;&#x3001;&#x8868;&#x5355;* type=&apos;button&apos;&#xFF1A;&#x6309;&#x94AE;* type=&apos;radio&apos;&#xFF1A;&#x5355;&#x9009;&#x6846; value&#x3001;checked=&apos;checked&apos; name&#x76F8;&#x540C;&#x4E92;&#x65A5;* type=&apos;checkbox&apos;&#xFF1A;&#x590D;&#x9009;&#x6846; value&#x3001;checked=&apos;checked&apos; name&#x6279;&#x91CF;&#x83B7;&#x53D6;&#x6570;&#x636E;* type=&apos;file&apos;&#xFF1A;&#x4F9D;&#x8D56;```&lt;form action=&quot;&quot; enctype=&quot;multipart/form-data&quot;&gt;&lt;/form&gt; type=&#x2019;rest&#x2019;&#xFF1A;&#x91CD;&#x7F6E; textarea1&lt;textarea name=&quot;&quot; id=&quot;&quot; cols=&quot;30&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt; selectname&#xFF0C;&#x5185;&#x90E8;option value&#xFF0C;&#x63D0;&#x4EA4;&#x5230;&#x540E;&#x53F0;&#xFF0C;size&#xFF0C;multiple a &#x8DF3;&#x8F6C; &#x951A;&#xFF1A;href=&#x201D;#id&#x201D; &#x6807;&#x7B7E;&#x7684;id&#x4E0D;&#x5141;&#x8BB8;&#x91CD;&#x590D; 1&lt;a href=&quot;http://c.isme.pub/&quot; target=&quot;_blank&quot;&gt;isme&lt;/a&gt; img1&lt;img src=&quot;a.png&quot; alt=&quot;&#x56FE;&#x7247;&quot; title=&quot;&quot;&gt; &#x5217;&#x8868; &#x65E0;&#x5E8F;&#x5217;&#x8868;&#xFF1A;ul li &#x6709;&#x5E8F;&#x5217;&#x8868;&#xFF1A;ol li &#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x8868;&#xFF1A;dl dt dd &#x8868;&#x683C; table thead tr th tbody tr th colspan rowspan label&#x7528;&#x4E8E;&#x70B9;&#x51FB;&#x6587;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;&#x5173;&#x8054;&#x7684;&#x6807;&#x7B7E;&#x83B7;&#x53D6;&#x5149;&#x6807; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384&lt;label for=&quot;user&quot;&gt;&#x7528;&#x6237;&#x540D;&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;user&quot;&gt;``` ## fieldset * legend## &#x6807;&#x7B7E;&#x5206;&#x7C7B;* &#x5757;&#x7EA7;&#x6807;&#x7B7E; * div * h * p* &#x5185;&#x8054;&#x6807;&#x7B7E; * span* &#x6807;&#x7B7E;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;* &#x6807;&#x7B7E;&#x5B58;&#x5728;&#x7684;&#x610F;&#x4E49;&#xFF1A;css&#x3001;js&#x64CD;&#x4F5C;# html&#x6807;&#x7B7E;&#x8868;&#x683C;| &#x5C5E;&#x6027; | &#x63CF;&#x8FF0; || :---: | :---: || class | &#x4E3A;html&#x5143;&#x7D20;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7C7B;&#x540D;&#xFF08;classname&#xFF09;(&#x7C7B;&#x540D;&#x4ECE;&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x5F15;&#x5165;) || id | &#x5B9A;&#x4E49;&#x5143;&#x7D20;&#x7684;&#x552F;&#x4E00;id || style | &#x89C4;&#x5B9A;&#x5143;&#x7D20;&#x7684;&#x884C;&#x5185;&#x6837;&#x5F0F;&#xFF08;inline style&#xFF09; title || title | &#x63CF;&#x8FF0;&#x4E86;&#x5143;&#x7D20;&#x7684;&#x989D;&#x5916;&#x4FE1;&#x606F; (&#x4F5C;&#x4E3A;&#x5DE5;&#x5177;&#x6761;&#x4F7F;&#x7528;) || ```&lt;html&gt;``` | &#x5B9A;&#x4E49;HTML&#x6587;&#x6863; || ```&lt;head&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x6587;&#x6863;&#x7684;&#x4FE1;&#x606F; || ```&lt;title&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x6587;&#x6863;&#x7684;&#x6807;&#x9898; || ```&lt;base&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x9875;&#x9762;&#x94FE;&#x63A5;&#x6807;&#x7B7E;&#x7684;&#x9ED8;&#x8BA4;&#x94FE;&#x63A5;&#x5730;&#x5740; || ```&lt;link&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x548C;&#x5916;&#x90E8;&#x8D44;&#x6E90;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB; || ```&lt;meta&gt;``` | &#x5B9A;&#x4E49;&#x4E86;HTML&#x6587;&#x6863;&#x4E2D;&#x7684;&#x5143;&#x6570;&#x636E; || ```&lt;script&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6; || ```&lt;style&gt;``` | &#x5B9A;&#x4E49;&#x4E86;HTML&#x6587;&#x6863;&#x7684;&#x6837;&#x5F0F;&#x6587;&#x4EF6; || ```&lt;body&gt;``` | &#x5B9A;&#x4E49;&#x6587;&#x6863;&#x7684;&#x4E3B;&#x4F53; || ```&lt;h1&gt; to &lt;h6&gt;``` | &#x5B9A;&#x4E49; || ```&lt;hr&gt;``` | &#x5B9A;&#x4E49;&#x6C34;&#x5E73;&#x7EBF; || ```&lt;!--&gt;``` | &#x5B9A;&#x4E49;&#x6CE8;&#x91CA; || ```&lt;p&gt;``` | &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6BB5;&#x843D; || ```&lt;br&gt;``` | &#x63D2;&#x5165;&#x5355;&#x4E2A;&#x6298;&#x884C;&#xFF08;&#x6362;&#x884C;&#xFF09; || ```&lt;a&gt;``` | &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x8D85;&#x7EA7;&#x94FE;&#x63A5; || ```&lt;img&gt;``` | &#x5B9A;&#x4E49;&#x56FE;&#x50CF; || ```&lt;map&gt;``` | &#x5B9A;&#x4E49;&#x56FE;&#x50CF;&#x5730;&#x56FE; || ```&lt;area&gt;``` | &#x5B9A;&#x4E49;&#x56FE;&#x50CF;&#x5730;&#x56FE;&#x4E2D;&#x7684;&#x53EF;&#x70B9;&#x51FB;&#x533A;&#x57DF; || ```&lt;table&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C; || ```&lt;th&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C;&#x7684;&#x8868;&#x5934; || ```&lt;tr&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C;&#x7684;&#x884C; || ```&lt;td&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C;&#x5355;&#x5143; || ```&lt;caption&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C;&#x6807;&#x9898; || ```&lt;colgroup&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C;&#x5217;&#x7684;&#x7EC4; || ```&lt;col&gt;``` | &#x5B9A;&#x4E49;&#x7528;&#x4E8E;&#x8868;&#x683C;&#x5217;&#x7684;&#x5C5E;&#x6027; || ```&lt;thead&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C;&#x7684;&#x9875;&#x7709; || ```&lt;tbody&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C;&#x7684;&#x4E3B;&#x4F53; || ```&lt;tfoot&gt;``` | &#x5B9A;&#x4E49;&#x8868;&#x683C;&#x7684;&#x9875;&#x811A; || ```&lt;ol&gt;``` | &#x5B9A;&#x4E49;&#x6709;&#x5E8F;&#x5217;&#x8868; || ```&lt;ul&gt;``` | &#x5B9A;&#x4E49;&#x65E0;&#x5E8F;&#x5217;&#x8868; || ```&lt;li&gt;``` | &#x5B9A;&#x4E49;&#x5217;&#x8868;&#x9879; || ```&lt;dl&gt;``` | &#x5B9A;&#x4E49;&#x5B9A;&#x4E49;&#x5217;&#x8868; || ```&lt;dt&gt;``` | &#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x8868;&#x9879;&#x76EE; || ```&lt;dd&gt;``` | &#x5B9A;&#x4E49;&#x81EA;&#x5B9A;&#x5217;&#x8868;&#x4E49;&#x7684;&#x63CF;&#x8FF0; || ```&lt;div&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x6587;&#x6863;&#x7684;&#x533A;&#x57DF;&#xFF0C;&#x5757;&#x7EA7;(block-level) || ```&lt;span&gt;``` | &#x7528;&#x6765;&#x7EC4;&#x5408;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x884C;&#x5185;&#x5143;&#x7D20;&#xFF0C;&#x5185;&#x8054;&#x5143;&#x7D20;(inline) || ```&lt;div&gt;``` | &#x5B9A;&#x4E49;&#x6587;&#x6863;&#x533A;&#x5757;&#xFF0C;&#x5757;&#x7EA7;(block-level) || ```&lt;span&gt;``` | &#x5B9A;&#x4E49;span&#xFF0C;&#x7528;&#x6765;&#x7EC4;&#x5408;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x884C;&#x5185;&#x5143;&#x7D20;&#x3002; || ```&lt;form&gt;``` | &#x5B9A;&#x4E49;&#x4F9B;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x8868;&#x5355; || ```&lt;input&gt;``` | &#x5B9A;&#x4E49;&#x8F93;&#x5165;&#x57DF; || ```&lt;textarea&gt;``` | &#x5B9A;&#x4E49;&#x6587;&#x672C;&#x57DF;(&#x4E00;&#x4E2A;&#x591A;&#x884C;&#x7684;&#x8F93;&#x5165;&#x63A7;&#x4EF6;) || ```&lt;label&gt;``` | &#x5B9A;&#x4E49;&#x4E86;```&lt;input&gt;```&#x5143;&#x7D20;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x4E00;&#x822C;&#x4E3A;&#x8F93;&#x5165;&#x6807;&#x9898; || ```&lt;fieldset&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x7EC4;&#x76F8;&#x5173;&#x7684;&#x8868;&#x5355;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x5916;&#x6846;&#x5305;&#x542B;&#x8D77;&#x6765; || ```&lt;legend&gt;``` | &#x5B9A;&#x4E49;&#x4E86;```&lt;fieldset&gt;```&#x5143;&#x7D20;&#x7684;&#x6807;&#x9898; || ```&lt;select&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x4E0B;&#x62C9;&#x9009;&#x9879;&#x5217;&#x8868; || ```&lt;optgroup&gt;``` | &#x5B9A;&#x4E49;&#x9009;&#x9879;&#x7EC4; || ```&lt;option&gt;``` | &#x5B9A;&#x4E49;&#x4E0B;&#x62C9;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x9009;&#x9879; || ```&lt;button&gt;``` | &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x70B9;&#x51FB;&#x6309;&#x94AE; || ```&lt;datalist&gt;``` | &#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x7684;&#x8F93;&#x5165;&#x63A7;&#x4EF6;&#x9009;&#x9879;&#x5217;&#x8868; || ```&lt;keygen&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x8868;&#x5355;&#x7684;&#x5BC6;&#x94A5;&#x5BF9;&#x751F;&#x6210;&#x5668;&#x5B57;&#x6BB5; || ```&lt;output&gt;``` | &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x7ED3;&#x679C; || ```&lt;iframe&gt;``` | &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5185;&#x8054;&#x7684;iframe || ```&lt;script&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x811A;&#x672C; || ```&lt;noscript&gt;``` | &#x5B9A;&#x4E49;&#x4E86;&#x4E0D;&#x652F;&#x6301;&#x811A;&#x672C;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x51FA;&#x7684;&#x6587;&#x672C; |# HTML&#x5B57;&#x7B26;&#x5B9E;&#x4F53;| &#x663E;&#x793A;&#x7ED3;&#x679C; | &#x63CF;&#x8FF0; | &#x5B9E;&#x4F53;&#x540D;&#x79F0; | &#x5B9E;&#x4F53;&#x7F16;&#x53F7; || :---: | :---: | :---: | :---: || | &#x7A7A;&#x683C; | ```&amp;nbsp;``` | ```&amp;#160;``` || &lt; | &#x5C0F;&#x4E8E;&#x53F7; | ```&amp;lt;``` | ```&amp;#60;``` || &gt; | &#x5927;&#x4E8E;&#x53F7; | ```&amp;gt;``` | ```&amp;#62;``` || &amp; | &#x548C;&#x53F7; | ```&amp;amp;``` | ```&amp;#38;``` || &quot; | &#x5F15;&#x53F7; | ```&amp;quot;``` | ```&amp;#34;``` || &apos; | &#x6487;&#x53F7; | ```&amp;apos;``` | ```(IE&#x4E0D;&#x652F;&#x6301;)``` || &#xFFE0; | &#x5206; | ```&amp;cent;``` | ```&amp;#162;``` || &#xA3; | &#x9551; | ```&amp;pound;``` | ```&amp;#163;``` || &#xA5; | &#x65E5;&#x5706; | ```&amp;yen;``` | ```&amp;#165;``` || &#x20AC; | &#x6B27;&#x5143; | ```&amp;euro;``` | ```&amp;#8364;``` || &#xA7; | &#x5C0F;&#x8282; | ```&amp;sect;``` | ```&amp;#167;``` || &#xA9; | &#x7248;&#x6743; | ```&amp;copy;``` | ```&amp;#169;``` || &#xAE; | &#x6CE8;&#x518C;&#x5546;&#x6807; | ```&amp;reg;``` | ```&amp;#174;``` || &#x2122; | &#x5546;&#x6807; | ```&amp;trade;``` | ```&amp;#8482;``` || &#xD7; | &#x4E58;&#x53F7; | ```&amp;times;``` | ```&amp;#215;``` || &#xF7; | &#x9664;&#x53F7; | ```&amp;divide;``` | ```&amp;#247;``` |# URL&#x7F16;&#x7801;&#x5B9E;&#x4F8B;| &#x5B57;&#x7B26; | URL || :---: | :---: || &#x20AC; | %80 || &#xA3; | %A3 || &#xA9; | %A9 || &#xAE; | %AE || &#xC0; | %C0 || &#xC1; | %C1 || &#xC2; | %C2 || &#xC3; | %C3 || &#xC4; | %C4 || &#xC5; | %C5 |# &#x989C;&#x8272;| Color | Name | Name || :---: | :---: | :---: || AliceBlue | #F0F8FF | &lt;font color=&quot;#F0F8FF&quot;&gt;#F0F8FF&lt;/font&gt; || AntiqueWhite | #FAEBD7 | &lt;font color=&quot;#FAEBD7&quot;&gt;#FAEBD7&lt;/font&gt; || Aqua | #00FFFF | &lt;font color=&quot;#00FFFF&quot;&gt;#00FFFF&lt;/font&gt; || Aquamarine | #7FFFD4 | &lt;font color=&quot;#7FFFD4&quot;&gt;#7FFFD4&lt;/font&gt; || Azure | #F0FFFF | &lt;font color=&quot;#F0FFFF&quot;&gt;#F0FFFF&lt;/font&gt; || Beige | #F5F5DC | &lt;font color=&quot;#F5F5DC&quot;&gt;#F5F5DC&lt;/font&gt; || Bisque | #FFE4C4 | &lt;font color=&quot;#FFE4C4&quot;&gt;#FFE4C4&lt;/font&gt; || Black | #000000 | &lt;font color=&quot;#000000&quot;&gt;#000000&lt;/font&gt; || BlanchedAlmond | #FFEBCD | &lt;font color=&quot;#FFEBCD&quot;&gt;#FFEBCD&lt;/font&gt; || Blue | #0000FF | &lt;font color=&quot;#0000FF&quot;&gt;#0000FF&lt;/font&gt; || BlueViolet | #8A2BE2 | &lt;font color=&quot;#8A2BE2&quot;&gt;#8A2BE2&lt;/font&gt; || Brown | #A52A2A | &lt;font color=&quot;#A52A2A&quot;&gt;#A52A2A&lt;/font&gt; || BurlyWood | #DEB887 | &lt;font color=&quot;#DEB887&quot;&gt;#DEB887&lt;/font&gt; || CadetBlue | #5F9EA0 | &lt;font color=&quot;#5F9EA0&quot;&gt;#5F9EA0&lt;/font&gt; || Chartreuse | #7FFF00 | &lt;font color=&quot;#7FFF00&quot;&gt;#7FFF00&lt;/font&gt; || Chocolate | #D2691E | &lt;font color=&quot;#D2691E&quot;&gt;#D2691E&lt;/font&gt; || Coral | #FF7F50 | &lt;font color=&quot;#FF7F50&quot;&gt;#FF7F50&lt;/font&gt; || CornflowerBlue | #6495ED | &lt;font color=&quot;#6495ED&quot;&gt;#6495ED&lt;/font&gt; || Cornsilk | #FFF8DC | &lt;font color=&quot;#FFF8DC&quot;&gt;#FFF8DC&lt;/font&gt; || Crimson | #DC143C | &lt;font color=&quot;#DC143C&quot;&gt;#DC143C&lt;/font&gt; || Cyan | #00FFFF | &lt;font color=&quot;#00FFFF&quot;&gt;#00FFFF&lt;/font&gt; || DarkBlue | #00008B | &lt;font color=&quot;#00008B&quot;&gt;#00008B&lt;/font&gt; || DarkCyan | #008B8B | &lt;font color=&quot;#008B8B&quot;&gt;#008B8B&lt;/font&gt; || DarkGoldenRod | #B8860B | &lt;font color=&quot;#B8860B&quot;&gt;#B8860B&lt;/font&gt; || DarkGray | #A9A9A9 | &lt;font color=&quot;#A9A9A9&quot;&gt;#A9A9A9&lt;/font&gt; || DarkGreen | #006400 | &lt;font color=&quot;#006400&quot;&gt;#006400&lt;/font&gt; || DarkKhaki | #BDB76B | &lt;font color=&quot;#BDB76B&quot;&gt;#BDB76B&lt;/font&gt; || DarkMagenta | #8B008B | &lt;font color=&quot;#8B008B&quot;&gt;#8B008B&lt;/font&gt; || DarkOliveGreen | #556B2F | &lt;font color=&quot;#556B2F&quot;&gt;#556B2F&lt;/font&gt; || DarkOrange | #FF8C00 | &lt;font color=&quot;#FF8C00&quot;&gt;#FF8C00&lt;/font&gt; || DarkOrchid | #9932CC | &lt;font color=&quot;#9932CC&quot;&gt;#9932CC&lt;/font&gt; || DarkRed | #8B0000 | &lt;font color=&quot;#8B0000&quot;&gt;#8B0000&lt;/font&gt; || DarkSalmon | #E9967A | &lt;font color=&quot;#E9967A&quot;&gt;#E9967A&lt;/font&gt; || DarkSeaGreen | #8FBC8F | &lt;font color=&quot;#8FBC8F&quot;&gt;#8FBC8F&lt;/font&gt; || DarkSlateBlue | #483D8B | &lt;font color=&quot;#483D8B&quot;&gt;#483D8B&lt;/font&gt; || DarkSlateGray | #2F4F4F | &lt;font color=&quot;#2F4F4F&quot;&gt;#2F4F4F&lt;/font&gt; || DarkTurquoise | #00CED1 | &lt;font color=&quot;#00CED1&quot;&gt;#00CED1&lt;/font&gt; || DarkViolet | #9400D3 | &lt;font color=&quot;#9400D3&quot;&gt;#9400D3&lt;/font&gt; || DeepPink | #FF1493 | &lt;font color=&quot;#FF1493&quot;&gt;#FF1493&lt;/font&gt; || DeepSkyBlue | #00BFFF | &lt;font color=&quot;#00BFFF&quot;&gt;#00BFFF&lt;/font&gt; || DimGray | #696969 | &lt;font color=&quot;#696969&quot;&gt;#696969&lt;/font&gt; || DodgerBlue | #1E90FF | &lt;font color=&quot;#1E90FF&quot;&gt;#1E90FF&lt;/font&gt; || FireBrick | #B22222 | &lt;font color=&quot;#B22222&quot;&gt;#B22222&lt;/font&gt; || FloralWhite | #FFFAF0 | &lt;font color=&quot;#FFFAF0&quot;&gt;#FFFAF0&lt;/font&gt; || ForestGreen | #228B22 | &lt;font color=&quot;#228B22&quot;&gt;#228B22&lt;/font&gt; || Fuchsia | #FF00FF | &lt;font color=&quot;#FF00FF&quot;&gt;#FF00FF&lt;/font&gt; || Gainsboro | #DCDCDC | &lt;font color=&quot;#DCDCDC&quot;&gt;#DCDCDC&lt;/font&gt; || GhostWhite | #F8F8FF | &lt;font color=&quot;#F8F8FF&quot;&gt;#F8F8FF&lt;/font&gt; || Gold | #FFD700 | &lt;font color=&quot;#FFD700&quot;&gt;#FFD700&lt;/font&gt; || GoldenRod | #DAA520 | &lt;font color=&quot;#DAA520&quot;&gt;#DAA520&lt;/font&gt; || Gray | #808080 | &lt;font color=&quot;#808080&quot;&gt;#808080&lt;/font&gt; || Green | #008000 | &lt;font color=&quot;#008000&quot;&gt;#008000&lt;/font&gt; || GreenYellow | #ADFF2F | &lt;font color=&quot;#ADFF2F&quot;&gt;#ADFF2F&lt;/font&gt; || HoneyDew | #F0FFF0 | &lt;font color=&quot;#F0FFF0&quot;&gt;#F0FFF0&lt;/font&gt; || HotPink | #FF69B4 | &lt;font color=&quot;#FF69B4&quot;&gt;#FF69B4&lt;/font&gt; || IndianRed | #CD5C5C | &lt;font color=&quot;#CD5C5C&quot;&gt;#CD5C5C&lt;/font&gt; || Indigo | #4B0082 | &lt;font color=&quot;#4B0082&quot;&gt;#4B0082&lt;/font&gt; || Ivory | #FFFFF0 | &lt;font color=&quot;#FFFFF0&quot;&gt;#FFFFF0&lt;/font&gt; || Khaki | #F0E68C | &lt;font color=&quot;#F0E68C&quot;&gt;#F0E68C&lt;/font&gt; || Lavender | #E6E6FA | &lt;font color=&quot;#E6E6FA&quot;&gt;#E6E6FA&lt;/font&gt; || LavenderBlush | #FFF0F5 | &lt;font color=&quot;#FFF0F5&quot;&gt;#FFF0F5&lt;/font&gt; || LawnGreen | #7CFC00 | &lt;font color=&quot;#7CFC00&quot;&gt;#7CFC00&lt;/font&gt; || LemonChiffon | #FFFACD | &lt;font color=&quot;#FFFACD&quot;&gt;#FFFACD&lt;/font&gt; || LightBlue | #ADD8E6 | &lt;font color=&quot;#ADD8E6&quot;&gt;#ADD8E6&lt;/font&gt; || LightCoral | #F08080 | &lt;font color=&quot;#F08080&quot;&gt;#F08080&lt;/font&gt; || LightCyan | #E0FFFF | &lt;font color=&quot;#E0FFFF&quot;&gt;#E0FFFF&lt;/font&gt; || LightGoldenRodYellow | #FAFAD2 | &lt;font color=&quot;#FAFAD2&quot;&gt;#FAFAD2&lt;/font&gt; || LightGray | #D3D3D3 | &lt;font color=&quot;#D3D3D3&quot;&gt;#D3D3D3&lt;/font&gt; || LightGreen | #90EE90 | &lt;font color=&quot;#90EE90&quot;&gt;#90EE90&lt;/font&gt; || LightPink | #FFB6C1 | &lt;font color=&quot;#FFB6C1&quot;&gt;#FFB6C1&lt;/font&gt; || LightSalmon | #FFA07A | &lt;font color=&quot;#FFA07A&quot;&gt;#FFA07A&lt;/font&gt; || LightSeaGreen | #20B2AA | &lt;font color=&quot;#20B2AA&quot;&gt;#20B2AA&lt;/font&gt; || LightSkyBlue | #87CEFA | &lt;font color=&quot;#87CEFA&quot;&gt;#87CEFA&lt;/font&gt; || LightSlateGray | #778899 | &lt;font color=&quot;#778899&quot;&gt;#778899&lt;/font&gt; || LightSteelBlue | #B0C4DE | &lt;font color=&quot;#B0C4DE&quot;&gt;#B0C4DE&lt;/font&gt; || LightYellow | #FFFFE0 | &lt;font color=&quot;#FFFFE0&quot;&gt;#FFFFE0&lt;/font&gt; || Lime | #00FF00 | &lt;font color=&quot;#00FF00&quot;&gt;#00FF00&lt;/font&gt; || LimeGreen | #32CD32 | &lt;font color=&quot;#32CD32&quot;&gt;#32CD32&lt;/font&gt; || Linen | #FAF0E6 | &lt;font color=&quot;#FAF0E6&quot;&gt;#FAF0E6&lt;/font&gt; || Magenta | #FF00FF | &lt;font color=&quot;#FF00FF&quot;&gt;#FF00FF&lt;/font&gt; || Maroon | #800000 | &lt;font color=&quot;#800000&quot;&gt;#800000&lt;/font&gt; || MediumAquaMarine | #66CDAA | &lt;font color=&quot;#66CDAA&quot;&gt;#66CDAA&lt;/font&gt; || MediumBlue | #0000CD | &lt;font color=&quot;#0000CD&quot;&gt;#0000CD&lt;/font&gt; || MediumOrchid | #BA55D3 | &lt;font color=&quot;#BA55D3&quot;&gt;#BA55D3&lt;/font&gt; || MediumPurple | #9370DB | &lt;font color=&quot;#9370DB&quot;&gt;#9370DB&lt;/font&gt; || MediumSeaGreen | #3CB371 | &lt;font color=&quot;#3CB371&quot;&gt;#3CB371&lt;/font&gt; || MediumSlateBlue | #7B68EE | &lt;font color=&quot;#7B68EE&quot;&gt;#7B68EE&lt;/font&gt; || MediumSpringGreen | #00FA9A | &lt;font color=&quot;#00FA9A&quot;&gt;#00FA9A&lt;/font&gt; || MediumTurquoise | #48D1CC | &lt;font color=&quot;#48D1CC&quot;&gt;#48D1CC&lt;/font&gt; || MediumVioletRed | #C71585 | &lt;font color=&quot;#C71585&quot;&gt;#C71585&lt;/font&gt; || MidnightBlue | #191970 | &lt;font color=&quot;#191970&quot;&gt;#191970&lt;/font&gt; || MintCream | #F5FFFA | &lt;font color=&quot;#F5FFFA&quot;&gt;#F5FFFA&lt;/font&gt; || MistyRose | #FFE4E1 | &lt;font color=&quot;#FFE4E1&quot;&gt;#FFE4E1&lt;/font&gt; || Moccasin | #FFE4B5 | &lt;font color=&quot;#FFE4B5&quot;&gt;#FFE4B5&lt;/font&gt; || NavajoWhite | #FFDEAD | &lt;font color=&quot;#FFDEAD&quot;&gt;#FFDEAD&lt;/font&gt; || Navy | #000080 | &lt;font color=&quot;#000080&quot;&gt;#000080&lt;/font&gt; || OldLace | #FDF5E6 | &lt;font color=&quot;#FDF5E6&quot;&gt;#FDF5E6&lt;/font&gt; || Olive | #808000 | &lt;font color=&quot;#808000&quot;&gt;#808000&lt;/font&gt; || OliveDrab | #6B8E23 | &lt;font color=&quot;#6B8E23&quot;&gt;#6B8E23&lt;/font&gt; || Orange | #FFA500 | &lt;font color=&quot;#FFA500&quot;&gt;#FFA500&lt;/font&gt; || OrangeRed | #FF4500 | &lt;font color=&quot;#FF4500&quot;&gt;#FF4500&lt;/font&gt; || Orchid | #DA70D6 | &lt;font color=&quot;#DA70D6&quot;&gt;#DA70D6&lt;/font&gt; || PaleGoldenRod | #EEE8AA | &lt;font color=&quot;#EEE8AA&quot;&gt;#EEE8AA&lt;/font&gt; || PaleGreen | #98FB98 | &lt;font color=&quot;#98FB98&quot;&gt;#98FB98&lt;/font&gt; || PaleTurquoise | #AFEEEE | &lt;font color=&quot;#AFEEEE&quot;&gt;#AFEEEE&lt;/font&gt; || PaleVioletRed | #DB7093 | &lt;font color=&quot;#DB7093&quot;&gt;#DB7093&lt;/font&gt; || PapayaWhip | #FFEFD5 | &lt;font color=&quot;#FFEFD5&quot;&gt;#FFEFD5&lt;/font&gt; || PeachPuff | #FFDAB9 | &lt;font color=&quot;#FFDAB9&quot;&gt;#FFDAB9&lt;/font&gt; || Peru | #CD853F | &lt;font color=&quot;#CD853F&quot;&gt;#CD853F&lt;/font&gt; || Pink | #FFC0CB | &lt;font color=&quot;#FFC0CB&quot;&gt;#FFC0CB&lt;/font&gt; || Plum | #DDA0DD | &lt;font color=&quot;#DDA0DD&quot;&gt;#DDA0DD&lt;/font&gt; || PowderBlue | #B0E0E6 | &lt;font color=&quot;#B0E0E6&quot;&gt;#B0E0E6&lt;/font&gt; || Purple | #800080 | &lt;font color=&quot;#800080&quot;&gt;#800080&lt;/font&gt; || Red | #FF0000 | &lt;font color=&quot;#FF0000&quot;&gt;#FF0000&lt;/font&gt; || RosyBrown | #BC8F8F | &lt;font color=&quot;#BC8F8F&quot;&gt;#BC8F8F&lt;/font&gt; || RoyalBlue | #4169E1 | &lt;font color=&quot;#4169E1&quot;&gt;#4169E1&lt;/font&gt; || SaddleBrown | #8B4513 | &lt;font color=&quot;#8B4513&quot;&gt;#8B4513&lt;/font&gt; || Salmon | #FA8072 | &lt;font color=&quot;#FA8072&quot;&gt;#FA8072&lt;/font&gt; || SandyBrown | #F4A460 | &lt;font color=&quot;#F4A460&quot;&gt;#F4A460&lt;/font&gt; || SeaGreen | #2E8B57 | &lt;font color=&quot;#2E8B57&quot;&gt;#2E8B57&lt;/font&gt; || SeaShell | #FFF5EE | &lt;font color=&quot;#FFF5EE&quot;&gt;#FFF5EE&lt;/font&gt; || Sienna | #A0522D | &lt;font color=&quot;#A0522D&quot;&gt;#A0522D&lt;/font&gt; || Silver | #C0C0C0 | &lt;font color=&quot;#C0C0C0&quot;&gt;#C0C0C0&lt;/font&gt; || SkyBlue | #87CEEB | &lt;font color=&quot;#87CEEB&quot;&gt;#87CEEB&lt;/font&gt; || SlateBlue | #6A5ACD | &lt;font color=&quot;#6A5ACD&quot;&gt;#6A5ACD&lt;/font&gt; || SlateGray | #708090 | &lt;font color=&quot;#708090&quot;&gt;#708090&lt;/font&gt; || Snow | #FFFAFA | &lt;font color=&quot;#FFFAFA&quot;&gt;#FFFAFA&lt;/font&gt; || SpringGreen | #00FF7F | &lt;font color=&quot;#00FF7F&quot;&gt;#00FF7F&lt;/font&gt; || SteelBlue | #4682B4 | &lt;font color=&quot;#4682B4&quot;&gt;#4682B4&lt;/font&gt; || Tan | #D2B48C | &lt;font color=&quot;#D2B48C&quot;&gt;#D2B48C&lt;/font&gt; || Teal | #008080 | &lt;font color=&quot;#008080&quot;&gt;#008080&lt;/font&gt; || Thistle | #D8BFD8 | &lt;font color=&quot;#D8BFD8&quot;&gt;#D8BFD8&lt;/font&gt; || Tomato | #FF6347 | &lt;font color=&quot;#FF6347&quot;&gt;#FF6347&lt;/font&gt; || Turquoise | #40E0D0 | &lt;font color=&quot;#40E0D0&quot;&gt;#40E0D0&lt;/font&gt; || Violet | #EE82EE | &lt;font color=&quot;#EE82EE&quot;&gt;#EE82EE&lt;/font&gt; || Wheat | #F5DEB3 | &lt;font color=&quot;#F5DEB3&quot;&gt;#F5DEB3&lt;/font&gt; || White | #FFFFFF | &lt;font color=&quot;#FFFFFF&quot;&gt;#FFFFFF&lt;/font&gt; || WhiteSmoke | #F5F5F5 | &lt;font color=&quot;#F5F5F5&quot;&gt;#F5F5F5&lt;/font&gt; || Yellow | #FFFF00 | &lt;font color=&quot;#FFFF00&quot;&gt;#FFFF00&lt;/font&gt; || YellowGreen | #9ACD32 | &lt;font color=&quot;#9ACD32&quot;&gt;#9ACD32&lt;/font&gt; |# html &#x901F;&#x67E5;``` htmlHTML&#x57FA;&#x672C;&#x6587;&#x6863;&#xFF08;HTML Basic Document&#xFF09;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Title of document goes here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Visible text goes here...&lt;/body&gt;&lt;/html&gt;&#x57FA;&#x672C;&#x6807;&#x7B7E;(Basic Tags)&lt;h1&gt;Largest Heading&lt;/h1&gt;&lt;h2&gt; . . . &lt;/h2&gt;&lt;h3&gt; . . . &lt;/h3&gt;&lt;h4&gt; . . . &lt;/h4&gt;&lt;h5&gt; . . . &lt;/h5&gt;&lt;h6&gt;Smallest Heading&lt;/h6&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;br&gt; (line break)&lt;hr&gt; (horizontal rule)&lt;!-- This is a comment --&gt;&#x6587;&#x672C;&#x683C;&#x5F0F;&#x5316;&#xFF08;Formatting&#xFF09;&lt;b&gt;Bold text&lt;/b&gt;&lt;code&gt;Computer code&lt;/code&gt;&lt;em&gt;Emphasized text&lt;/em&gt;&lt;i&gt;Italic text&lt;/i&gt;&lt;kbd&gt;Keyboard input&lt;/kbd&gt; &lt;pre&gt;Preformatted text&lt;/pre&gt;&lt;small&gt;Smaller text&lt;/small&gt;&lt;strong&gt;Important text&lt;/strong&gt;&lt;abbr&gt; (abbreviation)&lt;address&gt; (contact information)&lt;bdo&gt; (text direction)&lt;blockquote&gt; (a section quoted from another source)&lt;cite&gt; (title of a work)&lt;del&gt; (deleted text)&lt;ins&gt; (inserted text)&lt;sub&gt; (subscripted text)&lt;sup&gt; (superscripted text)&#x94FE;&#x63A5;&#xFF08;Links&#xFF09;Ordinary link: &lt;a href=&quot;http://www.example.com/&quot;&gt;Link-text goes here&lt;/a&gt;Image-link: &lt;a href=&quot;http://www.example.com/&quot;&gt;&lt;img src=&quot;URL&quot; alt=&quot;Alternate Text&quot;&gt;&lt;/a&gt;Mailto link: &lt;a href=&quot;mailto:webmaster@example.com&quot;&gt;Send e-mail&lt;/a&gt;Bookmark:&lt;a id=&quot;tips&quot;&gt;Tips Section&lt;/a&gt;&lt;a href=&quot;#tips&quot;&gt;Jump to the Tips Section&lt;/a&gt;&#x56FE;&#x7247;&#xFF08;Images&#xFF09;&lt;img src=&quot;URL&quot; alt=&quot;Alternate Text&quot; height=&quot;42&quot; width=&quot;42&quot;&gt;&#x6837;&#x5F0F;&#xFF08;Styles/Sections&#xFF09;&lt;style type=&quot;text/css&quot;&gt; h1 {color:red;} p {color:blue;}&lt;/style&gt;&lt;div&gt;A block-level section in a document&lt;/div&gt;&lt;span&gt;An inline section in a document&lt;/span&gt;Unordered list&lt;ul&gt; &lt;li&gt;Item&lt;/li&gt; &lt;li&gt;Item&lt;/li&gt;&lt;/ul&gt;Ordered list&lt;ol&gt; &lt;li&gt;First item&lt;/li&gt; &lt;li&gt;Second item&lt;/li&gt;&lt;/ol&gt;Definition list&lt;dl&gt; &lt;dt&gt;Item 1&lt;/dt&gt; &lt;dd&gt;Describe item 1&lt;/dd&gt; &lt;dt&gt;Item 2&lt;/dt&gt; &lt;dd&gt;Describe item 2&lt;/dd&gt;&lt;/dl&gt;Tables&lt;table border=&quot;1&quot;&gt; &lt;tr&gt; &lt;th&gt;table header&lt;/th&gt; &lt;th&gt;table header&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;table data&lt;/td&gt; &lt;td&gt;table data&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;&#x6846;&#x67B6;&#xFF08;Iframe&#xFF09;&lt;iframe src=&quot;demo_iframe.htm&quot;&gt;&lt;/iframe&gt;&#x8868;&#x5355;&#xFF08;Forms&#xFF09;&lt;form action=&quot;demo_form.asp&quot; method=&quot;post/get&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;email&quot; size=&quot;40&quot; maxlength=&quot;50&quot;&gt;&lt;input type=&quot;password&quot;&gt;&lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;&gt;&lt;input type=&quot;radio&quot; checked=&quot;checked&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Send&quot;&gt;&lt;input type=&quot;reset&quot;&gt;&lt;input type=&quot;hidden&quot;&gt;&lt;select&gt;&lt;option&gt;Apples&lt;/option&gt;&lt;option selected=&quot;selected&quot;&gt;Bananas&lt;/option&gt;&lt;option&gt;Cherries&lt;/option&gt;&lt;/select&gt;&lt;textarea name=&quot;comment&quot; rows=&quot;60&quot; cols=&quot;20&quot;&gt;&lt;/textarea&gt;&lt;/form&gt;Entities&amp;lt; is the same as &lt;&amp;gt; is the same as &gt;&#xA9; is the same as &#xA9;]]></content>
      <categories>
        <category>h5</category>
        <category>html</category>
      </categories>
      <tags>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TCP/IP及内核参数优化调优]]></title>
    <url>%2F2018%2F03%2F30%2Fsysctl-tcp%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;Linux&#x4E0B;TCP/IP&#x53CA;&#x5185;&#x6838;&#x53C2;&#x6570;&#x4F18;&#x5316;&#x6709;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x5F97;&#x5F53;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x7279;&#x5B9A;&#x573A;&#x666F;&#x8FDB;&#x884C;&#x4E13;&#x95E8;&#x7684;&#x4F18;&#x5316;&#xFF0C;&#x5982;TIME_WAIT&#x8FC7;&#x9AD8;&#xFF0C;DDOS&#x653B;&#x51FB;&#x7B49;&#x7B49;&#x3002; &#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x662F;&#x5199;&#x5728;sysctl.conf&#x4E2D;&#xFF0C;&#x53EF;&#x4F7F;&#x7528;sysctl -p&#x751F;&#x6548;&#xFF0C;&#x76F8;&#x5173;&#x53C2;&#x6570;&#x4EC5;&#x4F9B;&#x53C2;&#x8003;&#xFF0C;&#x5177;&#x4F53;&#x6570;&#x503C;&#x8FD8;&#x9700;&#x8981;&#x6839;&#x636E;&#x673A;&#x5668;&#x6027;&#x80FD;&#xFF0C;&#x5E94;&#x7528;&#x573A;&#x666F;&#x7B49;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x6765;&#x505A;&#x66F4;&#x7EC6;&#x5FAE;&#x8C03;&#x6574;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116net.core.netdev_max_backlog = 400000#&#x8BE5;&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#x4E86;&#xFF0C;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x63A5;&#x6536;&#x6570;&#x636E;&#x5305;&#x7684;&#x901F;&#x7387;&#x6BD4;&#x5185;&#x6838;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x5305;&#x7684;&#x901F;&#x7387;&#x5FEB;&#x65F6;&#xFF0C;&#x5141;&#x8BB8;&#x9001;&#x5230;&#x961F;&#x5217;&#x7684;&#x6570;&#x636E;&#x5305;&#x7684;&#x6700;&#x5927;&#x6570;&#x76EE;&#x3002;net.core.optmem_max = 10000000#&#x8BE5;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x4E86;&#x6BCF;&#x4E2A;&#x5957;&#x63A5;&#x5B57;&#x6240;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x5927;&#x5C0F;net.core.rmem_default = 10000000#&#x6307;&#x5B9A;&#x4E86;&#x63A5;&#x6536;&#x5957;&#x63A5;&#x5B57;&#x7F13;&#x51B2;&#x533A;&#x5927;&#x5C0F;&#x7684;&#x7F3A;&#x7701;&#x503C;&#xFF08;&#x4EE5;&#x5B57;&#x8282;&#x4E3A;&#x5355;&#x4F4D;&#xFF09;&#x3002;net.core.rmem_max = 10000000#&#x6307;&#x5B9A;&#x4E86;&#x63A5;&#x6536;&#x5957;&#x63A5;&#x5B57;&#x7F13;&#x51B2;&#x533A;&#x5927;&#x5C0F;&#x7684;&#x6700;&#x5927;&#x503C;&#xFF08;&#x4EE5;&#x5B57;&#x8282;&#x4E3A;&#x5355;&#x4F4D;&#xFF09;&#x3002;net.core.somaxconn = 100000#Linux kernel&#x53C2;&#x6570;&#xFF0C;&#x8868;&#x793A;socket&#x76D1;&#x542C;&#x7684;backlog(&#x76D1;&#x542C;&#x961F;&#x5217;)&#x4E0A;&#x9650;net.core.wmem_default = 11059200#&#x5B9A;&#x4E49;&#x9ED8;&#x8BA4;&#x7684;&#x53D1;&#x9001;&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#xFF1B;&#x5BF9;&#x4E8E;&#x66F4;&#x5927;&#x7684; BDP &#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;&#x5927;&#x5C0F;&#x4E5F;&#x5E94;&#x8BE5;&#x66F4;&#x5927;&#x3002;net.core.wmem_max = 11059200#&#x5B9A;&#x4E49;&#x53D1;&#x9001;&#x7A97;&#x53E3;&#x7684;&#x6700;&#x5927;&#x5927;&#x5C0F;&#xFF1B;&#x5BF9;&#x4E8E;&#x66F4;&#x5927;&#x7684; BDP &#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;&#x5927;&#x5C0F;&#x4E5F;&#x5E94;&#x8BE5;&#x66F4;&#x5927;&#x3002;net.ipv4.conf.all.rp_filter = 1net.ipv4.conf.default.rp_filter = 1#&#x4E25;&#x8C28;&#x6A21;&#x5F0F; 1 (&#x63A8;&#x8350;)#&#x677E;&#x6563;&#x6A21;&#x5F0F; 0net.ipv4.tcp_congestion_control = bic#&#x9ED8;&#x8BA4;&#x63A8;&#x8350;&#x8BBE;&#x7F6E;&#x662F; htcpnet.ipv4.tcp_window_scaling = 0#&#x5173;&#x95ED;tcp_window_scaling#&#x542F;&#x7528; RFC 1323 &#x5B9A;&#x4E49;&#x7684; window scaling&#xFF1B;&#x8981;&#x652F;&#x6301;&#x8D85;&#x8FC7; 64KB &#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x5FC5;&#x987B;&#x542F;&#x7528;&#x8BE5;&#x503C;&#x3002;net.ipv4.tcp_ecn = 0#&#x628A;TCP&#x7684;&#x76F4;&#x63A5;&#x62E5;&#x585E;&#x901A;&#x544A;(tcp_ecn)&#x5173;&#x6389;net.ipv4.tcp_sack = 1#&#x5173;&#x95ED;tcp_sack#&#x542F;&#x7528;&#x6709;&#x9009;&#x62E9;&#x7684;&#x5E94;&#x7B54;&#xFF08;Selective Acknowledgment&#xFF09;&#xFF0C;#&#x8FD9;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6709;&#x9009;&#x62E9;&#x5730;&#x5E94;&#x7B54;&#x4E71;&#x5E8F;&#x63A5;&#x6536;&#x5230;&#x7684;&#x62A5;&#x6587;&#x6765;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF08;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x8BA9;&#x53D1;&#x9001;&#x8005;&#x53EA;&#x53D1;&#x9001;&#x4E22;&#x5931;&#x7684;&#x62A5;&#x6587;&#x6BB5;&#xFF09;&#xFF1B;#&#xFF08;&#x5BF9;&#x4E8E;&#x5E7F;&#x57DF;&#x7F51;&#x901A;&#x4FE1;&#x6765;&#x8BF4;&#xFF09;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5E94;&#x8BE5;&#x542F;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4F1A;&#x589E;&#x52A0;&#x5BF9; CPU &#x7684;&#x5360;&#x7528;&#x3002;net.ipv4.tcp_max_tw_buckets = 10000#&#x8868;&#x793A;&#x7CFB;&#x7EDF;&#x540C;&#x65F6;&#x4FDD;&#x6301;TIME_WAIT&#x5957;&#x63A5;&#x5B57;&#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;net.ipv4.tcp_max_syn_backlog = 8192#&#x8868;&#x793A;SYN&#x961F;&#x5217;&#x957F;&#x5EA6;&#xFF0C;&#x9ED8;&#x8BA4;1024&#xFF0C;&#x6539;&#x6210;8192&#xFF0C;&#x53EF;&#x4EE5;&#x5BB9;&#x7EB3;&#x66F4;&#x591A;&#x7B49;&#x5F85;&#x8FDE;&#x63A5;&#x7684;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x6570;&#x3002;net.ipv4.tcp_syncookies = 1#&#x8868;&#x793A;&#x5F00;&#x542F;SYN Cookies&#x3002;&#x5F53;&#x51FA;&#x73B0;SYN&#x7B49;&#x5F85;&#x961F;&#x5217;&#x6EA2;&#x51FA;&#x65F6;&#xFF0C;&#x542F;&#x7528;cookies&#x6765;&#x5904;&#x7406;&#xFF0C;&#x53EF;&#x9632;&#x8303;&#x5C11;&#x91CF;SYN&#x653B;&#x51FB;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x5173;&#x95ED;&#xFF1B;net.ipv4.tcp_timestamps = 1#&#x5F00;&#x542F;TCP&#x65F6;&#x95F4;&#x6233;#&#x4EE5;&#x4E00;&#x79CD;&#x6BD4;&#x91CD;&#x53D1;&#x8D85;&#x65F6;&#x66F4;&#x7CBE;&#x786E;&#x7684;&#x65B9;&#x6CD5;&#xFF08;&#x8BF7;&#x53C2;&#x9605; RFC 1323&#xFF09;&#x6765;&#x542F;&#x7528;&#x5BF9; RTT &#x7684;&#x8BA1;&#x7B97;&#xFF1B;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x66F4;&#x597D;&#x7684;&#x6027;&#x80FD;&#x5E94;&#x8BE5;&#x542F;&#x7528;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x3002;net.ipv4.tcp_tw_reuse = 1#&#x8868;&#x793A;&#x5F00;&#x542F;&#x91CD;&#x7528;&#x3002;&#x5141;&#x8BB8;&#x5C06;TIME-WAIT sockets&#x91CD;&#x65B0;&#x7528;&#x4E8E;&#x65B0;&#x7684;TCP&#x8FDE;&#x63A5;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x5173;&#x95ED;&#xFF1B;net.ipv4.tcp_tw_recycle = 1#&#x8868;&#x793A;&#x5F00;&#x542F;TCP&#x8FDE;&#x63A5;&#x4E2D;TIME-WAIT sockets&#x7684;&#x5FEB;&#x901F;&#x56DE;&#x6536;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x5173;&#x95ED;&#x3002;net.ipv4.tcp_fin_timeout = 10#&#x8868;&#x793A;&#x5982;&#x679C;&#x5957;&#x63A5;&#x5B57;&#x7531;&#x672C;&#x7AEF;&#x8981;&#x6C42;&#x5173;&#x95ED;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#x4E86;&#x5B83;&#x4FDD;&#x6301;&#x5728;FIN-WAIT-2&#x72B6;&#x6001;&#x7684;&#x65F6;&#x95F4;&#x3002;net.ipv4.tcp_keepalive_time = 1800#&#x8868;&#x793A;&#x5F53;keepalive&#x8D77;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;TCP&#x53D1;&#x9001;keepalive&#x6D88;&#x606F;&#x7684;&#x9891;&#x5EA6;&#x3002;&#x7F3A;&#x7701;&#x662F;2&#x5C0F;&#x65F6;&#xFF0C;&#x6539;&#x4E3A;30&#x5206;&#x949F;&#x3002;net.ipv4.tcp_keepalive_probes = 3#&#x5982;&#x679C;&#x5BF9;&#x65B9;&#x4E0D;&#x4E88;&#x5E94;&#x7B54;&#xFF0C;&#x63A2;&#x6D4B;&#x5305;&#x7684;&#x53D1;&#x9001;&#x6B21;&#x6570;net.ipv4.tcp_keepalive_intvl = 15#keepalive&#x63A2;&#x6D4B;&#x5305;&#x7684;&#x53D1;&#x9001;&#x95F4;&#x9694;net.ipv4.tcp_mem#&#x786E;&#x5B9A; TCP &#x6808;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x53CD;&#x6620;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#xFF1B;&#x6BCF;&#x4E2A;&#x503C;&#x7684;&#x5355;&#x4F4D;&#x90FD;&#x662F;&#x5185;&#x5B58;&#x9875;&#xFF08;&#x901A;&#x5E38;&#x662F; 4KB&#xFF09;&#x3002;#&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x662F;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x7684;&#x4E0B;&#x9650;&#x3002;#&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F;&#x5185;&#x5B58;&#x538B;&#x529B;&#x6A21;&#x5F0F;&#x5F00;&#x59CB;&#x5BF9;&#x7F13;&#x51B2;&#x533A;&#x4F7F;&#x7528;&#x5E94;&#x7528;&#x538B;&#x529B;&#x7684;&#x4E0A;&#x9650;&#x3002;#&#x7B2C;&#x4E09;&#x4E2A;&#x503C;&#x662F;&#x5185;&#x5B58;&#x4E0A;&#x9650;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x5C42;&#x6B21;&#x4E0A;&#x53EF;&#x4EE5;&#x5C06;&#x62A5;&#x6587;&#x4E22;&#x5F03;&#xFF0C;&#x4ECE;&#x800C;&#x51CF;&#x5C11;&#x5BF9;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#x3002;&#x5BF9;&#x4E8E;&#x8F83;&#x5927;&#x7684; BDP &#x53EF;&#x4EE5;&#x589E;&#x5927;&#x8FD9;&#x4E9B;&#x503C;&#xFF08;&#x4F46;&#x662F;&#x8981;&#x8BB0;&#x4F4F;&#xFF0C;&#x5176;&#x5355;&#x4F4D;&#x662F;&#x5185;&#x5B58;&#x9875;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B57;&#x8282;&#xFF09;&#x3002;net.ipv4.tcp_rmem#&#x4E0E; tcp_wmem &#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x8FC7;&#x5B83;&#x8868;&#x793A;&#x7684;&#x662F;&#x4E3A;&#x81EA;&#x52A8;&#x8C03;&#x4F18;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x63A5;&#x6536;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x503C;&#x3002;net.ipv4.tcp_wmem = 30000000 30000000 30000000#&#x4E3A;&#x81EA;&#x52A8;&#x8C03;&#x4F18;&#x5B9A;&#x4E49;&#x6BCF;&#x4E2A; socket &#x4F7F;&#x7528;&#x7684;&#x5185;&#x5B58;&#x3002;#&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x662F;&#x4E3A; socket &#x7684;&#x53D1;&#x9001;&#x7F13;&#x51B2;&#x533A;&#x5206;&#x914D;&#x7684;&#x6700;&#x5C11;&#x5B57;&#x8282;&#x6570;&#x3002;#&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F;&#x9ED8;&#x8BA4;&#x503C;&#xFF08;&#x8BE5;&#x503C;&#x4F1A;&#x88AB; wmem_default &#x8986;&#x76D6;&#xFF09;&#xFF0C;&#x7F13;&#x51B2;&#x533A;&#x5728;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x4E0D;&#x91CD;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x589E;&#x957F;&#x5230;&#x8FD9;&#x4E2A;&#x503C;&#x3002;#&#x7B2C;&#x4E09;&#x4E2A;&#x503C;&#x662F;&#x53D1;&#x9001;&#x7F13;&#x51B2;&#x533A;&#x7A7A;&#x95F4;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#xFF08;&#x8BE5;&#x503C;&#x4F1A;&#x88AB; wmem_max &#x8986;&#x76D6;&#xFF09;&#x3002;net.ipv4.ip_local_port_range = 1024 65000#&#x8868;&#x793A;&#x7528;&#x4E8E;&#x5411;&#x5916;&#x8FDE;&#x63A5;&#x7684;&#x7AEF;&#x53E3;&#x8303;&#x56F4;&#x3002;&#x7F3A;&#x7701;&#x60C5;&#x51B5;&#x4E0B;&#x5F88;&#x5C0F;&#xFF1A;32768&#x5230;61000&#xFF0C;&#x6539;&#x4E3A;1024&#x5230;65000&#x3002;net.ipv4.netfilter.ip_conntrack_max=204800#&#x8BBE;&#x7F6E;&#x7CFB;&#x7EDF;&#x5BF9;&#x6700;&#x5927;&#x8DDF;&#x8E2A;&#x7684;TCP&#x8FDE;&#x63A5;&#x6570;&#x7684;&#x9650;&#x5236;net.ipv4.tcp_slow_start_after_idle = 0#&#x5173;&#x95ED;tcp&#x7684;&#x8FDE;&#x63A5;&#x4F20;&#x8F93;&#x7684;&#x6162;&#x542F;&#x52A8;&#xFF0C;&#x5373;&#x5148;&#x4F11;&#x6B62;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x518D;&#x521D;&#x59CB;&#x5316;&#x62E5;&#x585E;&#x7A97;&#x53E3;&#x3002;net.ipv4.route.gc_timeout = 100#&#x8DEF;&#x7531;&#x7F13;&#x5B58;&#x5237;&#x65B0;&#x9891;&#x7387;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5931;&#x8D25;&#x540E;&#x591A;&#x957F;&#x65F6;&#x95F4;&#x8DF3;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;300&#x3002;net.ipv4.tcp_syn_retries = 1#&#x5728;&#x5185;&#x6838;&#x653E;&#x5F03;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x4E4B;&#x524D;&#x53D1;&#x9001;SYN&#x5305;&#x7684;&#x6570;&#x91CF;&#x3002;net.ipv4.icmp_echo_ignore_broadcasts = 1# &#x907F;&#x514D;&#x653E;&#x5927;&#x653B;&#x51FB;net.ipv4.icmp_ignore_bogus_error_responses = 1# &#x5F00;&#x542F;&#x6076;&#x610F;icmp&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x4FDD;&#x62A4;net.inet.udp.checksum=1#&#x9632;&#x6B62;&#x4E0D;&#x6B63;&#x786E;&#x7684;udp&#x5305;&#x7684;&#x653B;&#x51FB;net.ipv4.conf.default.accept_source_route = 0#&#x662F;&#x5426;&#x63A5;&#x53D7;&#x542B;&#x6709;&#x6E90;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x7684;ip&#x5305;&#x3002;&#x53C2;&#x6570;&#x503C;&#x4E3A;&#x5E03;&#x5C14;&#x503C;&#xFF0C;1&#x8868;&#x793A;&#x63A5;&#x53D7;&#xFF0C;0&#x8868;&#x793A;&#x4E0D;&#x63A5;&#x53D7;&#x3002;#&#x5728;&#x5145;&#x5F53;&#x7F51;&#x5173;&#x7684;linux&#x4E3B;&#x673A;&#x4E0A;&#x7F3A;&#x7701;&#x503C;&#x4E3A;1&#xFF0C;&#x5728;&#x4E00;&#x822C;&#x7684;linux&#x4E3B;&#x673A;&#x4E0A;&#x7F3A;&#x7701;&#x503C;&#x4E3A;0&#x3002;#&#x4ECE;&#x5B89;&#x5168;&#x6027;&#x89D2;&#x5EA6;&#x51FA;&#x53D1;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F60;&#x5173;&#x95ED;&#x8BE5;&#x529F;&#x80FD;&#x3002;]]></content>
      <categories>
        <category>linux</category>
        <category>sysctl</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>sysctl</tag>
        <tag>tcp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mysql数据库]]></title>
    <url>%2F2018%2F03%2F24%2Fmysql-base%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x4EC0;&#x4E48;&#x662F;&#x6570;&#x636E;&#x5E93;&#xFF1F; &#x6570;&#x636E;&#x5E93;&#xFF08;Database&#xFF09;&#x662F;&#x6309;&#x7167;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x6765;&#x7EC4;&#x7EC7;&#x3001;&#x5B58;&#x50A8;&#x548C;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x7684;API&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#xFF0C;&#x8BBF;&#x95EE;&#xFF0C;&#x7BA1;&#x7406;&#xFF0C;&#x641C;&#x7D22;&#x548C;&#x590D;&#x5236;&#x6240;&#x4FDD;&#x5B58;&#x7684;&#x6570;&#x636E;&#x3002; &#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5728;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x5199;&#x6570;&#x636E;&#x901F;&#x5EA6;&#x76F8;&#x5BF9;&#x8F83;&#x6162;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF08;RDBMS&#xFF09;&#x6765;&#x5B58;&#x50A8;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x5927;&#x6570;&#x636E;&#x91CF;&#x3002;&#x6240;&#x8C13;&#x7684;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x5173;&#x7CFB;&#x6A21;&#x578B;&#x57FA;&#x7840;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x501F;&#x52A9;&#x4E8E;&#x96C6;&#x5408;&#x4EE3;&#x6570;&#x7B49;&#x6570;&#x5B66;&#x6982;&#x5FF5;&#x548C;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x3002;RDBMS&#x5373;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;(Relational Database Management System)&#x7684;&#x7279;&#x70B9;&#xFF1A; &#x6570;&#x636E;&#x4EE5;&#x8868;&#x683C;&#x7684;&#x5F62;&#x5F0F;&#x51FA;&#x73B0; &#x6BCF;&#x884C;&#x4E3A;&#x5404;&#x79CD;&#x8BB0;&#x5F55;&#x540D;&#x79F0; &#x6BCF;&#x5217;&#x4E3A;&#x8BB0;&#x5F55;&#x540D;&#x79F0;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x57DF; &#x8BB8;&#x591A;&#x7684;&#x884C;&#x548C;&#x5217;&#x7EC4;&#x6210;&#x4E00;&#x5F20;&#x8868;&#x5355; &#x82E5;&#x5E72;&#x7684;&#x8868;&#x5355;&#x7EC4;&#x6210;database &#x4E0B;&#x56FE;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93; RDBMS &#x672F;&#x8BED; &#x6570;&#x636E;&#x5E93;: &#x6570;&#x636E;&#x5E93;&#x662F;&#x4E00;&#x4E9B;&#x5173;&#x8054;&#x8868;&#x7684;&#x96C6;&#x5408;&#x3002;. &#x6570;&#x636E;&#x8868;: &#x8868;&#x662F;&#x6570;&#x636E;&#x7684;&#x77E9;&#x9635;&#x3002;&#x5728;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x7535;&#x5B50;&#x8868;&#x683C;&#x3002; &#x5217;: &#x4E00;&#x5217;(&#x6570;&#x636E;&#x5143;&#x7D20;) &#x5305;&#x542B;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x6570;&#x636E;, &#x4F8B;&#x5982;&#x90AE;&#x653F;&#x7F16;&#x7801;&#x7684;&#x6570;&#x636E;&#x3002; &#x884C;&#xFF1A;&#x4E00;&#x884C;&#xFF08;=&#x5143;&#x7EC4;&#xFF0C;&#x6216;&#x8BB0;&#x5F55;&#xFF09;&#x662F;&#x4E00;&#x7EC4;&#x76F8;&#x5173;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F8B;&#x5982;&#x4E00;&#x6761;&#x7528;&#x6237;&#x8BA2;&#x9605;&#x7684;&#x6570;&#x636E;&#x3002; &#x5197;&#x4F59;&#xFF1A;&#x5B58;&#x50A8;&#x4E24;&#x500D;&#x6570;&#x636E;&#xFF0C;&#x5197;&#x4F59;&#x53EF;&#x4EE5;&#x4F7F;&#x7CFB;&#x7EDF;&#x901F;&#x5EA6;&#x66F4;&#x5FEB;&#x3002;(&#x8868;&#x7684;&#x89C4;&#x8303;&#x5316;&#x7A0B;&#x5EA6;&#x8D8A;&#x9AD8;&#xFF0C;&#x8868;&#x4E0E;&#x8868;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x5C31;&#x8D8A;&#x591A;&#xFF1B;&#x67E5;&#x8BE2;&#x65F6;&#x53EF;&#x80FD;&#x7ECF;&#x5E38;&#x9700;&#x8981;&#x5728;&#x591A;&#x4E2A;&#x8868;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#xFF1B;&#x800C;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#x4F1A;&#x964D;&#x4F4E;&#x67E5;&#x8BE2;&#x901F;&#x5EA6;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5B66;&#x751F;&#x7684;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;student&#x8868;&#x4E2D;&#xFF0C;&#x9662;&#x7CFB;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;department&#x8868;&#x4E2D;&#x3002;&#x901A;&#x8FC7;student&#x8868;&#x4E2D;&#x7684;dept_id&#x5B57;&#x6BB5;&#x4E0E;department&#x8868;&#x5EFA;&#x7ACB;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x3002;&#x5982;&#x679C;&#x8981;&#x67E5;&#x8BE2;&#x4E00;&#x4E2A;&#x5B66;&#x751F;&#x6240;&#x5728;&#x7CFB;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5FC5;&#x987B;&#x4ECE;student&#x8868;&#x4E2D;&#x67E5;&#x627E;&#x5B66;&#x751F;&#x6240;&#x5728;&#x9662;&#x7CFB;&#x7684;&#x7F16;&#x53F7;&#xFF08;dept_id&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x7F16;&#x53F7;&#x53BB;department&#x67E5;&#x627E;&#x7CFB;&#x7684;&#x540D;&#x79F0;&#x3002;&#x5982;&#x679C;&#x7ECF;&#x5E38;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#x4F1A;&#x6D6A;&#x8D39;&#x5F88;&#x591A;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5728;student&#x8868;&#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x5197;&#x4F59;&#x5B57;&#x6BB5;dept_name&#xFF0C;&#x8BE5;&#x5B57;&#x6BB5;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x5B66;&#x751F;&#x6240;&#x5728;&#x9662;&#x7CFB;&#x7684;&#x540D;&#x79F0;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x7528;&#x6BCF;&#x6B21;&#x90FD;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#x4E86;&#x3002;) &#x4E3B;&#x952E;&#xFF1A;&#x4E3B;&#x952E;&#x662F;&#x552F;&#x4E00;&#x7684;&#x3002;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x8868;&#x4E2D;&#x53EA;&#x80FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E3B;&#x952E;&#x6765;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x3002; &#x5916;&#x952E;&#xFF1A;&#x5916;&#x952E;&#x7528;&#x4E8E;&#x5173;&#x8054;&#x4E24;&#x4E2A;&#x8868;&#x3002; &#x590D;&#x5408;&#x952E;&#xFF1A;&#x590D;&#x5408;&#x952E;&#xFF08;&#x7EC4;&#x5408;&#x952E;&#xFF09;&#x5C06;&#x591A;&#x4E2A;&#x5217;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x952E;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x590D;&#x5408;&#x7D22;&#x5F15;&#x3002; &#x7D22;&#x5F15;&#xFF1A;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x53EF;&#x5FEB;&#x901F;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x4FE1;&#x606F;&#x3002;&#x7D22;&#x5F15;&#x662F;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x4E00;&#x5217;&#x6216;&#x591A;&#x5217;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x7684;&#x4E00;&#x79CD;&#x7ED3;&#x6784;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E66;&#x7C4D;&#x7684;&#x76EE;&#x5F55;&#x3002;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6027;: &#x53C2;&#x7167;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x8981;&#x6C42;&#x5173;&#x7CFB;&#x4E2D;&#x4E0D;&#x5141;&#x8BB8;&#x5F15;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x5B9E;&#x4F53;&#x3002;&#x4E0E;&#x5B9E;&#x4F53;&#x5B8C;&#x6574;&#x6027;&#x662F;&#x5173;&#x7CFB;&#x6A21;&#x578B;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002; Mysql&#x6570;&#x636E;&#x5E93;Mysql&#x662F;&#x6700;&#x6D41;&#x884C;&#x7684;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5728;WEB&#x5E94;&#x7528;&#x65B9;&#x9762;MySQL&#x662F;&#x6700;&#x597D;&#x7684;RDBMS(Relational Database Management System&#xFF1A;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;)&#x5E94;&#x7528;&#x8F6F;&#x4EF6;&#x4E4B;&#x4E00;&#x3002;&#x7531;&#x745E;&#x5178;MySQL AB&#x516C;&#x53F8;&#x5F00;&#x53D1;&#xFF0C;&#x76EE;&#x524D;&#x5C5E;&#x4E8E;Oracle&#x516C;&#x53F8;&#x3002;MySQL&#x662F;&#x4E00;&#x79CD;&#x5173;&#x8054;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5173;&#x8054;&#x6570;&#x636E;&#x5E93;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5C06;&#x6240;&#x6709;&#x6570;&#x636E;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x5927;&#x4ED3;&#x5E93;&#x5185;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x589E;&#x52A0;&#x4E86;&#x901F;&#x5EA6;&#x5E76;&#x63D0;&#x9AD8;&#x4E86;&#x7075;&#x6D3B;&#x6027;&#x3002; Mysql&#x662F;&#x5F00;&#x6E90;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x652F;&#x4ED8;&#x989D;&#x5916;&#x7684;&#x8D39;&#x7528;&#x3002; Mysql&#x652F;&#x6301;&#x5927;&#x578B;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x62E5;&#x6709;&#x4E0A;&#x5343;&#x4E07;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x5927;&#x578B;&#x6570;&#x636E;&#x5E93;&#x3002; MySQL&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x7684;SQL&#x6570;&#x636E;&#x8BED;&#x8A00;&#x5F62;&#x5F0F;&#x3002; Mysql&#x53EF;&#x4EE5;&#x5141;&#x8BB8;&#x4E8E;&#x591A;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x5E76;&#x4E14;&#x652F;&#x6301;&#x591A;&#x79CD;&#x8BED;&#x8A00;&#x3002;&#x8FD9;&#x4E9B;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5305;&#x62EC;C&#x3001;C++&#x3001;Python&#x3001;Java&#x3001;Perl&#x3001;PHP&#x3001;Eiffel&#x3001;Ruby&#x548C;Tcl&#x7B49;&#x3002; Mysql&#x5BF9;PHP&#x6709;&#x5F88;&#x597D;&#x7684;&#x652F;&#x6301;&#xFF0C;PHP&#x662F;&#x76EE;&#x524D;&#x6700;&#x6D41;&#x884C;&#x7684;Web&#x5F00;&#x53D1;&#x8BED;&#x8A00;&#x3002; MySQL&#x652F;&#x6301;&#x5927;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x652F;&#x6301;5000&#x4E07;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#xFF0C;32&#x4F4D;&#x7CFB;&#x7EDF;&#x8868;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x53EF;&#x652F;&#x6301;4GB&#xFF0C;64&#x4F4D;&#x7CFB;&#x7EDF;&#x652F;&#x6301;&#x6700;&#x5927;&#x7684;&#x8868;&#x6587;&#x4EF6;&#x4E3A;8TB&#x3002; Mysql&#x662F;&#x53EF;&#x4EE5;&#x5B9A;&#x5236;&#x7684;&#xFF0C;&#x91C7;&#x7528;&#x4E86;GPL&#x534F;&#x8BAE;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x6E90;&#x7801;&#x6765;&#x5F00;&#x53D1;&#x81EA;&#x5DF1;&#x7684;Mysql&#x7CFB;&#x7EDF;&#x3002; MySQL &#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;1CREATE TABLE table_name (column_name column_type); 1234567create table student( stu_id INT NOT NULL AUTO_INCREMENT, name CHAR(32) NOT NULL, age INT NOT NULL, register_date DATE, PRIMARY KEY ( stu_id )); &#x5982;&#x679C;&#x4F60;&#x4E0D;&#x60F3;&#x5B57;&#x6BB5;&#x4E3A; NULL &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x7684;&#x5C5E;&#x6027;&#x4E3A; NOT NULL&#xFF0C; &#x5728;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x5982;&#x679C;&#x8F93;&#x5165;&#x8BE5;&#x5B57;&#x6BB5;&#x7684;&#x6570;&#x636E;&#x4E3A;NULL &#xFF0C;&#x5C31;&#x4F1A;&#x62A5;&#x9519;&#x3002; AUTO_INCREMENT&#x5B9A;&#x4E49;&#x5217;&#x4E3A;&#x81EA;&#x589E;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x4E3B;&#x952E;&#xFF0C;&#x6570;&#x503C;&#x4F1A;&#x81EA;&#x52A8;&#x52A0;1&#x3002;PRIMARY KEY&#x5173;&#x952E;&#x5B57;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x5217;&#x4E3A;&#x4E3B;&#x952E;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x5217;&#x6765;&#x5B9A;&#x4E49;&#x4E3B;&#x952E;&#xFF0C;&#x5217;&#x95F4;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#x3002; MySQL &#x63D2;&#x5165;&#x6570;&#x636E;123INSERT INTO table_name ( field1, field2,...fieldN ) VALUES ( value1, value2,...valueN ); 1234567891011mysql&gt; insert into student (name,age,register_date) values (&quot;alex li&quot;,22,&quot;2016-03-4&quot;) -&gt; ;Query OK, 1 row affected (0.00 sec) mysql&gt; select * from student;+--------+---------+-----+---------------+| stu_id | name | age | register_date |+--------+---------+-----+---------------+| 1 | alex li | 22 | 2016-03-04 |+--------+---------+-----+---------------+1 row in set (0.00 sec) MySQL &#x67E5;&#x8BE2;&#x6570;&#x636E;1234SELECT column_name,column_nameFROM table_name[WHERE Clause][OFFSET M ][LIMIT N] &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4E2D;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x8868;&#xFF0C;&#x8868;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;&#x9017;&#x53F7;(,)&#x5206;&#x5272;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;WHERE&#x8BED;&#x53E5;&#x6765;&#x8BBE;&#x5B9A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x3002; SELECT &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x8BFB;&#x53D6;&#x4E00;&#x6761;&#x6216;&#x8005;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#x3002; &#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x661F;&#x53F7;&#xFF08;*&#xFF09;&#x6765;&#x4EE3;&#x66FF;&#x5176;&#x4ED6;&#x5B57;&#x6BB5;&#xFF0C;SELECT&#x8BED;&#x53E5;&#x4F1A;&#x8FD4;&#x56DE;&#x8868;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x6570;&#x636E; &#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; WHERE &#x8BED;&#x53E5;&#x6765;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x6761;&#x4EF6;&#x3002; &#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;OFFSET&#x6307;&#x5B9A;SELECT&#x8BED;&#x53E5;&#x5F00;&#x59CB;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x504F;&#x79FB;&#x91CF;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x504F;&#x79FB;&#x91CF;&#x4E3A;0&#x3002; &#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; LIMIT &#x5C5E;&#x6027;&#x6765;&#x8BBE;&#x5B9A;&#x8FD4;&#x56DE;&#x7684;&#x8BB0;&#x5F55;&#x6570;&#x3002; 123456789mysql&gt; select * from student limit 3 offset 2;+--------+---------+-----+---------------+| stu_id | name | age | register_date |+--------+---------+-----+---------------+| 3 | alex li | 24 | 2016-03-04 || 4 | alex li | 24 | 2016-03-01 || 5 | alex li | 24 | 2016-03-02 |+--------+---------+-----+---------------+3 rows in set (0.00 sec) &#x6BD4;&#x5982;&#x8FD9;&#x4E2A;SQL &#xFF0C;limit&#x540E;&#x9762;&#x8DDF;&#x7684;&#x662F;3&#x6761;&#x6570;&#x636E;&#xFF0C;offset&#x540E;&#x9762;&#x662F;&#x4ECE;&#x7B2C;3&#x6761;&#x5F00;&#x59CB;&#x8BFB;&#x53D6; 1234567mysql&gt; select * from student limit 3 ,1;+--------+---------+-----+---------------+| stu_id | name | age | register_date |+--------+---------+-----+---------------+| 4 | alex li | 24 | 2016-03-01 |+--------+---------+-----+---------------+1 row in set (0.00 sec) &#x800C;&#x8FD9;&#x4E2A;SQL&#xFF0C;limit&#x540E;&#x9762;&#x662F;&#x4ECE;&#x7B2C;3&#x6761;&#x5F00;&#x59CB;&#x8BFB;&#xFF0C;&#x8BFB;&#x53D6;1&#x6761;&#x4FE1;&#x606F;&#x3002; &#x3000;&#x3000; MySQL where &#x5B50;&#x53E5;12SELECT field1, field2,...fieldN FROM table_name1, table_name2...[WHERE condition1 [AND [OR]] condition2..... MySQL UPDATE &#x67E5;&#x8BE2;1234UPDATE table_name SET field1=new-value1, field2=new-value2[WHERE Clause]update student set age=22 ,name=&quot;Alex Li&quot; where stu_id&gt;3; MySQL DELETE &#x8BED;&#x53E5;1DELETE FROM table_name [WHERE Clause]&lt;br&gt;&lt;br&gt;delete from student where stu_id=5; MySQL LIKE &#x5B50;&#x53E5;12345SELECT field1, field2,...fieldN table_name1, table_name2...WHERE field1 LIKE condition1 [AND [OR]] filed2 = &apos;somevalue&apos; select *from student where name binary like &quot;%Li&quot;;select *from student where name binary like binary &quot;%Li&quot;; #&#x53EA;&#x5339;&#x914D;&#x5927;&#x5199; MySQL &#x6392;&#x5E8F;1234SELECT field1, field2,...fieldN table_name1, table_name2...ORDER BY field1, [field2...] [ASC [DESC]]&#x4F7F;&#x7528; ASC &#x6216; DESC &#x5173;&#x952E;&#x5B57;&#x6765;&#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x662F;&#x6309;&#x5347;&#x5E8F;&#x6216;&#x964D;&#x5E8F;&#x6392;&#x5217;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x662F;&#x6309;&#x5347;&#x5E8F;&#x6392;&#x5217;&#x3002;select *from student where name like binary &quot;%Li&quot; order by stu_id desc; MySQL GROUP BY &#x8BED;&#x53E5;&#x3000;&#x3000;1234SELECT column_name, function(column_name)FROM table_nameWHERE column_name operator valueGROUP BY column_name; 1234567891011mysql&gt; SELECT * FROM employee_tbl;+----+--------+---------------------+--------+| id | name | date | singin |+----+--------+---------------------+--------+| 1 | &#x5C0F;&#x660E; | 2016-04-22 15:25:33 | 1 || 2 | &#x5C0F;&#x738B; | 2016-04-20 15:25:47 | 3 || 3 | &#x5C0F;&#x4E3D; | 2016-04-19 15:26:02 | 2 || 4 | &#x5C0F;&#x738B; | 2016-04-07 15:26:14 | 4 || 5 | &#x5C0F;&#x660E; | 2016-04-11 15:26:40 | 4 || 6 | &#x5C0F;&#x660E; | 2016-04-04 15:26:54 | 2 |+----+--------+---------------------+--------+ &#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x4F7F;&#x7528; GROUP BY &#x8BED;&#x53E5; &#x5C06;&#x6570;&#x636E;&#x8868;&#x6309;&#x540D;&#x5B57;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x6BCF;&#x4E2A;&#x4EBA;&#x6709;&#x591A;&#x5C11;&#x6761;&#x8BB0;&#x5F55;&#xFF1A; 123456789mysql&gt; SELECT name, COUNT(*) FROM employee_tbl GROUP BY name;+--------+----------+| name | COUNT(*) |+--------+----------+| &#x5C0F;&#x4E3D; | 1 || &#x5C0F;&#x660E; | 3 || &#x5C0F;&#x738B; | 2 |+--------+----------+3 rows in set (0.01 sec) &#x4F7F;&#x7528; WITH ROLLUP12345678910mysql&gt; SELECT name, SUM(singin) as singin_count FROM employee_tbl GROUP BY name WITH ROLLUP;+--------+--------------+| name | singin_count |+--------+--------------+| &#x5C0F;&#x4E3D; | 2 || &#x5C0F;&#x660E; | 7 || &#x5C0F;&#x738B; | 7 || NULL | 16 |+--------+--------------+4 rows in set (0.00 sec) &#x5176;&#x4E2D;&#x8BB0;&#x5F55; NULL &#x8868;&#x793A;&#x6240;&#x6709;&#x4EBA;&#x7684;&#x767B;&#x5F55;&#x6B21;&#x6570;&#x3002; 12&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; coalesce &#x6765;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x53D6;&#x4EE3; NUll &#x7684;&#x540D;&#x79F0;&#xFF0C;coalesce &#x8BED;&#x6CD5;&#xFF1A;mysql&gt; SELECT coalesce(name, &apos;&#x603B;&#x6570;&apos;), SUM(singin) as singin_count FROM employee_tbl GROUP BY name WITH ROLLUP; MySQL ALTER&#x547D;&#x4EE4;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x8868;&#x540D;&#x6216;&#x8005;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x8868;&#x5B57;&#x6BB5;&#x65F6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5230;MySQL ALTER&#x547D;&#x4EE4;&#x3002; &#x5220;&#x9664;&#xFF0C;&#x6DFB;&#x52A0;&#x6216;&#x4FEE;&#x6539;&#x8868;&#x5B57;&#x6BB5;1alter table student drop register_date; #&#x4ECE;student&#x8868;&#x5220;&#x9664;register_date &#x5B57;&#x6BB5;alter table student add phone int(11) not null; &#xFF03;&#x6DFB;&#x52A0;phone&#x5B57;&#x6BB5; &#x4FEE;&#x6539;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x53CA;&#x540D;&#x79F0;&#x5982;&#x679C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x53CA;&#x540D;&#x79F0;, &#x4F60;&#x53EF;&#x4EE5;&#x5728;ALTER&#x547D;&#x4EE4;&#x4E2D;&#x4F7F;&#x7528; MODIFY &#x6216; CHANGE &#x5B50;&#x53E5; &#x3002; 123&#x4F8B;&#x5982;&#xFF0C;&#x628A;&#x5B57;&#x6BB5; c &#x7684;&#x7C7B;&#x578B;&#x4ECE; CHAR(1) &#x6539;&#x4E3A; CHAR(10)&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;:mysql&gt; ALTER TABLE testalter_tbl MODIFY c CHAR(10); &#x4F7F;&#x7528; CHANGE &#x5B50;&#x53E5;, &#x8BED;&#x6CD5;&#x6709;&#x5F88;&#x5927;&#x7684;&#x4E0D;&#x540C;&#x3002; &#x5728; CHANGE &#x5173;&#x952E;&#x5B57;&#x4E4B;&#x540E;&#xFF0C;&#x7D27;&#x8DDF;&#x7740;&#x7684;&#x662F;&#x4F60;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#xFF0C;&#x7136;&#x540E;&#x6307;&#x5B9A;&#x65B0;&#x5B57;&#x6BB5;&#x540D;&#x53CA;&#x7C7B;&#x578B;&#x3002;&#x5C1D;&#x8BD5;&#x5982;&#x4E0B;&#x5B9E;&#x4F8B;&#xFF1A; 123mysql&gt; ALTER TABLE testalter_tbl CHANGE i j BIGINT; mysql&gt; ALTER TABLE testalter_tbl CHANGE j j INT; ALTER TABLE &#x5BF9; Null &#x503C;&#x548C;&#x9ED8;&#x8BA4;&#x503C;&#x7684;&#x5F71;&#x54CD;&#x5F53;&#x4F60;&#x4FEE;&#x6539;&#x5B57;&#x6BB5;&#x65F6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x5305;&#x542B;&#x53EA;&#x6216;&#x8005;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;&#x3002; &#x4EE5;&#x4E0B;&#x5B9E;&#x4F8B;&#xFF0C;&#x6307;&#x5B9A;&#x5B57;&#x6BB5; j &#x4E3A; NOT NULL &#x4E14;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;100 &#x3002; 12mysql&gt; ALTER TABLE testalter_tbl -&gt; MODIFY j BIGINT NOT NULL DEFAULT 100; &#x4FEE;&#x6539;&#x8868;&#x540D;1mysql&gt; ALTER TABLE testalter_tbl RENAME TO alter_tbl; &#x5173;&#x4E8E;&#x4E3B;&#x952E;&#x5916;&#x952E;&#xFF0C;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x7528;&#x4E8E;&#x5173;&#x952E;2&#x4E2A;&#x8868;&#xFF0C;&#x53EA;&#x80FD;&#x662F;&#x6307;&#x5B9A;&#x5185;&#x5BB9;&#x3000;&#x3000; 1234567891011121314mysql&gt; create table class( -&gt; id int not null primary key, -&gt; name char(16));Query OK, 0 rows affected (0.02 sec) CREATE TABLE `student2` ( `id` int(11) NOT NULL, `name` char(16) NOT NULL, `class_id` int(11) NOT NULL, PRIMARY KEY (`id`), KEY `fk_class_key` (`class_id`), CONSTRAINT `fk_class_key` FOREIGN KEY (`class_id`) REFERENCES `class` (`id`)) &#x6B64;&#x65F6;&#x5982;&#x679C;class &#x8868;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;id 1,student&#x8868;&#x4E5F;&#x63D2;&#x5165;&#x4E0D;&#x4E86;&#xFF0C;&#x8FD9;&#x5C31;&#x53EB;&#x5916;&#x952E;&#x7EA6;&#x675F; 12345678mysql&gt; insert into student2(id,name,class_id) values(1,&apos;alex&apos;, 1);ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`testdb`.`student2`, CONSTRAINT `fk_class_key` FOREIGN KEY (`class_id`) REFERENCES `class` (`id`))mysql&gt; insert into class(id,name) values(1,&quot;linux&quot;);Query OK, 1 row affected (0.01 sec) mysql&gt; insert into student2(id,name,class_id) values(1,&apos;alex&apos;, 1);Query OK, 1 row affected (0.00 sec) &#x5982;&#x679C;&#x6709;student&#x8868;&#x4E2D;&#x8DDF;&#x8FD9;&#x4E2A;class&#x8868;&#x6709;&#x5173;&#x8054;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F60;&#x662F;&#x4E0D;&#x80FD;&#x5220;&#x9664;class&#x8868;&#x4E2D;&#x4E0E;&#x5176;&#x5173;&#x8054;&#x7684;&#x7EAA;&#x5F55;&#x7684; 12mysql&gt; delete from class where id =1;ERROR 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`testdb`.`student2`, CONSTRAINT `fk_class_key` FOREIGN KEY (`class_id`) REFERENCES `class` (`id`)) MySQL NULL &#x503C;&#x5904;&#x7406;&#x3000;&#x3000;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;MySQL&#x4F7F;&#x7528; SQL SELECT &#x547D;&#x4EE4;&#x53CA; WHERE &#x5B50;&#x53E5;&#x6765;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;,&#x4F46;&#x662F;&#x5F53;&#x63D0;&#x4F9B;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x5B57;&#x6BB5;&#x4E3A; NULL &#x65F6;&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x53EF;&#x80FD;&#x5C31;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002; &#x4E3A;&#x4E86;&#x5904;&#x7406;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;MySQL&#x63D0;&#x4F9B;&#x4E86;&#x4E09;&#x5927;&#x8FD0;&#x7B97;&#x7B26;: IS NULL: &#x5F53;&#x5217;&#x7684;&#x503C;&#x662F;NULL,&#x6B64;&#x8FD0;&#x7B97;&#x7B26;&#x8FD4;&#x56DE;true&#x3002; IS NOT NULL: &#x5F53;&#x5217;&#x7684;&#x503C;&#x4E0D;&#x4E3A;NULL, &#x8FD0;&#x7B97;&#x7B26;&#x8FD4;&#x56DE;true&#x3002; &lt;=&gt;: &#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#x7B26;&#xFF08;&#x4E0D;&#x540C;&#x4E8E;=&#x8FD0;&#x7B97;&#x7B26;&#xFF09;&#xFF0C;&#x5F53;&#x6BD4;&#x8F83;&#x7684;&#x7684;&#x4E24;&#x4E2A;&#x503C;&#x4E3A;NULL&#x65F6;&#x8FD4;&#x56DE;true&#x3002; &#x5173;&#x4E8E; NULL &#x7684;&#x6761;&#x4EF6;&#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x662F;&#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#x7684;&#x3002;&#x4F60;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; = NULL &#x6216; != NULL &#x5728;&#x5217;&#x4E2D;&#x67E5;&#x627E; NULL &#x503C; &#x3002; &#x5728;MySQL&#x4E2D;&#xFF0C;NULL&#x503C;&#x4E0E;&#x4EFB;&#x4F55;&#x5176;&#x5B83;&#x503C;&#x7684;&#x6BD4;&#x8F83;&#xFF08;&#x5373;&#x4F7F;&#x662F;NULL&#xFF09;&#x6C38;&#x8FDC;&#x8FD4;&#x56DE;false&#xFF0C;&#x5373; NULL = NULL &#x8FD4;&#x56DE;false &#x3002; MySQL&#x4E2D;&#x5904;&#x7406;NULL&#x4F7F;&#x7528;IS NULL&#x548C;IS NOT NULL&#x8FD0;&#x7B97;&#x7B26;&#x3002; Mysql &#x8FDE;&#x63A5;&#xFF08;left join, right join, inner join ,full join&#xFF09;&#x4F60;&#x53EF;&#x4EE5;&#x5728;SELECT, UPDATE &#x548C; DELETE &#x8BED;&#x53E5;&#x4E2D;&#x4F7F;&#x7528; Mysql &#x7684; JOIN &#x6765;&#x8054;&#x5408;&#x591A;&#x8868;&#x67E5;&#x8BE2;&#x3002; JOIN &#x6309;&#x7167;&#x529F;&#x80FD;&#x5927;&#x81F4;&#x5206;&#x4E3A;&#x5982;&#x4E0B;&#x4E09;&#x7C7B;&#xFF1A; INNER JOIN&#xFF08;&#x5185;&#x8FDE;&#x63A5;,&#x6216;&#x7B49;&#x503C;&#x8FDE;&#x63A5;&#xFF09;&#xFF1A;&#x83B7;&#x53D6;&#x4E24;&#x4E2A;&#x8868;&#x4E2D;&#x5B57;&#x6BB5;&#x5339;&#x914D;&#x5173;&#x7CFB;&#x7684;&#x8BB0;&#x5F55;&#x3002; LEFT JOIN&#xFF08;&#x5DE6;&#x8FDE;&#x63A5;&#xFF09;&#xFF1A;&#x83B7;&#x53D6;&#x5DE6;&#x8868;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x5373;&#x4F7F;&#x53F3;&#x8868;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x5339;&#x914D;&#x7684;&#x8BB0;&#x5F55;&#x3002; RIGHT JOIN&#xFF08;&#x53F3;&#x8FDE;&#x63A5;&#xFF09;&#xFF1A; &#x4E0E; LEFT JOIN &#x76F8;&#x53CD;&#xFF0C;&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x53F3;&#x8868;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x5373;&#x4F7F;&#x5DE6;&#x8868;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x5339;&#x914D;&#x7684;&#x8BB0;&#x5F55;&#x3002; &#x4E8B;&#x52A1;MySQL &#x4E8B;&#x52A1;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x64CD;&#x4F5C;&#x91CF;&#x5927;&#xFF0C;&#x590D;&#x6742;&#x5EA6;&#x9AD8;&#x7684;&#x6570;&#x636E;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x5728;&#x4EBA;&#x5458;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x4F60;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x4EBA;&#x5458;&#xFF0C;&#x4F60;&#x5373;&#x9700;&#x8981;&#x5220;&#x9664;&#x4EBA;&#x5458;&#x7684;&#x57FA;&#x672C;&#x8D44;&#x6599;&#xFF0C;&#x4E5F;&#x8981;&#x5220;&#x9664;&#x548C;&#x8BE5;&#x4EBA;&#x5458;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4FE1;&#x7BB1;&#xFF0C;&#x6587;&#x7AE0;&#x7B49;&#x7B49;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x8BED;&#x53E5;&#x5C31;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF01; &#x5728;MySQL&#x4E2D;&#x53EA;&#x6709;&#x4F7F;&#x7528;&#x4E86;Innodb&#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6216;&#x8868;&#x624D;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x7EF4;&#x62A4;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B8C;&#x6574;&#x6027;&#xFF0C;&#x4FDD;&#x8BC1;&#x6210;&#x6279;&#x7684;SQL&#x8BED;&#x53E5;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x6267;&#x884C;&#xFF0C;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x4E0D;&#x6267;&#x884C; &#x4E8B;&#x52A1;&#x7528;&#x6765;&#x7BA1;&#x7406;insert,update,delete&#x8BED;&#x53E5; &#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x4E8B;&#x52A1;&#x662F;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;4&#x4E2A;&#x6761;&#x4EF6;&#xFF08;ACID&#xFF09;&#xFF1A; Atomicity&#xFF08;&#x539F;&#x5B50;&#x6027;&#xFF09;&#x3001;Consistency&#xFF08;&#x7A33;&#x5B9A;&#x6027;&#xFF09;&#x3001;Isolation&#xFF08;&#x9694;&#x79BB;&#x6027;&#xFF09;&#x3001;Durability&#xFF08;&#x53EF;&#x9760;&#x6027;&#xFF09; &#x4E8B;&#x52A1;&#x7684;&#x539F;&#x5B50;&#x6027;&#xFF1A;&#x4E00;&#x7EC4;&#x4E8B;&#x52A1;&#xFF0C;&#x8981;&#x4E48;&#x6210;&#x529F;&#xFF1B;&#x8981;&#x4E48;&#x64A4;&#x56DE;&#x3002; &#x7A33;&#x5B9A;&#x6027; &#xFF1A; &#x6709;&#x975E;&#x6CD5;&#x6570;&#x636E;&#xFF08;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x4E4B;&#x7C7B;&#xFF09;&#xFF0C;&#x4E8B;&#x52A1;&#x64A4;&#x56DE;&#x3002; &#x9694;&#x79BB;&#x6027;&#xFF1A;&#x4E8B;&#x52A1;&#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#x3002;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x540E;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x5F71;&#x54CD;&#x4E86;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x4F1A;&#x64A4;&#x56DE;&#x3002;&#x4E8B;&#x52A1;&#x7684;100%&#x9694;&#x79BB;&#xFF0C;&#x9700;&#x8981;&#x727A;&#x7272;&#x901F;&#x5EA6;&#x3002; &#x53EF;&#x9760;&#x6027;&#xFF1A;&#x8F6F;&#x3001;&#x786C;&#x4EF6;&#x5D29;&#x6E83;&#x540E;&#xFF0C;InnoDB&#x6570;&#x636E;&#x8868;&#x9A71;&#x52A8;&#x4F1A;&#x5229;&#x7528;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x91CD;&#x6784;&#x4FEE;&#x6539;&#x3002;&#x53EF;&#x9760;&#x6027;&#x548C;&#x9AD8;&#x901F;&#x5EA6;&#x4E0D;&#x53EF;&#x517C;&#x5F97;&#xFF0C; innodb_flush_log_at_trx_commit&#x9009;&#x9879; &#x51B3;&#x5B9A;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x5427;&#x4E8B;&#x52A1;&#x4FDD;&#x5B58;&#x5230;&#x65E5;&#x5FD7;&#x91CC;&#x3002; &#x5728;Mysql&#x63A7;&#x5236;&#x53F0;&#x4F7F;&#x7528;&#x4E8B;&#x52A1;&#x6765;&#x64CD;&#x4F5C; 123456mysql&gt; begin&#xFF1B; &#xFF03;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1; mysql&gt; insert into a (a) values(555); mysql&gt;rollback; &#x56DE;&#x6EDA; &#xFF0C; &#x8FD9;&#x6837;&#x6570;&#x636E;&#x662F;&#x4E0D;&#x4F1A;&#x5199;&#x5165;&#x7684;&#x5F53;&#x7136;&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x6570;&#x636E;&#x6CA1;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x8F93;&#x5165;commit&#x63D0;&#x4EA4;&#x547D;&#x4EE4;&#x5C31;&#x884C;&#xFF1B; &#x7D22;&#x5F15;&#x3000;&#x3000;MySQL&#x7D22;&#x5F15;&#x7684;&#x5EFA;&#x7ACB;&#x5BF9;&#x4E8E;MySQL&#x7684;&#x9AD8;&#x6548;&#x8FD0;&#x884C;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x7D22;&#x5F15;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x63D0;&#x9AD8;MySQL&#x7684;&#x68C0;&#x7D22;&#x901F;&#x5EA6;&#x3002; &#x6253;&#x4E2A;&#x6BD4;&#x65B9;&#xFF0C;&#x5982;&#x679C;&#x5408;&#x7406;&#x7684;&#x8BBE;&#x8BA1;&#x4E14;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x7684;MySQL&#x662F;&#x4E00;&#x8F86;&#x5170;&#x535A;&#x57FA;&#x5C3C;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x6CA1;&#x6709;&#x8BBE;&#x8BA1;&#x548C;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x7684;MySQL&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4EBA;&#x529B;&#x4E09;&#x8F6E;&#x8F66;&#x3002; &#x7D22;&#x5F15;&#x5206;&#x5355;&#x5217;&#x7D22;&#x5F15;&#x548C;&#x7EC4;&#x5408;&#x7D22;&#x5F15;&#x3002;&#x5355;&#x5217;&#x7D22;&#x5F15;&#xFF0C;&#x5373;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x53EA;&#x5305;&#x542B;&#x5355;&#x4E2A;&#x5217;&#xFF0C;&#x4E00;&#x4E2A;&#x8868;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x5355;&#x5217;&#x7D22;&#x5F15;&#xFF0C;&#x4F46;&#x8FD9;&#x4E0D;&#x662F;&#x7EC4;&#x5408;&#x7D22;&#x5F15;&#x3002;&#x7EC4;&#x5408;&#x7D22;&#x5F15;&#xFF0C;&#x5373;&#x4E00;&#x4E2A;&#x7D22;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x5217;&#x3002; &#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x65F6;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x786E;&#x4FDD;&#x8BE5;&#x7D22;&#x5F15;&#x662F;&#x5E94;&#x7528;&#x5728; SQL &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x7684;&#x6761;&#x4EF6;(&#x4E00;&#x822C;&#x4F5C;&#x4E3A; WHERE &#x5B50;&#x53E5;&#x7684;&#x6761;&#x4EF6;)&#x3002; &#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x7D22;&#x5F15;&#x4E5F;&#x662F;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x8BE5;&#x8868;&#x4FDD;&#x5B58;&#x4E86;&#x4E3B;&#x952E;&#x4E0E;&#x7D22;&#x5F15;&#x5B57;&#x6BB5;&#xFF0C;&#x5E76;&#x6307;&#x5411;&#x5B9E;&#x4F53;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x3002; &#x4E0A;&#x9762;&#x90FD;&#x5728;&#x8BF4;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x7684;&#x597D;&#x5904;&#xFF0C;&#x4F46;&#x8FC7;&#x591A;&#x7684;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x5C06;&#x4F1A;&#x9020;&#x6210;&#x6EE5;&#x7528;&#x3002;&#x56E0;&#x6B64;&#x7D22;&#x5F15;&#x4E5F;&#x4F1A;&#x6709;&#x5B83;&#x7684;&#x7F3A;&#x70B9;&#xFF1A;&#x867D;&#x7136;&#x7D22;&#x5F15;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x4E86;&#x67E5;&#x8BE2;&#x901F;&#x5EA6;&#xFF0C;&#x540C;&#x65F6;&#x5374;&#x4F1A;&#x964D;&#x4F4E;&#x66F4;&#x65B0;&#x8868;&#x7684;&#x901F;&#x5EA6;&#xFF0C;&#x5982;&#x5BF9;&#x8868;&#x8FDB;&#x884C;INSERT&#x3001;UPDATE&#x548C;DELETE&#x3002;&#x56E0;&#x4E3A;&#x66F4;&#x65B0;&#x8868;&#x65F6;&#xFF0C;MySQL&#x4E0D;&#x4EC5;&#x8981;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x8FD8;&#x8981;&#x4FDD;&#x5B58;&#x4E00;&#x4E0B;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x3002;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x4F1A;&#x5360;&#x7528;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x7684;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x3002; &#x666E;&#x901A;&#x7D22;&#x5F15;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x8FD9;&#x662F;&#x6700;&#x57FA;&#x672C;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x5B83;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x9650;&#x5236;&#x3002;&#x5B83;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;&#xFF1A; 12CREATE INDEX indexName ON mytable(username(length)); &#x5982;&#x679C;&#x662F;CHAR&#xFF0C;VARCHAR&#x7C7B;&#x578B;&#xFF0C;length&#x53EF;&#x4EE5;&#x5C0F;&#x4E8E;&#x5B57;&#x6BB5;&#x5B9E;&#x9645;&#x957F;&#x5EA6;&#xFF1B;&#x5982;&#x679C;&#x662F;BLOB&#x548C;TEXT&#x7C7B;&#x578B;&#xFF0C;&#x5FC5;&#x987B;&#x6307;&#x5B9A; length&#x3002; &#x4FEE;&#x6539;&#x8868;&#x7ED3;&#x6784;12345678ALTER mytable ADD INDEX [indexName] ON (username(length))&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#x76F4;&#x63A5;&#x6307;&#x5B9A;CREATE TABLE mytable( ID INT NOT NULL, username VARCHAR(16) NOT NULL, INDEX [indexName] (username(length)) ); &#x5220;&#x9664;&#x7D22;&#x5F15;&#x7684;&#x8BED;&#x6CD5;1DROP INDEX [indexName] ON mytable; &#x552F;&#x4E00;&#x7D22;&#x5F15;&#x5B83;&#x4E0E;&#x524D;&#x9762;&#x7684;&#x666E;&#x901A;&#x7D22;&#x5F15;&#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5C31;&#x662F;&#xFF1A;&#x7D22;&#x5F15;&#x5217;&#x7684;&#x503C;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#xFF0C;&#x4F46;&#x5141;&#x8BB8;&#x6709;&#x7A7A;&#x503C;&#x3002;&#x5982;&#x679C;&#x662F;&#x7EC4;&#x5408;&#x7D22;&#x5F15;&#xFF0C;&#x5219;&#x5217;&#x503C;&#x7684;&#x7EC4;&#x5408;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#x3002;&#x5B83;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;&#xFF1A; &#x521B;&#x5EFA;&#x7D22;&#x5F15;1234567891011121314&#x521B;&#x5EFA;&#x7D22;&#x5F15;CREATE UNIQUE INDEX indexName ON mytable(username(length)) &#x4FEE;&#x6539;&#x8868;&#x7ED3;&#x6784;ALTER mytable ADD UNIQUE [indexName] ON (username(length)) &#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#x76F4;&#x63A5;&#x6307;&#x5B9A;CREATE TABLE mytable( ID INT NOT NULL, username VARCHAR(16) NOT NULL, UNIQUE [indexName] (username(length)) ); &#x4F7F;&#x7528;ALTER &#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x548C;&#x5220;&#x9664;&#x7D22;&#x5F15;1234567891011&#x6709;&#x56DB;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x8868;&#x7684;&#x7D22;&#x5F15;&#xFF1A;ALTER TABLE tbl_name ADD PRIMARY KEY (column_list): &#x8BE5;&#x8BED;&#x53E5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x7D22;&#x5F15;&#x503C;&#x5FC5;&#x987B;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x4E14;&#x4E0D;&#x80FD;&#x4E3A;NULL&#x3002;ALTER TABLE tbl_name ADD UNIQUE index_name (column_list): &#x8FD9;&#x6761;&#x8BED;&#x53E5;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x7684;&#x503C;&#x5FC5;&#x987B;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF08;&#x9664;&#x4E86;NULL&#x5916;&#xFF0C;NULL&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x591A;&#x6B21;&#xFF09;&#x3002;ALTER TABLE tbl_name ADD INDEX index_name (column_list): &#x6DFB;&#x52A0;&#x666E;&#x901A;&#x7D22;&#x5F15;&#xFF0C;&#x7D22;&#x5F15;&#x503C;&#x53EF;&#x51FA;&#x73B0;&#x591A;&#x6B21;&#x3002;ALTER TABLE tbl_name ADD FULLTEXT index_name (column_list):&#x8BE5;&#x8BED;&#x53E5;&#x6307;&#x5B9A;&#x4E86;&#x7D22;&#x5F15;&#x4E3A; FULLTEXT &#xFF0C;&#x7528;&#x4E8E;&#x5168;&#x6587;&#x7D22;&#x5F15;&#x3002; &#x4EE5;&#x4E0B;&#x5B9E;&#x4F8B;&#x4E3A;&#x5728;&#x8868;&#x4E2D;&#x6DFB;&#x52A0;&#x7D22;&#x5F15;&#x3002;mysql&gt; ALTER TABLE testalter_tbl ADD INDEX (c);&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x5728; ALTER &#x547D;&#x4EE4;&#x4E2D;&#x4F7F;&#x7528; DROP &#x5B50;&#x53E5;&#x6765;&#x5220;&#x9664;&#x7D22;&#x5F15;&#x3002;&#x5C1D;&#x8BD5;&#x4EE5;&#x4E0B;&#x5B9E;&#x4F8B;&#x5220;&#x9664;&#x7D22;&#x5F15;:mysql&gt; ALTER TABLE testalter_tbl DROP INDEX (c); &#x4F7F;&#x7528; ALTER &#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x548C;&#x5220;&#x9664;&#x4E3B;&#x952E;1234567&#x4E3B;&#x952E;&#x53EA;&#x80FD;&#x4F5C;&#x7528;&#x4E8E;&#x4E00;&#x4E2A;&#x5217;&#x4E0A;&#xFF0C;&#x6DFB;&#x52A0;&#x4E3B;&#x952E;&#x7D22;&#x5F15;&#x65F6;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x786E;&#x4FDD;&#x8BE5;&#x4E3B;&#x952E;&#x9ED8;&#x8BA4;&#x4E0D;&#x4E3A;&#x7A7A;&#xFF08;NOT NULL&#xFF09;&#x3002;&#x5B9E;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;mysql&gt; ALTER TABLE testalter_tbl MODIFY i INT NOT NULL;mysql&gt; ALTER TABLE testalter_tbl ADD PRIMARY KEY (i); &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; ALTER &#x547D;&#x4EE4;&#x5220;&#x9664;&#x4E3B;&#x952E;&#xFF1A;mysql&gt; ALTER TABLE testalter_tbl DROP PRIMARY KEY;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x65F6;&#x53EA;&#x9700;&#x6307;&#x5B9A;PRIMARY KEY&#xFF0C;&#x4F46;&#x5728;&#x5220;&#x9664;&#x7D22;&#x5F15;&#x65F6;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x77E5;&#x9053;&#x7D22;&#x5F15;&#x540D;&#x3002; &#x663E;&#x793A;&#x7D22;&#x5F15;&#x4FE1;&#x606F;1mysql&gt; SHOW INDEX FROM table_name\G mysql&#x7EC3;&#x4E60;&#x9898; : http://www.cnblogs.com/wupeiqi/articles/5729934.html &#x3000;&#x3000;&#x66F4;&#x591A;mysql&#x77E5;&#x8BC6;&#xFF0C;&#x8BF7;&#x770B;http://www.cnblogs.com/wupeiqi/articles/5713323.htmlpython-mysqldb : http://www.cnblogs.com/wupeiqi/articles/5095821.htmlpymysql : http://www.cnblogs.com/wupeiqi/articles/5713330.html&#x3000;&#x3000;ORM sqlachemy&#x5B66;&#x4E60; : http://www.cnblogs.com/alex3714/articles/5978329.html]]></content>
      <categories>
        <category>db</category>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python-orm]]></title>
    <url>%2F2018%2F03%2F24%2Fpython-orm%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;orm&#x82F1;&#x6587;&#x5168;&#x79F0;object relational mapping,&#x5C31;&#x662F;&#x5BF9;&#x8C61;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#x7A0B;&#x5E8F;&#xFF0C;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#x6211;&#x4EEC;&#x7C7B;&#x4F3C;python&#x8FD9;&#x79CD;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x7A0B;&#x5E8F;&#x6765;&#x8BF4;&#x4E00;&#x5207;&#x7686;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5374;&#x90FD;&#x662F;&#x5173;&#x7CFB;&#x578B;&#x7684;&#xFF0C;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x4E00;&#x81F4;&#x7684;&#x4F7F;&#x7528;&#x4E60;&#x60EF;&#xFF0C;&#x901A;&#x8FC7;orm&#x5C06;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x548C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5173;&#x7CFB;&#x6A21;&#x578B;&#x5EFA;&#x7ACB;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x800C;&#x4E0D;&#x7528;&#x76F4;&#x63A5;&#x4F7F;&#x7528;sql&#x8BED;&#x8A00;&#x3002; orm&#x7684;&#x4F18;&#x70B9; &#x9690;&#x85CF;&#x4E86;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x7EC6;&#x8282;&#xFF0C;&#x201C;&#x5C01;&#x95ED;&#x201D;&#x7684;&#x901A;&#x7528;&#x6570;&#x636E;&#x5E93;&#x4EA4;&#x4E92;&#xFF0C;ORM&#x7684;&#x6838;&#x5FC3;&#x3002;&#x4ED6;&#x4F7F;&#x5F97;&#x6211;&#x4EEC;&#x7684;&#x901A;&#x7528;&#x6570;&#x636E;&#x5E93;&#x4EA4;&#x4E92;&#x53D8;&#x5F97;&#x7B80;&#x5355;&#x6613;&#x884C;&#xFF0C;&#x5E76;&#x4E14;&#x5B8C;&#x5168;&#x4E0D;&#x7528;&#x8003;&#x8651;&#x8BE5;&#x6B7B;&#x7684;SQL&#x8BED;&#x53E5;&#x3002;&#x5FEB;&#x901F;&#x5F00;&#x53D1;&#xFF0C;&#x7531;&#x6B64;&#x800C;&#x6765;&#x3002; ORM&#x4F7F;&#x6211;&#x4EEC;&#x6784;&#x9020;&#x56FA;&#x5316;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x53D8;&#x5F97;&#x7B80;&#x5355;&#x6613;&#x884C;&#x3002; &#x7F3A;&#x70B9;&#x65E0;&#x53EF;&#x907F;&#x514D;&#x7684;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x610F;&#x5473;&#x7740;&#x6620;&#x5C04;&#x548C;&#x5173;&#x8054;&#x7BA1;&#x7406;&#xFF0C;&#x4EE3;&#x4EF7;&#x662F;&#x727A;&#x7272;&#x6027;&#x80FD;&#xFF08;&#x65E9;&#x671F;&#xFF0C;&#x8FD9;&#x662F;&#x6240;&#x6709;&#x4E0D;&#x559C;&#x6B22;ORM&#x4EBA;&#x7684;&#x5171;&#x540C;&#x70B9;&#xFF09;&#x3002;&#x73B0;&#x5728;&#x7684;&#x5404;&#x79CD;ORM&#x6846;&#x67B6;&#x90FD;&#x5728;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;&#x5404;&#x79CD;&#x65B9;&#x6CD5;&#x6765;&#x51CF;&#x8F7B;&#x8FD9;&#x5757;&#xFF08;LazyLoad&#xFF0C;Cache&#xFF09;&#xFF0C;&#x6548;&#x679C;&#x8FD8;&#x662F;&#x5F88;&#x663E;&#x8457;&#x7684;&#x3002; sqlalchemy&#x5728;Python&#x4E2D;&#xFF0C;&#x6700;&#x6709;&#x540D;&#x7684;ORM&#x6846;&#x67B6;&#x662F;SQLAlchemy&#x3002; &#x7528;&#x6237;&#x5305;&#x62EC;openstack&#xFF3C;Dropbox&#x7B49;&#x77E5;&#x540D;&#x516C;&#x53F8;&#x6216;&#x5E94;&#x7528;&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x6237;&#x5217;&#x8868;http://www.sqlalchemy.org/organizations.html#openstack Dialect&#x7528;&#x4E8E;&#x548C;&#x6570;&#x636E;API&#x8FDB;&#x884C;&#x4EA4;&#x6D41;&#xFF0C;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4E0D;&#x540C;&#x8C03;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93;API&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#xFF1A; 12345678910111213MySQL-Python mysql+mysqldb://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;[:&lt;port&gt;]/&lt;dbname&gt; pymysql mysql+pymysql://&lt;username&gt;:&lt;password&gt;@&lt;host&gt;/&lt;dbname&gt;[?&lt;options&gt;] MySQL-Connector mysql+mysqlconnector://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;[:&lt;port&gt;]/&lt;dbname&gt; cx_Oracle oracle+cx_oracle://user:pass@host:port/dbname[?key=value&amp;key=value...] &#x66F4;&#x591A;&#x8BE6;&#x89C1;&#xFF1A;http://docs.sqlalchemy.org/en/latest/dialects/index.html &#x5B89;&#x88C5;sqlalchemy1pip install SQLAlchemy&lt;br&gt;&lt;br&gt;pip install pymysql #&#x7531;&#x4E8E;mysqldb&#x4F9D;&#x7136;&#x4E0D;&#x652F;&#x6301;py3&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7528;pymysql&#x4E0E;sqlalchemy&#x4EA4;&#x4E92; sqlalchemy&#x57FA;&#x672C;&#x4F7F;&#x7528;123456CREATE TABLE user ( id INTEGER NOT NULL AUTO_INCREMENT, name VARCHAR(32), password VARCHAR(64), PRIMARY KEY (id)) &#x8FD9;&#x53EA;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;sql&#x8868;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x52A0;&#x4E0A;&#x5916;&#x952E;&#x5173;&#x8054;&#x4EC0;&#x4E48;&#x7684;&#xFF0C;&#x4E00;&#x822C;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x8111;&#x5BB9;&#x91CF;&#x662F;&#x8BB0;&#x4E0D;&#x4F4F;&#x90A3;&#x4E9B;sql&#x8BED;&#x53E5;&#x7684;&#xFF0C;&#x4E8E;&#x662F;&#x6709;&#x4E86;orm,&#x5B9E;&#x73B0;&#x4E0A;&#x9762;&#x540C;&#x6837;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B; 123456789101112131415161718import sqlalchemyfrom sqlalchemy import create_enginefrom sqlalchemy.ext.declarative import declarative_basefrom sqlalchemy import Column, Integer, String engine = create_engine(&quot;mysql+pymysql://root:alex3714@localhost/testdb&quot;, encoding=&apos;utf-8&apos;, echo=True) Base = declarative_base() #&#x751F;&#x6210;orm&#x57FA;&#x7C7B; class User(Base): __tablename__ = &apos;user&apos; #&#x8868;&#x540D; id = Column(Integer, primary_key=True) name = Column(String(32)) password = Column(String(64)) Base.metadata.create_all(engine) #&#x521B;&#x5EFA;&#x8868;&#x7ED3;&#x6784; 12Lazy ConnectingThe Engine, when first returned by create_engine(), has not actually tried to connect to the database yet; that happens only the first time it is asked to perform a task against the database. &#x9664;&#x4E0A;&#x9762;&#x7684;&#x521B;&#x5EFA;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x5E38;&#x7528; 1234567891011121314151617181920from sqlalchemy import Table, MetaData, Column, Integer, String, ForeignKeyfrom sqlalchemy.orm import mapper metadata = MetaData() user = Table(&apos;user&apos;, metadata, Column(&apos;id&apos;, Integer, primary_key=True), Column(&apos;name&apos;, String(50)), Column(&apos;fullname&apos;, String(50)), Column(&apos;password&apos;, String(12)) ) class User(object): def __init__(self, name, fullname, password): self.name = name self.fullname = fullname self.password = password mapper(User, user) #the table metadata is created separately with the Table construct, then associated with the User class via the mapper() function&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x5C31;&#x662F;&#x57FA;&#x4E8E;&#x7B2C;2&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x518D;&#x5C01;&#x88C5;&#x3002; &#x6700;&#x57FA;&#x672C;&#x7684;&#x8868;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x597D;&#x4E86;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x7528;orm&#x521B;&#x5EFA;&#x4E00;&#x6761;&#x6570;&#x636E;&#x8BD5;&#x8BD5; 1234567891011Session_class = sessionmaker(bind=engine) #&#x521B;&#x5EFA;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4F1A;&#x8BDD;session class ,&#x6CE8;&#x610F;,&#x8FD9;&#x91CC;&#x8FD4;&#x56DE;&#x7ED9;session&#x7684;&#x662F;&#x4E2A;class,&#x4E0D;&#x662F;&#x5B9E;&#x4F8B;Session = Session_class() #&#x751F;&#x6210;session&#x5B9E;&#x4F8B; user_obj = User(name=&quot;alex&quot;,password=&quot;alex3714&quot;) #&#x751F;&#x6210;&#x4F60;&#x8981;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5BF9;&#x8C61;print(user_obj.name,user_obj.id) #&#x6B64;&#x65F6;&#x8FD8;&#x6CA1;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x5462;&#xFF0C;&#x4E0D;&#x4FE1;&#x4F60;&#x6253;&#x5370;&#x4E00;&#x4E0B;id&#x53D1;&#x73B0;&#x8FD8;&#x662F;None Session.add(user_obj) #&#x628A;&#x8981;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x5230;&#x8FD9;&#x4E2A;session&#x91CC;&#xFF0C; &#x4E00;&#x4F1A;&#x7EDF;&#x4E00;&#x521B;&#x5EFA;print(user_obj.name,user_obj.id) #&#x6B64;&#x65F6;&#x4E5F;&#x4F9D;&#x7136;&#x8FD8;&#x6CA1;&#x521B;&#x5EFA; Session.commit() #&#x73B0;&#x6B64;&#x624D;&#x7EDF;&#x4E00;&#x63D0;&#x4EA4;&#xFF0C;&#x521B;&#x5EFA;&#x6570;&#x636E; &#x67E5;&#x8BE2;12my_user = Session.query(User).filter_by(name=&quot;alex&quot;).first()print(my_user) &#x6B64;&#x65F6;&#x4F60;&#x770B;&#x5230;&#x7684;&#x8F93;&#x51FA;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x5E94;&#x8BE5; 123456&lt;__main__.User object at 0x105b4ba90&gt;print(my_user.id,my_user.name,my_user.password)&#x8F93;&#x51FA;1 alex alex3714 &#x4E0D;&#x8FC7;&#x521A;&#x624D;&#x4E0A;&#x9762;&#x7684;&#x663E;&#x793A;&#x7684;&#x5185;&#x5B58;&#x5BF9;&#x8C61;&#x5BF9;&#x5740;&#x4F60;&#x662F;&#x6CA1;&#x529E;&#x6CD5;&#x5206;&#x6E05;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x6570;&#x636E;&#x7684;&#xFF0C;&#x9664;&#x975E;&#x6253;&#x5370;&#x5177;&#x4F53;&#x5B57;&#x6BB5;&#x770B;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8BA9;&#x5B83;&#x53D8;&#x7684;&#x53EF;&#x8BFB;&#xFF0C;&#x53EA;&#x9700;&#x5728;&#x5B9A;&#x4E49;&#x8868;&#x7684;&#x7C7B;&#x4E0B;&#x9762;&#x52A0;&#x4E0A;&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801; 12345678910111213def __repr__(self): return &quot;&lt;User(name=&apos;%s&apos;, password=&apos;%s&apos;)&gt;&quot; % ( self.name, self.password)```&#x3000;&#x3000;## &#x4FEE;&#x6539;``` bashmy_user = Session.query(User).filter_by(name=&quot;alex&quot;).first() my_user.name = &quot;Alex Li&quot; Session.commit() &#x56DE;&#x6EDA;123456789101112131415161718192021my_user = Session.query(User).filter_by(id=1).first()my_user.name = &quot;Jack&quot; fake_user = User(name=&apos;Rain&apos;, password=&apos;12345&apos;)Session.add(fake_user) print(Session.query(User).filter(User.name.in_([&apos;Jack&apos;,&apos;rain&apos;])).all() ) #&#x8FD9;&#x65F6;&#x770B;session&#x91CC;&#x6709;&#x4F60;&#x521A;&#x6DFB;&#x52A0;&#x548C;&#x4FEE;&#x6539;&#x7684;&#x6570;&#x636E; Session.rollback() #&#x6B64;&#x65F6;&#x4F60;rollback&#x4E00;&#x4E0B; print(Session.query(User).filter(User.name.in_([&apos;Jack&apos;,&apos;rain&apos;])).all() ) #&#x518D;&#x67E5;&#x5C31;&#x53D1;&#x73B0;&#x521A;&#x624D;&#x6DFB;&#x52A0;&#x7684;&#x6570;&#x636E;&#x6CA1;&#x6709;&#x4E86;&#x3002;# Session# Session.commit()```&#x3000;## &#x83B7;&#x53D6;&#x6240;&#x6709;&#x6570;&#x636E;``` bashprint(Session.query(User.name,User.id).all() ) &#x591A;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;12objs = Session.query(User).filter(User.id&gt;0).filter(User.id&lt;7).all()&#x4E0A;&#x9762;2&#x4E2A;filter&#x7684;&#x5173;&#x7CFB;&#x76F8;&#x5F53;&#x4E8E; user.id &gt;1 AND user.id &lt;7 &#x7684;&#x6548;&#x679C; &#x7EDF;&#x8BA1;&#x548C;&#x5206;&#x7EC4;1234567Session.query(User).filter(User.name.like(&quot;Ra%&quot;)).count()``` ## &#x5206;&#x7EC4;``` bashfrom sqlalchemy import funcprint(Session.query(func.count(User.name),User.name).group_by(User.name).all() ) &#x76F8;&#x5F53;&#x4E8E;&#x539F;&#x751F;sql&#x4E3A; 12345SELECT count(user.name) AS count_1, user.name AS user_nameFROM user GROUP BY user.name&#x8F93;&#x51FA;&#x4E3A;[(1, &apos;Jack&apos;), (2, &apos;Rain&apos;)] &#x5916;&#x952E;&#x5173;&#x8054;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;addresses&#x8868;&#xFF0C;&#x8DDF;user&#x8868;&#x5173;&#x8054; 12345678910111213from sqlalchemy import ForeignKeyfrom sqlalchemy.orm import relationship class Address(Base): __tablename__ = &apos;addresses&apos; id = Column(Integer, primary_key=True) email_address = Column(String(32), nullable=False) user_id = Column(Integer, ForeignKey(&apos;user.id&apos;)) user = relationship(&quot;User&quot;, backref=&quot;addresses&quot;) #&#x8FD9;&#x4E2A;nb&#xFF0C;&#x5141;&#x8BB8;&#x4F60;&#x5728;user&#x8868;&#x91CC;&#x901A;&#x8FC7;backref&#x5B57;&#x6BB5;&#x53CD;&#x5411;&#x67E5;&#x51FA;&#x6240;&#x6709;&#x5B83;&#x5728;addresses&#x8868;&#x91CC;&#x7684;&#x5173;&#x8054;&#x9879; def __repr__(self): return &quot;&lt;Address(email_address=&apos;%s&apos;)&gt;&quot; % self.email_address 1The relationship.back_populates parameter is a newer version of a very common SQLAlchemy feature calledrelationship.backref. The relationship.backref parameter hasn&#x2019;t gone anywhere and will always remain available! The relationship.back_populates is the same thing, except a little more verbose and easier to manipulate. For an overview of the entire topic, see the section Linking Relationships with Backref. &#x3000;&#x3000;&#x8868;&#x521B;&#x5EFA;&#x597D;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x53CD;&#x67E5;&#x8BD5;&#x8BD5; 1234567obj = Session.query(User).first()for i in obj.addresses: #&#x901A;&#x8FC7;user&#x5BF9;&#x8C61;&#x53CD;&#x67E5;&#x5173;&#x8054;&#x7684;addresses&#x8BB0;&#x5F55; print(i) addr_obj = Session.query(Address).first()print(addr_obj.user.name) #&#x5728;addr_obj&#x91CC;&#x76F4;&#x63A5;&#x67E5;&#x5173;&#x8054;&#x7684;user&#x8868;&#x521B;&#x5EFA;&#x5173;&#x8054;&#x5BF9;&#x8C61; 12345678obj = Session.query(User).filter(User.name==&apos;rain&apos;).all()[0]print(obj.addresses) obj.addresses = [Address(email_address=&quot;r1@126.com&quot;), #&#x6DFB;&#x52A0;&#x5173;&#x8054;&#x5BF9;&#x8C61; Address(email_address=&quot;r2@126.com&quot;)] Session.commit() &#x5E38;&#x7528;&#x67E5;&#x8BE2;&#x8BED;&#x6CD5;Common Filter Operators Here&#x2019;s a rundown of some of the most common operators used in filter(): 1234567891011121314151617181920equals: query.filter(User.name == &apos;ed&apos;)not equals: query.filter(User.name != &apos;ed&apos;)LIKE:query.filter(User.name.like(&apos;%ed%&apos;))IN:NOT IN:query.filter(~User.name.in_([&apos;ed&apos;, &apos;wendy&apos;, &apos;jack&apos;]))IS NULL:IS NOT NULL:AND:2.1. ObjectRelationalTutorial 17 1234567891011121314151617181920212223242526272829query.filter(User.name.in_([&apos;ed&apos;, &apos;wendy&apos;, &apos;jack&apos;]))# works with query objects too:query.filter(User.name.in_( session.query(User.name).filter(User.name.like(&apos;%ed%&apos;))))query.filter(User.name == None)# alternatively, if pep8/linters are a concernquery.filter(User.name.is_(None))query.filter(User.name != None)# alternatively, if pep8/linters are a concernquery.filter(User.name.isnot(None))SQLAlchemy Documentation, Release 1.1.0b1# use and_()from sqlalchemy import and_query.filter(and_(User.name == &apos;ed&apos;, User.fullname == &apos;Ed Jones&apos;))# or send multiple expressions to .filter()query.filter(User.name == &apos;ed&apos;, User.fullname == &apos;Ed Jones&apos;)# or chain multiple filter()/filter_by() callsquery.filter(User.name == &apos;ed&apos;).filter(User.fullname == &apos;Ed Jones&apos;)Note: Makesureyouuseand_()andnotthePythonandoperator! &#x2022; OR:Note: Makesureyouuseor_()andnotthePythonoroperator! &#x2022; MATCH:query.filter(User.name.match(&apos;wendy&apos;))Note: match() uses a database-specific MATCH or CONTAINS f &#x591A;&#x5916;&#x952E;&#x5173;&#x8054;&#x4E0B;&#x8868;&#x4E2D;&#xFF0C;Customer&#x8868;&#x6709;2&#x4E2A;&#x5B57;&#x6BB5;&#x90FD;&#x5173;&#x8054;&#x4E86;Address&#x8868; 1234567891011121314151617181920212223from sqlalchemy import Integer, ForeignKey, String, Columnfrom sqlalchemy.ext.declarative import declarative_basefrom sqlalchemy.orm import relationship Base = declarative_base() class Customer(Base): __tablename__ = &apos;customer&apos; id = Column(Integer, primary_key=True) name = Column(String) billing_address_id = Column(Integer, ForeignKey(&quot;address.id&quot;)) shipping_address_id = Column(Integer, ForeignKey(&quot;address.id&quot;)) billing_address = relationship(&quot;Address&quot;) shipping_address = relationship(&quot;Address&quot;) class Address(Base): __tablename__ = &apos;address&apos; id = Column(Integer, primary_key=True) street = Column(String) city = Column(String) state = Column(String) &#x521B;&#x5EFA;&#x8868;&#x7ED3;&#x6784;&#x662F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x4F46;&#x4F60;Address&#x8868;&#x4E2D;&#x63D2;&#x5165;&#x6570;&#x636E;&#x65F6;&#x4F1A;&#x62A5;&#x4E0B;&#x9762;&#x7684;&#x9519; 123456sqlalchemy.exc.AmbiguousForeignKeysError: Could not determine joincondition between parent/child tables on relationshipCustomer.billing_address - there are multiple foreign keypaths linking the tables. Specify the &apos;foreign_keys&apos; argument,providing a list of those columns which should becounted as containing a foreign key reference to the parent table. &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x5982;&#x4E0B; 12345678910class Customer(Base): __tablename__ = &apos;customer&apos; id = Column(Integer, primary_key=True) name = Column(String) billing_address_id = Column(Integer, ForeignKey(&quot;address.id&quot;)) shipping_address_id = Column(Integer, ForeignKey(&quot;address.id&quot;)) billing_address = relationship(&quot;Address&quot;, foreign_keys=[billing_address_id]) shipping_address = relationship(&quot;Address&quot;, foreign_keys=[shipping_address_id]) &#x8FD9;&#x6837;sqlachemy&#x5C31;&#x80FD;&#x5206;&#x6E05;&#x54EA;&#x4E2A;&#x5916;&#x952E;&#x662F;&#x5BF9;&#x5E94;&#x54EA;&#x4E2A;&#x5B57;&#x6BB5;&#x4E86; &#x591A;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#x73B0;&#x5728;&#x6765;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x80FD;&#x63CF;&#x8FF0;&#x201C;&#x56FE;&#x4E66;&#x201D;&#x4E0E;&#x201C;&#x4F5C;&#x8005;&#x201D;&#x7684;&#x5173;&#x7CFB;&#x7684;&#x8868;&#x7ED3;&#x6784;&#xFF0C;&#x9700;&#x6C42;&#x662F; &#x4E00;&#x672C;&#x4E66;&#x53EF;&#x4EE5;&#x6709;&#x597D;&#x51E0;&#x4E2A;&#x4F5C;&#x8005;&#x4E00;&#x8D77;&#x51FA;&#x7248; &#x4E00;&#x4E2A;&#x4F5C;&#x8005;&#x53EF;&#x4EE5;&#x5199;&#x597D;&#x51E0;&#x672C;&#x4E66; 123456789101112131415161718192021222324252627282930313233343536#&#x4E00;&#x672C;&#x4E66;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x4F5C;&#x8005;&#xFF0C;&#x4E00;&#x4E2A;&#x4F5C;&#x8005;&#x53C8;&#x53EF;&#x4EE5;&#x51FA;&#x7248;&#x591A;&#x672C;&#x4E66;from sqlalchemy import Table, Column, Integer,String,DATE, ForeignKeyfrom sqlalchemy.orm import relationshipfrom sqlalchemy.ext.declarative import declarative_basefrom sqlalchemy import create_enginefrom sqlalchemy.orm import sessionmakerBase = declarative_base()book_m2m_author = Table(&apos;book_m2m_author&apos;, Base.metadata, Column(&apos;book_id&apos;,Integer,ForeignKey(&apos;books.id&apos;)), Column(&apos;author_id&apos;,Integer,ForeignKey(&apos;authors.id&apos;)), )class Book(Base): __tablename__ = &apos;books&apos; id = Column(Integer,primary_key=True) name = Column(String(64)) pub_date = Column(DATE) authors = relationship(&apos;Author&apos;,secondary=book_m2m_author,backref=&apos;books&apos;) def __repr__(self): return self.nameclass Author(Base): __tablename__ = &apos;authors&apos; id = Column(Integer, primary_key=True) name = Column(String(32)) def __repr__(self): return self.nameorm &#x591A;&#x5BF9;&#x591A; &#x63A5;&#x4E0B;&#x6765;&#x521B;&#x5EFA;&#x51E0;&#x672C;&#x4E66;&#x548C;&#x4F5C;&#x8005; 123456789101112131415161718Session_class = sessionmaker(bind=engine) #&#x521B;&#x5EFA;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4F1A;&#x8BDD;session class ,&#x6CE8;&#x610F;,&#x8FD9;&#x91CC;&#x8FD4;&#x56DE;&#x7ED9;session&#x7684;&#x662F;&#x4E2A;class,&#x4E0D;&#x662F;&#x5B9E;&#x4F8B;s = Session_class() #&#x751F;&#x6210;session&#x5B9E;&#x4F8B; b1 = Book(name=&quot;&#x8DDF;Alex&#x5B66;Python&quot;)b2 = Book(name=&quot;&#x8DDF;Alex&#x5B66;&#x628A;&#x59B9;&quot;)b3 = Book(name=&quot;&#x8DDF;Alex&#x5B66;&#x88C5;&#x903C;&quot;)b4 = Book(name=&quot;&#x8DDF;Alex&#x5B66;&#x5F00;&#x8F66;&quot;) a1 = Author(name=&quot;Alex&quot;)a2 = Author(name=&quot;Jack&quot;)a3 = Author(name=&quot;Rain&quot;) b1.authors = [a1,a2]b2.authors = [a1,a2,a3] s.add_all([b1,b2,b3,b4,a1,a2,a3]) s.commit() &#x6B64;&#x65F6;&#xFF0C;&#x624B;&#x52A8;&#x8FDE;&#x4E0A;mysql&#xFF0C;&#x5206;&#x522B;&#x67E5;&#x770B;&#x8FD9;3&#x5F20;&#x8868;&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;book_m2m_author&#x4E2D;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x4E86;&#x591A;&#x6761;&#x7EAA;&#x5F55;&#x7528;&#x6765;&#x8FDE;&#x63A5;book&#x548C;author&#x8868; 1234567891011121314151617181920212223242526272829303132mysql&gt; select * from books;+----+------------------+----------+| id | name | pub_date |+----+------------------+----------+| 1 | &#x8DDF;Alex&#x5B66;Python | NULL || 2 | &#x8DDF;Alex&#x5B66;&#x628A;&#x59B9; | NULL || 3 | &#x8DDF;Alex&#x5B66;&#x88C5;&#x903C; | NULL || 4 | &#x8DDF;Alex&#x5B66;&#x5F00;&#x8F66; | NULL |+----+------------------+----------+4 rows in set (0.00 sec) mysql&gt; select * from authors;+----+------+| id | name |+----+------+| 10 | Alex || 11 | Jack || 12 | Rain |+----+------+3 rows in set (0.00 sec) mysql&gt; select * from book_m2m_author;+---------+-----------+| book_id | author_id |+---------+-----------+| 2 | 10 || 2 | 11 || 2 | 12 || 1 | 10 || 1 | 11 |+---------+-----------+5 rows in set (0.00 sec) &#x6B64;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53BB;&#x7528;orm&#x67E5;&#x4E00;&#x4E0B;&#x6570;&#x636E; 123456789101112131415print(&apos;--------&#x901A;&#x8FC7;&#x4E66;&#x8868;&#x67E5;&#x5173;&#x8054;&#x7684;&#x4F5C;&#x8005;---------&apos;) book_obj = s.query(Book).filter_by(name=&quot;&#x8DDF;Alex&#x5B66;Python&quot;).first()print(book_obj.name, book_obj.authors) print(&apos;--------&#x901A;&#x8FC7;&#x4F5C;&#x8005;&#x8868;&#x67E5;&#x5173;&#x8054;&#x7684;&#x4E66;---------&apos;)author_obj =s.query(Author).filter_by(name=&quot;Alex&quot;).first()print(author_obj.name , author_obj.books)s.commit()&#x8F93;&#x51FA;&#x5982;&#x4E0B;--------&#x901A;&#x8FC7;&#x4E66;&#x8868;&#x67E5;&#x5173;&#x8054;&#x7684;&#x4F5C;&#x8005;---------&#x8DDF;Alex&#x5B66;Python [Alex, Jack]--------&#x901A;&#x8FC7;&#x4F5C;&#x8005;&#x8868;&#x67E5;&#x5173;&#x8054;&#x7684;&#x4E66;---------Alex [&#x8DDF;Alex&#x5B66;&#x628A;&#x59B9;, &#x8DDF;Alex&#x5B66;Python] &#x3000;&#x3000; &#x591A;&#x5BF9;&#x591A;&#x5220;&#x9664;&#x5220;&#x9664;&#x6570;&#x636E;&#x65F6;&#x4E0D;&#x7528;&#x7BA1;boo_m2m_authors&#x3000;&#xFF0C; sqlalchemy&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x628A;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5220;&#x9664; &#x901A;&#x8FC7;&#x4E66;&#x5220;&#x9664;&#x4F5C;&#x8005; 123456author_obj =s.query(Author).filter_by(name=&quot;Jack&quot;).first() book_obj = s.query(Book).filter_by(name=&quot;&#x8DDF;Alex&#x5B66;&#x628A;&#x59B9;&quot;).first() book_obj.authors.remove(author_obj) #&#x4ECE;&#x4E00;&#x672C;&#x4E66;&#x91CC;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x4F5C;&#x8005;s.commit() &#x76F4;&#x63A5;&#x5220;&#x9664;&#x4F5C;&#x8005;&#x3000; &#x5220;&#x9664;&#x4F5C;&#x8005;&#x65F6;&#xFF0C;&#x4F1A;&#x628A;&#x8FD9;&#x4E2A;&#x4F5C;&#x8005;&#x8DDF;&#x6240;&#x6709;&#x4E66;&#x7684;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x4E5F;&#x81EA;&#x52A8;&#x5220;&#x9664; 1234567author_obj =s.query(Author).filter_by(name=&quot;Alex&quot;).first()# print(author_obj.name , author_obj.books)s.delete(author_obj)s.commit()```&#x3000;&#x3000;&#x5904;&#x7406;&#x4E2D;&#x6587; sqlalchemy&#x8BBE;&#x7F6E;&#x7F16;&#x7801;&#x5B57;&#x7B26;&#x96C6;&#x4E00;&#x5B9A;&#x8981;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x7684;URL&#x4E0A;&#x589E;&#x52A0;charset=utf8&#xFF0C;&#x5426;&#x5219;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;&#x5C31;&#x4E0D;&#x662F;utf8&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F; eng = create_engine(&#x2018;mysql://root:root@localhost:3306/test2?charset=utf8&#x2019;,echo=True)```]]></content>
      <categories>
        <category>python</category>
        <category>sqlalchemy</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>sqlalchemy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[手动释放linux内存cache和脚本定时释放]]></title>
    <url>%2F2018%2F03%2F24%2Flinux-cache-flush%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; &#x603B;&#x6709;&#x5F88;&#x591A;&#x670B;&#x53CB;&#x5BF9;&#x4E8E;Linux&#x7684;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x6709;&#x7591;&#x95EE;&#xFF0C;&#x4E4B;&#x524D;&#x4E00;&#x7BC7;linux&#x4E0B;&#x7684;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x65B9;&#x5F0F;&#x4F3C;&#x4E4E;&#x4E5F;&#x6CA1;&#x80FD;&#x6E05;&#x9664;&#x5927;&#x5BB6;&#x7684;&#x7591;&#x8651;&#x3002;&#x800C;&#x5728;&#x65B0;&#x7248;&#x6838;&#x5FC3;&#x4E2D;&#xFF0C;&#x4F3C;&#x4E4E;&#x5BF9;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x63D0;&#x4F9B;&#x4E86;&#x65B0;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;&#x7279;&#x8F6C;&#x51FA;&#x6765;&#x7ED9;&#x5927;&#x5BB6;&#x53C2;&#x8003;&#x4E00;&#x4E0B;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x8FD8;&#x9644;&#x4E0A;&#x6211;&#x5BF9;&#x8FD9;&#x65B9;&#x6CD5;&#x7684;&#x610F;&#x89C1;&#xFF0C;&#x6B22;&#x8FCE;&#x5404;&#x4F4D;&#x4E00;&#x540C;&#x8BA8;&#x8BBA;&#x3002; &#x5F53;&#x5728;Linux&#x4E0B;&#x9891;&#x7E41;&#x5B58;&#x53D6;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x7269;&#x7406;&#x5185;&#x5B58;&#x4F1A;&#x5F88;&#x5FEB;&#x88AB;&#x7528;&#x5149;&#xFF0C;&#x5F53;&#x7A0B;&#x5E8F;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x5185;&#x5B58;&#x4E0D;&#x4F1A;&#x88AB;&#x6B63;&#x5E38;&#x91CA;&#x653E;&#xFF0C;&#x800C;&#x662F;&#x4E00;&#x76F4;&#x4F5C;&#x4E3A;caching&#x3002;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8C8C;&#x4F3C;&#x6709;&#x4E0D;&#x5C11;&#x4EBA;&#x5728;&#x95EE;&#xFF0C;&#x4E0D;&#x8FC7;&#x90FD;&#x6CA1;&#x6709;&#x770B;&#x5230;&#x6709;&#x4EC0;&#x4E48;&#x5F88;&#x597D;&#x89E3;&#x51B3;&#x7684;&#x529E;&#x6CD5;&#x3002;&#x90A3;&#x4E48;&#x6211;&#x6765;&#x8C08;&#x8C08;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002; &#x4E00;&#x3001;&#x901A;&#x5E38;&#x60C5;&#x51B5; &#x5148;&#x6765;&#x8BF4;&#x8BF4;free&#x547D;&#x4EE4;&#xFF1A; free -mtotal used free shared buffers cachedMem: 249 163 86 0 10 94-/+ buffers/cache: 58 191Swap: 511 0 511 &#x5176;&#x4E2D;&#xFF1A;total &#x5185;&#x5B58;&#x603B;&#x6570;used &#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x7684;&#x5185;&#x5B58;&#x6570;free &#x7A7A;&#x95F2;&#x7684;&#x5185;&#x5B58;&#x6570;shared &#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x5171;&#x4EAB;&#x7684;&#x5185;&#x5B58;&#x603B;&#x989D;buffers Buffer Cache&#x548C;cached Page Cache &#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x7684;&#x5927;&#x5C0F;-buffers/cache (&#x5DF2;&#x7528;)&#x7684;&#x5185;&#x5B58;&#x6570;:used - buffers - cached+buffers/cache(&#x53EF;&#x7528;)&#x7684;&#x5185;&#x5B58;&#x6570;:free + buffers + cached&#x53EF;&#x7528;&#x7684;memory=free memory+buffers+cached &#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x57FA;&#x7840;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x77E5;&#xFF0C;&#x6211;&#x73B0;&#x5728;used&#x4E3A;163MB&#xFF0C;free&#x4E3A;86MB&#xFF0C;buffer&#x548C;cached&#x5206;&#x522B;&#x4E3A;10MB&#xFF0C;94MB&#x3002;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x6267;&#x884C;&#x590D;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5B58;&#x4F1A;&#x53D1;&#x751F;&#x4EC0;&#x4E48;&#x53D8;&#x5316;&#x3002; cp -r /etc ~/test/free -mtotal used free shared buffers cachedMem: 249 244 4 0 8 174-/+ buffers/cache: 62 187Swap: 511 0 511 &#x5728;&#x6211;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x675F;&#x540E;&#xFF0C;used&#x4E3A;244MB&#xFF0C;free&#x4E3A;4MB&#xFF0C;buffers&#x4E3A;8MB&#xFF0C;cached&#x4E3A;174MB&#xFF0C;&#x5929;&#x5450;&#xFF0C;&#x90FD;&#x88AB;cached&#x5403;&#x6389;&#x4E86;&#x3002;&#x522B;&#x7D27;&#x5F20;&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;&#x6548;&#x7387;&#x7684;&#x505A;&#x6CD5;&#x3002; &#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x78C1;&#x76D8;&#x5B58;&#x53D6;&#x6548;&#x7387;&#xFF0C;Linux&#x505A;&#x4E86;&#x4E00;&#x4E9B;&#x7CBE;&#x5FC3;&#x7684;&#x8BBE;&#x8BA1;&#xFF0C;&#x9664;&#x4E86;&#x5BF9;dentry&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#xFF08;&#x7528;&#x4E8E;VFS&#xFF0C;&#x52A0;&#x901F;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x540D;&#x5230;inode&#x7684;&#x8F6C;&#x6362;&#xFF09;&#xFF0C;&#x8FD8;&#x91C7;&#x53D6;&#x4E86;&#x4E24;&#x79CD;&#x4E3B;&#x8981;Cache&#x65B9;&#x5F0F;&#xFF1A;Buffer Cache&#x548C;Page Cache&#x3002;&#x524D;&#x8005;&#x9488;&#x5BF9;&#x78C1;&#x76D8;&#x5757;&#x7684;&#x8BFB;&#x5199;&#xFF0C;&#x540E;&#x8005;&#x9488;&#x5BF9;&#x6587;&#x4EF6;inode&#x7684;&#x8BFB;&#x5199;&#x3002;&#x8FD9;&#x4E9B;Cache&#x6709;&#x6548;&#x7F29;&#x77ED;&#x4E86; I/O&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF08;&#x6BD4;&#x5982;read&#xFF0C;write&#xFF0C;getdents&#xFF09;&#x7684;&#x65F6;&#x95F4;&#x3002; &#x90A3;&#x4E48;&#x6709;&#x4EBA;&#x8BF4;&#x8FC7;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;linux&#x4F1A;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x6389;&#x6240;&#x7528;&#x7684;&#x5185;&#x5B58;&#x3002;&#x7B49;&#x5F85;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;free&#x518D;&#x6765;&#x8BD5;&#x8BD5;&#xFF0C;&#x770B;&#x770B;&#x662F;&#x5426;&#x6709;&#x91CA;&#x653E;&#xFF1F; free -mtotal used free shared buffers cachedMem: 249 244 5 0 8 174-/+ buffers/cache: 61 188Swap: 511 0 511 &#x4F3C;&#x4E4E;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x53D8;&#x5316;&#x3002;&#xFF08;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5185;&#x5B58;&#x7684;&#x7BA1;&#x7406;&#x8FD8;&#x4E0E;Swap&#x6709;&#x5173;&#xFF09;&#x90A3;&#x4E48;&#x6211;&#x80FD;&#x5426;&#x624B;&#x52A8;&#x91CA;&#x653E;&#x6389;&#x8FD9;&#x4E9B;&#x5185;&#x5B58;&#x5462;&#xFF1F;&#x56DE;&#x7B54;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF01; &#x4E8C;&#x3001;&#x624B;&#x52A8;&#x91CA;&#x653E;&#x7F13;&#x5B58; /proc&#x662F;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5BF9;&#x5B83;&#x7684;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x505A;&#x4E3A;&#x4E0E;kernel&#x5B9E;&#x4F53;&#x95F4;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x7684;&#x4E00;&#x79CD;&#x624B;&#x6BB5;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4FEE;&#x6539;/proc&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6765;&#x5BF9;&#x5F53;&#x524D;kernel&#x7684;&#x884C;&#x4E3A;&#x505A;&#x51FA;&#x8C03;&#x6574;&#x3002;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8C03;&#x6574;/proc/sys/vm/drop_caches&#x6765;&#x91CA;&#x653E;&#x5185;&#x5B58;&#x3002;&#x64CD;&#x4F5C;&#x5982;&#x4E0B;&#xFF1A; cat /proc/sys/vm/drop_caches0&#x9996;&#x5148;&#xFF0C;/proc/sys/vm/drop_caches&#x7684;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0&#x3002; sync&#x624B;&#x52A8;&#x6267;&#x884C;sync&#x547D;&#x4EE4;&#xFF08;&#x63CF;&#x8FF0;&#xFF1A;sync &#x547D;&#x4EE4;&#x8FD0;&#x884C; sync &#x5B50;&#x4F8B;&#x7A0B;&#x3002;&#x5982;&#x679C;&#x5FC5;&#x987B;&#x505C;&#x6B62;&#x7CFB;&#x7EDF;&#xFF0C;&#x5219;&#x8FD0;&#x884C;sync &#x547D;&#x4EE4;&#x4EE5;&#x786E;&#x4FDD;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x3002;sync &#x547D;&#x4EE4;&#x5C06;&#x6240;&#x6709;&#x672A;&#x5199;&#x7684;&#x7CFB;&#x7EDF;&#x7F13;&#x51B2;&#x533A;&#x5199;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#xFF0C;&#x5305;&#x542B;&#x5DF2;&#x4FEE;&#x6539;&#x7684; i-node&#x3001;&#x5DF2;&#x5EF6;&#x8FDF;&#x7684;&#x5757; I/O &#x548C;&#x8BFB;&#x5199;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#xFF09; echo 3 &gt; /proc/sys/vm/drop_cachescat /proc/sys/vm/drop_caches3&#x5C06;/proc/sys/vm/drop_caches&#x503C;&#x8BBE;&#x4E3A;3 free -mtotal used free shared buffers cachedMem: 249 66 182 0 0 11-/+ buffers/cache: 55 194Swap: 511 0 511 &#x518D;&#x6765;&#x8FD0;&#x884C;free&#x547D;&#x4EE4;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x73B0;&#x5728;&#x7684;used&#x4E3A;66MB&#xFF0C;free&#x4E3A;182MB&#xFF0C;buffers&#x4E3A;0MB&#xFF0C;cached&#x4E3A;11MB&#x3002;&#x90A3;&#x4E48;&#x6709;&#x6548;&#x7684;&#x91CA;&#x653E;&#x4E86;buffer&#x548C;cache&#x3002; &#x6709;&#x5173;/proc/sys/vm/drop_caches&#x7684;&#x7528;&#x6CD5;&#x5728;&#x4E0B;&#x9762;&#x8FDB;&#x884C;&#x4E86;&#x8BF4;&#x660E;/proc/sys/vm/drop_caches (since Linux 2.6.16)Writing to this file causes the kernel to drop clean caches,dentries and inodes from memory, causing that memory to become free.To free pagecache, use echo 1 &gt; /proc/sys/vm/drop_caches;to free dentries and inodes, use echo 2 &gt; /proc/sys/vm/drop_caches;to free pagecache, dentries and inodes, use echo 3 &gt; /proc/sys/vm/drop_caches.Because this is a non-destructive operation and dirty objects are not freeable, the user should run sync first. &#x4E09;&#x3001;&#x6211;&#x7684;&#x610F;&#x89C1;&#x4E0A;&#x8FF0;&#x6587;&#x7AE0;&#x5C31;&#x957F;&#x671F;&#x4EE5;&#x6765;&#x5F88;&#x591A;&#x7528;&#x6237;&#x5BF9;Linux&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x65B9;&#x9762;&#x7684;&#x7591;&#x95EE;&#xFF0C;&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x201C;&#x76F4;&#x89C2;&#x201D;&#x7684;&#x56DE;&#x590D;&#xFF0C;&#x6211;&#x66F4;&#x89C9;&#x5F97;&#x6709;&#x70B9;&#x50CF;&#x662F;&#x6838;&#x5FC3;&#x5F00;&#x53D1;&#x5C0F;&#x7EC4;&#x7684;&#x59A5;&#x534F;&#x3002;&#x5BF9;&#x4E8E;&#x662F;&#x5426;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x503C;&#xFF0C;&#x6216;&#x5411;&#x7528;&#x6237;&#x63D0;&#x53CA;&#x8FD9;&#x4E2A;&#x503C;&#xFF0C;&#x6211;&#x662F;&#x6709;&#x4FDD;&#x7559;&#x610F;&#x89C1;&#x7684;&#xFF1A; &#x4ECE;man&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x503C;&#x4ECE;2.6.16&#x4EE5;&#x540E;&#x7684;&#x6838;&#x5FC3;&#x7248;&#x672C;&#x624D;&#x63D0;&#x4F9B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8001;&#x7248;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x5982;&#x7EA2;&#x65D7;DC 5.0&#x3001;RHEL 4.x&#x4E4B;&#x524D;&#x7684;&#x7248;&#x672C;&#x90FD;&#x6CA1;&#x6709;&#xFF1B;&#x82E5;&#x5BF9;&#x4E8E;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x662F;&#x5426;&#x591F;&#x7528;&#x7684;&#x89C2;&#x5BDF;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x539F;&#x610F;&#x53BB;&#x770B;swap&#x7684;&#x4F7F;&#x7528;&#x7387;&#x548C;si/so&#x4E24;&#x4E2A;&#x503C;&#x7684;&#x5927;&#x5C0F;&#xFF1B;&#x7528;&#x6237;&#x5E38;&#x89C1;&#x7684;&#x7591;&#x95EE;&#x662F;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;free&#x8FD9;&#x4E48;&#x5C0F;&#xFF0C;&#x662F;&#x5426;&#x5173;&#x95ED;&#x5E94;&#x7528;&#x540E;&#x5185;&#x5B58;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#xFF1F;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;Linux&#x5BF9;&#x5185;&#x5B58;&#x7684;&#x7BA1;&#x7406;&#x4E0E;Windows&#x4E0D;&#x540C;&#xFF0C;free&#x5C0F;&#x5E76;&#x4E0D;&#x662F;&#x8BF4;&#x5185;&#x5B58;&#x4E0D;&#x591F;&#x7528;&#x4E86;&#xFF0C;&#x5E94;&#x8BE5;&#x770B;&#x7684;&#x662F;free&#x7684;&#x7B2C;&#x4E8C;&#x884C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;&#xFF1A;-/+ buffers/cache: 58 191&#xFF0C;&#x8FD9;&#x624D;&#x662F;&#x7CFB;&#x7EDF;&#x53EF;&#x7528;&#x7684;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x3002; &#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#xFF0C;&#x5982;&#x679C;&#x56E0;&#x4E3A;&#x662F;&#x5E94;&#x7528;&#x6709;&#x50CF;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#x3001;&#x6EA2;&#x51FA;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4ECE;swap&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x662F;&#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x5FEB;&#x901F;&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#x7684;&#xFF0C;&#x4F46;free&#x4E0A;&#x9762;&#x53CD;&#x800C;&#x6BD4;&#x8F83;&#x96BE;&#x67E5;&#x770B;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x544A;&#x8BC9;&#x7528;&#x6237;&#xFF0C;&#x4FEE;&#x6539;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x201C;&#x53EF;&#x4EE5;&#x201D;&#x91CA;&#x653E;&#x5185;&#x5B58;&#xFF0C;free&#x5C31;&#x5927;&#x4E86;&#x3002;&#x7528;&#x6237;&#x4F1A;&#x600E;&#x4E48;&#x60F3;&#xFF1F;&#x4E0D;&#x4F1A;&#x89C9;&#x5F97;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x201C;&#x6709;&#x95EE;&#x9898;&#x201D;&#x5417;&#xFF1F;&#x6240;&#x4EE5;&#x8BF4;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x65E2;&#x7136;&#x6838;&#x5FC3;&#x662F;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x6E05;&#x7A7A;buffer&#x6216;cache&#xFF0C;&#x4E5F;&#x4E0D;&#x96BE;&#x505A;&#x5230;&#xFF08;&#x8FD9;&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x4E2D;&#x53EF;&#x4EE5;&#x660E;&#x663E;&#x770B;&#x5230;&#xFF09;&#xFF0C;&#x4F46;&#x6838;&#x5FC3;&#x5E76;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x505A;&#xFF08;&#x9ED8;&#x8BA4;&#x503C;&#x662F;0&#xFF09;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x5E94;&#x8BE5;&#x968F;&#x4FBF;&#x53BB;&#x6539;&#x53D8;&#x5B83;&#x3002;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E94;&#x7528;&#x5728;&#x7CFB;&#x7EDF;&#x4E0A;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#x4E86;&#xFF0C;free&#x503C;&#x4E5F;&#x4F1A;&#x4FDD;&#x6301;&#x5728;&#x4E00;&#x4E2A;&#x7A33;&#x5B9A;&#x503C;&#x7684;&#xFF0C;&#x867D;&#x7136;&#x770B;&#x4E0A;&#x53BB;&#x53EF;&#x80FD;&#x6BD4;&#x8F83;&#x5C0F;&#x3002; &#x5F53;&#x53D1;&#x751F;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x3001;&#x5E94;&#x7528;&#x83B7;&#x53D6;&#x4E0D;&#x5230;&#x53EF;&#x7528;&#x5185;&#x5B58;&#x3001;OOM&#x9519;&#x8BEF;&#x7B49;&#x95EE;&#x9898;&#x65F6;&#xFF0C;&#x8FD8;&#x662F;&#x66F4;&#x5E94;&#x8BE5;&#x53BB;&#x5206;&#x6790;&#x5E94;&#x7528;&#x65B9;&#x9762;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x5982;&#x7528;&#x6237;&#x91CF;&#x592A;&#x5927;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x3001;&#x53D1;&#x751F;&#x5E94;&#x7528;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x7B49;&#x60C5;&#x51B5;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x6E05;&#x7A7A;buffer&#xFF0C;&#x5F3A;&#x5236;&#x817E;&#x51FA;free&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x53EF;&#x80FD;&#x53EA;&#x662F;&#x628A;&#x95EE;&#x9898;&#x7ED9;&#x6682;&#x65F6;&#x5C4F;&#x853D;&#x4E86;&#x3002; &#x6211;&#x89C9;&#x5F97;&#xFF0C;&#x6392;&#x9664;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x7684;&#x60C5;&#x51B5;&#x5916;&#xFF0C;&#x9664;&#x975E;&#x662F;&#x5728;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x9636;&#x6BB5;&#xFF0C;&#x9700;&#x8981;&#x4E34;&#x65F6;&#x6E05;&#x6389;buffer&#xFF0C;&#x4EE5;&#x5224;&#x65AD;&#x5E94;&#x7528;&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF1B;&#x6216;&#x5E94;&#x7528;&#x5DF2;&#x7ECF;&#x4E0D;&#x518D;&#x63D0;&#x4F9B;&#x652F;&#x6301;&#xFF0C;&#x5373;&#x4F7F;&#x5E94;&#x7528;&#x5BF9;&#x5185;&#x5B58;&#x7684;&#x65F6;&#x5019;&#x786E;&#x5B9E;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x800C;&#x4E14;&#x65E0;&#x6CD5;&#x907F;&#x514D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x624D;&#x8003;&#x8651;&#x5B9A;&#x65F6;&#x6E05;&#x7A7A;buffer&#x3002;&#xFF08;&#x53EF;&#x60DC;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5E94;&#x7528;&#x901A;&#x5E38;&#x90FD;&#x662F;&#x8FD0;&#x884C;&#x5728;&#x8001;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x4E0A;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x4E5F;&#x89E3;&#x51B3;&#x4E0D;&#x4E86;&#xFF09;&#x3002;&#x800C;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0B;&#x7684;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x4E0D;&#x8003;&#x8651;&#x624B;&#x5DE5;&#x91CA;&#x653E;&#x5185;&#x5B58;&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x5E26;&#x6765;&#x66F4;&#x591A;&#x7684;&#x95EE;&#x9898;&#x3002;&#x8BB0;&#x4F4F;&#x5185;&#x5B58;&#x662F;&#x62FF;&#x6765;&#x7528;&#x7684;&#xFF0C;&#x4E0D;&#x662F;&#x62FF;&#x6765;&#x770B;&#x7684;&#x3002;&#x4E0D;&#x50CF;windows&#x3002; &#x65E0;&#x8BBA;&#x4F60;&#x7684;&#x771F;&#x5B9E;&#x7269;&#x7406;&#x5185;&#x5B58;&#x6709;&#x591A;&#x5C11;&#xFF0C;&#x4ED6;&#x90FD;&#x8981;&#x62FF;&#x786C;&#x76D8;&#x4EA4;&#x6362;&#x6587;&#x4EF6;&#x6765;&#x8BFB;&#x3002;&#x8FD9;&#x4E5F;&#x5C31;&#x662F;windows&#x4E3A;&#x4EC0;&#x4E48;&#x5E38;&#x5E38;&#x63D0;&#x793A;&#x865A;&#x62DF;&#x7A7A;&#x95F4;&#x4E0D;&#x8DB3;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x4F60;&#x4EEC;&#x60F3;&#x60F3;&#x591A;&#x65E0;&#x804A;&#xFF0C;&#x5728;&#x5185;&#x5B58;&#x8FD8;&#x6709;&#x5927;&#x90E8;&#x5206;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x62FF;&#x51FA;&#x4E00;&#x90E8;&#x5206;&#x786C;&#x76D8;&#x7A7A;&#x95F4;&#x6765;&#x5145;&#x5F53;&#x5185;&#x5B58;&#x3002;&#x786C;&#x76D8;&#x600E;&#x4E48;&#x4F1A;&#x5FEB;&#x8FC7;&#x5185;&#x5B58;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x770B;linux&#xFF0C;&#x53EA;&#x8981;&#x4E0D;&#x7528;swap&#x7684;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;&#xFF0C;&#x5C31;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x5B58;&#x592A;&#x5C11;&#x3002;&#x5982;&#x679C;&#x5E38;&#x5E38;swap&#x7528;&#x5F88;&#x591A;,&#x53EF;&#x80FD;&#x4F60;&#x5C31;&#x8981;&#x8003;&#x8651;&#x52A0;&#x7269;&#x7406;&#x5185;&#x5B58;&#x4E86;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;linux&#x770B;&#x5185;&#x5B58;&#x662F;&#x5426;&#x591F;&#x7528;&#x7684;&#x6807;&#x51C6;&#x54E6;&#x3002;&#x5F53;&#x7136;&#x8FD9;&#x4EC5;&#x4EE3;&#x8868;&#x6211;&#x4E2A;&#x4EBA;&#x610F;&#x89C1;&#xFF0C;&#x4E5F;&#x6B22;&#x8FCE;&#x5927;&#x5BB6;&#x6765;&#x4EA4;&#x6D41;&#x8BA8;&#x8BBA;&#x3002; &#x4EE5;&#x4E0A;&#x5185;&#x5BB9;&#x8F6C;&#x8F7D;&#x4E8E;&#x8003;&#x8BD5;&#x5927;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x6211;&#x5199;&#x7684;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x91CA;&#x653E;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x5206;&#x4EAB;&#x7ED9;&#x5927;&#x5BB6;&#xFF1A; vim /root/satools/freemem.sh#!/bin/bash used=free -m | awk &apos;NR==2&apos; | awk &apos;{print $3}&apos;free=free -m | awk &apos;NR==2&apos; | awk &apos;{print $4}&apos; echo &#x201C;===========================&#x201D; &gt;&gt; /data/logs/mem.logdate &gt;&gt; /data/logs/mem.logecho &#x201C;Memory usage | [Use&#xFF1A;${used}MB][Free&#xFF1A;${free}MB]&#x201D; &gt;&gt; /data/logs/mem.log if [ $free -le 100 ] ; then sync &amp;&amp; echo 1 &gt; /proc/sys/vm/drop_caches sync &amp;&amp; echo 2 &gt; /proc/sys/vm/drop_caches sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches echo &#x201C;OK&#x201D; &gt;&gt; /data/logs/mem.logelse echo &#x201C;Not required&#x201D; &gt;&gt; /data/logs/mem.log&#x5C06;&#x811A;&#x672C;&#x6DFB;&#x52A0;&#x5230;crond&#x4EFB;&#x52A1;&#xFF0C;&#x5B9A;&#x65F6;&#x6267;&#x884C;&#x3002; echo &#x201C;/30 * root /root/satools/freemem.sh&#x201D; &gt;&gt; /etc/crondtab]]></content>
  </entry>
  <entry>
    <title><![CDATA[Linux iostat监测IO状态]]></title>
    <url>%2F2018%2F03%2F23%2Flinux-iostat%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;Linux&#x7CFB;&#x7EDF;&#x51FA;&#x73B0;&#x4E86;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x4E00;&#x822C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;top&#x3001;iostat&#x3001;free&#x3001;vmstat&#x7B49;&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x521D;&#x6B65;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#x3002;&#x5176;&#x4E2D;iostat&#x53EF;&#x4EE5;&#x7ED9;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E30;&#x5BCC;&#x7684;IO&#x72B6;&#x6001;&#x6570;&#x636E;&#x3002; &#x57FA;&#x672C;&#x4F7F;&#x7528;1$iostat -d -k 1 10 &#x53C2;&#x6570; -d &#x8868;&#x793A;&#xFF0C;&#x663E;&#x793A;&#x8BBE;&#x5907;&#xFF08;&#x78C1;&#x76D8;&#xFF09;&#x4F7F;&#x7528;&#x72B6;&#x6001;&#xFF1B;-k&#x67D0;&#x4E9B;&#x4F7F;&#x7528;block&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#x5217;&#x5F3A;&#x5236;&#x4F7F;&#x7528;Kilobytes&#x4E3A;&#x5355;&#x4F4D;&#xFF1B;1 10&#x8868;&#x793A;&#xFF0C;&#x6570;&#x636E;&#x663E;&#x793A;&#x6BCF;&#x9694;1&#x79D2;&#x5237;&#x65B0;&#x4E00;&#x6B21;&#xFF0C;&#x5171;&#x663E;&#x793A;10&#x6B21;&#x3002; 12345678910111213141516$iostat -d -k 1 10Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtnsda 39.29 21.14 1.44 441339807 29990031sda1 0.00 0.00 0.00 1623 523sda2 1.32 1.43 4.54 29834273 94827104sda3 6.30 0.85 24.95 17816289 520725244sda5 0.85 0.46 3.40 9543503 70970116sda6 0.00 0.00 0.00 550 236sda7 0.00 0.00 0.00 406 0sda8 0.00 0.00 0.00 406 0sda9 0.00 0.00 0.00 406 0sda10 60.68 18.35 71.43 383002263 1490928140Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtnsda 327.55 5159.18 102.04 5056 100sda1 0.00 0.00 0.00 0 0 tps&#xFF1A;&#x8BE5;&#x8BBE;&#x5907;&#x6BCF;&#x79D2;&#x7684;&#x4F20;&#x8F93;&#x6B21;&#x6570;&#xFF08;Indicate the number of transfers per second that were issued to the device.&#xFF09;&#x3002;&#x201C;&#x4E00;&#x6B21;&#x4F20;&#x8F93;&#x201D;&#x610F;&#x601D;&#x662F;&#x201C;&#x4E00;&#x6B21;I/O&#x8BF7;&#x6C42;&#x201D;&#x3002;&#x591A;&#x4E2A;&#x903B;&#x8F91;&#x8BF7;&#x6C42;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x5408;&#x5E76;&#x4E3A;&#x201C;&#x4E00;&#x6B21;I/O&#x8BF7;&#x6C42;&#x201D;&#x3002;&#x201C;&#x4E00;&#x6B21;&#x4F20;&#x8F93;&#x201D;&#x8BF7;&#x6C42;&#x7684;&#x5927;&#x5C0F;&#x662F;&#x672A;&#x77E5;&#x7684;&#x3002; kB_read/s&#xFF1A;&#x6BCF;&#x79D2;&#x4ECE;&#x8BBE;&#x5907;&#xFF08;drive expressed&#xFF09;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x636E;&#x91CF;&#xFF1B; kB_wrtn/s&#xFF1A;&#x6BCF;&#x79D2;&#x5411;&#x8BBE;&#x5907;&#xFF08;drive expressed&#xFF09;&#x5199;&#x5165;&#x7684;&#x6570;&#x636E;&#x91CF;&#xFF1B; kB_read&#xFF1A;&#x8BFB;&#x53D6;&#x7684;&#x603B;&#x6570;&#x636E;&#x91CF;&#xFF1B;kB_wrtn&#xFF1A;&#x5199;&#x5165;&#x7684;&#x603B;&#x6570;&#x91CF;&#x6570;&#x636E;&#x91CF;&#xFF1B;&#x8FD9;&#x4E9B;&#x5355;&#x4F4D;&#x90FD;&#x4E3A;Kilobytes&#x3002; &#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x78C1;&#x76D8;sda&#x4EE5;&#x53CA;&#x5B83;&#x7684;&#x5404;&#x4E2A;&#x5206;&#x533A;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x65F6;&#x7EDF;&#x8BA1;&#x7684;&#x78C1;&#x76D8;&#x603B;TPS&#x662F;39.29&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x5404;&#x4E2A;&#x5206;&#x533A;&#x7684;TPS&#x3002;&#xFF08;&#x56E0;&#x4E3A;&#x662F;&#x77AC;&#x95F4;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x603B;TPS&#x5E76;&#x4E0D;&#x4E25;&#x683C;&#x7B49;&#x4E8E;&#x5404;&#x4E2A;&#x5206;&#x533A;TPS&#x7684;&#x603B;&#x548C;&#xFF09; -x &#x53C2;&#x6570;&#x4F7F;&#x7528;-x&#x53C2;&#x6570;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x66F4;&#x591A;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3002; 12345iostat -d -x -k 1 10Device: rrqm/s wrqm/s r/s w/s rsec/s wsec/s rkB/s wkB/s avgrq-sz avgqu-sz await svctm %utilsda 1.56 28.31 7.80 31.49 42.51 2.92 21.26 1.46 1.16 0.03 0.79 2.62 10.28Device: rrqm/s wrqm/s r/s w/s rsec/s wsec/s rkB/s wkB/s avgrq-sz avgqu-sz await svctm %utilsda 2.00 20.00 381.00 7.00 12320.00 216.00 6160.00 108.00 32.31 1.75 4.50 2.17 84.20 rrqm/s&#xFF1A;&#x6BCF;&#x79D2;&#x8FD9;&#x4E2A;&#x8BBE;&#x5907;&#x76F8;&#x5173;&#x7684;&#x8BFB;&#x53D6;&#x8BF7;&#x6C42;&#x6709;&#x591A;&#x5C11;&#x88AB;Merge&#x4E86;&#xFF08;&#x5F53;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x9700;&#x8981;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#xFF0C;VFS&#x5C06;&#x8BF7;&#x6C42;&#x53D1;&#x5230;&#x5404;&#x4E2A;FS&#xFF0C;&#x5982;&#x679C;FS&#x53D1;&#x73B0;&#x4E0D;&#x540C;&#x7684;&#x8BFB;&#x53D6;&#x8BF7;&#x6C42;&#x8BFB;&#x53D6;&#x7684;&#x662F;&#x76F8;&#x540C;Block&#x7684;&#x6570;&#x636E;&#xFF0C;FS&#x4F1A;&#x5C06;&#x8FD9;&#x4E2A;&#x8BF7;&#x6C42;&#x5408;&#x5E76;Merge&#xFF09;&#xFF1B; wrqm/s&#xFF1A;&#x6BCF;&#x79D2;&#x8FD9;&#x4E2A;&#x8BBE;&#x5907;&#x76F8;&#x5173;&#x7684;&#x5199;&#x5165;&#x8BF7;&#x6C42;&#x6709;&#x591A;&#x5C11;&#x88AB;Merge&#x4E86;&#x3002; rsec/s&#xFF1A;&#x6BCF;&#x79D2;&#x8BFB;&#x53D6;&#x7684;&#x6247;&#x533A;&#x6570;&#xFF1B;wsec/&#xFF1A;&#x6BCF;&#x79D2;&#x5199;&#x5165;&#x7684;&#x6247;&#x533A;&#x6570;&#x3002;r/s&#xFF1A;The number of read requests that were issued to the device per second&#xFF1B;w/s&#xFF1A;The number of write requests that were issued to the device per second&#xFF1B; await&#xFF1A;&#x6BCF;&#x4E00;&#x4E2A;IO&#x8BF7;&#x6C42;&#x7684;&#x5904;&#x7406;&#x7684;&#x5E73;&#x5747;&#x65F6;&#x95F4;&#xFF08;&#x5355;&#x4F4D;&#x662F;&#x5FAE;&#x79D2;&#x6BEB;&#x79D2;&#xFF09;&#x3002;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;IO&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF0C;&#x4E00;&#x822C;&#x5730;&#x7CFB;&#x7EDF;IO&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x5E94;&#x8BE5;&#x4F4E;&#x4E8E;5ms&#xFF0C;&#x5982;&#x679C;&#x5927;&#x4E8E;10ms&#x5C31;&#x6BD4;&#x8F83;&#x5927;&#x4E86;&#x3002; %util&#xFF1A;&#x5728;&#x7EDF;&#x8BA1;&#x65F6;&#x95F4;&#x5185;&#x6240;&#x6709;&#x5904;&#x7406;IO&#x65F6;&#x95F4;&#xFF0C;&#x9664;&#x4EE5;&#x603B;&#x5171;&#x7EDF;&#x8BA1;&#x65F6;&#x95F4;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x7EDF;&#x8BA1;&#x95F4;&#x9694;1&#x79D2;&#xFF0C;&#x8BE5;&#x8BBE;&#x5907;&#x6709;0.8&#x79D2;&#x5728;&#x5904;&#x7406;IO&#xFF0C;&#x800C;0.2&#x79D2;&#x95F2;&#x7F6E;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x8BBE;&#x5907;&#x7684;%util = 0.8/1 = 80%&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x53C2;&#x6570;&#x6697;&#x793A;&#x4E86;&#x8BBE;&#x5907;&#x7684;&#x7E41;&#x5FD9;&#x7A0B;&#x5EA6;&#x3002;&#x4E00;&#x822C;&#x5730;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x53C2;&#x6570;&#x662F;100%&#x8868;&#x793A;&#x8BBE;&#x5907;&#x5DF2;&#x7ECF;&#x63A5;&#x8FD1;&#x6EE1;&#x8D1F;&#x8377;&#x8FD0;&#x884C;&#x4E86;&#xFF08;&#x5F53;&#x7136;&#x5982;&#x679C;&#x662F;&#x591A;&#x78C1;&#x76D8;&#xFF0C;&#x5373;&#x4F7F;%util&#x662F;100%&#xFF0C;&#x56E0;&#x4E3A;&#x78C1;&#x76D8;&#x7684;&#x5E76;&#x53D1;&#x80FD;&#x529B;&#xFF0C;&#x6240;&#x4EE5;&#x78C1;&#x76D8;&#x4F7F;&#x7528;&#x672A;&#x5FC5;&#x5C31;&#x5230;&#x4E86;&#x74F6;&#x9888;&#xFF09;&#x3002; -c &#x53C2;&#x6570;iostat&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x83B7;&#x53D6;cpu&#x90E8;&#x5206;&#x72B6;&#x6001;&#x503C;&#xFF1A; 12345iostat -c 1 10avg-cpu: %user %nice %sys %iowait %idle 1.98 0.00 0.35 11.45 86.22avg-cpu: %user %nice %sys %iowait %idle 1.62 0.00 0.25 34.46 63.67 &#x5E38;&#x89C1;&#x7528;&#x6CD5;123$iostat -d -k 1 10 #&#x67E5;&#x770B;TPS&#x548C;&#x541E;&#x5410;&#x91CF;&#x4FE1;&#x606F;iostat -d -x -k 1 10 #&#x67E5;&#x770B;&#x8BBE;&#x5907;&#x4F7F;&#x7528;&#x7387;&#xFF08;%util&#xFF09;&#x3001;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF08;await&#xFF09;iostat -c 1 10 #&#x67E5;&#x770B;cpu&#x72B6;&#x6001; &#x5B9E;&#x4F8B;&#x5206;&#x6790;12345678$$iostat -d -k 1 |grep sda10Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtn sda10 60.72 18.95 71.53 395637647 1493241908sda10 299.02 4266.67 129.41 4352 132sda10 483.84 4589.90 4117.17 4544 4076sda10 218.00 3360.00 100.00 3360 100sda10 546.00 8784.00 124.00 8784 124sda10 827.00 13232.00 136.00 13232 136 &#x4E0A;&#x9762;&#x770B;&#x5230;&#xFF0C;&#x78C1;&#x76D8;&#x6BCF;&#x79D2;&#x4F20;&#x8F93;&#x6B21;&#x6570;&#x5E73;&#x5747;&#x7EA6;400&#xFF1B;&#x6BCF;&#x79D2;&#x78C1;&#x76D8;&#x8BFB;&#x53D6;&#x7EA6;5MB&#xFF0C;&#x5199;&#x5165;&#x7EA6;1MB&#x3002; 12345iostat -d -x -k 1Device: rrqm/s wrqm/s r/s w/s rsec/s wsec/s rkB/s wkB/s avgrq-sz avgqu-sz await svctm %utilsda 1.56 28.31 7.84 31.50 43.65 3.16 21.82 1.58 1.19 0.03 0.80 2.61 10.29sda 1.98 24.75 419.80 6.93 13465.35 253.47 6732.67 126.73 32.15 2.00 4.70 2.00 85.25sda 3.06 41.84 444.90 54.08 14204.08 2048.98 7102.04 1024.49 32.57 2.10 4.21 1.85 92.24 &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x78C1;&#x76D8;&#x7684;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;80&#x3002;&#x78C1;&#x76D8;&#x54CD;&#x5E94;&#x6B63;&#x5E38;&#xFF0C;&#x4F46;&#x662F;&#x5DF2;&#x7ECF;&#x5F88;&#x7E41;&#x5FD9;&#x4E86;&#x3002;]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>iostat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python协程]]></title>
    <url>%2F2018%2F03%2F16%2Fpython-Coroutine%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x534F;&#x7A0B;&#xFF0C;&#x53C8;&#x79F0;&#x5FAE;&#x7EBF;&#x7A0B;&#xFF0C;&#x7EA4;&#x7A0B;&#x3002;&#x82F1;&#x6587;&#x540D;Coroutine&#x3002;&#x4E00;&#x53E5;&#x8BDD;&#x8BF4;&#x660E;&#x4EC0;&#x4E48;&#x662F;&#x534F;&#x7A0B;&#xFF1A;&#x534F;&#x7A0B;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x6237;&#x6001;&#x7684;&#x8F7B;&#x91CF;&#x7EA7;&#x7EBF;&#x7A0B;&#x3002; &#x672C;&#x6587;&#x6765;&#x81EA;&#x7F51;&#x7EDC; &#x534F;&#x7A0B; &#x534F;&#x7A0B;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x6808; &#x7EBF;&#x7A0B;&#x5207;&#x6362;&#x7684;&#x65F6;&#x5019;&#x662F;&#x4FDD;&#x5B58;&#x5728;cpu&#x7684;&#x5BC4;&#x5B58;&#x5668; &#x534F;&#x7A0B;&#x8C03;&#x5EA6;&#x5207;&#x6362;&#x65F6;&#xFF0C;&#x5C06;&#x5BC4;&#x5B58;&#x5668;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x6808;&#x4FDD;&#x5B58;&#x5230;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#xFF0C;&#x5728;&#x5207;&#x56DE;&#x6765;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6062;&#x590D;&#x5148;&#x524D;&#x4FDD;&#x5B58;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x6808; &#x56E0;&#x6B64;&#xFF1A;&#x534F;&#x7A0B;&#x80FD;&#x4FDD;&#x7559;&#x4E0A;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x65F6;&#x7684;&#x72B6;&#x6001;&#xFF08;&#x5373;&#x6240;&#x6709;&#x5C40;&#x90E8;&#x72B6;&#x6001;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7EC4;&#x5408;&#xFF09; &#x6BCF;&#x6B21;&#x8FC7;&#x7A0B;&#x91CD;&#x5165;&#x65F6;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x8FDB;&#x5165;&#x4E0A;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6362;&#x79CD;&#x8BF4;&#x6CD5;&#xFF1A;&#x8FDB;&#x5165;&#x4E0A;&#x4E00;&#x6B21;&#x79BB;&#x5F00;&#x65F6;&#x6240;&#x5904;&#x903B;&#x8F91;&#x6D41;&#x7684;&#x4F4D;&#x7F6E;&#x3002; &#x5982;&#x679C;&#x9047;&#x5230;&#x975E;IO&#x8BF7;&#x6C42;&#x5C31;&#x5207;&#x6362;,&#x6027;&#x80FD;&#x4F4E;. &#x5982;&#x679C;&#x9047;&#x5230;IO&#x8BF7;&#x6C42;&#x5207;&#x6362;,&#x6027;&#x80FD;&#x9AD8;.&#x80FD;&#x591F;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;(IO&#x7B49;&#x5F85;&#x7684;&#x8FC7;&#x7A0B;,&#x518D;&#x53BB;&#x5E72;&#x5176;&#x4ED6;&#x7684;&#x4E8B;) &#x534F;&#x7A0B;&#x7684;&#x597D;&#x5904;&#xFF1A; &#x65E0;&#x9700;&#x7EBF;&#x7A0B;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x7684;&#x5F00;&#x9500; &#x65E0;&#x9700;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x9501;&#x5B9A;&#x53CA;&#x540C;&#x6B65;&#x7684;&#x5F00;&#x9500; &#x539F;&#x5B50;&#x64CD;&#x4F5C;(atomic operation)&#x662F;&#x4E0D;&#x9700;&#x8981;synchronized&#xFF0C;&#x6240;&#x8C13;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x662F;&#x6307;&#x4E0D;&#x4F1A;&#x88AB;&#x7EBF;&#x7A0B;&#x8C03;&#x5EA6;&#x673A;&#x5236;&#x6253;&#x65AD;&#x7684;&#x64CD;&#x4F5C;&#xFF1B;&#x8FD9;&#x79CD;&#x64CD;&#x4F5C;&#x4E00;&#x65E6;&#x5F00;&#x59CB;&#xFF0C;&#x5C31;&#x4E00;&#x76F4;&#x8FD0;&#x884C;&#x5230;&#x7ED3;&#x675F;&#xFF0C;&#x4E2D;&#x95F4;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55; context switch &#xFF08;&#x5207;&#x6362;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF09;&#x3002;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x591A;&#x4E2A;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x987A;&#x5E8F;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x6253;&#x4E71;&#xFF0C;&#x6216;&#x8005;&#x5207;&#x5272;&#x6389;&#x53EA;&#x6267;&#x884C;&#x90E8;&#x5206;&#x3002;&#x89C6;&#x4F5C;&#x6574;&#x4F53;&#x662F;&#x539F;&#x5B50;&#x6027;&#x7684;&#x6838;&#x5FC3;&#x3002; &#x65B9;&#x4FBF;&#x5207;&#x6362;&#x63A7;&#x5236;&#x6D41;&#xFF0C;&#x7B80;&#x5316;&#x7F16;&#x7A0B;&#x6A21;&#x578B; &#x9AD8;&#x5E76;&#x53D1;+&#x9AD8;&#x6269;&#x5C55;&#x6027;+&#x4F4E;&#x6210;&#x672C;&#xFF0C;&#x4E00;&#x4E2A;CPU&#x652F;&#x6301;&#x4E0A;&#x4E07;&#x7684;&#x534F;&#x7A0B;&#x90FD;&#x4E0D;&#x662F;&#x95EE;&#x9898;&#x3002;&#x6240;&#x4EE5;&#x5F88;&#x9002;&#x5408;&#x7528;&#x4E8E;&#x9AD8;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x3002; &#x7F3A;&#x70B9; &#x65E0;&#x6CD5;&#x5229;&#x7528;&#x591A;&#x6838;&#x8D44;&#x6E90;&#xFF1A;&#x534F;&#x7A0B;&#x7684;&#x672C;&#x8D28;&#x662F;&#x4E2A;&#x5355;&#x7EBF;&#x7A0B;,&#x5B83;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x5C06; &#x5355;&#x4E2A;CPU &#x7684;&#x591A;&#x4E2A;&#x6838;&#x7528;&#x4E0A;,&#x534F;&#x7A0B;&#x9700;&#x8981;&#x548C;&#x8FDB;&#x7A0B;&#x914D;&#x5408;&#x624D;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x591A;CPU&#x4E0A;.&#x5F53;&#x7136;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x6240;&#x7F16;&#x5199;&#x7684;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x5E94;&#x7528;&#x90FD;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x5FC5;&#x8981;&#xFF0C;&#x9664;&#x975E;&#x662F;cpu&#x5BC6;&#x96C6;&#x578B;&#x5E94;&#x7528;&#x3002; &#x8FDB;&#x884C;&#x963B;&#x585E;&#xFF08;Blocking&#xFF09;&#x64CD;&#x4F5C;&#xFF08;&#x5982;IO&#x65F6;&#xFF09;&#x4F1A;&#x963B;&#x585E;&#x6389;&#x6574;&#x4E2A;&#x7A0B;&#x5E8F; &#x4F7F;&#x7528;yield&#x5B9E;&#x73B0;&#x534F;&#x7A0B;&#x64CD;&#x4F5C;&#x4F8B;&#x5B50;12345678910111213141516171819202122232425import timeimport queuedef consumer(name): print(&quot;---&gt;starting eating baozi...&quot;) while True: new_baozi = yield print(&quot;[%s] is eating baozi %s&quot; % (name,new_baozi)) #time.sleep(1) def producer(): r = con.__next__() r = con2.__next__() n = 0 while n &lt; 5: n +=1 con.send(n) con2.send(n) print(&quot;\033[32;1m[producer]\033[0m is making baozi %s&quot; %n ) if __name__ == &apos;__main__&apos;: con = consumer(&quot;c1&quot;) con2 = consumer(&quot;c2&quot;) p = producer() &#x5FC5;&#x987B;&#x5728;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5355;&#x7EBF;&#x7A0B;&#x91CC;&#x5B9E;&#x73B0;&#x5E76;&#x53D1; &#x4FEE;&#x6539;&#x5171;&#x4EAB;&#x6570;&#x636E;&#x4E0D;&#x9700;&#x52A0;&#x9501; &#x7528;&#x6237;&#x7A0B;&#x5E8F;&#x91CC;&#x81EA;&#x5DF1;&#x4FDD;&#x5B58;&#x591A;&#x4E2A;&#x63A7;&#x5236;&#x6D41;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x6808; &#x4E00;&#x4E2A;&#x534F;&#x7A0B;&#x9047;&#x5230;IO&#x64CD;&#x4F5C;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x5230;&#x5176;&#x5B83;&#x534F;&#x7A0B; &#x57FA;&#x4E8E;&#x4E0A;&#x9762;&#x8FD9;4&#x70B9;&#x5B9A;&#x4E49;&#xFF0C;&#x6211;&#x4EEC;&#x521A;&#x624D;&#x7528;yield&#x5B9E;&#x73B0;&#x7684;&#x7A0B;&#x5E76;&#x4E0D;&#x80FD;&#x7B97;&#x662F;&#x5408;&#x683C;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x6709;&#x4E00;&#x70B9;&#x529F;&#x80FD;&#x6CA1;&#x5B9E;&#x73B0; Greenletgreenlet&#x662F;&#x4E00;&#x4E2A;&#x7528;C&#x5B9E;&#x73B0;&#x7684;&#x534F;&#x7A0B;&#x6A21;&#x5757;&#xFF0C;&#x76F8;&#x6BD4;&#x4E0E;python&#x81EA;&#x5E26;&#x7684;yield&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4F7F;&#x4F60;&#x5728;&#x4EFB;&#x610F;&#x51FD;&#x6570;&#x4E4B;&#x95F4;&#x968F;&#x610F;&#x5207;&#x6362;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x628A;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5148;&#x58F0;&#x660E;&#x4E3A;generator 123456789101112131415161718192021# -*- coding:utf-8 -*- from greenlet import greenlet def test1(): print(12) gr2.switch() print(34) gr2.switch() def test2(): print(56) gr1.switch() print(78) gr1 = greenlet(test1)gr2 = greenlet(test2)gr1.switch() &#x611F;&#x89C9;&#x786E;&#x5B9E;&#x7528;&#x7740;&#x6BD4;generator&#x8FD8;&#x7B80;&#x5355;&#x4E86;&#x5462;&#xFF0C;&#x4F46;&#x597D;&#x50CF;&#x8FD8;&#x6CA1;&#x6709;&#x89E3;&#x51B3;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x662F;&#x9047;&#x5230;IO&#x64CD;&#x4F5C;&#xFF0C;&#x81EA;&#x52A8;&#x5207;&#x6362;&#xFF0C;&#x5BF9;&#x4E0D;&#x5BF9;&#xFF1F; GeventGevent &#x662F;&#x4E00;&#x4E2A;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#xFF0C;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x901A;&#x8FC7;gevent&#x5B9E;&#x73B0;&#x5E76;&#x53D1;&#x540C;&#x6B65;&#x6216;&#x5F02;&#x6B65;&#x7F16;&#x7A0B;&#xFF0C;&#x5728;gevent&#x4E2D;&#x7528;&#x5230;&#x7684;&#x4E3B;&#x8981;&#x6A21;&#x5F0F;&#x662F;Greenlet, &#x5B83;&#x662F;&#x4EE5;C&#x6269;&#x5C55;&#x6A21;&#x5757;&#x5F62;&#x5F0F;&#x63A5;&#x5165;Python&#x7684;&#x8F7B;&#x91CF;&#x7EA7;&#x534F;&#x7A0B;&#x3002; Greenlet&#x5168;&#x90E8;&#x8FD0;&#x884C;&#x5728;&#x4E3B;&#x7A0B;&#x5E8F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x90E8;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x88AB;&#x534F;&#x4F5C;&#x5F0F;&#x5730;&#x8C03;&#x5EA6;&#x3002; 12345678910111213141516171819202122232425import gevent def func1(): print(&apos;\033[31;1m&#x674E;&#x95EF;&#x5728;&#x8DDF;&#x6D77;&#x6D9B;&#x641E;...\033[0m&apos;) gevent.sleep(2) print(&apos;\033[31;1m&#x674E;&#x95EF;&#x53C8;&#x56DE;&#x53BB;&#x8DDF;&#x7EE7;&#x7EED;&#x8DDF;&#x6D77;&#x6D9B;&#x641E;...\033[0m&apos;) def func2(): print(&apos;\033[32;1m&#x674E;&#x95EF;&#x5207;&#x6362;&#x5230;&#x4E86;&#x8DDF;&#x6D77;&#x9F99;&#x641E;...\033[0m&apos;) gevent.sleep(1) print(&apos;\033[32;1m&#x674E;&#x95EF;&#x641E;&#x5B8C;&#x4E86;&#x6D77;&#x6D9B;&#xFF0C;&#x56DE;&#x6765;&#x7EE7;&#x7EED;&#x8DDF;&#x6D77;&#x9F99;&#x641E;...\033[0m&apos;) gevent.joinall([ gevent.spawn(func1), gevent.spawn(func2), #gevent.spawn(func3),])&#x8F93;&#x51FA;&#xFF1A;&#x674E;&#x95EF;&#x5728;&#x8DDF;&#x6D77;&#x6D9B;&#x641E;...&#x674E;&#x95EF;&#x5207;&#x6362;&#x5230;&#x4E86;&#x8DDF;&#x6D77;&#x9F99;&#x641E;...&#x674E;&#x95EF;&#x641E;&#x5B8C;&#x4E86;&#x6D77;&#x6D9B;&#xFF0C;&#x56DE;&#x6765;&#x7EE7;&#x7EED;&#x8DDF;&#x6D77;&#x9F99;&#x641E;...&#x674E;&#x95EF;&#x53C8;&#x56DE;&#x53BB;&#x8DDF;&#x7EE7;&#x7EED;&#x8DDF;&#x6D77;&#x6D9B;&#x641E;... &#x540C;&#x6B65;&#x4E0E;&#x5F02;&#x6B65;&#x7684;&#x6027;&#x80FD;&#x533A;&#x522B;12345678910111213141516171819202122import gevent def task(pid): &quot;&quot;&quot; Some non-deterministic task &quot;&quot;&quot; gevent.sleep(0.5) print(&apos;Task %s done&apos; % pid) def synchronous(): for i in range(1,10): task(i) def asynchronous(): threads = [gevent.spawn(task, i) for i in range(10)] gevent.joinall(threads) print(&apos;Synchronous:&apos;)synchronous() print(&apos;Asynchronous:&apos;)asynchronous() &#x4E0A;&#x9762;&#x7A0B;&#x5E8F;&#x7684;&#x91CD;&#x8981;&#x90E8;&#x5206;&#x662F;&#x5C06;task&#x51FD;&#x6570;&#x5C01;&#x88C5;&#x5230;Greenlet&#x5185;&#x90E8;&#x7EBF;&#x7A0B;&#x7684;gevent.spawn&#x3002; &#x521D;&#x59CB;&#x5316;&#x7684;greenlet&#x5217;&#x8868;&#x5B58;&#x653E;&#x5728;&#x6570;&#x7EC4;threads&#x4E2D;&#xFF0C;&#x6B64;&#x6570;&#x7EC4;&#x88AB;&#x4F20;&#x7ED9;gevent.joinall &#x51FD;&#x6570;&#xFF0C;&#x540E;&#x8005;&#x963B;&#x585E;&#x5F53;&#x524D;&#x6D41;&#x7A0B;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x6240;&#x6709;&#x7ED9;&#x5B9A;&#x7684;greenlet&#x3002;&#x6267;&#x884C;&#x6D41;&#x7A0B;&#x53EA;&#x4F1A;&#x5728;&#x6240;&#x6709;greenlet&#x6267;&#x884C;&#x5B8C;&#x540E;&#x624D;&#x4F1A;&#x7EE7;&#x7EED;&#x5411;&#x4E0B;&#x8D70;&#x3002; &#x9047;&#x5230;IO&#x963B;&#x585E;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x4EFB;&#x52A1;12345678910111213141516171819from gevent import monkeyimport geventfrom urllib.request import urlopen# &#x628A;&#x5F53;&#x524D;&#x7A0B;&#x5E8F;&#x7684;&#x6240;&#x6709;io&#x64CD;&#x4F5C;&#x5355;&#x72EC;&#x505A;&#x6807;&#x8BB0;monkey.patch_all()def f(url): print(&apos;GET: %s&apos; % url) resp = urlopen(url) data = resp.read() print(&apos;%d bytes received from %s.&apos; % (len(data), url)) gevent.joinall([ gevent.spawn(f, &apos;https://www.python.org/&apos;), gevent.spawn(f, &apos;https://www.yahoo.com/&apos;), gevent.spawn(f, &apos;https://github.com/&apos;),]) &#x901A;&#x8FC7;gevent&#x5B9E;&#x73B0;&#x5355;&#x7EBF;&#x7A0B;&#x4E0B;&#x7684;&#x591A;socket&#x5E76;&#x53D1;server side12345678910111213141516171819202122232425262728293031323334import sysimport socketimport timeimport gevent from gevent import socket,monkeymonkey.patch_all() def server(port): s = socket.socket() s.bind((&apos;0.0.0.0&apos;, port)) s.listen(500) while True: cli, addr = s.accept() gevent.spawn(handle_request, cli) def handle_request(conn): try: while True: data = conn.recv(1024) print(&quot;recv:&quot;, data) conn.send(data) if not data: conn.shutdown(socket.SHUT_WR) except Exception as ex: print(ex) finally: conn.close()if __name__ == &apos;__main__&apos;: server(8001) client side1234567891011121314import socket HOST = &apos;localhost&apos; PORT = 8001s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)s.connect((HOST, PORT))while True: msg = bytes(input(&quot;&gt;&gt;:&quot;),encoding=&quot;utf8&quot;) s.sendall(msg) data = s.recv(1024) #print(data) print(&apos;Received&apos;, repr(data))s.close() &#x5E76;&#x53D1;100&#x4E2A;sock&#x8FDE;&#x63A5;123456789101112131415161718192021222324import socketimport threadingdef sock_conn(): client = socket.socket() client.connect((&quot;localhost&quot;,8001)) count = 0 while True: #msg = input(&quot;&gt;&gt;:&quot;).strip() #if len(msg) == 0:continue client.send( (&quot;hello %s&quot; %count).encode(&quot;utf-8&quot;)) data = client.recv(1024) print(&quot;[%s]recv from server:&quot; % threading.get_ident(),data.decode()) #&#x7ED3;&#x679C; count +=1 client.close()for i in range(100): t = threading.Thread(target=sock_conn) t.start() &#x8BBA;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x4E0E;&#x5F02;&#x6B65;IO&#x901A;&#x5E38;&#xFF0C;&#x6211;&#x4EEC;&#x5199;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x6A21;&#x578B;&#x7684;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x6A21;&#x578B;&#xFF1A; &#x6BCF;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x6765;&#x5904;&#x7406;&#x8BE5;&#x8BF7;&#x6C42;&#xFF1B; &#x6BCF;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x6765;&#x5904;&#x7406;&#x8BE5;&#x8BF7;&#x6C42;&#xFF1B; &#x6BCF;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x653E;&#x5165;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5217;&#x8868;&#xFF0C;&#x8BA9;&#x4E3B;&#x8FDB;&#x7A0B;&#x901A;&#x8FC7;&#x975E;&#x963B;&#x585E;I/O&#x65B9;&#x5F0F;&#x6765;&#x5904;&#x7406;&#x8BF7;&#x6C42; &#x4E0A;&#x9762;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5404;&#x6709;&#x5343;&#x79CB;&#xFF0C; &#x7B2C;&#xFF08;1&#xFF09;&#x4E2D;&#x65B9;&#x6CD5;&#xFF0C;&#x7531;&#x4E8E;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x7684;&#x5F00;&#x9500;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x6BD4;&#x8F83;&#x5DEE;,&#x4F46;&#x5B9E;&#x73B0;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x3002; &#x7B2C;&#xFF08;2&#xFF09;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x7531;&#x4E8E;&#x8981;&#x6D89;&#x53CA;&#x5230;&#x7EBF;&#x7A0B;&#x7684;&#x540C;&#x6B65;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x9762;&#x4E34;&#x6B7B;&#x9501;&#x7B49;&#x95EE;&#x9898;&#x3002; &#x7B2C;&#xFF08;3&#xFF09;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x5199;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x903B;&#x8F91;&#x6BD4;&#x524D;&#x9762;&#x4E24;&#x79CD;&#x90FD;&#x590D;&#x6742;&#x3002; &#x7EFC;&#x5408;&#x8003;&#x8651;&#x5404;&#x65B9;&#x9762;&#x56E0;&#x7D20;&#xFF0C;&#x4E00;&#x822C;&#x666E;&#x904D;&#x8BA4;&#x4E3A;&#x7B2C;&#xFF08;3&#xFF09;&#x79CD;&#x65B9;&#x5F0F;&#x662F;&#x5927;&#x591A;&#x6570;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x5668;&#x91C7;&#x7528;&#x7684;&#x65B9;&#x5F0F; &#x770B;&#x56FE;&#x8BF4;&#x8BDD;&#x8BB2;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x6A21;&#x578B;&#x5728;UI&#x7F16;&#x7A0B;&#x4E2D;&#xFF0C;&#x5E38;&#x5E38;&#x8981;&#x5BF9;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#xFF0C;&#x9996;&#x5148;&#x5982;&#x4F55;&#x83B7;&#x5F97;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#x5462;&#xFF1F; &#x65B9;&#x5F0F;&#x4E00;&#xFF1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x8BE5;&#x7EBF;&#x7A0B;&#x4E00;&#x76F4;&#x5FAA;&#x73AF;&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x6709;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x65B9;&#x5F0F;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x7F3A;&#x70B9; CPU&#x8D44;&#x6E90;&#x6D6A;&#x8D39;&#xFF0C;&#x53EF;&#x80FD;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#x7684;&#x9891;&#x7387;&#x975E;&#x5E38;&#x5C0F;&#xFF0C;&#x4F46;&#x662F;&#x626B;&#x63CF;&#x7EBF;&#x7A0B;&#x8FD8;&#x662F;&#x4F1A;&#x4E00;&#x76F4;&#x5FAA;&#x73AF;&#x68C0;&#x6D4B;&#xFF0C;&#x8FD9;&#x4F1A;&#x9020;&#x6210;&#x5F88;&#x591A;&#x7684;CPU&#x8D44;&#x6E90;&#x6D6A;&#x8D39;&#xFF1B;&#x5982;&#x679C;&#x626B;&#x63CF;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#x7684;&#x63A5;&#x53E3;&#x662F;&#x963B;&#x585E;&#x7684;&#x5462;&#xFF1F; &#x5982;&#x679C;&#x662F;&#x5835;&#x585E;&#x7684;&#xFF0C;&#x53C8;&#x4F1A;&#x51FA;&#x73B0;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4E0D;&#x4F46;&#x8981;&#x626B;&#x63CF;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#xFF0C;&#x8FD8;&#x8981;&#x626B;&#x63CF;&#x952E;&#x76D8;&#x662F;&#x5426;&#x6309;&#x4E0B;&#xFF0C;&#x7531;&#x4E8E;&#x626B;&#x63CF;&#x9F20;&#x6807;&#x65F6;&#x88AB;&#x5835;&#x585E;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x80FD;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x53BB;&#x626B;&#x63CF;&#x952E;&#x76D8;&#xFF1B; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x9700;&#x8981;&#x626B;&#x63CF;&#x7684;&#x8BBE;&#x5907;&#x975E;&#x5E38;&#x591A;&#xFF0C;&#x8FD9;&#x53C8;&#x4F1A;&#x5F15;&#x6765;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x7684;&#x95EE;&#x9898;&#xFF1B;&#x6240;&#x4EE5;&#xFF0C;&#x8BE5;&#x65B9;&#x5F0F;&#x662F;&#x975E;&#x5E38;&#x4E0D;&#x597D;&#x7684;&#x3002; &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;&#x5C31;&#x662F;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x6A21;&#x578B;&#x76EE;&#x524D;&#x5927;&#x90E8;&#x5206;&#x7684;UI&#x7F16;&#x7A0B;&#x90FD;&#x662F;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x6A21;&#x578B;&#xFF0C;&#x5982;&#x5F88;&#x591A;UI&#x5E73;&#x53F0;&#x90FD;&#x4F1A;&#x63D0;&#x4F9B;onClick()&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5C31;&#x4EE3;&#x8868;&#x9F20;&#x6807;&#x6309;&#x4E0B;&#x4E8B;&#x4EF6;&#x3002;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x6A21;&#x578B;&#x5927;&#x4F53;&#x601D;&#x8DEF;&#x5982;&#x4E0B;&#xFF1A; &#x6709;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF08;&#x6D88;&#x606F;&#xFF09;&#x961F;&#x5217;&#xFF1B; &#x9F20;&#x6807;&#x6309;&#x4E0B;&#x65F6;&#xFF0C;&#x5F80;&#x8FD9;&#x4E2A;&#x961F;&#x5217;&#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#xFF08;&#x6D88;&#x606F;&#xFF09;&#xFF1B; &#x6709;&#x4E2A;&#x5FAA;&#x73AF;&#xFF0C;&#x4E0D;&#x65AD;&#x4ECE;&#x961F;&#x5217;&#x53D6;&#x51FA;&#x4E8B;&#x4EF6;&#xFF0C;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x8C03;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5982;onClick()&#x3001;onKeyDown()&#x7B49;&#xFF1B; &#x4E8B;&#x4EF6;&#xFF08;&#x6D88;&#x606F;&#xFF09;&#x4E00;&#x822C;&#x90FD;&#x5404;&#x81EA;&#x4FDD;&#x5B58;&#x5404;&#x81EA;&#x7684;&#x5904;&#x7406;&#x51FD;&#x6570;&#x6307;&#x9488;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x6BCF;&#x4E2A;&#x6D88;&#x606F;&#x90FD;&#x6709;&#x72EC;&#x7ACB;&#x7684;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF1B; &#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7F16;&#x7A0B;&#x662F;&#x4E00;&#x79CD;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;&#xFF0C;&#x8FD9;&#x91CC;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x6D41;&#x7531;&#x5916;&#x90E8;&#x4E8B;&#x4EF6;&#x6765;&#x51B3;&#x5B9A;&#x3002;&#x5B83;&#x7684;&#x7279;&#x70B9;&#x662F;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF0C;&#x5F53;&#x5916;&#x90E8;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x4F7F;&#x7528;&#x56DE;&#x8C03;&#x673A;&#x5236;&#x6765;&#x89E6;&#x53D1;&#x76F8;&#x5E94;&#x7684;&#x5904;&#x7406;&#x3002;&#x53E6;&#x5916;&#x4E24;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;&#x662F;&#xFF08;&#x5355;&#x7EBF;&#x7A0B;&#xFF09;&#x540C;&#x6B65;&#x4EE5;&#x53CA;&#x591A;&#x7EBF;&#x7A0B;&#x7F16;&#x7A0B;&#x3002; &#x8BA9;&#x6211;&#x4EEC;&#x7528;&#x4F8B;&#x5B50;&#x6765;&#x6BD4;&#x8F83;&#x548C;&#x5BF9;&#x6BD4;&#x4E00;&#x4E0B;&#x5355;&#x7EBF;&#x7A0B;&#x3001;&#x591A;&#x7EBF;&#x7A0B;&#x4EE5;&#x53CA;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7F16;&#x7A0B;&#x6A21;&#x578B;&#x3002;&#x4E0B;&#x56FE;&#x5C55;&#x793A;&#x4E86;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x7684;&#x63A8;&#x79FB;&#xFF0C;&#x8FD9;&#x4E09;&#x79CD;&#x6A21;&#x5F0F;&#x4E0B;&#x7A0B;&#x5E8F;&#x6240;&#x505A;&#x7684;&#x5DE5;&#x4F5C;&#x3002;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x6709;3&#x4E2A;&#x4EFB;&#x52A1;&#x9700;&#x8981;&#x5B8C;&#x6210;&#xFF0C;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x90FD;&#x5728;&#x7B49;&#x5F85;I/O&#x64CD;&#x4F5C;&#x65F6;&#x963B;&#x585E;&#x81EA;&#x8EAB;&#x3002;&#x963B;&#x585E;&#x5728;I/O&#x64CD;&#x4F5C;&#x4E0A;&#x6240;&#x82B1;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#x5DF2;&#x7ECF;&#x7528;&#x7070;&#x8272;&#x6846;&#x6807;&#x793A;&#x51FA;&#x6765;&#x4E86;&#x3002; &#x5728;&#x5355;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x6A21;&#x578B;&#x4E2D;&#xFF0C;&#x4EFB;&#x52A1;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x6267;&#x884C;&#x3002;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x4EFB;&#x52A1;&#x56E0;&#x4E3A;I/O&#x800C;&#x963B;&#x585E;&#xFF0C;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x7684;&#x4EFB;&#x52A1;&#x90FD;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230;&#x5B83;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x5B83;&#x4EEC;&#x624D;&#x80FD;&#x4F9D;&#x6B21;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x79CD;&#x660E;&#x786E;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x548C;&#x4E32;&#x884C;&#x5316;&#x5904;&#x7406;&#x7684;&#x884C;&#x4E3A;&#x662F;&#x5F88;&#x5BB9;&#x6613;&#x63A8;&#x65AD;&#x5F97;&#x51FA;&#x7684;&#x3002;&#x5982;&#x679C;&#x4EFB;&#x52A1;&#x4E4B;&#x95F4;&#x5E76;&#x6CA1;&#x6709;&#x4E92;&#x76F8;&#x4F9D;&#x8D56;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x9700;&#x8981;&#x4E92;&#x76F8;&#x7B49;&#x5F85;&#x7684;&#x8BDD;&#x8FD9;&#x5C31;&#x4F7F;&#x5F97;&#x7A0B;&#x5E8F;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x964D;&#x4F4E;&#x4E86;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x3002; &#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x8FD9;3&#x4E2A;&#x4EFB;&#x52A1;&#x5206;&#x522B;&#x5728;&#x72EC;&#x7ACB;&#x7684;&#x7EBF;&#x7A0B;&#x4E2D;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x4E9B;&#x7EBF;&#x7A0B;&#x7531;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6765;&#x7BA1;&#x7406;&#xFF0C;&#x5728;&#x591A;&#x5904;&#x7406;&#x5668;&#x7CFB;&#x7EDF;&#x4E0A;&#x53EF;&#x4EE5;&#x5E76;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x5355;&#x5904;&#x7406;&#x5668;&#x7CFB;&#x7EDF;&#x4E0A;&#x4EA4;&#x9519;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;&#x5F53;&#x67D0;&#x4E2A;&#x7EBF;&#x7A0B;&#x963B;&#x585E;&#x5728;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x540C;&#x65F6;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x5F97;&#x4EE5;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;&#x4E0E;&#x5B8C;&#x6210;&#x7C7B;&#x4F3C;&#x529F;&#x80FD;&#x7684;&#x540C;&#x6B65;&#x7A0B;&#x5E8F;&#x76F8;&#x6BD4;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x66F4;&#x6709;&#x6548;&#x7387;&#xFF0C;&#x4F46;&#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x987B;&#x5199;&#x4EE3;&#x7801;&#x6765;&#x4FDD;&#x62A4;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#xFF0C;&#x9632;&#x6B62;&#x5176;&#x88AB;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x540C;&#x65F6;&#x8BBF;&#x95EE;&#x3002;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#x66F4;&#x52A0;&#x96BE;&#x4EE5;&#x63A8;&#x65AD;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x7C7B;&#x7A0B;&#x5E8F;&#x4E0D;&#x5F97;&#x4E0D;&#x901A;&#x8FC7;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x5982;&#x9501;&#x3001;&#x53EF;&#x91CD;&#x5165;&#x51FD;&#x6570;&#x3001;&#x7EBF;&#x7A0B;&#x5C40;&#x90E8;&#x5B58;&#x50A8;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x673A;&#x5236;&#x6765;&#x5904;&#x7406;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x5B9E;&#x73B0;&#x4E0D;&#x5F53;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x51FA;&#x73B0;&#x5FAE;&#x5999;&#x4E14;&#x4EE4;&#x4EBA;&#x75DB;&#x4E0D;&#x6B32;&#x751F;&#x7684;bug&#x3002; &#x5728;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7248;&#x672C;&#x7684;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;3&#x4E2A;&#x4EFB;&#x52A1;&#x4EA4;&#x9519;&#x6267;&#x884C;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x5728;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x7EBF;&#x7A0B;&#x63A7;&#x5236;&#x4E2D;&#x3002;&#x5F53;&#x5904;&#x7406;I/O&#x6216;&#x8005;&#x5176;&#x4ED6;&#x6602;&#x8D35;&#x7684;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;&#x5230;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5F53;I/O&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x65F6;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;&#x56DE;&#x8C03;&#x63CF;&#x8FF0;&#x4E86;&#x8BE5;&#x5982;&#x4F55;&#x5904;&#x7406;&#x67D0;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x8F6E;&#x8BE2;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x5F53;&#x4E8B;&#x4EF6;&#x5230;&#x6765;&#x65F6;&#x5C06;&#x5B83;&#x4EEC;&#x5206;&#x914D;&#x7ED9;&#x7B49;&#x5F85;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x8BA9;&#x7A0B;&#x5E8F;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x5F97;&#x4EE5;&#x6267;&#x884C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x7528;&#x5230;&#x989D;&#x5916;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x578B;&#x7A0B;&#x5E8F;&#x6BD4;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#x66F4;&#x5BB9;&#x6613;&#x63A8;&#x65AD;&#x51FA;&#x884C;&#x4E3A;&#xFF0C;&#x56E0;&#x4E3A;&#x7A0B;&#x5E8F;&#x5458;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x95EE;&#x9898;&#x3002; &#x5F53;&#x6211;&#x4EEC;&#x9762;&#x5BF9;&#x5982;&#x4E0B;&#x7684;&#x73AF;&#x5883;&#x65F6;&#xFF0C;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x6A21;&#x578B;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x9009;&#x62E9;&#xFF1A; &#x7A0B;&#x5E8F;&#x4E2D;&#x6709;&#x8BB8;&#x591A;&#x4EFB;&#x52A1;&#xFF0C;&#x800C;&#x4E14;&#x2026; &#x4EFB;&#x52A1;&#x4E4B;&#x95F4;&#x9AD8;&#x5EA6;&#x72EC;&#x7ACB;&#xFF08;&#x56E0;&#x6B64;&#x5B83;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x4E92;&#x76F8;&#x901A;&#x4FE1;&#xFF0C;&#x6216;&#x8005;&#x7B49;&#x5F85;&#x5F7C;&#x6B64;&#xFF09;&#x800C;&#x4E14;&#x2026; &#x5728;&#x7B49;&#x5F85;&#x4E8B;&#x4EF6;&#x5230;&#x6765;&#x65F6;&#xFF0C;&#x67D0;&#x4E9B;&#x4EFB;&#x52A1;&#x4F1A;&#x963B;&#x585E;&#x3002; &#x5F53;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9700;&#x8981;&#x5728;&#x4EFB;&#x52A1;&#x95F4;&#x5171;&#x4EAB;&#x53EF;&#x53D8;&#x7684;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x9519;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x4E0D;&#x9700;&#x8981;&#x91C7;&#x7528;&#x540C;&#x6B65;&#x5904;&#x7406;&#x3002; &#x7F51;&#x7EDC;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x901A;&#x5E38;&#x90FD;&#x6709;&#x4E0A;&#x8FF0;&#x8FD9;&#x4E9B;&#x7279;&#x70B9;&#xFF0C;&#x8FD9;&#x4F7F;&#x5F97;&#x5B83;&#x4EEC;&#x80FD;&#x591F;&#x5F88;&#x597D;&#x7684;&#x5951;&#x5408;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7F16;&#x7A0B;&#x6A21;&#x578B;&#x3002; &#x6B64;&#x5904;&#x8981;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x662F;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x6A21;&#x578B;&#x4E2D;&#xFF0C;&#x53EA;&#x8981;&#x4E00;&#x9047;&#x5230;IO&#x5C31;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x4E3B;&#x7A0B;&#x5E8F;&#x5C31;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x5E72;&#x5176;&#x5B83;&#x7684;&#x4E8B;&#x60C5;&#x4E86;&#xFF0C;&#x53EA;&#x5230;io&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x7EE7;&#x7EED;&#x6062;&#x590D;&#x4E4B;&#x524D;&#x4E2D;&#x65AD;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x8FD9;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#x5462;&#xFF1F;&#x54C8;&#x54C8;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x4E00;&#x8D77;&#x63ED;&#x5F00;&#x8FD9;&#x795E;&#x79D8;&#x7684;&#x9762;&#x7EB1;&#x3002;&#x3002;&#x3002;&#x3002; IO&#x591A;&#x8DEF;&#x590D;&#x7528;&#x540C;&#x6B65;IO&#x548C;&#x5F02;&#x6B65;IO&#xFF0C;&#x963B;&#x585E;IO&#x548C;&#x975E;&#x963B;&#x585E;IO&#x5206;&#x522B;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x5230;&#x5E95;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;&#x4E0D;&#x540C;&#x7684;&#x4EBA;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E0B;&#x7ED9;&#x51FA;&#x7684;&#x7B54;&#x6848;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x5148;&#x9650;&#x5B9A;&#x4E00;&#x4E0B;&#x672C;&#x6587;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x3002; &#x672C;&#x6587;&#x8BA8;&#x8BBA;&#x7684;&#x80CC;&#x666F;&#x662F;Linux&#x73AF;&#x5883;&#x4E0B;&#x7684;network IO&#x3002; &#x6982;&#x5FF5;&#x8BF4;&#x660E;&#x5728;&#x8FDB;&#x884C;&#x89E3;&#x91CA;&#x4E4B;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x8BF4;&#x660E;&#x51E0;&#x4E2A;&#x6982;&#x5FF5;&#xFF1A; &#x7528;&#x6237;&#x7A7A;&#x95F4;&#x548C;&#x5185;&#x6838;&#x7A7A;&#x95F4; &#x8FDB;&#x7A0B;&#x5207;&#x6362; &#x8FDB;&#x7A0B;&#x7684;&#x963B;&#x585E; &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26; &#x7F13;&#x5B58; I/O &#x7528;&#x6237;&#x7A7A;&#x95F4;&#x4E0E;&#x5185;&#x6838;&#x7A7A;&#x95F4;&#x73B0;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x90FD;&#x662F;&#x91C7;&#x7528;&#x865A;&#x62DF;&#x5B58;&#x50A8;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;32&#x4F4D;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x800C;&#x8A00;&#xFF0C;&#x5B83;&#x7684;&#x5BFB;&#x5740;&#x7A7A;&#x95F4;&#xFF08;&#x865A;&#x62DF;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF09;&#x4E3A;4G&#xFF08;2&#x7684;32&#x6B21;&#x65B9;&#xFF09;&#x3002;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x6838;&#x5FC3;&#x662F;&#x5185;&#x6838;&#xFF0C;&#x72EC;&#x7ACB;&#x4E8E;&#x666E;&#x901A;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x53D7;&#x4FDD;&#x62A4;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x4E5F;&#x6709;&#x8BBF;&#x95EE;&#x5E95;&#x5C42;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x7684;&#x6240;&#x6709;&#x6743;&#x9650;&#x3002;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x8FDB;&#x7A0B;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x5185;&#x6838;&#xFF08;kernel&#xFF09;&#xFF0C;&#x4FDD;&#x8BC1;&#x5185;&#x6838;&#x7684;&#x5B89;&#x5168;&#xFF0C;&#x64CD;&#x5FC3;&#x7CFB;&#x7EDF;&#x5C06;&#x865A;&#x62DF;&#x7A7A;&#x95F4;&#x5212;&#x5206;&#x4E3A;&#x4E24;&#x90E8;&#x5206;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x4E3A;&#x5185;&#x6838;&#x7A7A;&#x95F4;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x4E3A;&#x7528;&#x6237;&#x7A7A;&#x95F4;&#x3002;&#x9488;&#x5BF9;linux&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x800C;&#x8A00;&#xFF0C;&#x5C06;&#x6700;&#x9AD8;&#x7684;1G&#x5B57;&#x8282;&#xFF08;&#x4ECE;&#x865A;&#x62DF;&#x5730;&#x5740;0xC0000000&#x5230;0xFFFFFFFF&#xFF09;&#xFF0C;&#x4F9B;&#x5185;&#x6838;&#x4F7F;&#x7528;&#xFF0C;&#x79F0;&#x4E3A;&#x5185;&#x6838;&#x7A7A;&#x95F4;&#xFF0C;&#x800C;&#x5C06;&#x8F83;&#x4F4E;&#x7684;3G&#x5B57;&#x8282;&#xFF08;&#x4ECE;&#x865A;&#x62DF;&#x5730;&#x5740;0x00000000&#x5230;0xBFFFFFFF&#xFF09;&#xFF0C;&#x4F9B;&#x5404;&#x4E2A;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#xFF0C;&#x79F0;&#x4E3A;&#x7528;&#x6237;&#x7A7A;&#x95F4;&#x3002; &#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x4E3A;&#x4E86;&#x63A7;&#x5236;&#x8FDB;&#x7A0B;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x5185;&#x6838;&#x5FC5;&#x987B;&#x6709;&#x80FD;&#x529B;&#x6302;&#x8D77;&#x6B63;&#x5728;CPU&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x6062;&#x590D;&#x4EE5;&#x524D;&#x6302;&#x8D77;&#x7684;&#x67D0;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x88AB;&#x79F0;&#x4E3A;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x3002;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x8BF4;&#xFF0C;&#x4EFB;&#x4F55;&#x8FDB;&#x7A0B;&#x90FD;&#x662F;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7684;&#x652F;&#x6301;&#x4E0B;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x662F;&#x4E0E;&#x5185;&#x6838;&#x7D27;&#x5BC6;&#x76F8;&#x5173;&#x7684;&#x3002; &#x4ECE;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x8FD0;&#x884C;&#x8F6C;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x7ECF;&#x8FC7;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x53D8;&#x5316;&#xFF1A; &#x4FDD;&#x5B58;&#x5904;&#x7406;&#x673A;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x5305;&#x62EC;&#x7A0B;&#x5E8F;&#x8BA1;&#x6570;&#x5668;&#x548C;&#x5176;&#x4ED6;&#x5BC4;&#x5B58;&#x5668;&#x3002; &#x66F4;&#x65B0;PCB&#x4FE1;&#x606F;&#x3002; &#x628A;&#x8FDB;&#x7A0B;&#x7684;PCB&#x79FB;&#x5165;&#x76F8;&#x5E94;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x5982;&#x5C31;&#x7EEA;&#x3001;&#x5728;&#x67D0;&#x4E8B;&#x4EF6;&#x963B;&#x585E;&#x7B49;&#x961F;&#x5217;&#x3002; &#x9009;&#x62E9;&#x53E6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x66F4;&#x65B0;&#x5176;PCB&#x3002; &#x66F4;&#x65B0;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3002; &#x6062;&#x590D;&#x5904;&#x7406;&#x673A;&#x4E0A;&#x4E0B;&#x6587;&#x3002; &#x603B;&#x800C;&#x8A00;&#x4E4B;&#x5C31;&#x662F;&#x5F88;&#x8017;&#x8D44;&#x6E90;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#xFF1A;&#x8FDB;&#x7A0B;&#x5207;&#x6362; &#x6CE8;&#xFF1A;&#x8FDB;&#x7A0B;&#x63A7;&#x5236;&#x5757;&#xFF08;Processing Control Block&#xFF09;&#xFF0C;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6838;&#x5FC3;&#x4E2D;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x4E3B;&#x8981;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#x3002;&#x5176;&#x4F5C;&#x7528;&#x662F;&#x4F7F;&#x4E00;&#x4E2A;&#x5728;&#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x73AF;&#x5883;&#x4E0B;&#x4E0D;&#x80FD;&#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#xFF08;&#x542B;&#x6570;&#x636E;&#xFF09;&#xFF0C;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x80FD;&#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x6216;&#x4E0E;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x6216;&#x8005;&#x8BF4;&#xFF0C;OS&#x662F;&#x6839;&#x636E;PCB&#x6765;&#x5BF9;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x3002; PCB&#x901A;&#x5E38;&#x662F;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5360;&#x7528;&#x533A;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x8FDE;&#x7EED;&#x5B58;&#x533A;&#xFF0C;&#x5B83;&#x5B58;&#x653E;&#x7740;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7528;&#x4E8E;&#x63CF;&#x8FF0;&#x8FDB;&#x7A0B;&#x60C5;&#x51B5;&#x53CA;&#x63A7;&#x5236;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x6240;&#x9700;&#x7684;&#x5168;&#x90E8;&#x4FE1;&#x606F; &#x8FDB;&#x7A0B;&#x7684;&#x963B;&#x585E;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x7531;&#x4E8E;&#x671F;&#x5F85;&#x7684;&#x67D0;&#x4E9B;&#x4E8B;&#x4EF6;&#x672A;&#x53D1;&#x751F;&#xFF0C;&#x5982;&#x8BF7;&#x6C42;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x5931;&#x8D25;&#x3001;&#x7B49;&#x5F85;&#x67D0;&#x79CD;&#x64CD;&#x4F5C;&#x7684;&#x5B8C;&#x6210;&#x3001;&#x65B0;&#x6570;&#x636E;&#x5C1A;&#x672A;&#x5230;&#x8FBE;&#x6216;&#x65E0;&#x65B0;&#x5DE5;&#x4F5C;&#x505A;&#x7B49;&#xFF0C;&#x5219;&#x7531;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x963B;&#x585E;&#x539F;&#x8BED;(Block)&#xFF0C;&#x4F7F;&#x81EA;&#x5DF1;&#x7531;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x53D8;&#x4E3A;&#x963B;&#x585E;&#x72B6;&#x6001;&#x3002;&#x53EF;&#x89C1;&#xFF0C;&#x8FDB;&#x7A0B;&#x7684;&#x963B;&#x585E;&#x662F;&#x8FDB;&#x7A0B;&#x81EA;&#x8EAB;&#x7684;&#x4E00;&#x79CD;&#x4E3B;&#x52A8;&#x884C;&#x4E3A;&#xFF0C;&#x4E5F;&#x56E0;&#x6B64;&#x53EA;&#x6709;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x6001;&#x7684;&#x8FDB;&#x7A0B;&#xFF08;&#x83B7;&#x5F97;CPU&#xFF09;&#xFF0C;&#x624D;&#x53EF;&#x80FD;&#x5C06;&#x5176;&#x8F6C;&#x4E3A;&#x963B;&#x585E;&#x72B6;&#x6001;&#x3002;&#x5F53;&#x8FDB;&#x7A0B;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x662F;&#x4E0D;&#x5360;&#x7528;CPU&#x8D44;&#x6E90;&#x7684;&#x3002; &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;fd&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF08;File descriptor&#xFF09;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x79D1;&#x5B66;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x672F;&#x8BED;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x8868;&#x8FF0;&#x6307;&#x5411;&#x6587;&#x4EF6;&#x7684;&#x5F15;&#x7528;&#x7684;&#x62BD;&#x8C61;&#x5316;&#x6982;&#x5FF5;&#x3002; &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5728;&#x5F62;&#x5F0F;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x503C;&#xFF0C;&#x6307;&#x5411;&#x5185;&#x6838;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x6240;&#x7EF4;&#x62A4;&#x7684;&#x8BE5;&#x8FDB;&#x7A0B;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x7684;&#x8BB0;&#x5F55;&#x8868;&#x3002;&#x5F53;&#x7A0B;&#x5E8F;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x5185;&#x6838;&#x5411;&#x8FDB;&#x7A0B;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;&#x5728;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x4E2D;&#xFF0C;&#x4E00;&#x4E9B;&#x6D89;&#x53CA;&#x5E95;&#x5C42;&#x7684;&#x7A0B;&#x5E8F;&#x7F16;&#x5199;&#x5F80;&#x5F80;&#x4F1A;&#x56F4;&#x7ED5;&#x7740;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5C55;&#x5F00;&#x3002;&#x4F46;&#x662F;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x8FD9;&#x4E00;&#x6982;&#x5FF5;&#x5F80;&#x5F80;&#x53EA;&#x9002;&#x7528;&#x4E8E;UNIX&#x3001;Linux&#x8FD9;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002; &#x7F13;&#x5B58; I/O&#x7F13;&#x5B58; I/O &#x53C8;&#x88AB;&#x79F0;&#x4F5C;&#x6807;&#x51C6; I/O&#xFF0C;&#x5927;&#x591A;&#x6570;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x9ED8;&#x8BA4; I/O &#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x7F13;&#x5B58; I/O&#x3002;&#x5728; Linux &#x7684;&#x7F13;&#x5B58; I/O &#x673A;&#x5236;&#x4E2D;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5C06; I/O &#x7684;&#x6570;&#x636E;&#x7F13;&#x5B58;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x9875;&#x7F13;&#x5B58;&#xFF08; page cache &#xFF09;&#x4E2D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6570;&#x636E;&#x4F1A;&#x5148;&#x88AB;&#x62F7;&#x8D1D;&#x5230;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x4F1A;&#x4ECE;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x62F7;&#x8D1D;&#x5230;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x3002; &#x7F13;&#x5B58; I/O &#x7684;&#x7F3A;&#x70B9;&#x6570;&#x636E;&#x5728;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x548C;&#x5185;&#x6838;&#x8FDB;&#x884C;&#x591A;&#x6B21;&#x6570;&#x636E;&#x62F7;&#x8D1D;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x62F7;&#x8D1D;&#x64CD;&#x4F5C;&#x6240;&#x5E26;&#x6765;&#x7684; CPU &#x4EE5;&#x53CA;&#x5185;&#x5B58;&#x5F00;&#x9500;&#x662F;&#x975E;&#x5E38;&#x5927;&#x7684;&#x3002;]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Coroutine</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[操作系统发展史]]></title>
    <url>%2F2018%2F03%2F16%2Fsystem-operating%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8F6C;&#x81EA;&#x7F51;&#x7EDC;&#xFF0C;&#x7B80;&#x8FF0;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x53D1;&#x5C55;&#x53F2;&#x3002; &#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#xFF08;&#x65E0;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF09;1946&#x5E74;&#x7B2C;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x8BDE;&#x751F;&#x2013;20&#x4E16;&#x7EAA;50&#x5E74;&#x4EE3;&#x4E2D;&#x671F;&#xFF0C;&#x8FD8;&#x672A;&#x51FA;&#x73B0;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x5DE5;&#x4F5C;&#x91C7;&#x7528;&#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x3002; &#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x7A0B;&#x5E8F;&#x5458;&#x5C06;&#x5BF9;&#x5E94;&#x4E8E;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x7684;&#x5DF2;&#x7A7F;&#x5B54;&#x7684;&#x7EB8;&#x5E26;&#xFF08;&#x6216;&#x5361;&#x7247;&#xFF09;&#x88C5;&#x5165;&#x8F93;&#x5165;&#x673A;&#xFF0C;&#x7136;&#x540E;&#x542F;&#x52A8;&#x8F93;&#x5165;&#x673A;&#x628A;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x8F93;&#x5165;&#x8BA1;&#x7B97;&#x673A;&#x5185;&#x5B58;&#xFF0C;&#x63A5;&#x7740;&#x901A;&#x8FC7;&#x63A7;&#x5236;&#x53F0;&#x5F00;&#x5173;&#x542F;&#x52A8;&#x7A0B;&#x5E8F;&#x9488;&#x5BF9;&#x6570;&#x636E;&#x8FD0;&#x884C;&#xFF1B;&#x8BA1;&#x7B97;&#x5B8C;&#x6BD5;&#xFF0C;&#x6253;&#x5370;&#x673A;&#x8F93;&#x51FA;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#xFF1B;&#x7528;&#x6237;&#x53D6;&#x8D70;&#x7ED3;&#x679C;&#x5E76;&#x5378;&#x4E0B;&#x7EB8;&#x5E26;&#xFF08;&#x6216;&#x5361;&#x7247;&#xFF09;&#x540E;&#xFF0C;&#x624D;&#x8BA9;&#x4E0B;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x4E0A;&#x673A;&#x3002; &#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x4E24;&#x4E2A;&#x7279;&#x70B9; &#x7528;&#x6237;&#x72EC;&#x5360;&#x5168;&#x673A;&#x3002;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x56E0;&#x8D44;&#x6E90;&#x5DF2;&#x88AB;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x5360;&#x7528;&#x800C;&#x7B49;&#x5F85;&#x7684;&#x73B0;&#x8C61;&#xFF0C;&#x4F46;&#x8D44;&#x6E90;&#x7684;&#x5229;&#x7528;&#x7387;&#x4F4E;&#x3002; CPU &#x7B49;&#x5F85;&#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x3002;CPU&#x7684;&#x5229;&#x7528;&#x4E0D;&#x5145;&#x5206;&#x3002; 20&#x4E16;&#x7EAA;50&#x5E74;&#x4EE3;&#x540E;&#x671F;&#xFF0C;&#x51FA;&#x73B0;&#x4EBA;&#x673A;&#x77DB;&#x76FE;&#xFF1A;&#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x7684;&#x6162;&#x901F;&#x5EA6;&#x548C;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x9AD8;&#x901F;&#x5EA6;&#x4E4B;&#x95F4;&#x5F62;&#x6210;&#x4E86;&#x5C16;&#x9510;&#x77DB;&#x76FE;&#xFF0C;&#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x5DF2;&#x4E25;&#x91CD;&#x635F;&#x5BB3;&#x4E86;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x7684;&#x5229;&#x7528;&#x7387;&#xFF08;&#x4F7F;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x7387;&#x964D;&#x4E3A;&#x767E;&#x5206;&#x4E4B;&#x51E0;&#xFF0C;&#x751A;&#x81F3;&#x66F4;&#x4F4E;&#xFF09;&#xFF0C;&#x4E0D;&#x80FD;&#x5BB9;&#x5FCD;&#x3002;&#x552F;&#x4E00;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;&#x53EA;&#x6709;&#x6446;&#x8131;&#x4EBA;&#x7684;&#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#xFF0C;&#x5B9E;&#x73B0;&#x4F5C;&#x4E1A;&#x7684;&#x81EA;&#x52A8;&#x8FC7;&#x6E21;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x51FA;&#x73B0;&#x4E86;&#x6210;&#x6279;&#x5904;&#x7406;&#x3002; &#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#xFF1A;&#x52A0;&#x8F7D;&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;&#xFF0C;&#x5728;&#x5B83;&#x7684;&#x63A7;&#x5236;&#x4E0B;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5730;&#x3001;&#x6210;&#x6279;&#x5730;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x4F5C;&#x4E1A;&#xFF08;&#x8FD9;&#x4F5C;&#x4E1A;&#x5305;&#x62EC;&#x7A0B;&#x5E8F;&#x3001;&#x6570;&#x636E;&#x548C;&#x547D;&#x4EE4;&#xFF09;&#x3002; &#x8054;&#x673A;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x9996;&#x5148;&#x51FA;&#x73B0;&#x7684;&#x662F;&#x8054;&#x673A;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5373;&#x4F5C;&#x4E1A;&#x7684;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#x7531;CPU&#x6765;&#x5904;&#x7406;&#x3002;&#x4E3B;&#x673A;&#x4E0E;&#x8F93;&#x5165;&#x673A;&#x4E4B;&#x95F4;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x8BBE;&#x5907;&#x2014;&#x2014;&#x78C1;&#x5E26;&#xFF0C;&#x5728;&#x8FD0;&#x884C;&#x4E8E;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x76D1;&#x7763;&#x7A0B;&#x5E8F;&#x7684;&#x81EA;&#x52A8;&#x63A7;&#x5236;&#x4E0B;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x53EF;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#xFF1A;&#x6210;&#x6279;&#x5730;&#x628A;&#x8F93;&#x5165;&#x673A;&#x4E0A;&#x7684;&#x7528;&#x6237;&#x4F5C;&#x4E1A;&#x8BFB;&#x5165;&#x78C1;&#x5E26;&#xFF0C;&#x4F9D;&#x6B21;&#x628A;&#x78C1;&#x5E26;&#x4E0A;&#x7684;&#x7528;&#x6237;&#x4F5C;&#x4E1A;&#x8BFB;&#x5165;&#x4E3B;&#x673A;&#x5185;&#x5B58;&#x5E76;&#x6267;&#x884C;&#x5E76;&#x628A;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x5411;&#x8F93;&#x51FA;&#x673A;&#x8F93;&#x51FA;&#x3002;&#x5B8C;&#x6210;&#x4E86;&#x4E0A;&#x4E00;&#x6279;&#x4F5C;&#x4E1A;&#x540E;&#xFF0C;&#x76D1;&#x7763;&#x7A0B;&#x5E8F;&#x53C8;&#x4ECE;&#x8F93;&#x5165;&#x673A;&#x4E0A;&#x8F93;&#x5165;&#x53E6;&#x4E00;&#x6279;&#x4F5C;&#x4E1A;&#xFF0C;&#x4FDD;&#x5B58;&#x5728;&#x78C1;&#x5E26;&#x4E0A;&#xFF0C;&#x5E76;&#x6309;&#x4E0A;&#x8FF0;&#x6B65;&#x9AA4;&#x91CD;&#x590D;&#x5904;&#x7406;&#x3002; &#x76D1;&#x7763;&#x7A0B;&#x5E8F;&#x4E0D;&#x505C;&#x5730;&#x5904;&#x7406;&#x5404;&#x4E2A;&#x4F5C;&#x4E1A;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x4E86;&#x4F5C;&#x4E1A;&#x5230;&#x4F5C;&#x4E1A;&#x7684;&#x81EA;&#x52A8;&#x8F6C;&#x63A5;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x4F5C;&#x4E1A;&#x5EFA;&#x7ACB;&#x65F6;&#x95F4;&#x548C;&#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x65F6;&#x95F4;&#xFF0C;&#x6709;&#x6548;&#x514B;&#x670D;&#x4E86;&#x4EBA;&#x673A;&#x77DB;&#x76FE;&#xFF0C;&#x63D0;&#x9AD8;&#x4E86;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5229;&#x7528;&#x7387;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5728;&#x4F5C;&#x4E1A;&#x8F93;&#x5165;&#x548C;&#x7ED3;&#x679C;&#x8F93;&#x51FA;&#x65F6;&#xFF0C;&#x4E3B;&#x673A;&#x7684;&#x9AD8;&#x901F;CPU&#x4ECD;&#x5904;&#x4E8E;&#x7A7A;&#x95F2;&#x72B6;&#x6001;&#xFF0C;&#x7B49;&#x5F85;&#x6162;&#x901F;&#x7684;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x5B8C;&#x6210;&#x5DE5;&#x4F5C;&#xFF1A; &#x4E3B;&#x673A;&#x5904;&#x4E8E;&#x201C;&#x5FD9;&#x7B49;&#x201D;&#x72B6;&#x6001;&#x3002; &#x8131;&#x673A;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x4E3A;&#x514B;&#x670D;&#x4E0E;&#x7F13;&#x89E3;&#x9AD8;&#x901F;&#x4E3B;&#x673A;&#x4E0E;&#x6162;&#x901F;&#x5916;&#x8BBE;&#x7684;&#x77DB;&#x76FE;&#xFF0C;&#x63D0;&#x9AD8;CPU&#x7684;&#x5229;&#x7528;&#x7387;&#xFF0C;&#x53C8;&#x5F15;&#x5165;&#x4E86;&#x8131;&#x673A;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5373;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#x8131;&#x79BB;&#x4E3B;&#x673A;&#x63A7;&#x5236;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x663E;&#x8457;&#x7279;&#x5F81;&#x662F;&#xFF1A;&#x589E;&#x52A0;&#x4E00;&#x53F0;&#x4E0D;&#x4E0E;&#x4E3B;&#x673A;&#x76F4;&#x63A5;&#x76F8;&#x8FDE;&#x800C;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x4E0E;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x6253;&#x4EA4;&#x9053;&#x7684;&#x536B;&#x661F;&#x673A;&#x3002; &#x5176;&#x529F;&#x80FD;&#x662F; &#x4ECE;&#x8F93;&#x5165;&#x673A;&#x4E0A;&#x8BFB;&#x53D6;&#x7528;&#x6237;&#x4F5C;&#x4E1A;&#x5E76;&#x653E;&#x5230;&#x8F93;&#x5165;&#x78C1;&#x5E26;&#x4E0A;&#x3002; &#x4ECE;&#x8F93;&#x51FA;&#x78C1;&#x5E26;&#x4E0A;&#x8BFB;&#x53D6;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5E76;&#x4F20;&#x7ED9;&#x8F93;&#x51FA;&#x673A;&#x3002; &#x8FD9;&#x6837;&#xFF0C;&#x4E3B;&#x673A;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x4E0E;&#x6162;&#x901F;&#x7684;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x6253;&#x4EA4;&#x9053;&#xFF0C;&#x800C;&#x662F;&#x4E0E;&#x901F;&#x5EA6;&#x76F8;&#x5BF9;&#x8F83;&#x5FEB;&#x7684;&#x78C1;&#x5E26;&#x673A;&#x53D1;&#x751F;&#x5173;&#x7CFB;&#xFF0C;&#x6709;&#x6548;&#x7F13;&#x89E3;&#x4E86;&#x4E3B;&#x673A;&#x4E0E;&#x8BBE;&#x5907;&#x7684;&#x77DB;&#x76FE;&#x3002;&#x4E3B;&#x673A;&#x4E0E;&#x536B;&#x661F;&#x673A;&#x53EF;&#x5E76;&#x884C;&#x5DE5;&#x4F5C;&#xFF0C;&#x4E8C;&#x8005;&#x5206;&#x5DE5;&#x660E;&#x786E;&#xFF0C;&#x53EF;&#x4EE5;&#x5145;&#x5206;&#x53D1;&#x6325;&#x4E3B;&#x673A;&#x7684;&#x9AD8;&#x901F;&#x8BA1;&#x7B97;&#x80FD;&#x529B;&#x3002; &#x8131;&#x673A;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;:20&#x4E16;&#x7EAA;60&#x5E74;&#x4EE3;&#x5E94;&#x7528;&#x5341;&#x5206;&#x5E7F;&#x6CDB;&#xFF0C;&#x5B83;&#x6781;&#x5927;&#x7F13;&#x89E3;&#x4E86;&#x4EBA;&#x673A;&#x77DB;&#x76FE;&#x53CA;&#x4E3B;&#x673A;&#x4E0E;&#x5916;&#x8BBE;&#x7684;&#x77DB;&#x76FE;&#x3002;IBM-7090/7094&#xFF1A;&#x914D;&#x5907;&#x7684;&#x76D1;&#x7763;&#x7A0B;&#x5E8F;&#x5C31;&#x662F;&#x8131;&#x673A;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x662F;&#x73B0;&#x4EE3;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x539F;&#x578B;&#x3002; &#x4E0D;&#x8DB3;&#xFF1A;&#x6BCF;&#x6B21;&#x4E3B;&#x673A;&#x5185;&#x5B58;&#x4E2D;&#x4EC5;&#x5B58;&#x653E;&#x4E00;&#x9053;&#x4F5C;&#x4E1A;&#xFF0C;&#x6BCF;&#x5F53;&#x5B83;&#x8FD0;&#x884C;&#x671F;&#x95F4;&#x53D1;&#x51FA;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#xFF08;I/O&#xFF09;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x9AD8;&#x901F;&#x7684;CPU&#x4FBF;&#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x4F4E;&#x901F;&#x7684;I/O&#x5B8C;&#x6210;&#x72B6;&#x6001;&#xFF0C;&#x81F4;&#x4F7F;CPU&#x7A7A;&#x95F2;&#x3002; &#x4E3A;&#x6539;&#x5584;CPU&#x7684;&#x5229;&#x7528;&#x7387;&#xFF0C;&#x53C8;&#x5F15;&#x5165;&#x4E86;&#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x7CFB;&#x7EDF;&#x3002; &#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x7CFB;&#x7EDF;&#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x6280;&#x672F;&#x6240;&#x8C13;&#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x6280;&#x672F;&#xFF0C;&#x5C31;&#x662F;&#x6307;&#x5141;&#x8BB8;&#x591A;&#x4E2A;&#x7A0B;&#x5E8F;&#x540C;&#x65F6;&#x8FDB;&#x5165;&#x5185;&#x5B58;&#x5E76;&#x8FD0;&#x884C;&#x3002;&#x5373;&#x540C;&#x65F6;&#x628A;&#x591A;&#x4E2A;&#x7A0B;&#x5E8F;&#x653E;&#x5165;&#x5185;&#x5B58;&#xFF0C;&#x5E76;&#x5141;&#x8BB8;&#x5B83;&#x4EEC;&#x4EA4;&#x66FF;&#x5728;CPU&#x4E2D;&#x8FD0;&#x884C;&#xFF0C;&#x5B83;&#x4EEC;&#x5171;&#x4EAB;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5404;&#x79CD;&#x786C;&#x3001;&#x8F6F;&#x4EF6;&#x8D44;&#x6E90;&#x3002;&#x5F53;&#x4E00;&#x9053;&#x7A0B;&#x5E8F;&#x56E0;I/O&#x8BF7;&#x6C42;&#x800C;&#x6682;&#x505C;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;CPU&#x4FBF;&#x7ACB;&#x5373;&#x8F6C;&#x53BB;&#x8FD0;&#x884C;&#x53E6;&#x4E00;&#x9053;&#x7A0B;&#x5E8F;&#x3002; &#x5355;&#x9053;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x5728;A&#x7A0B;&#x5E8F;&#x8BA1;&#x7B97;&#x65F6;&#xFF0C;I/O&#x7A7A;&#x95F2;&#xFF0C; A&#x7A0B;&#x5E8F;I/O&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;CPU&#x7A7A;&#x95F2;&#xFF08;B&#x7A0B;&#x5E8F;&#x4E5F;&#x662F;&#x540C;&#x6837;&#xFF09;&#xFF1B;&#x5FC5;&#x987B;A&#x5DE5;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;B&#x624D;&#x80FD;&#x8FDB;&#x5165;&#x5185;&#x5B58;&#x4E2D;&#x5F00;&#x59CB;&#x5DE5;&#x4F5C;&#xFF0C;&#x4E24;&#x8005;&#x662F;&#x4E32;&#x884C;&#x7684;&#xFF0C;&#x5168;&#x90E8;&#x5B8C;&#x6210;&#x5171;&#x9700;&#x65F6;&#x95F4;=T1+T2&#x3002; &#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x5C06;A&#x3001;B&#x4E24;&#x9053;&#x7A0B;&#x5E8F;&#x540C;&#x65F6;&#x5B58;&#x653E;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x5B83;&#x4EEC;&#x5728;&#x7CFB;&#x7EDF;&#x7684;&#x63A7;&#x5236;&#x4E0B;&#xFF0C;&#x53EF;&#x76F8;&#x4E92;&#x7A7F;&#x63D2;&#x3001;&#x4EA4;&#x66FF;&#x5730;&#x5728;CPU&#x4E0A;&#x8FD0;&#x884C;&#xFF1A;&#x5F53;A&#x7A0B;&#x5E8F;&#x56E0;&#x8BF7;&#x6C42;I/O&#x64CD;&#x4F5C;&#x800C;&#x653E;&#x5F03;CPU&#x65F6;&#xFF0C;B&#x7A0B;&#x5E8F;&#x5C31;&#x53EF;&#x5360;&#x7528;CPU&#x8FD0;&#x884C;&#xFF0C;&#x8FD9;&#x6837; CPU&#x4E0D;&#x518D;&#x7A7A;&#x95F2;&#xFF0C;&#x800C;&#x6B63;&#x8FDB;&#x884C;A I/O&#x64CD;&#x4F5C;&#x7684;I/O&#x8BBE;&#x5907;&#x4E5F;&#x4E0D;&#x7A7A;&#x95F2;&#xFF0C;&#x663E;&#x7136;&#xFF0C;CPU&#x548C;I/O&#x8BBE;&#x5907;&#x90FD;&#x5904;&#x4E8E;&#x201C;&#x5FD9;&#x201D;&#x72B6;&#x6001;&#xFF0C;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x4E86;&#x8D44;&#x6E90;&#x7684;&#x5229;&#x7528;&#x7387;&#xFF0C;&#x4ECE;&#x800C;&#x4E5F;&#x63D0;&#x9AD8;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x6548;&#x7387;&#xFF0C;A&#x3001;B&#x5168;&#x90E8;&#x5B8C;&#x6210;&#x6240;&#x9700;&#x65F6;&#x95F4;&lt;&lt;T1+T2&#x3002; &#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x6280;&#x672F;&#x4E0D;&#x4EC5;&#x4F7F;CPU&#x5F97;&#x5230;&#x5145;&#x5206;&#x5229;&#x7528;&#xFF0C;&#x540C;&#x65F6;&#x6539;&#x5584;I/O&#x8BBE;&#x5907;&#x548C;&#x5185;&#x5B58;&#x7684;&#x5229;&#x7528;&#x7387;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x9AD8;&#x4E86;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x7387;&#x548C;&#x7CFB;&#x7EDF;&#x541E;&#x5410;&#x91CF;&#xFF08;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x5904;&#x7406;&#x4F5C;&#x4E1A;&#xFF08;&#x7A0B;&#x5E8F;&#xFF09;&#x7684;&#x4E2A;&#x6570;&#xFF09;&#xFF0C;&#x6700;&#x7EC8;&#x63D0;&#x9AD8;&#x4E86;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x6548;&#x7387;&#x3002; &#x5355;&#x5904;&#x7406;&#x673A;&#x7CFB;&#x7EDF;&#x4E2D;&#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x7279;&#x70B9; &#x591A;&#x9053;&#xFF1A;&#x8BA1;&#x7B97;&#x673A;&#x5185;&#x5B58;&#x4E2D;&#x540C;&#x65F6;&#x5B58;&#x653E;&#x51E0;&#x9053;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;&#x7684;&#x7A0B;&#x5E8F;&#xFF1B; &#x5B8F;&#x89C2;&#x4E0A;&#x5E76;&#x884C;&#xFF1A;&#x540C;&#x65F6;&#x8FDB;&#x5165;&#x7CFB;&#x7EDF;&#x7684;&#x51E0;&#x9053;&#x7A0B;&#x5E8F;&#x90FD;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5373;&#x5B83;&#x4EEC;&#x5148;&#x540E;&#x5F00;&#x59CB;&#x4E86;&#x5404;&#x81EA;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x4F46;&#x90FD;&#x672A;&#x8FD0;&#x884C;&#x5B8C;&#x6BD5;&#xFF1B; &#x5FAE;&#x89C2;&#x4E0A;&#x4E32;&#x884C;&#xFF1A;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5404;&#x9053;&#x7A0B;&#x5E8F;&#x8F6E;&#x6D41;&#x5730;&#x7528;CPU&#xFF0C;&#x5E76;&#x4EA4;&#x66FF;&#x8FD0;&#x884C;&#x3002; &#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x7CFB;&#x7EDF;&#x7684;&#x51FA;&#x73B0;&#xFF0C;&#x6807;&#x5FD7;&#x7740;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6E10;&#x8D8B;&#x6210;&#x719F;&#x7684;&#x9636;&#x6BB5;&#xFF0C;&#x5148;&#x540E;&#x51FA;&#x73B0;&#x4E86;&#x4F5C;&#x4E1A;&#x8C03;&#x5EA6;&#x7BA1;&#x7406;&#x3001;&#x5904;&#x7406;&#x673A;&#x7BA1;&#x7406;&#x3001;&#x5B58;&#x50A8;&#x5668;&#x7BA1;&#x7406;&#x3001;&#x5916;&#x90E8;&#x8BBE;&#x5907;&#x7BA1;&#x7406;&#x3001;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x7B49;&#x529F;&#x80FD;&#x3002; &#x591A;&#x9053;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;20&#x4E16;&#x7EAA;60&#x5E74;&#x4EE3;&#x4E2D;&#x671F;&#xFF0C;&#x5728;&#x524D;&#x8FF0;&#x7684;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5F15;&#x5165;&#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x6280;&#x672F;&#x540E;&#x5F62;&#x6210;&#x591A;&#x9053;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#xFF08;&#x7B80;&#x79F0;&#xFF1A;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#xFF09;&#x3002; &#x5B83;&#x6709;&#x4E24;&#x4E2A;&#x7279;&#x70B9; &#x591A;&#x9053;&#xFF1A;&#x7CFB;&#x7EDF;&#x5185;&#x53EF;&#x540C;&#x65F6;&#x5BB9;&#x7EB3;&#x591A;&#x4E2A;&#x4F5C;&#x4E1A;&#x3002;&#x8FD9;&#x4E9B;&#x4F5C;&#x4E1A;&#x653E;&#x5728;&#x5916;&#x5B58;&#x4E2D;&#xFF0C;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x540E;&#x5907;&#x961F;&#x5217;&#xFF0C;&#x7CFB;&#x7EDF;&#x6309;&#x4E00;&#x5B9A;&#x7684;&#x8C03;&#x5EA6;&#x539F;&#x5219;&#x6BCF;&#x6B21;&#x4ECE;&#x540E;&#x5907;&#x4F5C;&#x4E1A;&#x961F;&#x5217;&#x4E2D;&#x9009;&#x53D6;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x4F5C;&#x4E1A;&#x8FDB;&#x5165;&#x5185;&#x5B58;&#x8FD0;&#x884C;&#xFF0C;&#x8FD0;&#x884C;&#x4F5C;&#x4E1A;&#x7ED3;&#x675F;&#x3001;&#x9000;&#x51FA;&#x8FD0;&#x884C;&#x548C;&#x540E;&#x5907;&#x4F5C;&#x4E1A;&#x8FDB;&#x5165;&#x8FD0;&#x884C;&#x5747;&#x7531;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x5B9E;&#x73B0;&#xFF0C;&#x4ECE;&#x800C;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x5F62;&#x6210;&#x4E00;&#x4E2A;&#x81EA;&#x52A8;&#x8F6C;&#x63A5;&#x7684;&#x3001;&#x8FDE;&#x7EED;&#x7684;&#x4F5C;&#x4E1A;&#x6D41;&#x3002; &#x6210;&#x6279;&#xFF1A;&#x5728;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x4E0E;&#x5176;&#x4F5C;&#x4E1A;&#x53D1;&#x751F;&#x4EA4;&#x4E92;&#x4F5C;&#x7528;&#xFF0C;&#x5373;&#xFF1A;&#x4F5C;&#x4E1A;&#x4E00;&#x65E6;&#x8FDB;&#x5165;&#x7CFB;&#x7EDF;&#xFF0C;&#x7528;&#x6237;&#x5C31;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x5E72;&#x9884;&#x5176;&#x4F5C;&#x4E1A;&#x7684;&#x8FD0;&#x884C;&#x3002; &#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x8FFD;&#x6C42;&#x76EE;&#x6807;&#xFF1A;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x7387;&#x548C;&#x7CFB;&#x7EDF;&#x541E;&#x5410;&#x91CF;&#xFF0C;&#x4EE5;&#x53CA;&#x4F5C;&#x4E1A;&#x6D41;&#x7A0B;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x3002; &#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7F3A;&#x70B9;&#xFF1A;&#x4E0D;&#x63D0;&#x4F9B;&#x4EBA;&#x673A;&#x4EA4;&#x4E92;&#x80FD;&#x529B;&#xFF0C;&#x7ED9;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x5E26;&#x6765;&#x4E0D;&#x4FBF;&#x3002;&#x867D;&#x7136;&#x7528;&#x6237;&#x72EC;&#x5360;&#x5168;&#x673A;&#x8D44;&#x6E90;&#xFF0C;&#x5E76;&#x4E14;&#x76F4;&#x63A5;&#x63A7;&#x5236;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x968F;&#x65F6;&#x4E86;&#x89E3;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x60C5;&#x51B5;&#x3002;&#x4F46;&#x8FD9;&#x79CD;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x56E0;&#x72EC;&#x5360;&#x5168;&#x673A;&#x9020;&#x6210;&#x8D44;&#x6E90;&#x6548;&#x7387;&#x6781;&#x4F4E;&#x3002; &#x4E00;&#x79CD;&#x65B0;&#x7684;&#x8FFD;&#x6C42;&#x76EE;&#x6807;&#xFF1A;&#x65E2;&#x80FD;&#x4FDD;&#x8BC1;&#x8BA1;&#x7B97;&#x673A;&#x6548;&#x7387;&#xFF0C;&#x53C8;&#x80FD;&#x65B9;&#x4FBF;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x3002; 20&#x4E16;&#x7EAA;60&#x5E74;&#x4EE3;&#x4E2D;&#x671F;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x6280;&#x672F;&#x548C;&#x8F6F;&#x4EF6;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#x4F7F;&#x8FD9;&#x79CD;&#x8FFD;&#x6C42;&#x6210;&#x4E3A;&#x53EF;&#x80FD;&#x3002; &#x5206;&#x65F6;&#x7CFB;&#x7EDF;&#x7531;&#x4E8E;CPU&#x901F;&#x5EA6;&#x4E0D;&#x65AD;&#x63D0;&#x9AD8;&#x548C;&#x91C7;&#x7528;&#x5206;&#x65F6;&#x6280;&#x672F;&#xFF0C;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x53EF;&#x540C;&#x65F6;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x7EC8;&#x7AEF;&#xFF0C;&#x800C;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x53EF;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x7EC8;&#x7AEF;&#x4E0A;&#x8054;&#x673A;&#x4F7F;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x597D;&#x8C61;&#x81EA;&#x5DF1;&#x72EC;&#x5360;&#x673A;&#x5668;&#x4E00;&#x6837;&#x3002; &#x5206;&#x65F6;&#x6280;&#x672F;&#xFF1A;&#x628A;&#x5904;&#x7406;&#x673A;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x5206;&#x6210;&#x5F88;&#x77ED;&#x7684;&#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x6309;&#x65F6;&#x95F4;&#x7247;&#x8F6E;&#x6D41;&#x628A;&#x5904;&#x7406;&#x673A;&#x5206;&#x914D;&#x7ED9;&#x5404;&#x8054;&#x673A;&#x4F5C;&#x4E1A;&#x4F7F;&#x7528;&#x3002; &#x82E5;&#x67D0;&#x4E2A;&#x4F5C;&#x4E1A;&#x5728;&#x5206;&#x914D;&#x7ED9;&#x5B83;&#x7684;&#x65F6;&#x95F4;&#x7247;&#x5185;&#x4E0D;&#x80FD;&#x5B8C;&#x6210;&#x5176;&#x8BA1;&#x7B97;&#xFF0C;&#x5219;&#x8BE5;&#x4F5C;&#x4E1A;&#x6682;&#x65F6;&#x4E2D;&#x65AD;&#xFF0C;&#x628A;&#x5904;&#x7406;&#x673A;&#x8BA9;&#x7ED9;&#x53E6;&#x4E00;&#x4F5C;&#x4E1A;&#x4F7F;&#x7528;&#xFF0C;&#x7B49;&#x5F85;&#x4E0B;&#x4E00;&#x8F6E;&#x65F6;&#x518D;&#x7EE7;&#x7EED;&#x5176;&#x8FD0;&#x884C;&#x3002;&#x7531;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x901F;&#x5EA6;&#x5F88;&#x5FEB;&#xFF0C;&#x4F5C;&#x4E1A;&#x8FD0;&#x884C;&#x8F6E;&#x8F6C;&#x5F97;&#x5F88;&#x5FEB;&#xFF0C;&#x7ED9;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x5370;&#x8C61;&#x662F;&#xFF0C;&#x597D;&#x8C61;&#x4ED6;&#x72EC;&#x5360;&#x4E86;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x3002;&#x800C;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x81EA;&#x5DF1;&#x7684;&#x7EC8;&#x7AEF;&#x5411;&#x7CFB;&#x7EDF;&#x53D1;&#x51FA;&#x5404;&#x79CD;&#x64CD;&#x4F5C;&#x63A7;&#x5236;&#x547D;&#x4EE4;&#xFF0C;&#x5728;&#x5145;&#x5206;&#x7684;&#x4EBA;&#x673A;&#x4EA4;&#x4E92;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B8C;&#x6210;&#x4F5C;&#x4E1A;&#x7684;&#x8FD0;&#x884C;&#x3002; &#x5177;&#x6709;&#x4E0A;&#x8FF0;&#x7279;&#x5F81;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x79F0;&#x4E3A;&#x5206;&#x65F6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x540C;&#x65F6;&#x8054;&#x673A;&#x4F7F;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x3002; &#x7279;&#x70B9; &#x591A;&#x8DEF;&#x6027;&#x3002;&#x82E5;&#x5E72;&#x4E2A;&#x7528;&#x6237;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x3002;&#x5FAE;&#x89C2;&#x4E0A;&#x770B;&#x662F;&#x5404;&#x7528;&#x6237;&#x8F6E;&#x6D41;&#x4F7F;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#xFF1B;&#x5B8F;&#x89C2;&#x4E0A;&#x770B;&#x662F;&#x5404;&#x7528;&#x6237;&#x5E76;&#x884C;&#x5DE5;&#x4F5C;&#x3002; &#x4EA4;&#x4E92;&#x6027;&#x3002;&#x7528;&#x6237;&#x53EF;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x5BF9;&#x8BF7;&#x6C42;&#x7684;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x5411;&#x7CFB;&#x7EDF;&#x63D0;&#x51FA;&#x65B0;&#x7684;&#x8BF7;&#x6C42;&#x3002;&#x8FD9;&#x79CD;&#x80FD;&#x4F7F;&#x7528;&#x6237;&#x4E0E;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x4EBA;&#x673A;&#x5BF9;&#x8BDD;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#xFF0C;&#x660E;&#x663E;&#x5730;&#x6709;&#x522B;&#x4E8E;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x56E0;&#x800C;&#xFF0C;&#x5206;&#x65F6;&#x7CFB;&#x7EDF;&#x53C8;&#x88AB;&#x79F0;&#x4E3A;&#x4EA4;&#x4E92;&#x5F0F;&#x7CFB;&#x7EDF;&#x3002; &#x72EC;&#x7ACB;&#x6027;&#x3002;&#x7528;&#x6237;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;&#x64CD;&#x4F5C;&#xFF0C;&#x4E92;&#x4E0D;&#x5E72;&#x6270;&#x3002;&#x7CFB;&#x7EDF;&#x4FDD;&#x8BC1;&#x5404;&#x7528;&#x6237;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x7684;&#x5B8C;&#x6574;&#x6027;&#xFF0C;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x76F8;&#x4E92;&#x6DF7;&#x6DC6;&#x6216;&#x7834;&#x574F;&#x73B0;&#x8C61;&#x3002; &#x53CA;&#x65F6;&#x6027;&#x3002;&#x7CFB;&#x7EDF;&#x53EF;&#x5BF9;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#x53CA;&#x65F6;&#x4F5C;&#x51FA;&#x54CD;&#x5E94;&#x3002;&#x5206;&#x65F6;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x7684;&#x4E3B;&#x8981;&#x6307;&#x6807;&#x4E4B;&#x4E00;&#x662F;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF0C;&#x5B83;&#x662F;&#x6307;&#xFF1A;&#x4ECE;&#x7EC8;&#x7AEF;&#x53D1;&#x51FA;&#x547D;&#x4EE4;&#x5230;&#x7CFB;&#x7EDF;&#x4E88;&#x4EE5;&#x5E94;&#x7B54;&#x6240;&#x9700;&#x7684;&#x65F6;&#x95F4;&#x3002; &#x5206;&#x65F6;&#x7CFB;&#x7EDF;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x6807;&#xFF1A;&#x5BF9;&#x7528;&#x6237;&#x54CD;&#x5E94;&#x7684;&#x53CA;&#x65F6;&#x6027;&#xFF0C;&#x5373;&#x4E0D;&#x81F3;&#x4E8E;&#x7528;&#x6237;&#x7B49;&#x5F85;&#x6BCF;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x8FC7;&#x957F;&#x3002; &#x5206;&#x65F6;&#x7CFB;&#x7EDF;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x63A5;&#x7EB3;&#x6570;&#x5341;&#x4E2A;&#x751A;&#x81F3;&#x4E0A;&#x767E;&#x4E2A;&#x7528;&#x6237;&#xFF0C;&#x7531;&#x4E8E;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x6709;&#x9650;&#xFF0C;&#x5F80;&#x5F80;&#x91C7;&#x7528;&#x5BF9;&#x6362;&#xFF08;&#x53C8;&#x79F0;&#x4EA4;&#x6362;&#xFF09;&#x65B9;&#x5F0F;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x6CD5;&#x3002;&#x5373;&#x5C06;&#x672A;&#x201C;&#x8F6E;&#x5230;&#x201D;&#x7684;&#x4F5C;&#x4E1A;&#x653E;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x4E00;&#x65E6;&#x201C;&#x8F6E;&#x5230;&#x201D;&#xFF0C;&#x518D;&#x5C06;&#x5176;&#x8C03;&#x5165;&#x5185;&#x5B58;&#xFF1B;&#x800C;&#x65F6;&#x95F4;&#x7247;&#x7528;&#x5B8C;&#x540E;&#xFF0C;&#x53C8;&#x5C06;&#x4F5C;&#x4E1A;&#x5B58;&#x56DE;&#x78C1;&#x76D8;&#xFF08;&#x4FD7;&#x79F0;&#x201C;&#x6EDA;&#x8FDB;&#x201D;&#x3001;&#x201C;&#x6EDA;&#x51FA;&#x201C;&#x6CD5;&#xFF09;&#xFF0C;&#x4F7F;&#x540C;&#x4E00;&#x5B58;&#x50A8;&#x533A;&#x57DF;&#x8F6E;&#x6D41;&#x4E3A;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x670D;&#x52A1;&#x3002; &#x591A;&#x7528;&#x6237;&#x5206;&#x65F6;&#x7CFB;&#x7EDF;&#x662F;&#x5F53;&#x4ECA;&#x8BA1;&#x7B97;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#x6700;&#x666E;&#x904D;&#x4F7F;&#x7528;&#x7684;&#x4E00;&#x7C7B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002; &#x5B9E;&#x65F6;&#x7CFB;&#x7EDF;&#x867D;&#x7136;&#x591A;&#x9053;&#x6279;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x548C;&#x5206;&#x65F6;&#x7CFB;&#x7EDF;&#x80FD;&#x83B7;&#x5F97;&#x8F83;&#x4EE4;&#x4EBA;&#x6EE1;&#x610F;&#x7684;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x7387;&#x548C;&#x7CFB;&#x7EDF;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF0C;&#x4F46;&#x5374;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x5B9E;&#x65F6;&#x63A7;&#x5236;&#x4E0E;&#x5B9E;&#x65F6;&#x4FE1;&#x606F;&#x5904;&#x7406;&#x4E24;&#x4E2A;&#x5E94;&#x7528;&#x9886;&#x57DF;&#x7684;&#x9700;&#x6C42;&#x3002;&#x4E8E;&#x662F;&#x5C31;&#x4EA7;&#x751F;&#x4E86;&#x5B9E;&#x65F6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5373;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x53CA;&#x65F6;&#x54CD;&#x5E94;&#x968F;&#x673A;&#x53D1;&#x751F;&#x7684;&#x5916;&#x90E8;&#x4E8B;&#x4EF6;&#xFF0C;&#x5E76;&#x5728;&#x4E25;&#x683C;&#x7684;&#x65F6;&#x95F4;&#x8303;&#x56F4;&#x5185;&#x5B8C;&#x6210;&#x5BF9;&#x8BE5;&#x4E8B;&#x4EF6;&#x7684;&#x5904;&#x7406;&#x3002;&#x5B9E;&#x65F6;&#x7CFB;&#x7EDF;&#x5728;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#x5E38;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x63A7;&#x5236;&#x8BBE;&#x5907;&#x6765;&#x4F7F;&#x7528;&#x3002; &#x5B9E;&#x65F6;&#x7CFB;&#x7EDF;&#x53EF;&#x5206;&#x6210;&#x4E24;&#x7C7B; &#x5B9E;&#x65F6;&#x63A7;&#x5236;&#x7CFB;&#x7EDF;&#x3002;&#x5F53;&#x7528;&#x4E8E;&#x98DE;&#x673A;&#x98DE;&#x884C;&#x3001;&#x5BFC;&#x5F39;&#x53D1;&#x5C04;&#x7B49;&#x7684;&#x81EA;&#x52A8;&#x63A7;&#x5236;&#x65F6;&#xFF0C;&#x8981;&#x6C42;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x5C3D;&#x5FEB;&#x5904;&#x7406;&#x6D4B;&#x91CF;&#x7CFB;&#x7EDF;&#x6D4B;&#x5F97;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53CA;&#x65F6;&#x5730;&#x5BF9;&#x98DE;&#x673A;&#x6216;&#x5BFC;&#x5F39;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#xFF0C;&#x6216;&#x5C06;&#x6709;&#x5173;&#x4FE1;&#x606F;&#x901A;&#x8FC7;&#x663E;&#x793A;&#x7EC8;&#x7AEF;&#x63D0;&#x4F9B;&#x7ED9;&#x51B3;&#x7B56;&#x4EBA;&#x5458;&#x3002;&#x5F53;&#x7528;&#x4E8E;&#x8F67;&#x94A2;&#x3001;&#x77F3;&#x5316;&#x7B49;&#x5DE5;&#x4E1A;&#x751F;&#x4EA7;&#x8FC7;&#x7A0B;&#x63A7;&#x5236;&#x65F6;&#xFF0C;&#x4E5F;&#x8981;&#x6C42;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x53CA;&#x65F6;&#x5904;&#x7406;&#x7531;&#x5404;&#x7C7B;&#x4F20;&#x611F;&#x5668;&#x9001;&#x6765;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x63A7;&#x5236;&#x76F8;&#x5E94;&#x7684;&#x6267;&#x884C;&#x673A;&#x6784;&#x3002; &#x5B9E;&#x65F6;&#x4FE1;&#x606F;&#x5904;&#x7406;&#x7CFB;&#x7EDF;&#x3002;&#x5F53;&#x7528;&#x4E8E;&#x9884;&#x5B9A;&#x98DE;&#x673A;&#x7968;&#x3001;&#x67E5;&#x8BE2;&#x6709;&#x5173;&#x822A;&#x73ED;&#x3001;&#x822A;&#x7EBF;&#x3001;&#x7968;&#x4EF7;&#x7B49;&#x4E8B;&#x5B9C;&#x65F6;&#xFF0C;&#x6216;&#x5F53;&#x7528;&#x4E8E;&#x94F6;&#x884C;&#x7CFB;&#x7EDF;&#x3001;&#x60C5;&#x62A5;&#x68C0;&#x7D22;&#x7CFB;&#x7EDF;&#x65F6;&#xFF0C;&#x90FD;&#x8981;&#x6C42;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x5BF9;&#x7EC8;&#x7AEF;&#x8BBE;&#x5907;&#x53D1;&#x6765;&#x7684;&#x670D;&#x52A1;&#x8BF7;&#x6C42;&#x53CA;&#x65F6;&#x4E88;&#x4EE5;&#x6B63;&#x786E;&#x7684;&#x56DE;&#x7B54;&#x3002;&#x6B64;&#x7C7B;&#x5BF9;&#x54CD;&#x5E94;&#x53CA;&#x65F6;&#x6027;&#x7684;&#x8981;&#x6C42;&#x7A0D;&#x5F31;&#x4E8E;&#x7B2C;&#x4E00;&#x7C7B;&#x3002; &#x5B9E;&#x65F6;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4E3B;&#x8981;&#x7279;&#x70B9; &#x53CA;&#x65F6;&#x54CD;&#x5E94;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x4FE1;&#x606F;&#x63A5;&#x6536;&#x3001;&#x5206;&#x6790;&#x5904;&#x7406;&#x548C;&#x53D1;&#x9001;&#x7684;&#x8FC7;&#x7A0B;&#x5FC5;&#x987B;&#x5728;&#x4E25;&#x683C;&#x7684;&#x65F6;&#x95F4;&#x9650;&#x5236;&#x5185;&#x5B8C;&#x6210;&#x3002; &#x9AD8;&#x53EF;&#x9760;&#x6027;&#x3002;&#x9700;&#x91C7;&#x53D6;&#x5197;&#x4F59;&#x63AA;&#x65BD;&#xFF0C;&#x53CC;&#x673A;&#x7CFB;&#x7EDF;&#x524D;&#x540E;&#x53F0;&#x5DE5;&#x4F5C;&#xFF0C;&#x4E5F;&#x5305;&#x62EC;&#x5FC5;&#x8981;&#x7684;&#x4FDD;&#x5BC6;&#x63AA;&#x65BD;&#x7B49;&#x3002; &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x53D1;&#x5C55;&#x56FE;&#x8C31;]]></content>
      <categories>
        <category>system</category>
      </categories>
      <tags>
        <tag>system</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Restful API设计规范]]></title>
    <url>%2F2018%2F03%2F09%2Frestfulapi%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x672C;&#x6587;&#x7AE0;&#x539F;&#x8457;http://www.ruanyifeng.com/blog/2011/09/restful.htmlhttp://www.ruanyifeng.com/blog/2014/05/restful_api.html &#x7406;&#x89E3;RESTful&#x67B6;&#x6784;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x4EBA;&#x5F00;&#x59CB;&#x610F;&#x8BC6;&#x5230;&#xFF0C;&#x7F51;&#x7AD9;&#x5373;&#x8F6F;&#x4EF6;&#xFF0C;&#x800C;&#x4E14;&#x662F;&#x4E00;&#x79CD;&#x65B0;&#x578B;&#x7684;&#x8F6F;&#x4EF6;&#x3002; &#x8FD9;&#x79CD;&#x201D;&#x4E92;&#x8054;&#x7F51;&#x8F6F;&#x4EF6;&#x201D;&#x91C7;&#x7528;&#x5BA2;&#x6237;&#x7AEF;/&#x670D;&#x52A1;&#x5668;&#x6A21;&#x5F0F;&#xFF0C;&#x5EFA;&#x7ACB;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x4F53;&#x7CFB;&#x4E0A;&#xFF0C;&#x901A;&#x8FC7;&#x4E92;&#x8054;&#x7F51;&#x901A;&#x4FE1;&#xFF0C;&#x5177;&#x6709;&#x9AD8;&#x5EF6;&#x65F6;&#xFF08;high latency&#xFF09;&#x3001;&#x9AD8;&#x5E76;&#x53D1;&#x7B49;&#x7279;&#x70B9;&#x3002; &#x7F51;&#x7AD9;&#x5F00;&#x53D1;&#xFF0C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x4F46;&#x662F;&#x4F20;&#x7EDF;&#x4E0A;&#xFF0C;&#x8F6F;&#x4EF6;&#x548C;&#x7F51;&#x7EDC;&#x662F;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x9886;&#x57DF;&#xFF0C;&#x5F88;&#x5C11;&#x6709;&#x4EA4;&#x96C6;&#xFF1B;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x4E3B;&#x8981;&#x9488;&#x5BF9;&#x5355;&#x673A;&#x73AF;&#x5883;&#xFF0C;&#x7F51;&#x7EDC;&#x5219;&#x4E3B;&#x8981;&#x7814;&#x7A76;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x3002;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x5174;&#x8D77;&#xFF0C;&#x4F7F;&#x5F97;&#x8FD9;&#x4E24;&#x4E2A;&#x9886;&#x57DF;&#x5F00;&#x59CB;&#x878D;&#x5408;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x8003;&#x8651;&#xFF0C;&#x5982;&#x4F55;&#x5F00;&#x53D1;&#x5728;&#x4E92;&#x8054;&#x7F51;&#x73AF;&#x5883;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x8F6F;&#x4EF6;&#x3002; RESTful&#x67B6;&#x6784;&#xFF0C;&#x5C31;&#x662F;&#x76EE;&#x524D;&#x6700;&#x6D41;&#x884C;&#x7684;&#x4E00;&#x79CD;&#x4E92;&#x8054;&#x7F51;&#x8F6F;&#x4EF6;&#x67B6;&#x6784;&#x3002;&#x5B83;&#x7ED3;&#x6784;&#x6E05;&#x6670;&#x3001;&#x7B26;&#x5408;&#x6807;&#x51C6;&#x3001;&#x6613;&#x4E8E;&#x7406;&#x89E3;&#x3001;&#x6269;&#x5C55;&#x65B9;&#x4FBF;&#xFF0C;&#x6240;&#x4EE5;&#x6B63;&#x5F97;&#x5230;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7F51;&#x7AD9;&#x7684;&#x91C7;&#x7528;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5230;&#x5E95;&#x4EC0;&#x4E48;&#x662F;RESTful&#x67B6;&#x6784;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5BB9;&#x6613;&#x8BF4;&#x6E05;&#x695A;&#x7684;&#x95EE;&#x9898;&#x3002;&#x4E0B;&#x9762;&#xFF0C;&#x6211;&#x5C31;&#x8C08;&#x8C08;&#x6211;&#x7406;&#x89E3;&#x7684;RESTful&#x67B6;&#x6784;&#x3002; &#x8D77;&#x6E90;REST&#x8FD9;&#x4E2A;&#x8BCD;&#xFF0C;&#x662F;Roy Thomas Fielding&#x5728;&#x4ED6;2000&#x5E74;&#x7684;&#x535A;&#x58EB;&#x8BBA;&#x6587;&#x4E2D;&#x63D0;&#x51FA;&#x7684;&#x3002; Fielding&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x4EBA;&#xFF0C;&#x4ED6;&#x662F;HTTP&#x534F;&#x8BAE;&#xFF08;1.0&#x7248;&#x548C;1.1&#x7248;&#xFF09;&#x7684;&#x4E3B;&#x8981;&#x8BBE;&#x8BA1;&#x8005;&#x3001;Apache&#x670D;&#x52A1;&#x5668;&#x8F6F;&#x4EF6;&#x7684;&#x4F5C;&#x8005;&#x4E4B;&#x4E00;&#x3001;Apache&#x57FA;&#x91D1;&#x4F1A;&#x7684;&#x7B2C;&#x4E00;&#x4EFB;&#x4E3B;&#x5E2D;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x4ED6;&#x7684;&#x8FD9;&#x7BC7;&#x8BBA;&#x6587;&#x4E00;&#x7ECF;&#x53D1;&#x8868;&#xFF0C;&#x5C31;&#x5F15;&#x8D77;&#x4E86;&#x5173;&#x6CE8;&#xFF0C;&#x5E76;&#x4E14;&#x7ACB;&#x5373;&#x5BF9;&#x4E92;&#x8054;&#x7F51;&#x5F00;&#x53D1;&#x4EA7;&#x751F;&#x4E86;&#x6DF1;&#x8FDC;&#x7684;&#x5F71;&#x54CD;&#x3002; &#x4ED6;&#x8FD9;&#x6837;&#x4ECB;&#x7ECD;&#x8BBA;&#x6587;&#x7684;&#x5199;&#x4F5C;&#x76EE;&#x7684;&#xFF1A; 123&quot;&#x672C;&#x6587;&#x7814;&#x7A76;&#x8BA1;&#x7B97;&#x673A;&#x79D1;&#x5B66;&#x4E24;&#x5927;&#x524D;&#x6CBF;----&#x8F6F;&#x4EF6;&#x548C;&#x7F51;&#x7EDC;----&#x7684;&#x4EA4;&#x53C9;&#x70B9;&#x3002;&#x957F;&#x671F;&#x4EE5;&#x6765;&#xFF0C;&#x8F6F;&#x4EF6;&#x7814;&#x7A76;&#x4E3B;&#x8981;&#x5173;&#x6CE8;&#x8F6F;&#x4EF6;&#x8BBE;&#x8BA1;&#x7684;&#x5206;&#x7C7B;&#x3001;&#x8BBE;&#x8BA1;&#x65B9;&#x6CD5;&#x7684;&#x6F14;&#x5316;&#xFF0C;&#x5F88;&#x5C11;&#x5BA2;&#x89C2;&#x5730;&#x8BC4;&#x4F30;&#x4E0D;&#x540C;&#x7684;&#x8BBE;&#x8BA1;&#x9009;&#x62E9;&#x5BF9;&#x7CFB;&#x7EDF;&#x884C;&#x4E3A;&#x7684;&#x5F71;&#x54CD;&#x3002;&#x800C;&#x76F8;&#x53CD;&#x5730;&#xFF0C;&#x7F51;&#x7EDC;&#x7814;&#x7A76;&#x4E3B;&#x8981;&#x5173;&#x6CE8;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;&#x884C;&#x4E3A;&#x7684;&#x7EC6;&#x8282;&#x3001;&#x5982;&#x4F55;&#x6539;&#x8FDB;&#x7279;&#x5B9A;&#x901A;&#x4FE1;&#x673A;&#x5236;&#x7684;&#x8868;&#x73B0;&#xFF0C;&#x5E38;&#x5E38;&#x5FFD;&#x89C6;&#x4E86;&#x4E00;&#x4E2A;&#x4E8B;&#x5B9E;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6539;&#x53D8;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4E92;&#x52A8;&#x98CE;&#x683C;&#x6BD4;&#x6539;&#x53D8;&#x4E92;&#x52A8;&#x534F;&#x8BAE;&#xFF0C;&#x5BF9;&#x6574;&#x4F53;&#x8868;&#x73B0;&#x6709;&#x66F4;&#x5927;&#x7684;&#x5F71;&#x54CD;&#x3002;&#x6211;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x5199;&#x4F5C;&#x76EE;&#x7684;&#xFF0C;&#x5C31;&#x662F;&#x60F3;&#x5728;&#x7B26;&#x5408;&#x67B6;&#x6784;&#x539F;&#x7406;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x7406;&#x89E3;&#x548C;&#x8BC4;&#x4F30;&#x4EE5;&#x7F51;&#x7EDC;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x5E94;&#x7528;&#x8F6F;&#x4EF6;&#x7684;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#xFF0C;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x5F3A;&#x3001;&#x6027;&#x80FD;&#x597D;&#x3001;&#x9002;&#x5B9C;&#x901A;&#x4FE1;&#x7684;&#x67B6;&#x6784;&#x3002;&quot;(This dissertation explores a junction on the frontiers of two research disciplines in computer science: software and networking. Software research has long been concerned with the categorization of software designs and the development of design methodologies, but has rarely been able to objectively evaluate the impact of various design choices on system behavior. Networking research, in contrast, is focused on the details of generic communication behavior between systems and improving the performance of particular communication techniques, often ignoring the fact that changing the interaction style of an application can have more impact on performance than the communication protocols used for that interaction. My work is motivated by the desire to understand and evaluate the architectural design of network-based application software through principled use of architectural constraints, thereby obtaining the functional, performance, and social properties desired of an architecture. ) &#x540D;&#x79F0;Fielding&#x5C06;&#x4ED6;&#x5BF9;&#x4E92;&#x8054;&#x7F51;&#x8F6F;&#x4EF6;&#x7684;&#x67B6;&#x6784;&#x539F;&#x5219;&#xFF0C;&#x5B9A;&#x540D;&#x4E3A;REST&#xFF0C;&#x5373;Representational State Transfer&#x7684;&#x7F29;&#x5199;&#x3002;&#x6211;&#x5BF9;&#x8FD9;&#x4E2A;&#x8BCD;&#x7EC4;&#x7684;&#x7FFB;&#x8BD1;&#x662F;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x72B6;&#x6001;&#x8F6C;&#x5316;&#x201D;&#x3002; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x67B6;&#x6784;&#x7B26;&#x5408;REST&#x539F;&#x5219;&#xFF0C;&#x5C31;&#x79F0;&#x5B83;&#x4E3A;RESTful&#x67B6;&#x6784;&#x3002; &#x8981;&#x7406;&#x89E3;RESTful&#x67B6;&#x6784;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x53BB;&#x7406;&#x89E3;Representational State Transfer&#x8FD9;&#x4E2A;&#x8BCD;&#x7EC4;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#xFF0C;&#x5B83;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x8BCD;&#x4EE3;&#x8868;&#x4E86;&#x4EC0;&#x4E48;&#x6DB5;&#x4E49;&#x3002;&#x5982;&#x679C;&#x4F60;&#x628A;&#x8FD9;&#x4E2A;&#x540D;&#x79F0;&#x641E;&#x61C2;&#x4E86;&#xFF0C;&#x4E5F;&#x5C31;&#x4E0D;&#x96BE;&#x4F53;&#x4F1A;REST&#x662F;&#x4E00;&#x79CD;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x8BBE;&#x8BA1;&#x3002; &#x8D44;&#x6E90;&#xFF08;Resources&#xFF09;REST&#x7684;&#x540D;&#x79F0;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x72B6;&#x6001;&#x8F6C;&#x5316;&#x201D;&#x4E2D;&#xFF0C;&#x7701;&#x7565;&#x4E86;&#x4E3B;&#x8BED;&#x3002;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x201D;&#x5176;&#x5B9E;&#x6307;&#x7684;&#x662F;&#x201D;&#x8D44;&#x6E90;&#x201D;&#xFF08;Resources&#xFF09;&#x7684;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x201D;&#x3002; &#x6240;&#x8C13;&#x201D;&#x8D44;&#x6E90;&#x201D;&#xFF0C;&#x5C31;&#x662F;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x662F;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x4FE1;&#x606F;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x6BB5;&#x6587;&#x672C;&#x3001;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#x3001;&#x4E00;&#x9996;&#x6B4C;&#x66F2;&#x3001;&#x4E00;&#x79CD;&#x670D;&#x52A1;&#xFF0C;&#x603B;&#x4E4B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x5728;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x4E2A;URI&#xFF08;&#x7EDF;&#x4E00;&#x8D44;&#x6E90;&#x5B9A;&#x4F4D;&#x7B26;&#xFF09;&#x6307;&#x5411;&#x5B83;&#xFF0C;&#x6BCF;&#x79CD;&#x8D44;&#x6E90;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;URI&#x3002;&#x8981;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;&#x8D44;&#x6E90;&#xFF0C;&#x8BBF;&#x95EE;&#x5B83;&#x7684;URI&#x5C31;&#x53EF;&#x4EE5;&#xFF0C;&#x56E0;&#x6B64;URI&#x5C31;&#x6210;&#x4E86;&#x6BCF;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x5730;&#x5740;&#x6216;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;&#x8BC6;&#x522B;&#x7B26;&#x3002; &#x6240;&#x8C13;&#x201D;&#x4E0A;&#x7F51;&#x201D;&#xFF0C;&#x5C31;&#x662F;&#x4E0E;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x201D;&#x8D44;&#x6E90;&#x201D;&#x4E92;&#x52A8;&#xFF0C;&#x8C03;&#x7528;&#x5B83;&#x7684;URI&#x3002; &#x8868;&#x73B0;&#x5C42;&#xFF08;Representation&#xFF09;&#x201C;&#x8D44;&#x6E90;&#x201D;&#x662F;&#x4E00;&#x79CD;&#x4FE1;&#x606F;&#x5B9E;&#x4F53;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x79CD;&#x5916;&#x5728;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x3002;&#x6211;&#x4EEC;&#x628A;&#x201D;&#x8D44;&#x6E90;&#x201D;&#x5177;&#x4F53;&#x5448;&#x73B0;&#x51FA;&#x6765;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x53EB;&#x505A;&#x5B83;&#x7684;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x201D;&#xFF08;Representation&#xFF09;&#x3002; &#x6BD4;&#x5982;&#xFF0C;&#x6587;&#x672C;&#x53EF;&#x4EE5;&#x7528;txt&#x683C;&#x5F0F;&#x8868;&#x73B0;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;HTML&#x683C;&#x5F0F;&#x3001;XML&#x683C;&#x5F0F;&#x3001;JSON&#x683C;&#x5F0F;&#x8868;&#x73B0;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x683C;&#x5F0F;&#xFF1B;&#x56FE;&#x7247;&#x53EF;&#x4EE5;&#x7528;JPG&#x683C;&#x5F0F;&#x8868;&#x73B0;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;PNG&#x683C;&#x5F0F;&#x8868;&#x73B0;&#x3002; URI&#x53EA;&#x4EE3;&#x8868;&#x8D44;&#x6E90;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x4E0D;&#x4EE3;&#x8868;&#x5B83;&#x7684;&#x5F62;&#x5F0F;&#x3002;&#x4E25;&#x683C;&#x5730;&#x8BF4;&#xFF0C;&#x6709;&#x4E9B;&#x7F51;&#x5740;&#x6700;&#x540E;&#x7684;&#x201D;.html&#x201D;&#x540E;&#x7F00;&#x540D;&#x662F;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x540E;&#x7F00;&#x540D;&#x8868;&#x793A;&#x683C;&#x5F0F;&#xFF0C;&#x5C5E;&#x4E8E;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x201D;&#x8303;&#x7574;&#xFF0C;&#x800C;URI&#x5E94;&#x8BE5;&#x53EA;&#x4EE3;&#x8868;&#x201D;&#x8D44;&#x6E90;&#x201D;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x5B83;&#x7684;&#x5177;&#x4F53;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#xFF0C;&#x5E94;&#x8BE5;&#x5728;HTTP&#x8BF7;&#x6C42;&#x7684;&#x5934;&#x4FE1;&#x606F;&#x4E2D;&#x7528;Accept&#x548C;Content-Type&#x5B57;&#x6BB5;&#x6307;&#x5B9A;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;&#x624D;&#x662F;&#x5BF9;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x201D;&#x7684;&#x63CF;&#x8FF0;&#x3002; &#x72B6;&#x6001;&#x8F6C;&#x5316;&#xFF08;State Transfer&#xFF09;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#xFF0C;&#x5C31;&#x4EE3;&#x8868;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4E00;&#x4E2A;&#x4E92;&#x52A8;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x52BF;&#x5FC5;&#x6D89;&#x53CA;&#x5230;&#x6570;&#x636E;&#x548C;&#x72B6;&#x6001;&#x7684;&#x53D8;&#x5316;&#x3002; &#x4E92;&#x8054;&#x7F51;&#x901A;&#x4FE1;&#x534F;&#x8BAE;HTTP&#x534F;&#x8BAE;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x65E0;&#x72B6;&#x6001;&#x534F;&#x8BAE;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;&#x90FD;&#x4FDD;&#x5B58;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x60F3;&#x8981;&#x64CD;&#x4F5C;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x67D0;&#x79CD;&#x624B;&#x6BB5;&#xFF0C;&#x8BA9;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53D1;&#x751F;&#x201D;&#x72B6;&#x6001;&#x8F6C;&#x5316;&#x201D;&#xFF08;State Transfer&#xFF09;&#x3002;&#x800C;&#x8FD9;&#x79CD;&#x8F6C;&#x5316;&#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x8868;&#x73B0;&#x5C42;&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x662F;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x72B6;&#x6001;&#x8F6C;&#x5316;&#x201D;&#x3002; &#x5BA2;&#x6237;&#x7AEF;&#x7528;&#x5230;&#x7684;&#x624B;&#x6BB5;&#xFF0C;&#x53EA;&#x80FD;&#x662F;HTTP&#x534F;&#x8BAE;&#x3002;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;HTTP&#x534F;&#x8BAE;&#x91CC;&#x9762;&#xFF0C;&#x56DB;&#x4E2A;&#x8868;&#x793A;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x7684;&#x52A8;&#x8BCD;&#xFF1A;GET&#x3001;POST&#x3001;PUT&#x3001;DELETE&#x3002;&#x5B83;&#x4EEC;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x56DB;&#x79CD;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#xFF1A;GET&#x7528;&#x6765;&#x83B7;&#x53D6;&#x8D44;&#x6E90;&#xFF0C;POST&#x7528;&#x6765;&#x65B0;&#x5EFA;&#x8D44;&#x6E90;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x66F4;&#x65B0;&#x8D44;&#x6E90;&#xFF09;&#xFF0C;PUT&#x7528;&#x6765;&#x66F4;&#x65B0;&#x8D44;&#x6E90;&#xFF0C;DELETE&#x7528;&#x6765;&#x5220;&#x9664;&#x8D44;&#x6E90;&#x3002; &#x7EFC;&#x8FF0;&#x7EFC;&#x5408;&#x4E0A;&#x9762;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x6211;&#x4EEC;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#x4EC0;&#x4E48;&#x662F;RESTful&#x67B6;&#x6784;&#xFF1A; &#x6BCF;&#x4E00;&#x4E2A;URI&#x4EE3;&#x8868;&#x4E00;&#x79CD;&#x8D44;&#x6E90; &#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#xFF0C;&#x4F20;&#x9012;&#x8FD9;&#x79CD;&#x8D44;&#x6E90;&#x7684;&#x67D0;&#x79CD;&#x8868;&#x73B0;&#x5C42; &#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x8FC7;&#x56DB;&#x4E2A;HTTP&#x52A8;&#x8BCD;&#xFF0C;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5B9E;&#x73B0;&#x201D;&#x8868;&#x73B0;&#x5C42;&#x72B6;&#x6001;&#x8F6C;&#x5316;&#x201D;&#x3002; &#x8BEF;&#x533A;RESTful&#x67B6;&#x6784;&#x6709;&#x4E00;&#x4E9B;&#x5178;&#x578B;&#x7684;&#x8BBE;&#x8BA1;&#x8BEF;&#x533A;&#x3002; &#x6700;&#x5E38;&#x89C1;&#x7684;&#x4E00;&#x79CD;&#x8BBE;&#x8BA1;&#x9519;&#x8BEF;&#xFF0C;&#x5C31;&#x662F;URI&#x5305;&#x542B;&#x52A8;&#x8BCD;&#x3002;&#x56E0;&#x4E3A;&#x201D;&#x8D44;&#x6E90;&#x201D;&#x8868;&#x793A;&#x4E00;&#x79CD;&#x5B9E;&#x4F53;&#xFF0C;&#x6240;&#x4EE5;&#x5E94;&#x8BE5;&#x662F;&#x540D;&#x8BCD;&#xFF0C;URI&#x4E0D;&#x5E94;&#x8BE5;&#x6709;&#x52A8;&#x8BCD;&#xFF0C;&#x52A8;&#x8BCD;&#x5E94;&#x8BE5;&#x653E;&#x5728;HTTP&#x534F;&#x8BAE;&#x4E2D;&#x3002; &#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x67D0;&#x4E2A;URI&#x662F;/posts/show/1&#xFF0C;&#x5176;&#x4E2D;show&#x662F;&#x52A8;&#x8BCD;&#xFF0C;&#x8FD9;&#x4E2A;URI&#x5C31;&#x8BBE;&#x8BA1;&#x9519;&#x4E86;&#xFF0C;&#x6B63;&#x786E;&#x7684;&#x5199;&#x6CD5;&#x5E94;&#x8BE5;&#x662F;/posts/1&#xFF0C;&#x7136;&#x540E;&#x7528;GET&#x65B9;&#x6CD5;&#x8868;&#x793A;show&#x3002; &#x5982;&#x679C;&#x67D0;&#x4E9B;&#x52A8;&#x4F5C;&#x662F;HTTP&#x52A8;&#x8BCD;&#x8868;&#x793A;&#x4E0D;&#x4E86;&#x7684;&#xFF0C;&#x4F60;&#x5C31;&#x5E94;&#x8BE5;&#x628A;&#x52A8;&#x4F5C;&#x505A;&#x6210;&#x4E00;&#x79CD;&#x8D44;&#x6E90;&#x3002;&#x6BD4;&#x5982;&#x7F51;&#x4E0A;&#x6C47;&#x6B3E;&#xFF0C;&#x4ECE;&#x8D26;&#x6237;1&#x5411;&#x8D26;&#x6237;2&#x6C47;&#x6B3E;500&#x5143;&#xFF0C;&#x9519;&#x8BEF;&#x7684;URI&#x662F;&#xFF1A; 1&#x3000;&#x3000;POST /accounts/1/transfer/500/to/2 &#x6B63;&#x786E;&#x7684;&#x5199;&#x6CD5;&#x662F;&#x628A;&#x52A8;&#x8BCD;transfer&#x6539;&#x6210;&#x540D;&#x8BCD;transaction&#xFF0C;&#x8D44;&#x6E90;&#x4E0D;&#x80FD;&#x662F;&#x52A8;&#x8BCD;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x79CD;&#x670D;&#x52A1;&#xFF1A; 1234&#x3000;&#x3000;POST /transaction HTTP/1.1&#x3000;&#x3000;Host: 127.0.0.1&#x3000;&#x3000;&#x3000;&#x3000;from=1&amp;to=2&amp;amount=500.00 &#x53E6;&#x4E00;&#x4E2A;&#x8BBE;&#x8BA1;&#x8BEF;&#x533A;&#xFF0C;&#x5C31;&#x662F;&#x5728;URI&#x4E2D;&#x52A0;&#x5165;&#x7248;&#x672C;&#x53F7;&#xFF1A; 12345&#x3000;&#x3000;http://www.example.com/app/1.0/foo&#x3000;&#x3000;http://www.example.com/app/1.1/foo&#x3000;&#x3000;http://www.example.com/app/2.0/foo &#x56E0;&#x4E3A;&#x4E0D;&#x540C;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x6210;&#x540C;&#x4E00;&#x79CD;&#x8D44;&#x6E90;&#x7684;&#x4E0D;&#x540C;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#x5E94;&#x8BE5;&#x91C7;&#x7528;&#x540C;&#x4E00;&#x4E2A;URI&#x3002;&#x7248;&#x672C;&#x53F7;&#x53EF;&#x4EE5;&#x5728;HTTP&#x8BF7;&#x6C42;&#x5934;&#x4FE1;&#x606F;&#x7684;Accept&#x5B57;&#x6BB5;&#x4E2D;&#x8FDB;&#x884C;&#x533A;&#x5206;&#xFF08;&#x53C2;&#x89C1;Versioning REST Services&#xFF09;&#xFF1A; 12345&#x3000;&#x3000;Accept: vnd.example-com.foo+json; version=1.0&#x3000;&#x3000;Accept: vnd.example-com.foo+json; version=1.1&#x3000;&#x3000;Accept: vnd.example-com.foo+json; version=2.0 RESTful API &#x8BBE;&#x8BA1;&#x6307;&#x5357; &#x4F5C;&#x8005;&#xFF1A; &#x962E;&#x4E00;&#x5CF0; &#x7F51;&#x7EDC;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5206;&#x4E3A;&#x524D;&#x7AEF;&#x548C;&#x540E;&#x7AEF;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#x3002;&#x5F53;&#x524D;&#x7684;&#x53D1;&#x5C55;&#x8D8B;&#x52BF;&#xFF0C;&#x5C31;&#x662F;&#x524D;&#x7AEF;&#x8BBE;&#x5907;&#x5C42;&#x51FA;&#x4E0D;&#x7A77;&#xFF08;&#x624B;&#x673A;&#x3001;&#x5E73;&#x677F;&#x3001;&#x684C;&#x9762;&#x7535;&#x8111;&#x3001;&#x5176;&#x4ED6;&#x4E13;&#x7528;&#x8BBE;&#x5907;&#x2026;&#x2026;&#xFF09;&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x79CD;&#x7EDF;&#x4E00;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x65B9;&#x4FBF;&#x4E0D;&#x540C;&#x7684;&#x524D;&#x7AEF;&#x8BBE;&#x5907;&#x4E0E;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x3002;&#x8FD9;&#x5BFC;&#x81F4;API&#x6784;&#x67B6;&#x7684;&#x6D41;&#x884C;&#xFF0C;&#x751A;&#x81F3;&#x51FA;&#x73B0;&#x201D;API First&#x201D;&#x7684;&#x8BBE;&#x8BA1;&#x601D;&#x60F3;&#x3002;RESTful API&#x662F;&#x76EE;&#x524D;&#x6BD4;&#x8F83;&#x6210;&#x719F;&#x7684;&#x4E00;&#x5957;&#x4E92;&#x8054;&#x7F51;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;API&#x8BBE;&#x8BA1;&#x7406;&#x8BBA;&#x3002; &#x4ECA;&#x5929;&#xFF0C;&#x6211;&#x5C06;&#x4ECB;&#x7ECD;RESTful API&#x7684;&#x8BBE;&#x8BA1;&#x7EC6;&#x8282;&#xFF0C;&#x63A2;&#x8BA8;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x4E00;&#x5957;&#x5408;&#x7406;&#x3001;&#x597D;&#x7528;&#x7684;API&#x3002; &#x534F;&#x8BAE;API&#x4E0E;&#x7528;&#x6237;&#x7684;&#x901A;&#x4FE1;&#x534F;&#x8BAE;&#xFF0C;&#x603B;&#x662F;&#x4F7F;&#x7528;HTTPs&#x534F;&#x8BAE;&#x3002; &#x57DF;&#x540D;&#x5E94;&#x8BE5;&#x5C3D;&#x91CF;&#x5C06;API&#x90E8;&#x7F72;&#x5728;&#x4E13;&#x7528;&#x57DF;&#x540D;&#x4E4B;&#x4E0B;&#x3002; 1https://api.example.com &#x5982;&#x679C;&#x786E;&#x5B9A;API&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709;&#x8FDB;&#x4E00;&#x6B65;&#x6269;&#x5C55;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x653E;&#x5728;&#x4E3B;&#x57DF;&#x540D;&#x4E0B;&#x3002; 1https://example.org/api/ &#x7248;&#x672C;&#xFF08;Versioning&#xFF09;&#x5E94;&#x8BE5;&#x5C06;API&#x7684;&#x7248;&#x672C;&#x53F7;&#x653E;&#x5165;URL&#x3002; 1https://api.example.com/v1/ &#x53E6;&#x4E00;&#x79CD;&#x505A;&#x6CD5;&#x662F;&#xFF0C;&#x5C06;&#x7248;&#x672C;&#x53F7;&#x653E;&#x5728;HTTP&#x5934;&#x4FE1;&#x606F;&#x4E2D;&#xFF0C;&#x4F46;&#x4E0D;&#x5982;&#x653E;&#x5165;URL&#x65B9;&#x4FBF;&#x548C;&#x76F4;&#x89C2;&#x3002;Github&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x505A;&#x6CD5;&#x3002; &#x8DEF;&#x5F84;&#xFF08;Endpoint&#xFF09;&#x8DEF;&#x5F84;&#x53C8;&#x79F0;&#x201D;&#x7EC8;&#x70B9;&#x201D;&#xFF08;endpoint&#xFF09;&#xFF0C;&#x8868;&#x793A;API&#x7684;&#x5177;&#x4F53;&#x7F51;&#x5740;&#x3002; &#x5728;RESTful&#x67B6;&#x6784;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x7F51;&#x5740;&#x4EE3;&#x8868;&#x4E00;&#x79CD;&#x8D44;&#x6E90;&#xFF08;resource&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x7F51;&#x5740;&#x4E2D;&#x4E0D;&#x80FD;&#x6709;&#x52A8;&#x8BCD;&#xFF0C;&#x53EA;&#x80FD;&#x6709;&#x540D;&#x8BCD;&#xFF0C;&#x800C;&#x4E14;&#x6240;&#x7528;&#x7684;&#x540D;&#x8BCD;&#x5F80;&#x5F80;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8868;&#x683C;&#x540D;&#x5BF9;&#x5E94;&#x3002;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#x90FD;&#x662F;&#x540C;&#x79CD;&#x8BB0;&#x5F55;&#x7684;&#x201D;&#x96C6;&#x5408;&#x201D;&#xFF08;collection&#xFF09;&#xFF0C;&#x6240;&#x4EE5;API&#x4E2D;&#x7684;&#x540D;&#x8BCD;&#x4E5F;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x590D;&#x6570;&#x3002; &#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;API&#x63D0;&#x4F9B;&#x52A8;&#x7269;&#x56ED;&#xFF08;zoo&#xFF09;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8FD8;&#x5305;&#x62EC;&#x5404;&#x79CD;&#x52A8;&#x7269;&#x548C;&#x96C7;&#x5458;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5219;&#x5B83;&#x7684;&#x8DEF;&#x5F84;&#x5E94;&#x8BE5;&#x8BBE;&#x8BA1;&#x6210;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x3002; 123https://api.example.com/v1/zooshttps://api.example.com/v1/animalshttps://api.example.com/v1/employees HTTP&#x52A8;&#x8BCD;&#x5BF9;&#x4E8E;&#x8D44;&#x6E90;&#x7684;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x7C7B;&#x578B;&#xFF0C;&#x7531;HTTP&#x52A8;&#x8BCD;&#x8868;&#x793A;&#x3002; &#x5E38;&#x7528;&#x7684;HTTP&#x52A8;&#x8BCD;&#x6709;&#x4E0B;&#x9762;&#x4E94;&#x4E2A;&#xFF08;&#x62EC;&#x53F7;&#x91CC;&#x662F;&#x5BF9;&#x5E94;&#x7684;SQL&#x547D;&#x4EE4;&#xFF09;&#x3002; 12345GET&#xFF08;SELECT&#xFF09;&#xFF1A;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x53D6;&#x51FA;&#x8D44;&#x6E90;&#xFF08;&#x4E00;&#x9879;&#x6216;&#x591A;&#x9879;&#xFF09;&#x3002;POST&#xFF08;CREATE&#xFF09;&#xFF1A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x3002;PUT&#xFF08;UPDATE&#xFF09;&#xFF1A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x66F4;&#x65B0;&#x8D44;&#x6E90;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x6539;&#x53D8;&#x540E;&#x7684;&#x5B8C;&#x6574;&#x8D44;&#x6E90;&#xFF09;&#x3002;PATCH&#xFF08;UPDATE&#xFF09;&#xFF1A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x66F4;&#x65B0;&#x8D44;&#x6E90;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x6539;&#x53D8;&#x7684;&#x5C5E;&#x6027;&#xFF09;&#x3002;DELETE&#xFF08;DELETE&#xFF09;&#xFF1A;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x5220;&#x9664;&#x8D44;&#x6E90;&#x3002; &#x8FD8;&#x6709;&#x4E24;&#x4E2A;&#x4E0D;&#x5E38;&#x7528;&#x7684;HTTP&#x52A8;&#x8BCD;&#x3002; 12HEAD&#xFF1A;&#x83B7;&#x53D6;&#x8D44;&#x6E90;&#x7684;&#x5143;&#x6570;&#x636E;&#x3002;OPTIONS&#xFF1A;&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#xFF0C;&#x5173;&#x4E8E;&#x8D44;&#x6E90;&#x7684;&#x54EA;&#x4E9B;&#x5C5E;&#x6027;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x7684;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E9B;&#x4F8B;&#x5B50;&#x3002; 12345678GET /zoos&#xFF1A;&#x5217;&#x51FA;&#x6240;&#x6709;&#x52A8;&#x7269;&#x56ED;POST /zoos&#xFF1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x52A8;&#x7269;&#x56ED;GET /zoos/ID&#xFF1A;&#x83B7;&#x53D6;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x4FE1;&#x606F;PUT /zoos/ID&#xFF1A;&#x66F4;&#x65B0;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x63D0;&#x4F9B;&#x8BE5;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x5168;&#x90E8;&#x4FE1;&#x606F;&#xFF09;PATCH /zoos/ID&#xFF1A;&#x66F4;&#x65B0;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x63D0;&#x4F9B;&#x8BE5;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x90E8;&#x5206;&#x4FE1;&#x606F;&#xFF09;DELETE /zoos/ID&#xFF1A;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x52A8;&#x7269;&#x56ED;GET /zoos/ID/animals&#xFF1A;&#x5217;&#x51FA;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x6240;&#x6709;&#x52A8;&#x7269;DELETE /zoos/ID/animals/ID&#xFF1A;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x6307;&#x5B9A;&#x52A8;&#x7269; &#x8FC7;&#x6EE4;&#x4FE1;&#x606F;&#xFF08;Filtering&#xFF09;&#x5982;&#x679C;&#x8BB0;&#x5F55;&#x6570;&#x91CF;&#x5F88;&#x591A;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x53EF;&#x80FD;&#x90FD;&#x5C06;&#x5B83;&#x4EEC;&#x8FD4;&#x56DE;&#x7ED9;&#x7528;&#x6237;&#x3002;API&#x5E94;&#x8BE5;&#x63D0;&#x4F9B;&#x53C2;&#x6570;&#xFF0C;&#x8FC7;&#x6EE4;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E9B;&#x5E38;&#x89C1;&#x7684;&#x53C2;&#x6570;&#x3002; 123456?limit=10&#xFF1A;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x91CF;?offset=10&#xFF1A;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x7684;&#x5F00;&#x59CB;&#x4F4D;&#x7F6E;&#x3002;?page=2&amp;per_page=100&#xFF1A;&#x6307;&#x5B9A;&#x7B2C;&#x51E0;&#x9875;&#xFF0C;&#x4EE5;&#x53CA;&#x6BCF;&#x9875;&#x7684;&#x8BB0;&#x5F55;&#x6570;&#x3002;?sortby=name&amp;order=asc&#xFF1A;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x6309;&#x7167;&#x54EA;&#x4E2A;&#x5C5E;&#x6027;&#x6392;&#x5E8F;&#xFF0C;&#x4EE5;&#x53CA;&#x6392;&#x5E8F;&#x987A;&#x5E8F;&#x3002;?animal_type_id=1&#xFF1A;&#x6307;&#x5B9A;&#x7B5B;&#x9009;&#x6761;&#x4EF6;&#x53C2;&#x6570;&#x7684;&#x8BBE;&#x8BA1;&#x5141;&#x8BB8;&#x5B58;&#x5728;&#x5197;&#x4F59;&#xFF0C;&#x5373;&#x5141;&#x8BB8;API&#x8DEF;&#x5F84;&#x548C;URL&#x53C2;&#x6570;&#x5076;&#x5C14;&#x6709;&#x91CD;&#x590D;&#x3002;&#x6BD4;&#x5982;&#xFF0C;GET /zoo/ID/animals &#x4E0E; GET /animals?zoo_id=ID &#x7684;&#x542B;&#x4E49;&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002; &#x72B6;&#x6001;&#x7801;&#xFF08;Status Codes&#xFF09;&#x670D;&#x52A1;&#x5668;&#x5411;&#x7528;&#x6237;&#x8FD4;&#x56DE;&#x7684;&#x72B6;&#x6001;&#x7801;&#x548C;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x6709;&#x4EE5;&#x4E0B;&#x4E00;&#x4E9B;&#xFF08;&#x65B9;&#x62EC;&#x53F7;&#x4E2D;&#x662F;&#x8BE5;&#x72B6;&#x6001;&#x7801;&#x5BF9;&#x5E94;&#x7684;HTTP&#x52A8;&#x8BCD;&#xFF09;&#x3002; 123456789101112200 OK - [GET]&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8BE5;&#x64CD;&#x4F5C;&#x662F;&#x5E42;&#x7B49;&#x7684;&#xFF08;Idempotent&#xFF09;&#x3002;201 CREATED - [POST/PUT/PATCH]&#xFF1A;&#x7528;&#x6237;&#x65B0;&#x5EFA;&#x6216;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x6210;&#x529F;&#x3002;202 Accepted - [*]&#xFF1A;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5DF2;&#x7ECF;&#x8FDB;&#x5165;&#x540E;&#x53F0;&#x6392;&#x961F;&#xFF08;&#x5F02;&#x6B65;&#x4EFB;&#x52A1;&#xFF09;204 NO CONTENT - [DELETE]&#xFF1A;&#x7528;&#x6237;&#x5220;&#x9664;&#x6570;&#x636E;&#x6210;&#x529F;&#x3002;400 INVALID REQUEST - [POST/PUT/PATCH]&#xFF1A;&#x7528;&#x6237;&#x53D1;&#x51FA;&#x7684;&#x8BF7;&#x6C42;&#x6709;&#x9519;&#x8BEF;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x65B0;&#x5EFA;&#x6216;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x8BE5;&#x64CD;&#x4F5C;&#x662F;&#x5E42;&#x7B49;&#x7684;&#x3002;401 Unauthorized - [*]&#xFF1A;&#x8868;&#x793A;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x6743;&#x9650;&#xFF08;&#x4EE4;&#x724C;&#x3001;&#x7528;&#x6237;&#x540D;&#x3001;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&#xFF09;&#x3002;403 Forbidden - [*] &#x8868;&#x793A;&#x7528;&#x6237;&#x5F97;&#x5230;&#x6388;&#x6743;&#xFF08;&#x4E0E;401&#x9519;&#x8BEF;&#x76F8;&#x5BF9;&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x8BBF;&#x95EE;&#x662F;&#x88AB;&#x7981;&#x6B62;&#x7684;&#x3002;404 NOT FOUND - [*]&#xFF1A;&#x7528;&#x6237;&#x53D1;&#x51FA;&#x7684;&#x8BF7;&#x6C42;&#x9488;&#x5BF9;&#x7684;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x8BE5;&#x64CD;&#x4F5C;&#x662F;&#x5E42;&#x7B49;&#x7684;&#x3002;406 Not Acceptable - [GET]&#xFF1A;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x683C;&#x5F0F;&#x4E0D;&#x53EF;&#x5F97;&#xFF08;&#x6BD4;&#x5982;&#x7528;&#x6237;&#x8BF7;&#x6C42;JSON&#x683C;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x6709;XML&#x683C;&#x5F0F;&#xFF09;&#x3002;410 Gone -[GET]&#xFF1A;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x88AB;&#x6C38;&#x4E45;&#x5220;&#x9664;&#xFF0C;&#x4E14;&#x4E0D;&#x4F1A;&#x518D;&#x5F97;&#x5230;&#x7684;&#x3002;422 Unprocesable entity - [POST/PUT/PATCH] &#x5F53;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x53D1;&#x751F;&#x4E00;&#x4E2A;&#x9A8C;&#x8BC1;&#x9519;&#x8BEF;&#x3002;500 INTERNAL SERVER ERROR - [*]&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF0C;&#x7528;&#x6237;&#x5C06;&#x65E0;&#x6CD5;&#x5224;&#x65AD;&#x53D1;&#x51FA;&#x7684;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x6210;&#x529F;&#x3002; &#x9519;&#x8BEF;&#x5904;&#x7406;&#xFF08;Error handling&#xFF09;&#x5982;&#x679C;&#x72B6;&#x6001;&#x7801;&#x662F;4xx&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x5411;&#x7528;&#x6237;&#x8FD4;&#x56DE;&#x51FA;&#x9519;&#x4FE1;&#x606F;&#x3002;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x4FE1;&#x606F;&#x4E2D;&#x5C06;error&#x4F5C;&#x4E3A;&#x952E;&#x540D;&#xFF0C;&#x51FA;&#x9519;&#x4FE1;&#x606F;&#x4F5C;&#x4E3A;&#x952E;&#x503C;&#x5373;&#x53EF;&#x3002; 123{ error: &quot;Invalid API key&quot;} &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x64CD;&#x4F5C;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5411;&#x7528;&#x6237;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5E94;&#x8BE5;&#x7B26;&#x5408;&#x4EE5;&#x4E0B;&#x89C4;&#x8303;&#x3002; 123456GET /collection&#xFF1A;&#x8FD4;&#x56DE;&#x8D44;&#x6E90;&#x5BF9;&#x8C61;&#x7684;&#x5217;&#x8868;&#xFF08;&#x6570;&#x7EC4;&#xFF09;GET /collection/resource&#xFF1A;&#x8FD4;&#x56DE;&#x5355;&#x4E2A;&#x8D44;&#x6E90;&#x5BF9;&#x8C61;POST /collection&#xFF1A;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;&#x8D44;&#x6E90;&#x5BF9;&#x8C61;PUT /collection/resource&#xFF1A;&#x8FD4;&#x56DE;&#x5B8C;&#x6574;&#x7684;&#x8D44;&#x6E90;&#x5BF9;&#x8C61;PATCH /collection/resource&#xFF1A;&#x8FD4;&#x56DE;&#x5B8C;&#x6574;&#x7684;&#x8D44;&#x6E90;&#x5BF9;&#x8C61;DELETE /collection/resource&#xFF1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x6587;&#x6863; Hypermedia APIRESTful API&#x6700;&#x597D;&#x505A;&#x5230;Hypermedia&#xFF0C;&#x5373;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E2D;&#x63D0;&#x4F9B;&#x94FE;&#x63A5;&#xFF0C;&#x8FDE;&#x5411;&#x5176;&#x4ED6;API&#x65B9;&#x6CD5;&#xFF0C;&#x4F7F;&#x5F97;&#x7528;&#x6237;&#x4E0D;&#x67E5;&#x6587;&#x6863;&#xFF0C;&#x4E5F;&#x77E5;&#x9053;&#x4E0B;&#x4E00;&#x6B65;&#x5E94;&#x8BE5;&#x505A;&#x4EC0;&#x4E48;&#x3002; &#x6BD4;&#x5982;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x5411;api.example.com&#x7684;&#x6839;&#x76EE;&#x5F55;&#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#xFF0C;&#x4F1A;&#x5F97;&#x5230;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x3002; 123456{&quot;link&quot;: { &quot;rel&quot;: &quot;collection https://www.example.com/zoos&quot;, &quot;href&quot;: &quot;https://api.example.com/zoos&quot;, &quot;title&quot;: &quot;List of zoos&quot;, &quot;type&quot;: &quot;application/vnd.yourformat+json&quot;}} &#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x8868;&#x793A;&#xFF0C;&#x6587;&#x6863;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;link&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x6237;&#x8BFB;&#x53D6;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x5C31;&#x77E5;&#x9053;&#x4E0B;&#x4E00;&#x6B65;&#x8BE5;&#x8C03;&#x7528;&#x4EC0;&#x4E48;API&#x4E86;&#x3002;rel&#x8868;&#x793A;&#x8FD9;&#x4E2A;API&#x4E0E;&#x5F53;&#x524D;&#x7F51;&#x5740;&#x7684;&#x5173;&#x7CFB;&#xFF08;collection&#x5173;&#x7CFB;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;&#x8BE5;collection&#x7684;&#x7F51;&#x5740;&#xFF09;&#xFF0C;href&#x8868;&#x793A;API&#x7684;&#x8DEF;&#x5F84;&#xFF0C;title&#x8868;&#x793A;API&#x7684;&#x6807;&#x9898;&#xFF0C;type&#x8868;&#x793A;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x3002; Hypermedia API&#x7684;&#x8BBE;&#x8BA1;&#x88AB;&#x79F0;&#x4E3A;HATEOAS&#x3002;Github&#x7684;API&#x5C31;&#x662F;&#x8FD9;&#x79CD;&#x8BBE;&#x8BA1;&#xFF0C;&#x8BBF;&#x95EE;api.github.com&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x6240;&#x6709;&#x53EF;&#x7528;API&#x7684;&#x7F51;&#x5740;&#x5217;&#x8868;&#x3002; 12345{ &quot;current_user_url&quot;: &quot;https://api.github.com/user&quot;, &quot;authorizations_url&quot;: &quot;https://api.github.com/authorizations&quot;, // ...} &#x4ECE;&#x4E0A;&#x9762;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5E94;&#x8BE5;&#x53BB;&#x8BBF;&#x95EE;api.github.com/user&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x5F97;&#x5230;&#x4E86;&#x4E0B;&#x9762;&#x7ED3;&#x679C;&#x3002; 1234{ &quot;message&quot;: &quot;Requires authentication&quot;, &quot;documentation_url&quot;: &quot;https://developer.github.com/v3&quot;} &#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x8868;&#x793A;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7ED9;&#x51FA;&#x4E86;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF0C;&#x4EE5;&#x53CA;&#x6587;&#x6863;&#x7684;&#x7F51;&#x5740;&#x3002; &#x5176;&#x4ED6; API&#x7684;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;OAuth 2.0&#x6846;&#x67B6;&#x3002; &#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x5E94;&#x8BE5;&#x5C3D;&#x91CF;&#x4F7F;&#x7528;JSON&#xFF0C;&#x907F;&#x514D;&#x4F7F;&#x7528;XML&#x3002;]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[网络模型以及相关协议]]></title>
    <url>%2F2018%2F03%2F08%2Fnetwork-osi%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; OSI&#x4E03;&#x5C42;&#x6A21;&#x578B; &#x76F8;&#x5173;&#x534F;&#x8BAE; tcp/ip&#x4E0E;osi &#x5E94;&#x7528;&#x5C42;123456789101112131415161718192021222324252627282930313233343536373839404142HTTP &#x8D85;&#x6587;&#x672C;&#x4F20;&#x8F93;&#x534F;&#x8BAE;FTP &#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE;SMTP &#x7B80;&#x5355;&#x90AE;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE;TELNET TCP/IP&#x7EC8;&#x7AEF;&#x4EFF;&#x771F;&#x534F;&#x8BAE;POP3 &#x90AE;&#x5C40;&#x534F;&#x8BAE;&#x7B2C;&#x4E09;&#x7248;Finger &#x7528;&#x6237;&#x4FE1;&#x606F;&#x534F;&#x8BAE;NNTP &#x7F51;&#x7EDC;&#x65B0;&#x95FB;&#x4F20;&#x8F93;&#x534F;&#x8BAE;IMAP4 &#x56E0;&#x7279;&#x7F51;&#x4FE1;&#x606F;&#x8BBF;&#x95EE;&#x534F;&#x8BAE;&#x7B2C;&#x56DB;&#x7248;LPR UNIX &#x8FDC;&#x7A0B;&#x6253;&#x5370;&#x534F;&#x8BAE;Rwho UNIX &#x8FDC;&#x7A0B; Who&#x534F;&#x8BAE;Rexec UNIX&#x8FDC;&#x7A0B;&#x6267;&#x884C;&#x534F;&#x8BAE;Login UNIX &#x8FDC;&#x7A0B;&#x767B;&#x9646;&#x534F;&#x8BAE;RSH UNIX &#x8FDC;&#x7A0B;Shell&#x534F;&#x8BAE;NTF HP&#x7F51;&#x7EDC;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE;RDA HP &#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x534F;&#x8BAE;VT &#x865A;&#x62DF;&#x7EC8;&#x7AEF;&#x4EFF;&#x771F;&#x534F;&#x8BAE;RFA HP &#x8FDC;&#x7A0B;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x534F;&#x8BAE;RPC Remote Process Comm.S-HTTP &#x5B89;&#x5168;&#x8D85;&#x6587;&#x672C;&#x4F20;&#x8F93;&#x534F;&#x8BAE;GDP&#x7F51;&#x5173;&#x53D1;&#x73B0;&#x534F;&#x8BAE;X-WindowCMOT &#x57FA;&#x4E8E;TCP/IP&#x7684;CMIP&#x534F;&#x8BAE;SOCKS &#x5B89;&#x5168;&#x5957;&#x63A5;&#x5B57;&#x534F;&#x8BAE;FANP&#x6D41;&#x5C5E;&#x6027;&#x901A;&#x77E5;&#x534F;&#x8BAE;SLP&#x670D;&#x52A1;&#x5B9A;&#x4F4D;&#x534F;&#x8BAE;MSN&#x5FAE;&#x8F6F;&#x7F51;&#x7EDC;&#x670D;&#x52A1;Radius &#x8FDC;&#x7A0B;&#x7528;&#x6237;&#x62E8;&#x53F7;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x534F;&#x8BAE;DNS &#x57DF;&#x540D;&#x7CFB;&#x7EDF;NFS&#x7F51;&#x7EDC;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x534F;&#x8BAE;NIS SUN &#x7F51;&#x7EDC;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF;&#x534F;&#x8BAE;R-STAT SUN&#x8FDC;&#x7A0B;&#x72B6;&#x6001;&#x534F;&#x8BAE;NSM SUN &#x7F51;&#x7EDC;&#x72B6;&#x6001;&#x76D1;&#x6D4B;&#x534F;&#x8BAE;PMAP SUN &#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x534F;&#x8BAE;MountLPR UNIX&#x8FDC;&#x7A0B;&#x6253;&#x5370;&#x534F;&#x8BAE;&#x5E38;&#x7528;UDP&#x534F;&#x8BAE;&#x7684;&#x5E94;&#x7528;&#x5C42;&#x670D;&#x52A1;BOOTP&#x5F15;&#x5BFC;&#x534F;&#x8BAE;DHCP&#x52A8;&#x6001;&#x4E3B;&#x673A;&#x914D;&#x5957;&#x534F;&#x8BAE;NTP&#x7F51;&#x7EDC;&#x65F6;&#x95F4;&#x534F;&#x8BAE;TFTP&#x7B80;&#x5355;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE;SNMP&#x7B80;&#x5355;&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x534F;&#x8BAE; &#x8868;&#x793A;&#x5C42;12345DECnet NSPLPP &#x8F7B;&#x91CF;&#x7EA7;&#x8868;&#x793A;&#x534F;&#x8BAE;NBSSN NetBIOS&#x4F1A;&#x8BDD;&#x670D;&#x52A1;&#x534F;&#x8BAE;XDP&#x5916;&#x90E8;&#x6570;&#x636E;&#x8868;&#x793A;&#x534F;&#x8BAE;IPX &#x4F1A;&#x8BDD;&#x5C42;123456789SSL &#x5B89;&#x5168;&#x5957;&#x63A5;&#x5B57;&#x5C42;&#x534F;&#x8BAE;TLS&#x4F20;&#x8F93;&#x5C42;&#x5B89;&#x5168;&#x534F;&#x8BAE;DAP&#x76EE;&#x5F55;&#x8BBF;&#x95EE;&#x534F;&#x8BAE;LDAP&#x8F7B;&#x91CF;&#x7EA7;&#x76EE;&#x5F55;&#x8BBF;&#x95EE;&#x534F;&#x8BAE;RPC&#x8FDC;&#x7A0B;&#x8FC7;&#x7A0B;&#x8C03;&#x7528;&#x534F;&#x8BAE;VINES NETRPCVFRPNeTBIOSIPX &#x4F20;&#x8F93;&#x5C42;12345678XOT &#x57FA;&#x4E8E;tcp&#x4E4B;&#x4E0A;&#x7684;X&#x534F;&#x8BAE;Van Jacobson &#x538B;&#x7F29;TCP&#x534F;&#x8BAE;ISO-DE ISO &#x5F00;&#x53D1;&#x73AF;&#x5883;--------&gt;NetBISOTALI &#x4F20;&#x8F93;&#x9002;&#x914D;&#x5C42;&#x63A5;&#x53E3;&#x534F;&#x8BAE;DSI&#x3001;NetBIOS&#x3001;IP NeTBIOS&#x3001;ISO-TP SSP&#x3001;SMB&#x3001;MSRPCUDP&#x7528;&#x6237;&#x6570;&#x636E;&#x62A5;&#x534F;&#x8BAE;RUDP&#x53EF;&#x9760;&#x7684;&#x7528;&#x6237;&#x6570;&#x636E;&#x62A5;&#x534F;&#x8BAE;Mobile IP &#x79FB;&#x52A8;IP&#x534F;&#x8BAE; &#x7F51;&#x7EDC;&#x5C42;123456789101112131415161718192021222324IP/IPv6 &#x4E92;&#x8054;&#x7F51;&#x534F;&#x8BAE;/&#x4E92;&#x8054;&#x7F51;&#x534F;&#x8BAE;&#x7B2C;&#x516D;&#x7248;ICMPv6&#x4E92;&#x8054;&#x7F51;&#x63A7;&#x5236;&#x4FE1;&#x606F;&#x534F;&#x8BAE;&#x7B2C;&#x516D;&#x7248;ICMP&#x4E92;&#x8054;&#x7F51;&#x63A7;&#x5236;&#x4FE1;&#x606F;&#x534F;&#x8BAE;IGMP &#x4E92;&#x8054;&#x7F51;&#x7EC4;&#x7BA1;&#x7406;&#x534F;&#x8BAE;SLIP &#x4E32;&#x884C;&#x7EBF;&#x8DEF;IP&#x534F;&#x8BAE;&#x5B89;&#x5168;&#x534F;&#x8BAE;AH &#x8BA4;&#x8BC1;&#x5934;&#x534F;&#x8BAE;ESP &#x5B89;&#x88C5;&#x5C01;&#x88C5;&#x6709;&#x6548;&#x8F7D;&#x8377;&#x534F;&#x8BAE;&#x8DEF;&#x7531;&#x534F;&#x8BAE;EGP &#x5916;&#x90E8;&#x7F51;&#x5173;&#x534F;&#x8BAE;OSPF &#x5F00;&#x653E;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x4F18;&#x5148;&#x534F;&#x8BAE;IGRP &#x5185;&#x90E8;&#x7F51;&#x5173;&#x8DEF;&#x7531;&#x534F;&#x8BAE;NHRP &#x4E0B;&#x4E00;&#x8DF3;&#x89E3;&#x6790;&#x534F;&#x8BAE;IE-IRGP &#x589E;&#x5F3A;&#x5185;&#x90E8;&#x7F51;&#x5173;&#x8DEF;&#x7531;&#x9009;&#x62E9;&#x534F;&#x8BAE;RIPng for IPv6 IPv6&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x534F;&#x8BAE;GGP &#x7F51;&#x5173;&#x5230;&#x7F51;&#x5173;&#x534F;&#x8BAE;VRRP &#x865A;&#x62DF;&#x8DEF;&#x7531;&#x5668;&#x5197;&#x4F59;&#x534F;&#x8BAE;PGM &#x5B9E;&#x9645;&#x901A;&#x7528;&#x7EC4;&#x64AD;&#x534F;&#x8BAE;RSVP &#x8D44;&#x6E90;&#x9884;&#x7559;&#x534F;&#x8BAE;PIM-DM &#x5BC6;&#x96C6;&#x6A21;&#x5F0F;&#x72EC;&#x7ACB;&#x7EC4;&#x64AD;&#x534F;&#x8BAE;DVMRP &#x8DDD;&#x79BB;&#x77E2;&#x91CF;&#x7EC4;&#x64AD;&#x8DEF;&#x7531;&#x534F;&#x8BAE;RIP2 &#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x534F;&#x8BAE;&#x7B2C;&#x4E8C;&#x7248;PIM-SM &#x7A00;&#x758F;&#x6A21;&#x5F0F;&#x72EC;&#x7ACB;&#x7EC4;&#x64AD;&#x534F;&#x8BAE;MOSPF &#x7EC4;&#x64AD;&#x5F00;&#x653E;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x4F18;&#x5148;&#x534F;&#x8BAE; &#x6570;&#x636E;&#x94FE;&#x8DEF;&#x5C42;12345678910111213141516MPLS &#x591A;&#x534F;&#x8BAE;&#x6807;&#x7B7E;&#x4EA4;&#x6362;&#x534F;&#x8BAE;XTP &#x538B;&#x7F29;&#x4F20;&#x8F93;&#x534F;&#x8BAE;DCAP &#x6570;&#x636E;&#x8F6C;&#x6362;&#x5BA2;&#x6237;&#x8BBF;&#x95EE;&#x534F;&#x8BAE;SLE &#x4E32;&#x884C;&#x8FDE;&#x63A5;&#x5C01;&#x88C5;&#x534F;&#x8BAE;IPinIP IP&#x5957;IP&#x5C01;&#x88C5;&#x534F;&#x8BAE;&#x96A7;&#x9053;&#x534F;&#x8BAE;PPTP&#x70B9;&#x5BF9;&#x70B9;&#x96A7;&#x9053;&#x534F;&#x8BAE;L2F&#x7B2C;&#x4E8C;&#x5C42;&#x8F6C;&#x53D1;&#x534F;&#x8BAE;L2TP &#x7B2C;&#x4E8C;&#x5C42;&#x96A7;&#x9053;&#x534F;&#x8BAE;ATMP&#x63A5;&#x5165;&#x96A7;&#x9053;&#x7BA1;&#x7406;&#x534F;&#x8BAE;Cisco &#x534F;&#x8BAE;CDP &#x601D;&#x79D1;&#x53D1;&#x73B0;&#x534F;&#x8BAE;CGMP &#x601D;&#x79D1;&#x7EC4;&#x7BA1;&#x7406;&#x534F;&#x8BAE;&#x5730;&#x5740;&#x89E3;&#x6790;&#x534F;&#x8BAE;ARP&#x5730;&#x5740;&#x89E3;&#x6790;&#x534F;&#x8BAE;RAR&#x9006;&#x5411;&#x5730;&#x5740;&#x89E3;&#x6790;&#x534F;&#x8BAE; &#x7269;&#x7406;&#x5C42;123IEEE 802.2Ethernet v.2Internetwork]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>network</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python进程与线程]]></title>
    <url>%2F2018%2F02%2F24%2Fpython-progress%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; Python&#x7684;&#x7279;&#x6B8A;&#x4E4B;&#x5904;&#x5728;&#x4E8E;Python&#x6709;&#x4E00;&#x628A;GIL&#x9501;&#xFF0C;&#x8FD9;&#x628A;&#x9501;&#x9650;&#x5236;&#x4E86;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x5185;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x80FD;&#x4F7F;&#x7528;cpu&#xFF0C;&#x4F46;&#x662F;GIL&#x5E76;&#x4E0D;&#x662F;python&#x53EA;&#x6709;&#x7684;&#x7279;&#x6027;&#x3002; &#x5199;&#x5728;&#x524D;&#x9762;&#x7684;&#x6982;&#x5FF5;&#x8FDB;&#x7A0B;&#x7A0B;&#x5E8F;&#x5E76;&#x4E0D;&#x80FD;&#x5355;&#x72EC;&#x8FD0;&#x884C;&#xFF0C;&#x53EA;&#x6709;&#x5C06;&#x7A0B;&#x5E8F;&#x88C5;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x4E3A;&#x5B83;&#x5206;&#x914D;&#x8D44;&#x6E90;&#x624D;&#x80FD;&#x8FD0;&#x884C;&#xFF0C;&#x800C;&#x8FD9;&#x79CD;&#x6267;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x5C31;&#x79F0;&#x4E4B;&#x4E3A;&#x8FDB;&#x7A0B;&#x3002; &#x7A0B;&#x5E8F;&#x548C;&#x8FDB;&#x7A0B;&#x7684;&#x533A;&#x522B;&#x5C31;&#x5728;&#x4E8E;&#xFF1A;&#x7A0B;&#x5E8F;&#x662F;&#x6307;&#x4EE4;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5B83;&#x662F;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x9759;&#x6001;&#x63CF;&#x8FF0;&#x6587;&#x672C;&#xFF1B;&#x8FDB;&#x7A0B;&#x662F;&#x7A0B;&#x5E8F;&#x7684;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x6D3B;&#x52A8;&#xFF0C;&#x5C5E;&#x4E8E;&#x52A8;&#x6001;&#x6982;&#x5FF5;&#x3002; &#x6211;&#x4EEC;&#x7535;&#x8111;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x90FD;&#x662F;&#x8FDB;&#x7A0B;&#xFF0C;&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x7528;&#x7684;&#x7535;&#x8111;&#x662F;&#x5355;&#x6838;&#x7684;&#xFF0C;cpu&#x540C;&#x65F6;&#x53EA;&#x80FD;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x3002;&#x5F53;&#x7A0B;&#x5E8F;&#x5904;&#x4E8E;I/O&#x963B;&#x585E;&#x7684;&#x65F6;&#x5019;&#xFF0C;CPU&#x5982;&#x679C;&#x548C;&#x7A0B;&#x5E8F;&#x4E00;&#x8D77;&#x7B49;&#x5F85;&#xFF0C;&#x90A3;&#x5C31;&#x592A;&#x6D6A;&#x8D39;&#x4E86;&#xFF0C;cpu&#x4F1A;&#x53BB;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x6D89;&#x53CA;&#x5230;&#x5207;&#x6362;&#xFF0C;&#x5207;&#x6362;&#x524D;&#x8981;&#x4FDD;&#x5B58;&#x4E0A;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x624D;&#x80FD;&#x6062;&#x590D;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x9700;&#x8981;&#x6709;&#x4E2A;&#x4E1C;&#x897F;&#x6765;&#x8BB0;&#x5F55;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5F15;&#x51FA;&#x8FDB;&#x7A0B;&#x7684;&#x6982;&#x5FF5;&#x4E86;&#x3002; &#x8FDB;&#x7A0B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x5728;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x7684;&#x4E00;&#x6B21;&#x52A8;&#x6001;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x3002;&#x8FDB;&#x7A0B;&#x7531;&#x7A0B;&#x5E8F;&#xFF0C;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x8FDB;&#x7A0B;&#x63A7;&#x5236;&#x5757;&#x4E09;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#x3002;&#x7A0B;&#x5E8F;&#x7528;&#x6765;&#x63CF;&#x8FF0;&#x8FDB;&#x7A0B;&#x54EA;&#x4E9B;&#x529F;&#x80FD;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x5B8C;&#x6210;&#xFF1B;&#x6570;&#x636E;&#x96C6;&#x662F;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x8D44;&#x6E90;&#xFF1B;&#x8FDB;&#x7A0B;&#x63A7;&#x5236;&#x5757;&#x7528;&#x6765;&#x4FDD;&#x5B58;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x7684;&#x72B6;&#x6001; &#x5728;&#x591A;&#x9053;&#x7F16;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5141;&#x8BB8;&#x591A;&#x4E2A;&#x7A0B;&#x5E8F;&#x540C;&#x65F6;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x8C03;&#x5EA6;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;&#x5730;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x8BBE;&#x8BA1;&#xFF0C;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x4E86;CPU&#x7684;&#x5229;&#x7528;&#x7387;&#x3002;&#x8FDB;&#x7A0B;&#x7684;&#x51FA;&#x73B0;&#x8BA9;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x611F;&#x89C9;&#x5230;&#x81EA;&#x5DF1;&#x72EC;&#x4EAB;CPU&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x8FDB;&#x7A0B;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x5728;CPU&#x4E0A;&#x5B9E;&#x73B0;&#x591A;&#x9053;&#x7F16;&#x7A0B;&#x800C;&#x63D0;&#x51FA;&#x7684;&#x3002; &#x6709;&#x4E86;&#x8FDB;&#x7A0B;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD8;&#x8981;&#x7EBF;&#x7A0B;&#xFF1F;&#x8FDB;&#x7A0B;&#x6709;&#x5F88;&#x591A;&#x4F18;&#x70B9;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x9053;&#x7F16;&#x7A0B;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x611F;&#x89C9;&#x6211;&#x4EEC;&#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;CPU&#x548C;&#x5176;&#x4ED6;&#x8D44;&#x6E90;&#xFF0C;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5229;&#x7528;&#x7387;&#x3002;&#x5F88;&#x591A;&#x4EBA;&#x5C31;&#x4E0D;&#x7406;&#x89E3;&#x4E86;&#xFF0C;&#x65E2;&#x7136;&#x8FDB;&#x7A0B;&#x8FD9;&#x4E48;&#x4F18;&#x79C0;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD8;&#x8981;&#x7EBF;&#x7A0B;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#xFF0C;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x8FDB;&#x7A0B;&#x8FD8;&#x662F;&#x6709;&#x5F88;&#x591A;&#x7F3A;&#x9677;&#x7684;&#xFF0C;&#x4E3B;&#x8981;&#x4F53;&#x73B0;&#x5728;&#x4E24;&#x70B9;&#x4E0A;&#xFF1A; &#x8FDB;&#x7A0B;&#x53EA;&#x80FD;&#x5728;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x5E72;&#x4E00;&#x4EF6;&#x4E8B;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x540C;&#x65F6;&#x5E72;&#x4E24;&#x4EF6;&#x4E8B;&#x6216;&#x591A;&#x4EF6;&#x4E8B;&#xFF0C;&#x8FDB;&#x7A0B;&#x5C31;&#x65E0;&#x80FD;&#x4E3A;&#x529B;&#x4E86;&#x3002; &#x8FDB;&#x7A0B;&#x5728;&#x6267;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x5982;&#x679C;&#x963B;&#x585E;&#xFF0C;&#x4F8B;&#x5982;&#x7B49;&#x5F85;&#x8F93;&#x5165;&#xFF0C;&#x6574;&#x4E2A;&#x8FDB;&#x7A0B;&#x5C31;&#x4F1A;&#x6302;&#x8D77;&#xFF0C;&#x5373;&#x4F7F;&#x8FDB;&#x7A0B;&#x4E2D;&#x6709;&#x4E9B;&#x5DE5;&#x4F5C;&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;&#x8F93;&#x5165;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E5F;&#x5C06;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528;qq&#x804A;&#x5929;&#xFF0C; qq&#x505A;&#x4E3A;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x8FDB;&#x7A0B;&#x5982;&#x679C;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x53EA;&#x80FD;&#x5E72;&#x4E00;&#x4EF6;&#x4E8B;&#xFF0C;&#x90A3;&#x4ED6;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B; &#x5373;&#x80FD;&#x76D1;&#x542C;&#x952E;&#x76D8;&#x8F93;&#x5165;&#x3001;&#x53C8;&#x80FD;&#x76D1;&#x542C;&#x5176;&#x5B83;&#x4EBA;&#x7ED9;&#x4F60;&#x53D1;&#x7684;&#x6D88;&#x606F;&#x3001;&#x540C;&#x65F6;&#x8FD8;&#x80FD;&#x628A;&#x522B;&#x4EBA;&#x53D1;&#x7684;&#x6D88;&#x606F;&#x663E;&#x793A;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x5462;&#xFF1F;&#x4F60;&#x4F1A;&#x8BF4;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0D;&#x662F;&#x6709;&#x5206;&#x65F6;&#x4E48;&#xFF1F;&#x4F46;&#x6211;&#x7684;&#x4EB2;&#xFF0C;&#x5206;&#x65F6;&#x662F;&#x6307;&#x5728;&#x4E0D;&#x540C;&#x8FDB;&#x7A0B;&#x95F4;&#x7684;&#x5206;&#x65F6;&#x5440;&#xFF0C; &#x5373;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x4E00;&#x4F1A;&#x4F60;&#x7684;qq&#x4EFB;&#x52A1;&#xFF0C;&#x53C8;&#x5207;&#x6362;&#x5230;word&#x6587;&#x6863;&#x4EFB;&#x52A1;&#x4E0A;&#x4E86;&#xFF0C;&#x6BCF;&#x4E2A;cpu&#x65F6;&#x95F4;&#x7247;&#x5206;&#x7ED9;&#x4F60;&#x7684;qq&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x4F60;&#x7684;qq&#x8FD8;&#x662F;&#x53EA;&#x80FD;&#x540C;&#x65F6;&#x5E72;&#x4E00;&#x4EF6;&#x4E8B;&#x5440;&#x3002; &#x518D;&#x76F4;&#x767D;&#x4E00;&#x70B9;&#xFF0C; &#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5C31;&#x50CF;&#x662F;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#xFF0C;&#x5DE5;&#x5382;&#x91CC;&#x9762;&#x6709;&#x5F88;&#x591A;&#x4E2A;&#x751F;&#x4EA7;&#x8F66;&#x95F4;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x8F66;&#x95F4;&#x751F;&#x4EA7;&#x4E0D;&#x540C;&#x7684;&#x4EA7;&#x54C1;&#xFF0C;&#x6BCF;&#x4E2A;&#x8F66;&#x95F4;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E14;&#x4F60;&#x7684;&#x5DE5;&#x5382;&#x53C8;&#x7A77;&#xFF0C;&#x4F9B;&#x7535;&#x4E0D;&#x8DB3;&#xFF0C;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x53EA;&#x80FD;&#x7ED9;&#x4E00;&#x4E2A;&#x8F66;&#x95F4;&#x4F9B;&#x7535;&#xFF0C;&#x4E3A;&#x4E86;&#x80FD;&#x8BA9;&#x6240;&#x6709;&#x8F66;&#x95F4;&#x90FD;&#x80FD;&#x540C;&#x65F6;&#x751F;&#x4EA7;&#xFF0C;&#x4F60;&#x7684;&#x5DE5;&#x5382;&#x7684;&#x7535;&#x5DE5;&#x53EA;&#x80FD;&#x7ED9;&#x4E0D;&#x540C;&#x7684;&#x8F66;&#x95F4;&#x5206;&#x65F6;&#x4F9B;&#x7535;&#xFF0C;&#x4F46;&#x662F;&#x8F6E;&#x5230;&#x4F60;&#x7684;qq&#x8F66;&#x95F4;&#x65F6;&#xFF0C;&#x53D1;&#x73B0;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5E72;&#x6D3B;&#x7684;&#x5DE5;&#x4EBA;&#xFF0C;&#x7ED3;&#x679C;&#x751F;&#x4EA7;&#x6548;&#x7387;&#x6781;&#x4F4E;&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x3002;&#x3002;&#x3002;&#x3002;&#x6CA1;&#x9519;&#xFF0C;&#x4F60;&#x80AF;&#x5B9A;&#x60F3;&#x5230;&#x4E86;&#xFF0C;&#x5C31;&#x662F;&#x591A;&#x52A0;&#x51E0;&#x4E2A;&#x5DE5;&#x4EBA;&#xFF0C;&#x8BA9;&#x51E0;&#x4E2A;&#x4EBA;&#x5DE5;&#x4EBA;&#x5E76;&#x884C;&#x5DE5;&#x4F5C;&#xFF0C;&#x8FD9;&#x6BCF;&#x4E2A;&#x5DE5;&#x4EBA;&#xFF0C;&#x5C31;&#x662F;&#x7EBF;&#x7A0B;&#xFF01; &#x7EBF;&#x7A0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E2D;&#x53EF;&#x4EE5;&#x5F00;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x6709;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x505A;&#x6210;&#x7EBF;&#x7A0B;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x4E00;&#x5957;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x90FD;&#x505A;&#x6210;&#x8FDB;&#x7A0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x72EC;&#x5360;&#x4E00;&#x5757;&#x5185;&#x5B58;&#xFF0C;&#x90A3;&#x8FD9;&#x5957;&#x6570;&#x636E;&#x5C31;&#x8981;&#x590D;&#x5236;&#x597D;&#x51E0;&#x4EFD;&#x7ED9;&#x6BCF;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#x4E0D;&#x5408;&#x7406;&#xFF0C;&#x6240;&#x4EE5;&#x6709;&#x4E86;&#x7EBF;&#x7A0B;&#x3002; &#x7EBF;&#x7A0B;&#x53C8;&#x53EB;&#x8F7B;&#x91CF;&#x7EA7;&#x8FDB;&#x7A0B;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x7684;cpu&#x6267;&#x884C;&#x5355;&#x5143;&#xFF0C;&#x4E5F;&#x662F;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x5143;&#x3002;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x6700;&#x5C11;&#x4E5F;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x901A;&#x8FC7;threading&#x6A21;&#x5757;&#xFF0C;&#x5728;&#x5F00;&#x5B50;&#x7EBF;&#x7A0B; &#x8FDB;&#x7A0B;&#x7EBF;&#x7A0B;&#x7684;&#x5173;&#x7CFB;&#x548C;&#x533A;&#x522B;&#x5173;&#x7CFB; &#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x53EA;&#x80FD;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x4F46;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B; &#x8D44;&#x6E90;&#x5206;&#x914D;&#x7ED9;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FDB;&#x7A0B;&#x662F;&#x7A0B;&#x5E8F;&#x7684;&#x4E3B;&#x4F53;&#xFF0C;&#x540C;&#x4E00;&#x8FDB;&#x7A0B;&#x7684;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90; cpu&#x5206;&#x914D;&#x7ED9;&#x7EBF;&#x7A0B;&#xFF0C;&#x5373;&#x771F;&#x6B63;&#x5728;cpu&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x662F;&#x7EBF;&#x7A0B; &#x7EBF;&#x7A0B;&#x662F;&#x6700;&#x5C0F;&#x7684;&#x6267;&#x884C;&#x5355;&#x5143;&#xFF0C;&#x8FDB;&#x7A0B;&#x662F;&#x6700;&#x5C0F;&#x7684;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5355;&#x5143; &#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x91CC;&#x7684;&#x7EBF;&#x7A0B;&#x662F;&#x5171;&#x4EAB;&#x540C;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x7684; &#x533A;&#x522B; &#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x901F;&#x5EA6;&#x6CA1;&#x6709;&#x53EF;&#x6BD4;&#x6027;&#xFF0C;&#x8FDB;&#x7A0B;&#x662F;&#x8D44;&#x6E90;&#x96C6;&#x5408;&#xFF0C;&#x7EBF;&#x7A0B;&#x662F;&#x6267;&#x884C;&#x5355;&#x4F4D;&#xFF1B;&#x5982;&#x679C;&#x8FD9;&#x4E48;&#x95EE;&#xFF0C;&#x5C31;&#x662F;&#x95EE;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x90A3;&#x4E2A;&#x5FEB;&#xFF0C;&#x5B9E;&#x9645;&#x662F;&#x4E00;&#x6837;&#x7684; &#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF1B;&#x8FDB;&#x7A0B;&#x5185;&#x5B58;&#x662F;&#x72EC;&#x7ACB;&#x7684; &#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x7EBF;&#x7A0B;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF1B;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x60F3;&#x901A;&#x4FE1;&#xFF0C;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EE3;&#x7406;&#x6765;&#x5B9E;&#x73B0; &#x521B;&#x5EFA;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#x5BB9;&#x6613;&#xFF0C;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x9700;&#x8981;&#x5BF9;&#x5176;&#x7236;&#x8FDB;&#x7A0B;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x514B;&#x9686; &#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x548C;&#x64CD;&#x4F5C;&#x540C;&#x4E00;&#x8FDB;&#x7A0B;&#x91CC;&#x7684;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#xFF1B;&#x8FDB;&#x7A0B;&#x53EA;&#x80FD;&#x64CD;&#x4F5C;&#x5B50;&#x8FDB;&#x7A0B; &#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x7528;&#x591A;&#x7EBF;&#x7A0B; python&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5047;&#x7684; io&#x64CD;&#x4F5C;&#x4E0D;&#x5360;&#x7528;cpu &#x8BA1;&#x7B97;&#x5360;&#x7528;cpu 1+1 python &#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x4E0D;&#x9002;&#x5408;cpu&#x5BC6;&#x96C6;&#x64CD;&#x4F5C;&#x578B;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x9002;&#x5408;io&#x64CD;&#x4F5C;&#x5BC6;&#x96C6;&#x578B;&#x7684;&#x4EFB;&#x52A1; threading&#x6A21;&#x5757;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x662F;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x6709;&#x4E24;&#x79CD;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x7684;&#x65B9;&#x6CD5;&#xFF1A; &#x76F4;&#x63A5;&#x521B;&#x5EFA;123456789101112131415import threadingimport timedef foo(n): print(&apos;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;%s&apos; % n) time.sleep(3) print(&apos;tread 1&apos;)t1 = threading.Thread(target=foo, args=(2,))# arg&#x540E;&#x9762;&#x4E00;&#x5B9A;&#x662F;&#x5143;&#x7EC4;&#xFF0C;t1&#x5C31;&#x662F;&#x521B;&#x5EFA;&#x7684;&#x5B50;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;t1.start() # &#x628A;&#x5B50;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x8D77;&#x6765;print(&apos;ending&apos;) &#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B; &#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x662F;&#xFF1A;&#x5148;&#x6253;&#x5370;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;2&#xFF0C;&#x5728;&#x6253;&#x5370;ending,&#x7136;&#x540E;&#x7B49;&#x5F85;3&#x79D2;&#x540E;&#x6253;&#x5370;thread 1 &#x901A;&#x8FC7;&#x7EE7;&#x627F;&#x7C7B;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;123456789101112131415161718import threadingimport timeclass MyThread(threading.Thread): def __init__(self): #threading.Thread.__init__(self) super(MyThread,self).__init__() def run(self): print(&apos;ok&apos;) time.sleep(2) print(&apos;end&apos;)t1 = MyThread() # &#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;t1.start() # &#x6FC0;&#x6D3B;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;print(&apos;end again&apos;) # &#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x7684;&#x65B9;&#x5F0F; join&#xFF08;&#xFF09;&#x65B9;&#x6CD5;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x4F5C;&#x7528;&#x662F;&#xFF1A;&#x5728;&#x5B50;&#x7EBF;&#x7A0B;&#x5B8C;&#x6210;&#x8FD0;&#x884C;&#x4E4B;&#x524D;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B;&#x7684;&#x7236;&#x7EBF;&#x7A0B;&#x5C06;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x5B50;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x5B8C;&#x518D;&#x8FD0;&#x884C; 1234567891011121314151617181920212223import threadingimport timedef foo(n): print(&apos;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;%s&apos; % n) time.sleep(2) print(&apos;tread &apos;, n, threading.current_thread())s = time.time()t_objs = []for i in range(50): t = threading.Thread(target=foo, args=(2,)) t.start() # &#x628A;&#x5B50;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x8D77;&#x6765; t_objs.append(t)for t in t_objs: t.join()print(time.time() - s)print(&apos;ending&apos;,threading.current_thread()) setDaemon()&#x65B9;&#x6CD5;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x628A;&#x7EBF;&#x7A0B;&#x58F0;&#x660E;&#x4E3A;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#xFF0C;&#x5FC5;&#x987B;&#x5728;start()&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x8BBE;&#x7F6E;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E3B;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x5B8C;&#x4F1A;&#x68C0;&#x67E5;&#x5B50;&#x7EBF;&#x7A0B;&#x662F;&#x5426;&#x5B8C;&#x6210;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x5B8C;&#x6210;&#xFF0C;&#x90A3;&#x4E48;&#x4E3B;&#x7EBF;&#x7A0B;&#x4F1A;&#x7B49;&#x5F85;&#x5B50;&#x7EBF;&#x7A0B;&#x5B8C;&#x6210;&#x540E;&#x518D;&#x9000;&#x51FA;&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4E3B;&#x7EBF;&#x7A0B;&#x5B8C;&#x6210;&#x540E;&#x4E0D;&#x7528;&#x7BA1;&#x5B50;&#x7EBF;&#x7A0B;&#x662F;&#x5426;&#x8FD0;&#x884C;&#x5B8C;&#x90FD;&#x9000;&#x51FA;&#xFF0C;&#x5C31;&#x8981;&#x8BBE;&#x7F6E;setDaemon&#xFF08;True&#xFF09; 123456789101112131415161718import threadingimport timeclass MyThread(threading.Thread): def __init__(self): threading.Thread.__init__(self) def run(self): print(&apos;ok&apos;) time.sleep(2) print(&apos;end&apos;)t1=MyThread()#&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;t1.setDaemon(True)t1.start()#&#x6FC0;&#x6D3B;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;print(&apos;end again&apos;)#&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x662F;&#x9A6C;&#x4E0A;&#x6253;&#x5370;ok&#x548C; end again #&#x7136;&#x540E;&#x7A0B;&#x5E8F;&#x7EC8;&#x6B62;&#xFF0C;&#x4E0D;&#x4F1A;&#x6253;&#x5370;end &#x4E3B;&#x7EBF;&#x7A0B;&#x9ED8;&#x8BA4;&#x662F;&#x975E;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#xFF0C;&#x5B50;&#x7EBF;&#x7A0B;&#x90FD;&#x662F;&#x7EE7;&#x627F;&#x7684;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x6240;&#x4EE5;&#x9ED8;&#x8BA4;&#x4E5F;&#x90FD;&#x662F;&#x975E;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B; &#x5176;&#x4ED6;&#x65B9;&#x6CD5; isAlive(): &#x8FD4;&#x56DE;&#x7EBF;&#x7A0B;&#x662F;&#x5426;&#x5904;&#x4E8E;&#x6D3B;&#x52A8;&#x4E2D; getName(): &#x8FD4;&#x56DE;&#x7EBF;&#x7A0B;&#x540D; setName(): &#x8BBE;&#x7F6E;&#x7EBF;&#x7A0B;&#x540D; threading.current_Thread():&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x7684;&#x7EBF;&#x7A0B;&#x53D8;&#x91CF; threading.enumerate():&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x7684;&#x5217;&#x8868; threading.active_Count():&#x8FD4;&#x56DE;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x6570;&#x91CF; GIL&#x5168;&#x5C40;&#x89E3;&#x91CA;&#x5668;&#x9501;&#x65E0;&#x8BBA;&#x4F60;&#x542F;&#x591A;&#x5C11;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x4F60;&#x6709;&#x591A;&#x5C11;&#x4E2A;cpu, Python&#x5728;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x6DE1;&#x5B9A;&#x7684;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x53EA;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C; &#x9996;&#x5148;&#x9700;&#x8981;&#x660E;&#x786E;&#x7684;&#x4E00;&#x70B9;&#x662F;GIL&#x5E76;&#x4E0D;&#x662F;Python&#x7684;&#x7279;&#x6027;&#xFF0C;&#x5B83;&#x662F;&#x5728;&#x5B9E;&#x73B0;Python&#x89E3;&#x6790;&#x5668;(CPython)&#x65F6;&#x6240;&#x5F15;&#x5165;&#x7684;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#x3002;&#x5C31;&#x597D;&#x6BD4;C++&#x662F;&#x4E00;&#x5957;&#x8BED;&#x8A00;&#xFF08;&#x8BED;&#x6CD5;&#xFF09;&#x6807;&#x51C6;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x6765;&#x7F16;&#x8BD1;&#x6210;&#x53EF;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x3002;&#x6709;&#x540D;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x4F8B;&#x5982;GCC&#xFF0C;INTEL C++&#xFF0C;Visual C++&#x7B49;&#x3002;Python&#x4E5F;&#x4E00;&#x6837;&#xFF0C;&#x540C;&#x6837;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;CPython&#xFF0C;PyPy&#xFF0C;Psyco&#x7B49;&#x4E0D;&#x540C;&#x7684;Python&#x6267;&#x884C;&#x73AF;&#x5883;&#x6765;&#x6267;&#x884C;&#x3002;&#x50CF;&#x5176;&#x4E2D;&#x7684;JPython&#x5C31;&#x6CA1;&#x6709;GIL&#x3002;&#x7136;&#x800C;&#x56E0;&#x4E3A;CPython&#x662F;&#x5927;&#x90E8;&#x5206;&#x73AF;&#x5883;&#x4E0B;&#x9ED8;&#x8BA4;&#x7684;Python&#x6267;&#x884C;&#x73AF;&#x5883;&#x3002;&#x6240;&#x4EE5;&#x5728;&#x5F88;&#x591A;&#x4EBA;&#x7684;&#x6982;&#x5FF5;&#x91CC;CPython&#x5C31;&#x662F;Python&#xFF0C;&#x4E5F;&#x5C31;&#x60F3;&#x5F53;&#x7136;&#x7684;&#x628A;GIL&#x5F52;&#x7ED3;&#x4E3A;Python&#x8BED;&#x8A00;&#x7684;&#x7F3A;&#x9677;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x8981;&#x5148;&#x660E;&#x786E;&#x4E00;&#x70B9;&#xFF1A;GIL&#x5E76;&#x4E0D;&#x662F;Python&#x7684;&#x7279;&#x6027;&#xFF0C;Python&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;GIL &#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x900F;&#x5F7B;&#x7684;&#x5256;&#x6790;&#x4E86;GIL&#x5BF9;python&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x5F3A;&#x70C8;&#x63A8;&#x8350;&#x770B;&#x4E00;&#x4E0B;&#xFF1A;http://www.dabeaz.com/python/UnderstandingGIL.pdf &#x7EBF;&#x7A0B;&#x9501;(&#x4E92;&#x65A5;&#x9501;Mutex)&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E0B;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x540C;&#x4E00;&#x4EFD;&#x6570;&#x636E;&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x5982;&#x679C;2&#x4E2A;&#x7EBF;&#x7A0B;&#x540C;&#x65F6;&#x8981;&#x4FEE;&#x6539;&#x540C;&#x4E00;&#x4EFD;&#x6570;&#x636E;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x4EC0;&#x4E48;&#x72B6;&#x51B5;&#xFF1F; 123456789101112131415161718192021import timeimport threading def addNum(): global num #&#x5728;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E2D;&#x90FD;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;&#x5168;&#x5C40;&#x53D8;&#x91CF; print(&apos;--get num:&apos;,num ) time.sleep(1) num -=1 #&#x5BF9;&#x6B64;&#x516C;&#x5171;&#x53D8;&#x91CF;&#x8FDB;&#x884C;-1&#x64CD;&#x4F5C; num = 100 #&#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x5171;&#x4EAB;&#x53D8;&#x91CF;thread_list = []for i in range(100): t = threading.Thread(target=addNum) t.start() thread_list.append(t) for t in thread_list: #&#x7B49;&#x5F85;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x6BD5; t.join() print(&apos;final num:&apos;, num ) &#x6B63;&#x5E38;&#x6765;&#x8BB2;&#xFF0C;&#x8FD9;&#x4E2A;num&#x7ED3;&#x679C;&#x5E94;&#x8BE5;&#x662F;0&#xFF0C; &#x4F46;&#x5728;python 2.7&#x4E0A;&#x591A;&#x8FD0;&#x884C;&#x51E0;&#x6B21;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x6700;&#x540E;&#x6253;&#x5370;&#x51FA;&#x6765;&#x7684;num&#x7ED3;&#x679C;&#x4E0D;&#x603B;&#x662F;0&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x6BCF;&#x6B21;&#x8FD0;&#x884C;&#x7684;&#x7ED3;&#x679C;&#x4E0D;&#x4E00;&#x6837;&#x5462;&#xFF1F; &#x54C8;&#xFF0C;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5047;&#x8BBE;&#x4F60;&#x6709;A,B&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x6B64;&#x65F6;&#x90FD; &#x8981;&#x5BF9;num &#x8FDB;&#x884C;&#x51CF;1&#x64CD;&#x4F5C;&#xFF0C; &#x7531;&#x4E8E;2&#x4E2A;&#x7EBF;&#x7A0B;&#x662F;&#x5E76;&#x53D1;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x6240;&#x4EE5;2&#x4E2A;&#x7EBF;&#x7A0B;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x540C;&#x65F6;&#x62FF;&#x8D70;&#x4E86;num=100&#x8FD9;&#x4E2A;&#x521D;&#x59CB;&#x53D8;&#x91CF;&#x4EA4;&#x7ED9;cpu&#x53BB;&#x8FD0;&#x7B97;&#xFF0C;&#x5F53;A&#x7EBF;&#x7A0B;&#x53BB;&#x5904;&#x5B8C;&#x7684;&#x7ED3;&#x679C;&#x662F;99&#xFF0C;&#x4F46;&#x6B64;&#x65F6;B&#x7EBF;&#x7A0B;&#x8FD0;&#x7B97;&#x5B8C;&#x7684;&#x7ED3;&#x679C;&#x4E5F;&#x662F;99&#xFF0C;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x540C;&#x65F6;CPU&#x8FD0;&#x7B97;&#x7684;&#x7ED3;&#x679C;&#x518D;&#x8D4B;&#x503C;&#x7ED9;num&#x53D8;&#x91CF;&#x540E;&#xFF0C;&#x7ED3;&#x679C;&#x5C31;&#x90FD;&#x662F;99&#x3002;&#x90A3;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F; &#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x5728;&#x8981;&#x4FEE;&#x6539;&#x516C;&#x5171;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x81EA;&#x5DF1;&#x5728;&#x8FD8;&#x6CA1;&#x6539;&#x5B8C;&#x7684;&#x65F6;&#x5019;&#x522B;&#x4EBA;&#x4E5F;&#x6765;&#x4FEE;&#x6539;&#x6B64;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x7ED9;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x52A0;&#x4E00;&#x628A;&#x9501;&#xFF0C; &#x8FD9;&#x6837;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x60F3;&#x4FEE;&#x6539;&#x6B64;&#x6570;&#x636E;&#x65F6;&#x5C31;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x4F60;&#x4FEE;&#x6539;&#x5B8C;&#x6BD5;&#x5E76;&#x628A;&#x9501;&#x91CA;&#x653E;&#x6389;&#x540E;&#x624D;&#x80FD;&#x518D;&#x8BBF;&#x95EE;&#x6B64;&#x6570;&#x636E;&#x3002; *&#x6CE8;&#xFF1A;&#x4E0D;&#x8981;&#x5728;3.x&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x77E5;&#x4E3A;&#x4EC0;&#x4E48;&#xFF0C;3.x&#x4E0A;&#x7684;&#x7ED3;&#x679C;&#x603B;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x81EA;&#x52A8;&#x52A0;&#x4E86;&#x9501; &#x9996;&#x6B21;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x53D8;&#x91CF;num=100,&#x7136;&#x540E;&#x5F00;&#x8F9F;&#x4E86;100&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B;&#xFF0C;&#x4F46;&#x662F;Python&#x7684;&#x90A3;&#x628A;GIL&#x9501;&#x9650;&#x5236;&#x4E86;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4F7F;&#x7528;cpu&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;100&#x4E2A;&#x7EBF;&#x7A0B;&#x662F;&#x5904;&#x4E8E;&#x62A2;&#x8FD9;&#x628A;&#x9501;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x8C01;&#x62A2;&#x5230;&#x4E86;&#xFF0C;&#x8C01;&#x5C31;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x5728;&#x6700;&#x5F00;&#x59CB;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x62A2;&#x5230;cpu&#xFF0C;&#x9A6C;&#x4E0A;&#x6267;&#x884C;&#x4E86;&#x5BF9;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x51CF;&#x4E00;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x3002;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x6539;&#x52A8;&#x540E;&#xFF0C;&#x5728;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x51CF;&#x4E00;&#x4E4B;&#x524D;&#xFF0C;&#x8BA9;&#x4ED6;&#x7761;&#x4E86;0.1&#x79D2;&#xFF0C;&#x7A0B;&#x5E8F;&#x7761;&#x7740;&#x4E86;&#xFF0C;cpu&#x53EF;&#x4E0D;&#x80FD;&#x4E00;&#x76F4;&#x7B49;&#x7740;&#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5F53;&#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;I/O&#x963B;&#x585E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x5C31;&#x53C8;&#x53EF;&#x4EE5;&#x62A2;cpu&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x62A2;&#x5230;&#x4E86;&#xFF0C;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x8981;&#x77E5;&#x9053;0.1&#x79D2;&#x5BF9;&#x4E8E;cpu&#x7684;&#x8FD0;&#x884C;&#x6765;&#x8BF4;&#x5DF2;&#x7ECF;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x8DB3;&#x591F;&#x8BA9;&#x7B2C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8FD8;&#x6CA1;&#x7761;&#x9192;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x90FD;&#x62A2;&#x5230;&#x8FC7;cpu&#x4E00;&#x6B21;&#x4E86;&#x3002;&#x4ED6;&#x4EEC;&#x62FF;&#x5230;&#x7684;num&#x90FD;&#x662F;100&#xFF0C;&#x7B49;&#x4ED6;&#x4EEC;&#x9192;&#x6765;&#x540E;&#xFF0C;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x662F;100-1,&#x6240;&#x4EE5;&#x6700;&#x540E;&#x7ED3;&#x679C;&#x662F;99.&#x540C;&#x6837;&#x7684;&#x9053;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x7761;&#x7684;&#x65F6;&#x95F4;&#x77ED;&#x4E00;&#x70B9;&#xFF0C;&#x53D8;&#x6210;0.001&#xFF0C;&#x53EF;&#x80FD;&#x60C5;&#x51B5;&#x5C31;&#x662F;&#x5F53;&#x7B2C;91&#x4E2A;&#x7EBF;&#x7A0B;&#x7B2C;&#x4E00;&#x6B21;&#x62A2;&#x5230;cpu&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5DF2;&#x7ECF;&#x7761;&#x9192;&#x4E86;&#xFF0C;&#x5E76;&#x4FEE;&#x6539;&#x4E86;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x7B2C;91&#x4E2A;&#x7EBF;&#x7A0B;&#x62FF;&#x5230;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5C31;&#x662F;99&#xFF0C;&#x7136;&#x540E;&#x7B2C;&#x4E8C;&#x4E2A;&#x7B2C;&#x4E09;&#x4E2A;&#x7EBF;&#x7A0B;&#x9646;&#x7EED;&#x9192;&#x8FC7;&#x6765;&#xFF0C;&#x5206;&#x522B;&#x4FEE;&#x6539;&#x4E86;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x6240;&#x4EE5;&#x6700;&#x540E;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x77E5;&#x7684;&#x6570;&#x4E86;&#x3002;&#x4E00;&#x5F20;&#x56FE;&#x770B;&#x61C2;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B; &#x52A0;&#x9501;&#x7248;&#x672C; 1234567891011121314151617181920212223import timeimport threadingdef addNum(): global num #&#x5728;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E2D;&#x90FD;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;&#x5168;&#x5C40;&#x53D8;&#x91CF; print(&apos;--get num:&apos;,num ) time.sleep(1) lock.acquire() #&#x4FEE;&#x6539;&#x6570;&#x636E;&#x524D;&#x52A0;&#x9501; num -=1 #&#x5BF9;&#x6B64;&#x516C;&#x5171;&#x53D8;&#x91CF;&#x8FDB;&#x884C;-1&#x64CD;&#x4F5C; lock.release() #&#x4FEE;&#x6539;&#x540E;&#x91CA;&#x653E; num = 100 #&#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x5171;&#x4EAB;&#x53D8;&#x91CF;thread_list = []lock = threading.Lock() #&#x751F;&#x6210;&#x5168;&#x5C40;&#x9501;for i in range(100): t = threading.Thread(target=addNum) t.start() thread_list.append(t) for t in thread_list: #&#x7B49;&#x5F85;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x6BD5; t.join() print(&apos;final num:&apos;, num ) GIL VS Lock&#x673A;&#x667A;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x4F1A;&#x95EE;&#x5230;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x662F;&#x65E2;&#x7136;&#x4F60;&#x4E4B;&#x524D;&#x8BF4;&#x8FC7;&#x4E86;&#xFF0C;Python&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x4E2A;GIL&#x6765;&#x4FDD;&#x8BC1;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6765;&#x6267;&#x884C;&#x4E86;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x91CC;&#x8FD8;&#x9700;&#x8981;lock? &#x6CE8;&#x610F;&#x5566;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;lock&#x662F;&#x7528;&#x6237;&#x7EA7;&#x7684;lock,&#x8DDF;&#x90A3;&#x4E2A;GIL&#x6CA1;&#x5173;&#x7CFB; &#xFF0C;&#x5177;&#x4F53;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E0B;&#x56FE;&#x6765;&#x770B;&#x4E00;&#x4E0B;+&#x914D;&#x5408;&#x6211;&#x73B0;&#x573A;&#x8BB2;&#x7ED9;&#x5927;&#x5BB6;&#xFF0C;&#x5C31;&#x660E;&#x767D;&#x4E86;&#x3002; &#x90A3;&#x4F60;&#x53C8;&#x95EE;&#x4E86;&#xFF0C; &#x65E2;&#x7136;&#x7528;&#x6237;&#x7A0B;&#x5E8F;&#x5DF2;&#x7ECF;&#x81EA;&#x5DF1;&#x6709;&#x9501;&#x4E86;&#xFF0C;&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;C python&#x8FD8;&#x9700;&#x8981;GIL&#x5462;&#xFF1F;&#x52A0;&#x5165;GIL&#x4E3B;&#x8981;&#x7684;&#x539F;&#x56E0;&#x662F;&#x4E3A;&#x4E86;&#x964D;&#x4F4E;&#x7A0B;&#x5E8F;&#x7684;&#x5F00;&#x53D1;&#x7684;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x6BD4;&#x5982;&#x73B0;&#x5728;&#x7684;&#x4F60;&#x5199;python&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x5185;&#x5B58;&#x56DE;&#x6536;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;Python&#x89E3;&#x91CA;&#x5668;&#x5E2E;&#x4F60;&#x81EA;&#x52A8;&#x5B9A;&#x671F;&#x8FDB;&#x884C;&#x5185;&#x5B58;&#x56DE;&#x6536;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;python&#x89E3;&#x91CA;&#x5668;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x6BCF;&#x8FC7;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5B83;&#x8D77;wake up&#x505A;&#x4E00;&#x6B21;&#x5168;&#x5C40;&#x8F6E;&#x8BE2;&#x770B;&#x770B;&#x54EA;&#x4E9B;&#x5185;&#x5B58;&#x6570;&#x636E;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x6E05;&#x7A7A;&#x7684;&#xFF0C;&#x6B64;&#x65F6;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x7A0B;&#x5E8F; &#x91CC;&#x7684;&#x7EBF;&#x7A0B;&#x548C; py&#x89E3;&#x91CA;&#x5668;&#x81EA;&#x5DF1;&#x7684;&#x7EBF;&#x7A0B;&#x662F;&#x5E76;&#x53D1;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x5047;&#x8BBE;&#x4F60;&#x7684;&#x7EBF;&#x7A0B;&#x5220;&#x9664;&#x4E86;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;py&#x89E3;&#x91CA;&#x5668;&#x7684;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7EBF;&#x7A0B;&#x5728;&#x6E05;&#x7A7A;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;clearing&#x65F6;&#x523B;&#xFF0C;&#x53EF;&#x80FD;&#x4E00;&#x4E2A;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x6B63;&#x597D;&#x53C8;&#x91CD;&#x65B0;&#x7ED9;&#x8FD9;&#x4E2A;&#x8FD8;&#x6CA1;&#x6765;&#x53CA;&#x5F97;&#x6E05;&#x7A7A;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x8D4B;&#x503C;&#x4E86;&#xFF0C;&#x7ED3;&#x679C;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x65B0;&#x8D4B;&#x503C;&#x7684;&#x6570;&#x636E;&#x88AB;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x7C7B;&#x4F3C;&#x7684;&#x95EE;&#x9898;&#xFF0C;python&#x89E3;&#x91CA;&#x5668;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#x7684;&#x52A0;&#x4E86;&#x9501;&#xFF0C;&#x5373;&#x5F53;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x5176;&#x5B83;&#x4EBA;&#x90FD;&#x4E0D;&#x80FD;&#x52A8;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x89E3;&#x51B3;&#x4E86;&#x4E0A;&#x8FF0;&#x7684;&#x95EE;&#x9898;&#xFF0C; &#x8FD9;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;Python&#x65E9;&#x671F;&#x7248;&#x672C;&#x7684;&#x9057;&#x7559;&#x95EE;&#x9898;&#x3002; RLock&#xFF08;&#x9012;&#x5F52;&#x9501;&#xFF09;&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5927;&#x9501;&#x4E2D;&#x8FD8;&#x8981;&#x518D;&#x5305;&#x542B;&#x5B50;&#x9501; 1234567891011121314151617181920212223242526272829303132333435363738import threading,time def run1(): print(&quot;grab the first part data&quot;) lock.acquire() global num num +=1 lock.release() return numdef run2(): print(&quot;grab the second part data&quot;) lock.acquire() global num2 num2+=1 lock.release() return num2def run3(): lock.acquire() res = run1() print(&apos;--------between run1 and run2-----&apos;) res2 = run2() lock.release() print(res,res2) if __name__ == &apos;__main__&apos;: num,num2 = 0,0 lock = threading.RLock() for i in range(10): t = threading.Thread(target=run3) t.start() while threading.active_count() != 1: print(threading.active_count())else: print(&apos;----all threads done---&apos;) print(num,num2) Semaphore(&#x4FE1;&#x53F7;&#x91CF;)&#x4E92;&#x65A5;&#x9501; &#x540C;&#x65F6;&#x53EA;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x66F4;&#x6539;&#x6570;&#x636E;&#xFF0C;&#x800C;Semaphore&#x662F;&#x540C;&#x65F6;&#x5141;&#x8BB8;&#x4E00;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x7EBF;&#x7A0B;&#x66F4;&#x6539;&#x6570;&#x636E; &#xFF0C;&#x6BD4;&#x5982;&#x5395;&#x6240;&#x6709;3&#x4E2A;&#x5751;&#xFF0C;&#x90A3;&#x6700;&#x591A;&#x53EA;&#x5141;&#x8BB8;3&#x4E2A;&#x4EBA;&#x4E0A;&#x5395;&#x6240;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x4EBA;&#x53EA;&#x80FD;&#x7B49;&#x91CC;&#x9762;&#x6709;&#x4EBA;&#x51FA;&#x6765;&#x4E86;&#x624D;&#x80FD;&#x518D;&#x8FDB;&#x53BB;&#x3002; 123456789101112131415161718192021import threading,time def run(n): semaphore.acquire() time.sleep(1) print(&quot;run the thread: %s\n&quot; %n) semaphore.release() if __name__ == &apos;__main__&apos;: num= 0 semaphore = threading.BoundedSemaphore(5) #&#x6700;&#x591A;&#x5141;&#x8BB8;5&#x4E2A;&#x7EBF;&#x7A0B;&#x540C;&#x65F6;&#x8FD0;&#x884C; for i in range(20): t = threading.Thread(target=run,args=(i,)) t.start() while threading.active_count() != 1: pass #print threading.active_count()else: print(&apos;----all threads done---&apos;) print(num) Timer&#x8FD9;&#x4E2A;&#x7C7B;&#x8868;&#x793A;&#x5E94;&#x8BE5;&#x5728;&#x7ECF;&#x8FC7;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x624D;&#x8FD0;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x3002; &#x8BA1;&#x65F6;&#x5668;&#x7684;&#x542F;&#x52A8;&#x65B9;&#x5F0F;&#x4E0E;&#x7EBF;&#x7A0B;&#x4E00;&#x6837;&#xFF0C;&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x5B83;&#x4EEC;&#x7684;start()&#x65B9;&#x6CD5;&#x3002;&#x901A;&#x8FC7;&#x8C03;&#x7528;thecancel()&#x65B9;&#x6CD5;&#xFF0C;&#x8BA1;&#x65F6;&#x5668;&#x53EF;&#x4EE5;&#x88AB;&#x505C;&#x6B62;(&#x5728;&#x5B83;&#x7684;&#x52A8;&#x4F5C;&#x5F00;&#x59CB;&#x4E4B;&#x524D;)&#x3002;&#x5728;&#x6267;&#x884C;&#x5176;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#xFF0C;&#x8BA1;&#x65F6;&#x5668;&#x5C06;&#x7B49;&#x5F85;&#x7684;&#x95F4;&#x9694;&#x53EF;&#x80FD;&#x4E0E;&#x7528;&#x6237;&#x6307;&#x5B9A;&#x7684;&#x95F4;&#x9694;&#x4E0D;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x3002; 12345def hello(): print(&quot;hello, world&quot;) t = Timer(30.0, hello)t.start() # after 30 seconds, &quot;hello, world&quot; will be printed Events &#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8BBE;&#x7F6E;&#x6807;&#x5FD7;&#x4F4D;&#x6765;&#x8BA9;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x8FDB;&#x884C;&#x4EA4;&#x4E92; &#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x64CD;&#x4F5C;&#x6807;&#x5FD7;&#x4F4D; &#x53E6;&#x4E00;&#x4E9B;&#x7EBF;&#x7A0B;&#x67E5;&#x770B;&#x6807;&#x5FD7;&#x4F4D; 1234567891011121314151617181920212223242526272829303132333435import threading,timeimport randomdef light(): if not event.isSet(): event.set() #wait&#x5C31;&#x4E0D;&#x963B;&#x585E; #&#x7EFF;&#x706F;&#x72B6;&#x6001; count = 0 while True: if count &lt; 10: print(&apos;\033[42;1m--green light on---\033[0m&apos;) elif count &lt;13: print(&apos;\033[43;1m--yellow light on---\033[0m&apos;) elif count &lt;20: if event.isSet(): event.clear() print(&apos;\033[41;1m--red light on---\033[0m&apos;) else: count = 0 event.set() #&#x6253;&#x5F00;&#x7EFF;&#x706F; time.sleep(1) count +=1def car(n): while 1: time.sleep(random.randrange(10)) if event.isSet(): #&#x7EFF;&#x706F; print(&quot;car [%s] is running..&quot; % n) else: print(&quot;car [%s] is waiting for the red light..&quot; %n)if __name__ == &apos;__main__&apos;: event = threading.Event() Light = threading.Thread(target=light) Light.start() for i in range(3): t = threading.Thread(target=car,args=(i,)) t.start() &#x8FD9;&#x91CC;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;event&#x4F7F;&#x7528;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5458;&#x5DE5;&#x8FDB;&#x516C;&#x53F8;&#x95E8;&#x8981;&#x5237;&#x5361;&#xFF0C; &#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x662F;&#x201C;&#x95E8;&#x201D;&#xFF0C; &#x518D;&#x8BBE;&#x7F6E;&#x51E0;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E3A;&#x201C;&#x5458;&#x5DE5;&#x201D;&#xFF0C;&#x5458;&#x5DE5;&#x770B;&#x5230;&#x95E8;&#x6CA1;&#x6253;&#x5F00;&#xFF0C;&#x5C31;&#x5237;&#x5361;&#xFF0C;&#x5237;&#x5B8C;&#x5361;&#xFF0C;&#x95E8;&#x5F00;&#x4E86;&#xFF0C;&#x5458;&#x5DE5;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x3002; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#_*_coding:utf-8_*___author__ = &apos;Alex Li&apos;import threadingimport timeimport randomdef door(): door_open_time_counter = 0 while True: if door_swiping_event.is_set(): print(&quot;\033[32;1mdoor opening....\033[0m&quot;) door_open_time_counter +=1 else: print(&quot;\033[31;1mdoor closed...., swipe to open.\033[0m&quot;) door_open_time_counter = 0 #&#x6E05;&#x7A7A;&#x8BA1;&#x65F6;&#x5668; door_swiping_event.wait() if door_open_time_counter &gt; 3:#&#x95E8;&#x5F00;&#x4E86;&#x5DF2;&#x7ECF;3s&#x4E86;,&#x8BE5;&#x5173;&#x4E86; door_swiping_event.clear() time.sleep(0.5)def staff(n): print(&quot;staff [%s] is comming...&quot; % n ) while True: if door_swiping_event.is_set(): print(&quot;\033[34;1mdoor is opened, passing.....\033[0m&quot;) break else: print(&quot;staff [%s] sees door got closed, swipping the card.....&quot; % n) print(door_swiping_event.set()) door_swiping_event.set() print(&quot;after set &quot;,door_swiping_event.set()) time.sleep(0.5)door_swiping_event = threading.Event() #&#x8BBE;&#x7F6E;&#x4E8B;&#x4EF6;door_thread = threading.Thread(target=door)door_thread.start()for i in range(5): p = threading.Thread(target=staff,args=(i,)) time.sleep(random.randrange(3)) p.start() queue&#x961F;&#x5217; &#x7A0B;&#x5E8F;&#x89E3;&#x8026; &#x63D0;&#x9AD8;&#x6548;&#x7387; &#x76F8;&#x5BF9;&#x4E8E;&#x5217;&#x8868;&#xFF0C;&#x961F;&#x5217;&#x7684;&#x6570;&#x636E;&#x53D6;&#x8D70;&#x5C31;&#x6CA1;&#x4E86;&#x3002;&#x3002;&#x3002; class queue.Queue(maxsize=0) #&#x5148;&#x5165;&#x5148;&#x51FA; class queue.LifoQueue(maxsize=0) #last in fisrt out class queue.PriorityQueue(maxsize=0) #&#x5B58;&#x50A8;&#x6570;&#x636E;&#x65F6;&#x53EF;&#x8BBE;&#x7F6E;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x961F;&#x5217; python2 : Queue;python3 : queue 12345678910Queue.qsize() # &#x961F;&#x5217;&#x5927;&#x5C0F;Queue.empty() #return True if empty Queue.full() # return True if full Queue.put(item, block=True, timeout=None)Queue.put_nowait(item)Queue.get(block=True, timeout=None)Queue.get_nowait() # &#x53D6;&#x4E0D;&#x5230;&#x4E0D;&#x7B49;&#x5F85;Queue.task_done()Queue.join() block&#x76F4;&#x5230;queue&#x88AB;&#x6D88;&#x8D39;&#x5B8C;&#x6BD5; &#x751F;&#x4EA7;&#x8005;&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x578B;&#x5728;&#x5E76;&#x53D1;&#x7F16;&#x7A0B;&#x4E2D;&#x4F7F;&#x7528;&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x5F0F;&#x80FD;&#x591F;&#x89E3;&#x51B3;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x5E76;&#x53D1;&#x95EE;&#x9898;&#x3002;&#x8BE5;&#x6A21;&#x5F0F;&#x901A;&#x8FC7;&#x5E73;&#x8861;&#x751F;&#x4EA7;&#x7EBF;&#x7A0B;&#x548C;&#x6D88;&#x8D39;&#x7EBF;&#x7A0B;&#x7684;&#x5DE5;&#x4F5C;&#x80FD;&#x529B;&#x6765;&#x63D0;&#x9AD8;&#x7A0B;&#x5E8F;&#x7684;&#x6574;&#x4F53;&#x5904;&#x7406;&#x6570;&#x636E;&#x7684;&#x901F;&#x5EA6;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F7F;&#x7528;&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x5F0F; &#x5728;&#x7EBF;&#x7A0B;&#x4E16;&#x754C;&#x91CC;&#xFF0C;&#x751F;&#x4EA7;&#x8005;&#x5C31;&#x662F;&#x751F;&#x4EA7;&#x6570;&#x636E;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x5C31;&#x662F;&#x6D88;&#x8D39;&#x6570;&#x636E;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x5F00;&#x53D1;&#x5F53;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x751F;&#x4EA7;&#x8005;&#x5904;&#x7406;&#x901F;&#x5EA6;&#x5F88;&#x5FEB;&#xFF0C;&#x800C;&#x6D88;&#x8D39;&#x8005;&#x5904;&#x7406;&#x901F;&#x5EA6;&#x5F88;&#x6162;&#xFF0C;&#x90A3;&#x4E48;&#x751F;&#x4EA7;&#x8005;&#x5C31;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x6D88;&#x8D39;&#x8005;&#x5904;&#x7406;&#x5B8C;&#xFF0C;&#x624D;&#x80FD;&#x7EE7;&#x7EED;&#x751F;&#x4EA7;&#x6570;&#x636E;&#x3002;&#x540C;&#x6837;&#x7684;&#x9053;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5927;&#x4E8E;&#x751F;&#x4EA7;&#x8005;&#xFF0C;&#x90A3;&#x4E48;&#x6D88;&#x8D39;&#x8005;&#x5C31;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x751F;&#x4EA7;&#x8005;&#x3002;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E8E;&#x662F;&#x5F15;&#x5165;&#x4E86;&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x5F0F;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x751F;&#x4EA7;&#x8005;&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x5F0F; &#x751F;&#x4EA7;&#x8005;&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x6765;&#x89E3;&#x51B3;&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x5F3A;&#x8026;&#x5408;&#x95EE;&#x9898;&#x3002;&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x5F7C;&#x6B64;&#x4E4B;&#x95F4;&#x4E0D;&#x76F4;&#x63A5;&#x901A;&#x8BAF;&#xFF0C;&#x800C;&#x901A;&#x8FC7;&#x963B;&#x585E;&#x961F;&#x5217;&#x6765;&#x8FDB;&#x884C;&#x901A;&#x8BAF;&#xFF0C;&#x6240;&#x4EE5;&#x751F;&#x4EA7;&#x8005;&#x751F;&#x4EA7;&#x5B8C;&#x6570;&#x636E;&#x4E4B;&#x540E;&#x4E0D;&#x7528;&#x7B49;&#x5F85;&#x6D88;&#x8D39;&#x8005;&#x5904;&#x7406;&#xFF0C;&#x76F4;&#x63A5;&#x6254;&#x7ED9;&#x963B;&#x585E;&#x961F;&#x5217;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x4E0D;&#x627E;&#x751F;&#x4EA7;&#x8005;&#x8981;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x4ECE;&#x963B;&#x585E;&#x961F;&#x5217;&#x91CC;&#x53D6;&#xFF0C;&#x963B;&#x585E;&#x961F;&#x5217;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x5E73;&#x8861;&#x4E86;&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#x3002; 12345678910111213141516171819202122import threadingimport queue def producer(): for i in range(10): q.put(&quot;&#x9AA8;&#x5934; %s&quot; % i ) print(&quot;&#x5F00;&#x59CB;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x7684;&#x9AA8;&#x5934;&#x88AB;&#x53D6;&#x8D70;...&quot;) q.join() print(&quot;&#x6240;&#x6709;&#x7684;&#x9AA8;&#x5934;&#x88AB;&#x53D6;&#x5B8C;&#x4E86;...&quot;) def consumer(n): while q.qsize() &gt;0: print(&quot;%s &#x53D6;&#x5230;&quot; %n , q.get()) q.task_done() #&#x544A;&#x77E5;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x5B8C;&#x4E86; q = queue.Queue() p = threading.Thread(target=producer,)p.start() c1 = consumer(&quot;&#x674E;&#x95EF;&quot;) 123456789101112131415161718192021222324252627282930import time,randomimport queue,threadingq = queue.Queue()def Producer(name): count = 0 while count &lt;20: time.sleep(random.randrange(3)) q.put(count) print(&apos;Producer %s has produced %s baozi..&apos; %(name, count)) count +=1 def Consumer(name): count = 0 while count &lt;20: time.sleep(random.randrange(4)) if not q.empty(): data = q.get() print(data) print(&apos;\033[32;1mConsumer %s has eat %s baozi...\033[0m&apos; %(name, data)) else: print(&quot;-----no baozi anymore----&quot;) count +=1p1 = threading.Thread(target=Producer, args=(&apos;A&apos;,))c1 = threading.Thread(target=Consumer, args=(&apos;B&apos;,))p1.start()c1.start() &#x5E76;&#x884C;&#x548C;&#x5E76;&#x53D1;&#x5E76;&#x884C;&#x5904;&#x7406;&#x662F;&#x6307;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x4E2D;&#x80FD;&#x540C;&#x65F6;&#x6267;&#x884C;&#x4E24;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x7684;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x884C;&#x5904;&#x7406;&#x53EF;&#x540C;&#x65F6;&#x5DE5;&#x4F5C;&#x4E8E;&#x540C;&#x4E00;&#x7A0B;&#x5E8F;&#x7684;&#x4E0D;&#x540C;&#x65B9;&#x9762; &#x5E76;&#x53D1;&#x5904;&#x7406;&#x662F;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x6BB5;&#x5185;&#x6709;&#x51E0;&#x4E2A;&#x7A0B;&#x5E8F;&#x90FD;&#x5728;&#x4E00;&#x4E2A;cpu&#x4E2D;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF0C;&#x4F46;&#x4EFB;&#x4E00;&#x65F6;&#x523B;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x5728;cpu&#x4E0A;&#x8FD0;&#x884C;&#x3002; &#x5E76;&#x53D1;&#x7684;&#x91CD;&#x70B9;&#x5728;&#x4E8E;&#x6709;&#x5904;&#x7406;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x4E0D;&#x4E00;&#x5B9A;&#x8981;&#x540C;&#x65F6;&#xFF1B;&#x800C;&#x5E76;&#x884C;&#x7684;&#x91CD;&#x70B9;&#x5728;&#x4E8E;&#x5C31;&#x662F;&#x6709;&#x540C;&#x65F6;&#x5904;&#x7406;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x7684;&#x80FD;&#x529B;&#x3002;&#x5E76;&#x884C;&#x662F;&#x5E76;&#x53D1;&#x7684;&#x5B50;&#x96C6; &#x4EE5;&#x4E0A;&#x6240;&#x8BF4;&#x7684;&#x662F;&#x76F8;&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x8BED;&#x8A00;&#x6765;&#x8BF4;&#x7684;&#xFF0C;Python&#x7684;&#x7279;&#x6B8A;&#x4E4B;&#x5904;&#x5728;&#x4E8E;Python&#x6709;&#x4E00;&#x628A;GIL&#x9501;&#xFF0C;&#x8FD9;&#x628A;&#x9501;&#x9650;&#x5236;&#x4E86;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x5185;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x80FD;&#x4F7F;&#x7528;cpu. &#x591A;&#x8FDB;&#x7A0B;multiprocessing12345678910from multiprocessing import Processimport timedef f(name): time.sleep(2) print(&apos;hello&apos;, name) if __name__ == &apos;__main__&apos;: p = Process(target=f, args=(&apos;bob&apos;,)) p.start() p.join() 12345678910111213141516171819from multiprocessing import Processimport os def info(title): print(title) print(&apos;module name:&apos;, __name__) print(&apos;parent process:&apos;, os.getppid()) print(&apos;process id:&apos;, os.getpid()) print(&quot;\n\n&quot;) def f(name): info(&apos;\033[31;1mfunction f\033[0m&apos;) print(&apos;hello&apos;, name) if __name__ == &apos;__main__&apos;: info(&apos;\033[32;1mmain process line\033[0m&apos;) p = Process(target=f, args=(&apos;bob&apos;,)) p.start() p.join() &#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x8BAF;&#x3000;&#x3000;&#x4E0D;&#x540C;&#x8FDB;&#x7A0B;&#x95F4;&#x5185;&#x5B58;&#x662F;&#x4E0D;&#x5171;&#x4EAB;&#x7684;&#xFF0C;&#x8981;&#x60F3;&#x5B9E;&#x73B0;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x95F4;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x6362;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#xFF1A; Queues&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x8DDF;threading&#x91CC;&#x7684;queue&#x5DEE;&#x4E0D;&#x591A; &#x7236;&#x8FDB;&#x7A0B;&#x514B;&#x9686;&#x4E86;&#x4E00;&#x4EFD;q&#x4F20;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B; &#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x53D8;&#x6210;&#x4E86;&#x4E24;&#x4E2A;q &#x7136;&#x540E;&#x901A;&#x8FC7;&#x4E2D;&#x95F4;&#x7FFB;&#x8BD1;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x6570;&#x636E;&#x8BA9;&#x4E24;&#x4E2A;q&#x5171;&#x4EAB;&#x6570;&#x636E; 1234567891011from multiprocessing import Process, Queue def f(q): q.put([42, None, &apos;hello&apos;]) if __name__ == &apos;__main__&apos;: q = Queue() p = Process(target=f, args=(q,)) p.start() print(q.get()) # prints &quot;[42, None, &apos;hello&apos;]&quot; p.join() Pipes&#x7BA1;&#x9053;The Pipe() function returns a pair of connection objects connected by a pipe which by default is duplex (two-way). For example: 123456789101112from multiprocessing import Process, Pipe def f(conn): conn.send([42, None, &apos;hello&apos;]) conn.close() if __name__ == &apos;__main__&apos;: parent_conn, child_conn = Pipe() p = Process(target=f, args=(child_conn,)) p.start() print(parent_conn.recv()) # prints &quot;[42, None, &apos;hello&apos;]&quot; p.join() ManagersA manager object returned by Manager() controls a server process which holds Python objects and allows other processes to manipulate them using proxies. A manager returned by Manager() will support types list, dict, Namespace, Lock, RLock, Semaphore, BoundedSemaphore, Condition, Event, Barrier, Queue, Value and Array. For example 123456789101112131415161718192021222324from multiprocessing import Process, Manager def f(d, l): d[1] = &apos;1&apos; d[&apos;2&apos;] = 2 d[0.25] = None l.append(1) print(l) if __name__ == &apos;__main__&apos;: with Manager() as manager: d = manager.dict() l = manager.list(range(5)) p_list = [] for i in range(10): p = Process(target=f, args=(d, l)) p.start() p_list.append(p) for res in p_list: res.join() print(d) print(l) &#x8FDB;&#x7A0B;&#x540C;&#x6B65;Without using the lock output from the different processes is liable to get all mixed up. &#x8FDB;&#x7A0B;&#x867D;&#x7136;&#x6BCF;&#x4E2A;&#x90FD;&#x662F;&#x72EC;&#x7ACB;&#x7684; &#x8FDB;&#x7A0B;&#x7684;&#x9501;&#x5B58;&#x5728;&#x7684;&#x610F;&#x4E49;&#x662F;&#x6BD4;&#x5982;&#x6253;&#x5370;&#x5230;&#x5C4F;&#x5E55;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x8BA9;&#x8F93;&#x51FA;&#x4E71;&#x5230;&#x4E00;&#x8D77; 1234567891011121314from multiprocessing import Process, Lock def f(l, i): l.acquire() try: print(&apos;hello world&apos;, i) finally: l.release() if __name__ == &apos;__main__&apos;: lock = Lock() for num in range(10): Process(target=f, args=(lock, num)).start() &#x8FDB;&#x7A0B;&#x6C60;&#x3000;&#x3000;&#x8FDB;&#x7A0B;&#x6C60;&#x5185;&#x90E8;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5E8F;&#x5217;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x5219;&#x53BB;&#x8FDB;&#x7A0B;&#x6C60;&#x4E2D;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x6C60;&#x5E8F;&#x5217;&#x4E2D;&#x6CA1;&#x6709;&#x53EF;&#x4F9B;&#x4F7F;&#x7528;&#x7684;&#x8FDB;&#x8FDB;&#x7A0B;&#xFF0C;&#x90A3;&#x4E48;&#x7A0B;&#x5E8F;&#x5C31;&#x4F1A;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230;&#x8FDB;&#x7A0B;&#x6C60;&#x4E2D;&#x6709;&#x53EF;&#x7528;&#x8FDB;&#x7A0B;&#x4E3A;&#x6B62;&#x3002; &#x540C;&#x4E00;&#x65F6;&#x95F4;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#x8FDB;&#x7A0B;&#x5728;&#x5DE5;&#x4F5C; windows&#x8981;import freeze_support &#x597D;&#x50CF;&#x4E0D;&#x52A0;&#x4E5F;&#x884C; &#x7528;ifmain &#x8FDB;&#x7A0B;&#x6C60;&#x4E2D;&#x6709;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A; apply &#x4E32;&#x884C; apply_async &#x5E76;&#x884C; callback &#x56DE;&#x8C03;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;&#x518D;&#x8C03;&#x7528; 12345678910111213141516171819from multiprocessing import Process,Poolimport time def Foo(i): time.sleep(2) return i+100 def Bar(arg): print(&apos;--&gt;exec done:&apos;,arg) pool = Pool(5) for i in range(10): pool.apply_async(func=Foo, args=(i,),callback=Bar) #pool.apply(func=Foo, args=(i,)) print(&apos;end&apos;)pool.close()pool.join()#&#x8FDB;&#x7A0B;&#x6C60;&#x4E2D;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x518D;&#x5173;&#x95ED;&#xFF0C;&#x5982;&#x679C;&#x6CE8;&#x91CA;&#xFF0C;&#x90A3;&#x4E48;&#x7A0B;&#x5E8F;&#x76F4;&#x63A5;&#x5173;&#x95ED;&#x3002;]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>threading</tag>
        <tag>multiprocessing</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python序列化模块]]></title>
    <url>%2F2018%2F01%2F18%2Fpython-serialize%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;python&#x4E2D;&#x5E8F;&#x5217;&#x5316;&#x7684;&#x6A21;&#x5757; &#x5E8F;&#x5217;&#x5316;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5B66;&#x4E60;&#x8FC7;&#x7528;eval&#x5185;&#x7F6E;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6210;python&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x8FC7;&#xFF0C;eval&#x65B9;&#x6CD5;&#x662F;&#x6709;&#x5C40;&#x9650;&#x6027;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;&#x666E;&#x901A;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;json.loads&#x548C;eval&#x90FD;&#x80FD;&#x7528;&#xFF0C;&#x4F46;&#x9047;&#x5230;&#x7279;&#x6B8A;&#x7C7B;&#x578B;&#x7684;&#x65F6;&#x5019;&#xFF0C;eval&#x5C31;&#x4E0D;&#x7BA1;&#x7528;&#x4E86;,&#x6240;&#x4EE5;eval&#x7684;&#x91CD;&#x70B9;&#x8FD8;&#x662F;&#x901A;&#x5E38;&#x7528;&#x6765;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x3002; 1234import jsonx=&quot;[null,true,false,1]&quot;print(eval(x)) #&#x62A5;&#x9519;&#xFF0C;&#x65E0;&#x6CD5;&#x89E3;&#x6790;null&#x7C7B;&#x578B;&#xFF0C;&#x800C;json&#x5C31;&#x53EF;&#x4EE5;print(json.loads(x)) &#x4EC0;&#x4E48;&#x662F;&#x5E8F;&#x5217;&#x5316;&#xFF1F;&#x6211;&#x4EEC;&#x628A;&#x5BF9;&#x8C61;(&#x53D8;&#x91CF;)&#x4ECE;&#x5185;&#x5B58;&#x4E2D;&#x53D8;&#x6210;&#x53EF;&#x5B58;&#x50A8;&#x6216;&#x4F20;&#x8F93;&#x7684;&#x8FC7;&#x7A0B;&#x79F0;&#x4E4B;&#x4E3A;&#x5E8F;&#x5217;&#x5316;&#xFF0C;&#x5728;Python&#x4E2D;&#x53EB;pickling&#xFF0C;&#x5728;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x4E2D;&#x4E5F;&#x88AB;&#x79F0;&#x4E4B;&#x4E3A;serialization&#xFF0C;marshalling&#xFF0C;flattening&#x7B49;&#x7B49;&#xFF0C;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x610F;&#x601D;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x5E8F;&#x5217;&#x5316;&#xFF1F;&#x6301;&#x4E45;&#x4FDD;&#x5B58;&#x72B6;&#x6001;&#x9700;&#x77E5;&#x4E00;&#x4E2A;&#x8F6F;&#x4EF6;/&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x5C31;&#x5728;&#x5904;&#x7406;&#x4E00;&#x7CFB;&#x5217;&#x72B6;&#x6001;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x5728;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x2019;&#x72B6;&#x6001;&#x2019;&#x4F1A;&#x4EE5;&#x5404;&#x79CD;&#x5404;&#x6837;&#x6709;&#x7ED3;&#x6784;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;(&#x4E5F;&#x53EF;&#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3;&#x4E3A;&#x53D8;&#x91CF;)&#x7684;&#x5F62;&#x5F0F;&#x88AB;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x3002; &#x5185;&#x5B58;&#x662F;&#x65E0;&#x6CD5;&#x6C38;&#x4E45;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x7684;&#xFF0C;&#x5F53;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x4E86;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x6211;&#x4EEC;&#x65AD;&#x7535;&#x6216;&#x8005;&#x91CD;&#x542F;&#x7A0B;&#x5E8F;&#xFF0C;&#x5185;&#x5B58;&#x4E2D;&#x5173;&#x4E8E;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x4E4B;&#x524D;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x7684;&#x6570;&#x636E;&#xFF08;&#x6709;&#x7ED3;&#x6784;&#xFF09;&#x90FD;&#x88AB;&#x6E05;&#x7A7A;&#x4E86;&#x3002; &#x5728;&#x65AD;&#x7535;&#x6216;&#x91CD;&#x542F;&#x7A0B;&#x5E8F;&#x4E4B;&#x524D;&#x5C06;&#x7A0B;&#x5E8F;&#x5F53;&#x524D;&#x5185;&#x5B58;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4FDD;&#x5B58;&#x4E0B;&#x6765;&#xFF08;&#x4FDD;&#x5B58;&#x5230;&#x6587;&#x4EF6;&#x4E2D;&#xFF09;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x4E0B;&#x6B21;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x80FD;&#x591F;&#x4ECE;&#x6587;&#x4EF6;&#x4E2D;&#x8F7D;&#x5165;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x5E8F;&#x5217;&#x5316;&#x3002; &#x5177;&#x4F53;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x4F60;&#x73A9;&#x4F7F;&#x547D;&#x53EC;&#x5524;&#x95EF;&#x5230;&#x4E86;&#x7B2C;13&#x5173;&#xFF0C;&#x4F60;&#x4FDD;&#x5B58;&#x6E38;&#x620F;&#x72B6;&#x6001;&#xFF0C;&#x5173;&#x673A;&#x8D70;&#x4EBA;&#xFF0C;&#x4E0B;&#x6B21;&#x518D;&#x73A9;&#xFF0C;&#x8FD8;&#x80FD;&#x4ECE;&#x4E0A;&#x6B21;&#x7684;&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;&#x7EE7;&#x7EED;&#x95EF;&#x5173;&#x3002;&#x6216;&#x5982;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x72B6;&#x6001;&#x7684;&#x6302;&#x8D77;&#x7B49;&#x3002; &#x8DE8;&#x5E73;&#x53F0;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x5E8F;&#x5217;&#x5316;&#x4E4B;&#x540E;&#xFF0C;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x628A;&#x5E8F;&#x5217;&#x5316;&#x540E;&#x7684;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x5230;&#x522B;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x6536;&#x53D1;&#x7684;&#x53CC;&#x65B9;&#x7EA6;&#x5B9A;&#x597D;&#x5B9E;&#x7528;&#x4E00;&#x79CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x90A3;&#x4E48;&#x4FBF;&#x6253;&#x7834;&#x4E86;&#x5E73;&#x53F0;/&#x8BED;&#x8A00;&#x5DEE;&#x5F02;&#x5316;&#x5E26;&#x6765;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x8DE8;&#x5E73;&#x53F0;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x3002; &#x53CD;&#x8FC7;&#x6765;&#xFF0C;&#x628A;&#x53D8;&#x91CF;&#x5185;&#x5BB9;&#x4ECE;&#x5E8F;&#x5217;&#x5316;&#x7684;&#x5BF9;&#x8C61;&#x91CD;&#x65B0;&#x8BFB;&#x5230;&#x5185;&#x5B58;&#x91CC;&#x79F0;&#x4E4B;&#x4E3A;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#xFF0C;&#x5373;unpickling&#x3002; &#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E4B;json&#x548C;pickle&#xFF1A; json&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E4B;&#x95F4;&#x4F20;&#x9012;&#x5BF9;&#x8C61;&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x628A;&#x5BF9;&#x8C61;&#x5E8F;&#x5217;&#x5316;&#x4E3A;&#x6807;&#x51C6;&#x683C;&#x5F0F;&#xFF0C;&#x6BD4;&#x5982;XML&#xFF0C;&#x4F46;&#x66F4;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5E8F;&#x5217;&#x5316;&#x4E3A;JSON&#xFF0C;&#x56E0;&#x4E3A;JSON&#x8868;&#x793A;&#x51FA;&#x6765;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x6240;&#x6709;&#x8BED;&#x8A00;&#x8BFB;&#x53D6;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x5B58;&#x50A8;&#x5230;&#x78C1;&#x76D8;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x3002;JSON&#x4E0D;&#x4EC5;&#x662F;&#x6807;&#x51C6;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x4E14;&#x6BD4;XML&#x66F4;&#x5FEB;&#xFF0C;&#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;Web&#x9875;&#x9762;&#x4E2D;&#x8BFB;&#x53D6;&#xFF0C;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x3002; JSON&#x8868;&#x793A;&#x7684;&#x5BF9;&#x8C61;&#x5C31;&#x662F;&#x6807;&#x51C6;&#x7684;JavaScript&#x8BED;&#x8A00;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;JSON&#x548C;Python&#x5185;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5BF9;&#x5E94;&#x5982;&#x4E0B;&#xFF1A; 12345678910111213141516import json dic={&apos;name&apos;:&apos;alvin&apos;,&apos;age&apos;:23,&apos;sex&apos;:&apos;male&apos;}print(type(dic))#&lt;class &apos;dict&apos;&gt; j=json.dumps(dic)print(type(j))#&lt;class &apos;str&apos;&gt; f=open(&apos;&#x5E8F;&#x5217;&#x5316;&#x5BF9;&#x8C61;&apos;,&apos;w&apos;)f.write(j) #-------------------&#x7B49;&#x4EF7;&#x4E8E;json.dump(dic,f)f.close()#-----------------------------&#x53CD;&#x5E8F;&#x5217;&#x5316;&lt;br&gt;import jsonf=open(&apos;&#x5E8F;&#x5217;&#x5316;&#x5BF9;&#x8C61;&apos;)data=json.loads(f.read())# &#x7B49;&#x4EF7;&#x4E8E;data=json.load(f) &#x6CE8;&#x610F;&#x70B9;123456789import json#dct=&quot;{&apos;1&apos;:111}&quot;#json &#x4E0D;&#x8BA4;&#x5355;&#x5F15;&#x53F7;#dct=str({&quot;1&quot;:111})#&#x62A5;&#x9519;,&#x56E0;&#x4E3A;&#x751F;&#x6210;&#x7684;&#x6570;&#x636E;&#x8FD8;&#x662F;&#x5355;&#x5F15;&#x53F7;:{&apos;one&apos;: 1}dct=&apos;{&quot;1&quot;:&quot;111&quot;}&apos;print(json.loads(dct))#conclusion:# &#x65E0;&#x8BBA;&#x6570;&#x636E;&#x662F;&#x600E;&#x6837;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x53EA;&#x8981;&#x6EE1;&#x8DB3;json&#x683C;&#x5F0F;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;json.loads&#x51FA;&#x6765;,&#x4E0D;&#x4E00;&#x5B9A;&#x975E;&#x8981;dumps&#x7684;&#x6570;&#x636E;&#x624D;&#x80FD;loads pickle 12345678910111213141516171819202122import pickle dic={&apos;name&apos;:&apos;alvin&apos;,&apos;age&apos;:23,&apos;sex&apos;:&apos;male&apos;} print(type(dic))#&lt;class &apos;dict&apos;&gt; j=pickle.dumps(dic)print(type(j))#&lt;class &apos;bytes&apos;&gt; f=open(&apos;&#x5E8F;&#x5217;&#x5316;&#x5BF9;&#x8C61;_pickle&apos;,&apos;wb&apos;)#&#x6CE8;&#x610F;&#x662F;w&#x662F;&#x5199;&#x5165;str,wb&#x662F;&#x5199;&#x5165;bytes,j&#x662F;&apos;bytes&apos;f.write(j) #-------------------&#x7B49;&#x4EF7;&#x4E8E;pickle.dump(dic,f) f.close()#-------------------------&#x53CD;&#x5E8F;&#x5217;&#x5316;import picklef=open(&apos;&#x5E8F;&#x5217;&#x5316;&#x5BF9;&#x8C61;_pickle&apos;,&apos;rb&apos;) data=pickle.loads(f.read())# &#x7B49;&#x4EF7;&#x4E8E;data=pickle.load(f) print(data[&apos;age&apos;]) Pickle&#x7684;&#x95EE;&#x9898;&#x548C;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7279;&#x6709;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x95EE;&#x9898;&#x4E00;&#x6837;&#xFF0C;&#x5C31;&#x662F;&#x5B83;&#x53EA;&#x80FD;&#x7528;&#x4E8E;Python&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x80FD;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x7684;Python&#x5F7C;&#x6B64;&#x90FD;&#x4E0D;&#x517C;&#x5BB9;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x53EA;&#x80FD;&#x7528;Pickle&#x4FDD;&#x5B58;&#x90A3;&#x4E9B;&#x4E0D;&#x91CD;&#x8981;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x80FD;&#x6210;&#x529F;&#x5730;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x4E5F;&#x6CA1;&#x5173;&#x7CFB;&#x3002; shelveshelve&#x6A21;&#x5757;&#x6BD4;pickle&#x6A21;&#x5757;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;open&#x51FD;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x7C7B;&#x4F3C;&#x5B57;&#x5178;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x53EF;&#x8BFB;&#x53EF;&#x5199;;key&#x5FC5;&#x987B;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x800C;&#x503C;&#x53EF;&#x4EE5;&#x662F;python&#x6240;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; 123456789import shelvef=shelve.open(r&apos;sheve.txt&apos;)# f[&apos;stu1_info&apos;]={&apos;name&apos;:&apos;egon&apos;,&apos;age&apos;:18,&apos;hobby&apos;:[&apos;piao&apos;,&apos;smoking&apos;,&apos;drinking&apos;]}# f[&apos;stu2_info&apos;]={&apos;name&apos;:&apos;gangdan&apos;,&apos;age&apos;:53}# f[&apos;school_info&apos;]={&apos;website&apos;:&apos;http://www.pypy.org&apos;,&apos;city&apos;:&apos;beijing&apos;}print(f[&apos;stu1_info&apos;][&apos;hobby&apos;])f.close()]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>json</tag>
        <tag>pickle</tag>
        <tag>shelve</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python模块（logging）]]></title>
    <url>%2F2018%2F01%2F18%2Fpython-logging%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;logging&#x6A21;&#x5757;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5; logging&#x65E5;&#x5FD7;&#x7EA7;&#x522B;123456CRITICAL = 50 #FATAL = CRITICALERROR = 40WARNING = 30 #WARN = WARNINGINFO = 20DEBUG = 10NOTSET = 0 #&#x4E0D;&#x8BBE;&#x7F6E; &#x9ED8;&#x8BA4;&#x7EA7;&#x522B;&#x4E3A;warning&#xFF0C;&#x9ED8;&#x8BA4;&#x6253;&#x5370;&#x5230;&#x7EC8;&#x7AEF;12345678910111213import logginglogging.debug(&apos;&#x8C03;&#x8BD5;debug&apos;)logging.info(&apos;&#x6D88;&#x606F;info&apos;)logging.warning(&apos;&#x8B66;&#x544A;warn&apos;)logging.error(&apos;&#x9519;&#x8BEF;error&apos;)logging.critical(&apos;&#x4E25;&#x91CD;critical&apos;)&apos;&apos;&apos;WARNING:root:&#x8B66;&#x544A;warnERROR:root:&#x9519;&#x8BEF;errorCRITICAL:root:&#x4E25;&#x91CD;critical&apos;&apos;&apos; &#x4E3A;logging&#x6A21;&#x5757;&#x6307;&#x5B9A;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#xFF0C;&#x9488;&#x5BF9;&#x6240;&#x6709;logger&#x6709;&#x6548;&#xFF0C;&#x63A7;&#x5236;&#x6253;&#x5370;&#x5230;&#x6587;&#x4EF6;&#x4E2D;12345678910111213141516171819202122232425262728&#x53EF;&#x5728;logging.basicConfig()&#x51FD;&#x6570;&#x4E2D;&#x901A;&#x8FC7;&#x5177;&#x4F53;&#x53C2;&#x6570;&#x6765;&#x66F4;&#x6539;logging&#x6A21;&#x5757;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#xFF0C;&#x53EF;&#x7528;&#x53C2;&#x6570;&#x6709;filename&#xFF1A;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x521B;&#x5EFA;FiledHandler&#xFF08;&#x540E;&#x8FB9;&#x4F1A;&#x5177;&#x4F53;&#x8BB2;&#x89E3;handler&#x7684;&#x6982;&#x5FF5;&#xFF09;&#xFF0C;&#x8FD9;&#x6837;&#x65E5;&#x5FD7;&#x4F1A;&#x88AB;&#x5B58;&#x50A8;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x3002;filemode&#xFF1A;&#x6587;&#x4EF6;&#x6253;&#x5F00;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x6307;&#x5B9A;&#x4E86;filename&#x65F6;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#x201C;a&#x201D;&#x8FD8;&#x53EF;&#x6307;&#x5B9A;&#x4E3A;&#x201C;w&#x201D;&#x3002;format&#xFF1A;&#x6307;&#x5B9A;handler&#x4F7F;&#x7528;&#x7684;&#x65E5;&#x5FD7;&#x663E;&#x793A;&#x683C;&#x5F0F;&#x3002; datefmt&#xFF1A;&#x6307;&#x5B9A;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x683C;&#x5F0F;&#x3002; level&#xFF1A;&#x8BBE;&#x7F6E;rootlogger&#xFF08;&#x540E;&#x8FB9;&#x4F1A;&#x8BB2;&#x89E3;&#x5177;&#x4F53;&#x6982;&#x5FF5;&#xFF09;&#x7684;&#x65E5;&#x5FD7;&#x7EA7;&#x522B; stream&#xFF1A;&#x7528;&#x6307;&#x5B9A;&#x7684;stream&#x521B;&#x5EFA;StreamHandler&#x3002;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8F93;&#x51FA;&#x5230;sys.stderr,sys.stdout&#x6216;&#x8005;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;sys.stderr&#x3002;&#x82E5;&#x540C;&#x65F6;&#x5217;&#x51FA;&#x4E86;filename&#x548C;stream&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5219;stream&#x53C2;&#x6570;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#x3002;#&#x683C;&#x5F0F;%(name)s&#xFF1A;Logger&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x5E76;&#x975E;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x8BE6;&#x7EC6;&#x67E5;&#x770B;%(levelno)s&#xFF1A;&#x6570;&#x5B57;&#x5F62;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;%(levelname)s&#xFF1A;&#x6587;&#x672C;&#x5F62;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;%(pathname)s&#xFF1A;&#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x6A21;&#x5757;&#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x540D;&#xFF0C;&#x53EF;&#x80FD;&#x6CA1;&#x6709;%(filename)s&#xFF1A;&#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x6A21;&#x5757;&#x7684;&#x6587;&#x4EF6;&#x540D;%(module)s&#xFF1A;&#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x6A21;&#x5757;&#x540D;%(funcName)s&#xFF1A;&#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x51FD;&#x6570;&#x540D;%(lineno)d&#xFF1A;&#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x8BED;&#x53E5;&#x6240;&#x5728;&#x7684;&#x4EE3;&#x7801;&#x884C;%(created)f&#xFF1A;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF0C;&#x7528;UNIX&#x6807;&#x51C6;&#x7684;&#x8868;&#x793A;&#x65F6;&#x95F4;&#x7684;&#x6D6E; &#x70B9;&#x6570;&#x8868;&#x793A;%(relativeCreated)d&#xFF1A;&#x8F93;&#x51FA;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#x65F6;&#x7684;&#xFF0C;&#x81EA;Logger&#x521B;&#x5EFA;&#x4EE5; &#x6765;&#x7684;&#x6BEB;&#x79D2;&#x6570;%(asctime)s&#xFF1A;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#x7684;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x3002;&#x9ED8;&#x8BA4;&#x683C;&#x5F0F;&#x662F; &#x201C;2003-07-08 16:49:45,896&#x201D;&#x3002;&#x9017;&#x53F7;&#x540E;&#x9762;&#x7684;&#x662F;&#x6BEB;&#x79D2;%(thread)d&#xFF1A;&#x7EBF;&#x7A0B;ID&#x3002;&#x53EF;&#x80FD;&#x6CA1;&#x6709;%(threadName)s&#xFF1A;&#x7EBF;&#x7A0B;&#x540D;&#x3002;&#x53EF;&#x80FD;&#x6CA1;&#x6709;%(process)d&#xFF1A;&#x8FDB;&#x7A0B;ID&#x3002;&#x53EF;&#x80FD;&#x6CA1;&#x6709;%(message)s&#xFF1A;&#x7528;&#x6237;&#x8F93;&#x51FA;&#x7684;&#x6D88;&#x606F;logging.basicConfig() 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#======&#x4ECB;&#x7ECD;&#x53EF;&#x5728;logging.basicConfig()&#x51FD;&#x6570;&#x4E2D;&#x53EF;&#x901A;&#x8FC7;&#x5177;&#x4F53;&#x53C2;&#x6570;&#x6765;&#x66F4;&#x6539;logging&#x6A21;&#x5757;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#xFF0C;&#x53EF;&#x7528;&#x53C2;&#x6570;&#x6709;filename&#xFF1A;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x521B;&#x5EFA;FiledHandler&#xFF08;&#x540E;&#x8FB9;&#x4F1A;&#x5177;&#x4F53;&#x8BB2;&#x89E3;handler&#x7684;&#x6982;&#x5FF5;&#xFF09;&#xFF0C;&#x8FD9;&#x6837;&#x65E5;&#x5FD7;&#x4F1A;&#x88AB;&#x5B58;&#x50A8;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x3002;filemode&#xFF1A;&#x6587;&#x4EF6;&#x6253;&#x5F00;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x6307;&#x5B9A;&#x4E86;filename&#x65F6;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#x201C;a&#x201D;&#x8FD8;&#x53EF;&#x6307;&#x5B9A;&#x4E3A;&#x201C;w&#x201D;&#x3002;format&#xFF1A;&#x6307;&#x5B9A;handler&#x4F7F;&#x7528;&#x7684;&#x65E5;&#x5FD7;&#x663E;&#x793A;&#x683C;&#x5F0F;&#x3002;datefmt&#xFF1A;&#x6307;&#x5B9A;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x683C;&#x5F0F;&#x3002;level&#xFF1A;&#x8BBE;&#x7F6E;rootlogger&#xFF08;&#x540E;&#x8FB9;&#x4F1A;&#x8BB2;&#x89E3;&#x5177;&#x4F53;&#x6982;&#x5FF5;&#xFF09;&#x7684;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;stream&#xFF1A;&#x7528;&#x6307;&#x5B9A;&#x7684;stream&#x521B;&#x5EFA;StreamHandler&#x3002;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8F93;&#x51FA;&#x5230;sys.stderr,sys.stdout&#x6216;&#x8005;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;sys.stderr&#x3002;&#x82E5;&#x540C;&#x65F6;&#x5217;&#x51FA;&#x4E86;filename&#x548C;stream&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5219;stream&#x53C2;&#x6570;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#x3002;format&#x53C2;&#x6570;&#x4E2D;&#x53EF;&#x80FD;&#x7528;&#x5230;&#x7684;&#x683C;&#x5F0F;&#x5316;&#x4E32;&#xFF1A;%(name)s Logger&#x7684;&#x540D;&#x5B57;%(levelno)s &#x6570;&#x5B57;&#x5F62;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;%(levelname)s &#x6587;&#x672C;&#x5F62;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;%(pathname)s &#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x6A21;&#x5757;&#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x540D;&#xFF0C;&#x53EF;&#x80FD;&#x6CA1;&#x6709;%(filename)s &#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x6A21;&#x5757;&#x7684;&#x6587;&#x4EF6;&#x540D;%(module)s &#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x6A21;&#x5757;&#x540D;%(funcName)s &#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x51FD;&#x6570;&#x540D;%(lineno)d &#x8C03;&#x7528;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x8BED;&#x53E5;&#x6240;&#x5728;&#x7684;&#x4EE3;&#x7801;&#x884C;%(created)f &#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF0C;&#x7528;UNIX&#x6807;&#x51C6;&#x7684;&#x8868;&#x793A;&#x65F6;&#x95F4;&#x7684;&#x6D6E; &#x70B9;&#x6570;&#x8868;&#x793A;%(relativeCreated)d &#x8F93;&#x51FA;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#x65F6;&#x7684;&#xFF0C;&#x81EA;Logger&#x521B;&#x5EFA;&#x4EE5; &#x6765;&#x7684;&#x6BEB;&#x79D2;&#x6570;%(asctime)s &#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#x7684;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x3002;&#x9ED8;&#x8BA4;&#x683C;&#x5F0F;&#x662F; &#x201C;2003-07-08 16:49:45,896&#x201D;&#x3002;&#x9017;&#x53F7;&#x540E;&#x9762;&#x7684;&#x662F;&#x6BEB;&#x79D2;%(thread)d &#x7EBF;&#x7A0B;ID&#x3002;&#x53EF;&#x80FD;&#x6CA1;&#x6709;%(threadName)s &#x7EBF;&#x7A0B;&#x540D;&#x3002;&#x53EF;&#x80FD;&#x6CA1;&#x6709;%(process)d &#x8FDB;&#x7A0B;ID&#x3002;&#x53EF;&#x80FD;&#x6CA1;&#x6709;%(message)s&#x7528;&#x6237;&#x8F93;&#x51FA;&#x7684;&#x6D88;&#x606F;#========&#x4F7F;&#x7528;import logginglogging.basicConfig(filename=&apos;access.log&apos;, format=&apos;%(asctime)s - %(name)s - %(levelname)s -%(module)s: %(message)s&apos;, datefmt=&apos;%Y-%m-%d %H:%M:%S %p&apos;, level=10)logging.debug(&apos;&#x8C03;&#x8BD5;debug&apos;)logging.info(&apos;&#x6D88;&#x606F;info&apos;)logging.warning(&apos;&#x8B66;&#x544A;warn&apos;)logging.error(&apos;&#x9519;&#x8BEF;error&apos;)logging.critical(&apos;&#x4E25;&#x91CD;critical&apos;)#========&#x7ED3;&#x679C;access.log&#x5185;&#x5BB9;:2017-07-28 20:32:17 PM - root - DEBUG -test: &#x8C03;&#x8BD5;debug2017-07-28 20:32:17 PM - root - INFO -test: &#x6D88;&#x606F;info2017-07-28 20:32:17 PM - root - WARNING -test: &#x8B66;&#x544A;warn2017-07-28 20:32:17 PM - root - ERROR -test: &#x9519;&#x8BEF;error2017-07-28 20:32:17 PM - root - CRITICAL -test: &#x4E25;&#x91CD;criticalpart2: &#x53EF;&#x4EE5;&#x4E3A;logging&#x6A21;&#x5757;&#x6307;&#x5B9A;&#x6A21;&#x5757;&#x7EA7;&#x7684;&#x914D;&#x7F6E;,&#x5373;&#x6240;&#x6709;logger&#x7684;&#x914D;&#x7F6E; logging&#x6A21;&#x5757;&#x7684;Formatter&#xFF0C;Handler&#xFF0C;Logger&#xFF0C;Filter&#x5BF9;&#x8C61;1234567#logger&#xFF1A;&#x4EA7;&#x751F;&#x65E5;&#x5FD7;&#x7684;&#x5BF9;&#x8C61;#Filter&#xFF1A;&#x8FC7;&#x6EE4;&#x65E5;&#x5FD7;&#x7684;&#x5BF9;&#x8C61;#Handler&#xFF1A;&#x63A5;&#x6536;&#x65E5;&#x5FD7;&#x7136;&#x540E;&#x63A7;&#x5236;&#x6253;&#x5370;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#xFF0C;FileHandler&#x7528;&#x6765;&#x6253;&#x5370;&#x5230;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;StreamHandler&#x7528;&#x6765;&#x6253;&#x5370;&#x5230;&#x7EC8;&#x7AEF;#Formatter&#x5BF9;&#x8C61;&#xFF1A;&#x53EF;&#x4EE5;&#x5B9A;&#x5236;&#x4E0D;&#x540C;&#x7684;&#x65E5;&#x5FD7;&#x683C;&#x5F0F;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x7ED1;&#x5B9A;&#x7ED9;&#x4E0D;&#x540C;&#x7684;Handler&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x6B64;&#x6765;&#x63A7;&#x5236;&#x4E0D;&#x540C;&#x7684;Handler&#x7684;&#x65E5;&#x5FD7;&#x683C;&#x5F0F; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&apos;&apos;&apos;critical=50error =40warning =30info = 20debug =10&apos;&apos;&apos;import logging#1&#x3001;logger&#x5BF9;&#x8C61;&#xFF1A;&#x8D1F;&#x8D23;&#x4EA7;&#x751F;&#x65E5;&#x5FD7;&#xFF0C;&#x7136;&#x540E;&#x4EA4;&#x7ED9;Filter&#x8FC7;&#x6EE4;&#xFF0C;&#x7136;&#x540E;&#x4EA4;&#x7ED9;&#x4E0D;&#x540C;&#x7684;Handler&#x8F93;&#x51FA;logger=logging.getLogger(__file__)#2&#x3001;Filter&#x5BF9;&#x8C61;&#xFF1A;&#x4E0D;&#x5E38;&#x7528;&#xFF0C;&#x7565;#3&#x3001;Handler&#x5BF9;&#x8C61;&#xFF1A;&#x63A5;&#x6536;logger&#x4F20;&#x6765;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x7136;&#x540E;&#x63A7;&#x5236;&#x8F93;&#x51FA;h1=logging.FileHandler(&apos;t1.log&apos;) #&#x6253;&#x5370;&#x5230;&#x6587;&#x4EF6;h2=logging.FileHandler(&apos;t2.log&apos;) #&#x6253;&#x5370;&#x5230;&#x6587;&#x4EF6;h3=logging.StreamHandler() #&#x6253;&#x5370;&#x5230;&#x7EC8;&#x7AEF;#4&#x3001;Formatter&#x5BF9;&#x8C61;&#xFF1A;&#x65E5;&#x5FD7;&#x683C;&#x5F0F;formmater1=logging.Formatter(&apos;%(asctime)s - %(name)s - %(levelname)s -%(module)s: %(message)s&apos;, datefmt=&apos;%Y-%m-%d %H:%M:%S %p&apos;,)formmater2=logging.Formatter(&apos;%(asctime)s : %(message)s&apos;, datefmt=&apos;%Y-%m-%d %H:%M:%S %p&apos;,)formmater3=logging.Formatter(&apos;%(name)s %(message)s&apos;,)#5&#x3001;&#x4E3A;Handler&#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x683C;&#x5F0F;h1.setFormatter(formmater1)h2.setFormatter(formmater2)h3.setFormatter(formmater3)#6&#x3001;&#x5C06;Handler&#x6DFB;&#x52A0;&#x7ED9;logger&#x5E76;&#x8BBE;&#x7F6E;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;logger.addHandler(h1)logger.addHandler(h2)logger.addHandler(h3)logger.setLevel(10)#7&#x3001;&#x6D4B;&#x8BD5;logger.debug(&apos;debug&apos;)logger.info(&apos;info&apos;)logger.warning(&apos;warning&apos;)logger.error(&apos;error&apos;)logger.critical(&apos;critical&apos;) Logger&#x4E0E;Handler&#x7684;&#x7EA7;&#x522B;logger&#x662F;&#x7B2C;&#x4E00;&#x7EA7;&#x8FC7;&#x6EE4;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x80FD;&#x5230;handler&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED9;logger&#x548C;handler&#x540C;&#x65F6;&#x8BBE;&#x7F6E;level&#xFF0C;&#x4F46;&#x662F;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F; 1234567891011121314151617181920212223Logger is also the first to filter the message based on a level &#x2014; if you set the logger to INFO, and all handlers to DEBUG, you still won&apos;t receive DEBUG messages on handlers &#x2014; they&apos;ll be rejected by the logger itself. If you set logger to DEBUG, but all handlers to INFO, you won&apos;t receive any DEBUG messages either &#x2014; because while the logger says &quot;ok, process this&quot;, the handlers reject it (DEBUG &lt; INFO).#&#x9A8C;&#x8BC1;import loggingform=logging.Formatter(&apos;%(asctime)s - %(name)s - %(levelname)s -%(module)s: %(message)s&apos;, datefmt=&apos;%Y-%m-%d %H:%M:%S %p&apos;,)ch=logging.StreamHandler()ch.setFormatter(form)# ch.setLevel(10)ch.setLevel(20)l1=logging.getLogger(&apos;root&apos;)# l1.setLevel(20)l1.setLevel(10)l1.addHandler(ch)l1.debug(&apos;l1 debug&apos;)&#x91CD;&#x8981;&#xFF0C;&#x91CD;&#x8981;&#xFF0C;&#x91CD;&#x8981;&#xFF01;&#xFF01;&#xFF01; Logger&#x7684;&#x7EE7;&#x627F;&#xFF08;&#x4E86;&#x89E3;&#xFF09;123456789101112131415161718192021222324252627282930import loggingformatter=logging.Formatter(&apos;%(asctime)s - %(name)s - %(levelname)s -%(module)s: %(message)s&apos;, datefmt=&apos;%Y-%m-%d %H:%M:%S %p&apos;,)ch=logging.StreamHandler()ch.setFormatter(formatter)logger1=logging.getLogger(&apos;root&apos;)logger2=logging.getLogger(&apos;root.child1&apos;)logger3=logging.getLogger(&apos;root.child1.child2&apos;)logger1.addHandler(ch)logger2.addHandler(ch)logger3.addHandler(ch)logger1.setLevel(10)logger2.setLevel(10)logger3.setLevel(10)logger1.debug(&apos;log1 debug&apos;)logger2.debug(&apos;log2 debug&apos;)logger3.debug(&apos;log3 debug&apos;)&apos;&apos;&apos;2017-07-28 22:22:05 PM - root - DEBUG -test: log1 debug2017-07-28 22:22:05 PM - root.child1 - DEBUG -test: log2 debug2017-07-28 22:22:05 PM - root.child1 - DEBUG -test: log2 debug2017-07-28 22:22:05 PM - root.child1.child2 - DEBUG -test: log3 debug2017-07-28 22:22:05 PM - root.child1.child2 - DEBUG -test: log3 debug2017-07-28 22:22:05 PM - root.child1.child2 - DEBUG -test: log3 debug&apos;&apos;&apos; &#x5E94;&#x7528;logging&#x914D;&#x7F6E;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&quot;&quot;&quot;logging&#x914D;&#x7F6E;&quot;&quot;&quot;import osimport logging.config# &#x5B9A;&#x4E49;&#x4E09;&#x79CD;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x683C;&#x5F0F; &#x5F00;&#x59CB;standard_format = &apos;[%(asctime)s][%(threadName)s:%(thread)d][task_id:%(name)s][%(filename)s:%(lineno)d]&apos; \ &apos;[%(levelname)s][%(message)s]&apos; #&#x5176;&#x4E2D;name&#x4E3A;getlogger&#x6307;&#x5B9A;&#x7684;&#x540D;&#x5B57;simple_format = &apos;[%(levelname)s][%(asctime)s][%(filename)s:%(lineno)d]%(message)s&apos;id_simple_format = &apos;[%(levelname)s][%(asctime)s] %(message)s&apos;# &#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x683C;&#x5F0F; &#x7ED3;&#x675F;logfile_dir = os.path.dirname(os.path.abspath(__file__)) # log&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;logfile_name = &apos;all2.log&apos; # log&#x6587;&#x4EF6;&#x540D;# &#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5B9A;&#x4E49;&#x7684;&#x65E5;&#x5FD7;&#x76EE;&#x5F55;&#x5C31;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;if not os.path.isdir(logfile_dir): os.mkdir(logfile_dir)# log&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;logfile_path = os.path.join(logfile_dir, logfile_name)# log&#x914D;&#x7F6E;&#x5B57;&#x5178;LOGGING_DIC = { &apos;version&apos;: 1, &apos;disable_existing_loggers&apos;: False, &apos;formatters&apos;: { &apos;standard&apos;: { &apos;format&apos;: standard_format }, &apos;simple&apos;: { &apos;format&apos;: simple_format }, }, &apos;filters&apos;: {}, &apos;handlers&apos;: { #&#x6253;&#x5370;&#x5230;&#x7EC8;&#x7AEF;&#x7684;&#x65E5;&#x5FD7; &apos;console&apos;: { &apos;level&apos;: &apos;DEBUG&apos;, &apos;class&apos;: &apos;logging.StreamHandler&apos;, # &#x6253;&#x5370;&#x5230;&#x5C4F;&#x5E55; &apos;formatter&apos;: &apos;simple&apos; }, #&#x6253;&#x5370;&#x5230;&#x6587;&#x4EF6;&#x7684;&#x65E5;&#x5FD7;,&#x6536;&#x96C6;info&#x53CA;&#x4EE5;&#x4E0A;&#x7684;&#x65E5;&#x5FD7; &apos;default&apos;: { &apos;level&apos;: &apos;DEBUG&apos;, &apos;class&apos;: &apos;logging.handlers.RotatingFileHandler&apos;, # &#x4FDD;&#x5B58;&#x5230;&#x6587;&#x4EF6; &apos;formatter&apos;: &apos;standard&apos;, &apos;filename&apos;: logfile_path, # &#x65E5;&#x5FD7;&#x6587;&#x4EF6; &apos;maxBytes&apos;: 1024*1024*5, # &#x65E5;&#x5FD7;&#x5927;&#x5C0F; 5M &apos;backupCount&apos;: 5, &apos;encoding&apos;: &apos;utf-8&apos;, # &#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x7F16;&#x7801;&#xFF0C;&#x518D;&#x4E5F;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#x4E2D;&#x6587;log&#x4E71;&#x7801;&#x4E86; }, }, &apos;loggers&apos;: { #logging.getLogger(__name__)&#x62FF;&#x5230;&#x7684;logger&#x914D;&#x7F6E; &apos;&apos;: { &apos;handlers&apos;: [&apos;default&apos;, &apos;console&apos;], # &#x8FD9;&#x91CC;&#x628A;&#x4E0A;&#x9762;&#x5B9A;&#x4E49;&#x7684;&#x4E24;&#x4E2A;handler&#x90FD;&#x52A0;&#x4E0A;&#xFF0C;&#x5373;log&#x6570;&#x636E;&#x65E2;&#x5199;&#x5165;&#x6587;&#x4EF6;&#x53C8;&#x6253;&#x5370;&#x5230;&#x5C4F;&#x5E55; &apos;level&apos;: &apos;DEBUG&apos;, &apos;propagate&apos;: True, # &#x5411;&#x4E0A;&#xFF08;&#x66F4;&#x9AD8;level&#x7684;logger&#xFF09;&#x4F20;&#x9012; }, },}def load_my_logging_cfg(): logging.config.dictConfig(LOGGING_DIC) # &#x5BFC;&#x5165;&#x4E0A;&#x9762;&#x5B9A;&#x4E49;&#x7684;logging&#x914D;&#x7F6E; logger = logging.getLogger(__name__) # &#x751F;&#x6210;&#x4E00;&#x4E2A;log&#x5B9E;&#x4F8B; logger.info(&apos;It works!&apos;) # &#x8BB0;&#x5F55;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x6001;if __name__ == &apos;__main__&apos;: load_my_logging_cfg() &#x4F7F;&#x7528;123456789101112131415161718192021222324&quot;&quot;&quot;MyLogging Test&quot;&quot;&quot;import timeimport loggingimport my_logging # &#x5BFC;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x7684;logging&#x914D;&#x7F6E;logger = logging.getLogger(__name__) # &#x751F;&#x6210;logger&#x5B9E;&#x4F8B;def demo(): logger.debug(&quot;start range... time:{}&quot;.format(time.time())) logger.info(&quot;&#x4E2D;&#x6587;&#x6D4B;&#x8BD5;&#x5F00;&#x59CB;&#x3002;&#x3002;&#x3002;&quot;) for i in range(10): logger.debug(&quot;i:{}&quot;.format(i)) time.sleep(0.2) else: logger.debug(&quot;over range... time:{}&quot;.format(time.time())) logger.info(&quot;&#x4E2D;&#x6587;&#x6D4B;&#x8BD5;&#x7ED3;&#x675F;&#x3002;&#x3002;&#x3002;&quot;)if __name__ == &quot;__main__&quot;: my_logging.load_my_logging_cfg() # &#x5728;&#x4F60;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x7684;&#x5165;&#x53E3;&#x52A0;&#x8F7D;&#x81EA;&#x5B9A;&#x4E49;logging&#x914D;&#x7F6E; demo() &#x5173;&#x4E8E;&#x5982;&#x4F55;&#x62FF;&#x5230;logger&#x5BF9;&#x8C61;&#x7684;&#x8BE6;&#x7EC6;&#x89E3;&#x91CA;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&#x6CE8;&#x610F;&#x6CE8;&#x610F;&#x6CE8;&#x610F;&#xFF1A;#1&#x3001;&#x6709;&#x4E86;&#x4E0A;&#x8FF0;&#x65B9;&#x5F0F;&#x6211;&#x4EEC;&#x7684;&#x597D;&#x5904;&#x662F;&#xFF1A;&#x6240;&#x6709;&#x4E0E;logging&#x6A21;&#x5757;&#x6709;&#x5173;&#x7684;&#x914D;&#x7F6E;&#x90FD;&#x5199;&#x5230;&#x5B57;&#x5178;&#x4E2D;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#xFF0C;&#x65B9;&#x4FBF;&#x7BA1;&#x7406;#2&#x3001;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x662F;&#xFF1A; 1&#x3001;&#x4ECE;&#x5B57;&#x5178;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#xFF1A;logging.config.dictConfig(settings.LOGGING_DIC) 2&#x3001;&#x62FF;&#x5230;logger&#x5BF9;&#x8C61;&#x6765;&#x4EA7;&#x751F;&#x65E5;&#x5FD7; logger&#x5BF9;&#x8C61;&#x90FD;&#x662F;&#x914D;&#x7F6E;&#x5230;&#x5B57;&#x5178;&#x7684;loggers &#x952E;&#x5BF9;&#x5E94;&#x7684;&#x5B50;&#x5B57;&#x5178;&#x4E2D;&#x7684; &#x6309;&#x7167;&#x6211;&#x4EEC;&#x5BF9;logging&#x6A21;&#x5757;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x8981;&#x60F3;&#x83B7;&#x53D6;&#x67D0;&#x4E2A;&#x4E1C;&#x897F;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x540D;&#x5B57;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;key&#x6765;&#x83B7;&#x53D6;&#x7684; &#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x8981;&#x83B7;&#x53D6;&#x4E0D;&#x540C;&#x7684;logger&#x5BF9;&#x8C61;&#x5C31;&#x662F; logger=logging.getLogger(&apos;loggers&#x5B50;&#x5B57;&#x5178;&#x7684;key&#x540D;&apos;) &#x4F46;&#x95EE;&#x9898;&#x662F;&#xFF1A;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x4E0D;&#x540C;logger&#x540D;&#x7684;logger&#x5BF9;&#x8C61;&#x90FD;&#x5171;&#x7528;&#x4E00;&#x6BB5;&#x914D;&#x7F6E;&#xFF0C;&#x90A3;&#x4E48;&#x80AF;&#x5B9A;&#x4E0D;&#x80FD;&#x5728;loggers&#x5B50;&#x5B57;&#x5178;&#x4E2D;&#x5B9A;&#x4E49;n&#x4E2A;key &apos;loggers&apos;: { &apos;l1&apos;: { &apos;handlers&apos;: [&apos;default&apos;, &apos;console&apos;], # &apos;level&apos;: &apos;DEBUG&apos;, &apos;propagate&apos;: True, # &#x5411;&#x4E0A;&#xFF08;&#x66F4;&#x9AD8;level&#x7684;logger&#xFF09;&#x4F20;&#x9012; }, &apos;l2: { &apos;handlers&apos;: [&apos;default&apos;, &apos;console&apos; ], &apos;level&apos;: &apos;DEBUG&apos;, &apos;propagate&apos;: False, # &#x5411;&#x4E0A;&#xFF08;&#x66F4;&#x9AD8;level&#x7684;logger&#xFF09;&#x4F20;&#x9012; }, &apos;l3&apos;: { &apos;handlers&apos;: [&apos;default&apos;, &apos;console&apos;], # &apos;level&apos;: &apos;DEBUG&apos;, &apos;propagate&apos;: True, # &#x5411;&#x4E0A;&#xFF08;&#x66F4;&#x9AD8;level&#x7684;logger&#xFF09;&#x4F20;&#x9012; },} #&#x6211;&#x4EEC;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#x662F;&#xFF0C;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;key &apos;loggers&apos;: { &apos;&apos;: { &apos;handlers&apos;: [&apos;default&apos;, &apos;console&apos;], &apos;level&apos;: &apos;DEBUG&apos;, &apos;propagate&apos;: True, },}&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x518D;&#x53D6;logger&#x5BF9;&#x8C61;&#x65F6;logging.getLogger(__name__)&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x6587;&#x4EF6;__name__&#x4E0D;&#x540C;&#xFF0C;&#x8FD9;&#x4FDD;&#x8BC1;&#x4E86;&#x6253;&#x5370;&#x65E5;&#x5FD7;&#x65F6;&#x6807;&#x8BC6;&#x4FE1;&#x606F;&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x62FF;&#x7740;&#x8BE5;&#x540D;&#x5B57;&#x53BB;loggers&#x91CC;&#x627E;key&#x540D;&#x65F6;&#x5374;&#x53D1;&#x73B0;&#x627E;&#x4E0D;&#x5230;&#xFF0C;&#x4E8E;&#x662F;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;key=&apos;&apos;&#x7684;&#x914D;&#x7F6E; &#x53E6;&#x5916;&#x4E00;&#x4E2A;django&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x7784;&#x4E00;&#x773C;&#x5C31;&#x53EF;&#x4EE5;&#xFF0C;&#x8DDF;&#x4E0A;&#x9762;&#x7684;&#x4E00;&#x6837;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#logging_config.pyLOGGING = { &apos;version&apos;: 1, &apos;disable_existing_loggers&apos;: False, &apos;formatters&apos;: { &apos;standard&apos;: { &apos;format&apos;: &apos;[%(asctime)s][%(threadName)s:%(thread)d][task_id:%(name)s][%(filename)s:%(lineno)d]&apos; &apos;[%(levelname)s][%(message)s]&apos; }, &apos;simple&apos;: { &apos;format&apos;: &apos;[%(levelname)s][%(asctime)s][%(filename)s:%(lineno)d]%(message)s&apos; }, &apos;collect&apos;: { &apos;format&apos;: &apos;%(message)s&apos; } }, &apos;filters&apos;: { &apos;require_debug_true&apos;: { &apos;()&apos;: &apos;django.utils.log.RequireDebugTrue&apos;, }, }, &apos;handlers&apos;: { #&#x6253;&#x5370;&#x5230;&#x7EC8;&#x7AEF;&#x7684;&#x65E5;&#x5FD7; &apos;console&apos;: { &apos;level&apos;: &apos;DEBUG&apos;, &apos;filters&apos;: [&apos;require_debug_true&apos;], &apos;class&apos;: &apos;logging.StreamHandler&apos;, &apos;formatter&apos;: &apos;simple&apos; }, #&#x6253;&#x5370;&#x5230;&#x6587;&#x4EF6;&#x7684;&#x65E5;&#x5FD7;,&#x6536;&#x96C6;info&#x53CA;&#x4EE5;&#x4E0A;&#x7684;&#x65E5;&#x5FD7; &apos;default&apos;: { &apos;level&apos;: &apos;INFO&apos;, &apos;class&apos;: &apos;logging.handlers.RotatingFileHandler&apos;, # &#x4FDD;&#x5B58;&#x5230;&#x6587;&#x4EF6;&#xFF0C;&#x81EA;&#x52A8;&#x5207; &apos;filename&apos;: os.path.join(BASE_LOG_DIR, &quot;xxx_info.log&quot;), # &#x65E5;&#x5FD7;&#x6587;&#x4EF6; &apos;maxBytes&apos;: 1024 * 1024 * 5, # &#x65E5;&#x5FD7;&#x5927;&#x5C0F; 5M &apos;backupCount&apos;: 3, &apos;formatter&apos;: &apos;standard&apos;, &apos;encoding&apos;: &apos;utf-8&apos;, }, #&#x6253;&#x5370;&#x5230;&#x6587;&#x4EF6;&#x7684;&#x65E5;&#x5FD7;:&#x6536;&#x96C6;&#x9519;&#x8BEF;&#x53CA;&#x4EE5;&#x4E0A;&#x7684;&#x65E5;&#x5FD7; &apos;error&apos;: { &apos;level&apos;: &apos;ERROR&apos;, &apos;class&apos;: &apos;logging.handlers.RotatingFileHandler&apos;, # &#x4FDD;&#x5B58;&#x5230;&#x6587;&#x4EF6;&#xFF0C;&#x81EA;&#x52A8;&#x5207; &apos;filename&apos;: os.path.join(BASE_LOG_DIR, &quot;xxx_err.log&quot;), # &#x65E5;&#x5FD7;&#x6587;&#x4EF6; &apos;maxBytes&apos;: 1024 * 1024 * 5, # &#x65E5;&#x5FD7;&#x5927;&#x5C0F; 5M &apos;backupCount&apos;: 5, &apos;formatter&apos;: &apos;standard&apos;, &apos;encoding&apos;: &apos;utf-8&apos;, }, #&#x6253;&#x5370;&#x5230;&#x6587;&#x4EF6;&#x7684;&#x65E5;&#x5FD7; &apos;collect&apos;: { &apos;level&apos;: &apos;INFO&apos;, &apos;class&apos;: &apos;logging.handlers.RotatingFileHandler&apos;, # &#x4FDD;&#x5B58;&#x5230;&#x6587;&#x4EF6;&#xFF0C;&#x81EA;&#x52A8;&#x5207; &apos;filename&apos;: os.path.join(BASE_LOG_DIR, &quot;xxx_collect.log&quot;), &apos;maxBytes&apos;: 1024 * 1024 * 5, # &#x65E5;&#x5FD7;&#x5927;&#x5C0F; 5M &apos;backupCount&apos;: 5, &apos;formatter&apos;: &apos;collect&apos;, &apos;encoding&apos;: &quot;utf-8&quot; } }, &apos;loggers&apos;: { #logging.getLogger(__name__)&#x62FF;&#x5230;&#x7684;logger&#x914D;&#x7F6E; &apos;&apos;: { &apos;handlers&apos;: [&apos;default&apos;, &apos;console&apos;, &apos;error&apos;], &apos;level&apos;: &apos;DEBUG&apos;, &apos;propagate&apos;: True, }, #logging.getLogger(&apos;collect&apos;)&#x62FF;&#x5230;&#x7684;logger&#x914D;&#x7F6E; &apos;collect&apos;: { &apos;handlers&apos;: [&apos;console&apos;, &apos;collect&apos;], &apos;level&apos;: &apos;INFO&apos;, } },}# -----------# &#x7528;&#x6CD5;:&#x62FF;&#x5230;&#x4FE9;&#x4E2A;loggerlogger = logging.getLogger(__name__) #&#x7EBF;&#x4E0A;&#x6B63;&#x5E38;&#x7684;&#x65E5;&#x5FD7;collect_logger = logging.getLogger(&quot;collect&quot;) #&#x9886;&#x5BFC;&#x8BF4;,&#x9700;&#x8981;&#x4E3A;&#x9886;&#x5BFC;&#x4EEC;&#x5355;&#x72EC;&#x5B9A;&#x5236;&#x9886;&#x5BFC;&#x4EEC;&#x770B;&#x7684;&#x65E5;&#x5FD7;]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>logging</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python模块（shutil）]]></title>
    <url>%2F2018%2F01%2F18%2Fpython-shutil%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;shutil&#x6A21;&#x5757;&#x7684;&#x5E38;&#x7528;&#x65B9;&#x6CD5; shutil&#x9AD8;&#x7EA7;&#x7684; &#x6587;&#x4EF6;&#x3001;&#x6587;&#x4EF6;&#x5939;&#x3001;&#x538B;&#x7F29;&#x5305; &#x5904;&#x7406;&#x6A21;&#x5757; shutil.copyfileobj(fsrc, fdst[, length])&#x5C06;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x62F7;&#x8D1D;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D; 123import shutil shutil.copyfileobj(open(&apos;old.xml&apos;,&apos;r&apos;), open(&apos;new.xml&apos;, &apos;w&apos;)) shutil.copyfile(src, dst)&#x62F7;&#x8D1D;&#x6587;&#x4EF6; 1shutil.copyfile(&apos;f1.log&apos;, &apos;f2.log&apos;) #&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x65E0;&#x9700;&#x5B58;&#x5728; shutil.copymode(src, dst)&#x4EC5;&#x62F7;&#x8D1D;&#x6743;&#x9650;&#x3002;&#x5185;&#x5BB9;&#x3001;&#x7EC4;&#x3001;&#x7528;&#x6237;&#x5747;&#x4E0D;&#x53D8; 1shutil.copymode(&apos;f1.log&apos;, &apos;f2.log&apos;) #&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x5B58;&#x5728; shutil.copystat(src, dst)&#x4EC5;&#x62F7;&#x8D1D;&#x72B6;&#x6001;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;mode bits, atime, mtime, flags 1234567891011shutil.copystat(&apos;f1.log&apos;, &apos;f2.log&apos;) #&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x5B58;&#x5728;``` ## shutil.copy(src, dst)&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x548C;&#x6743;&#x9650;``` pythonimport shutil shutil.copy(&apos;f1.log&apos;, &apos;f2.log&apos;) shutil.copy2(src, dst)&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x548C;&#x72B6;&#x6001;&#x4FE1;&#x606F; 123import shutil shutil.copy2(&apos;f1.log&apos;, &apos;f2.log&apos;) shutil.ignore_patterns(*patterns)shutil.copytree(src, dst, symlinks=False, ignore=None)&#x9012;&#x5F52;&#x7684;&#x53BB;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x5939; 123import shutil shutil.copytree(&apos;folder1&apos;, &apos;folder2&apos;, ignore=shutil.ignore_patterns(&apos;*.pyc&apos;, &apos;tmp*&apos;)) #&#x76EE;&#x6807;&#x76EE;&#x5F55;&#x4E0D;&#x80FD;&#x5B58;&#x5728;&#xFF0C;&#x6CE8;&#x610F;&#x5BF9;folder2&#x76EE;&#x5F55;&#x7236;&#x7EA7;&#x76EE;&#x5F55;&#x8981;&#x6709;&#x53EF;&#x5199;&#x6743;&#x9650;&#xFF0C;ignore&#x7684;&#x610F;&#x601D;&#x662F;&#x6392;&#x9664; 1234567import shutilshutil.copytree(&apos;f1&apos;, &apos;f2&apos;, symlinks=True, ignore=shutil.ignore_patterns(&apos;*.pyc&apos;, &apos;tmp*&apos;))&apos;&apos;&apos;&#x901A;&#x5E38;&#x7684;&#x62F7;&#x8D1D;&#x90FD;&#x628A;&#x8F6F;&#x8FDE;&#x63A5;&#x62F7;&#x8D1D;&#x6210;&#x786C;&#x94FE;&#x63A5;&#xFF0C;&#x5373;&#x5BF9;&#x5F85;&#x8F6F;&#x8FDE;&#x63A5;&#x6765;&#x8BF4;&#xFF0C;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x6587;&#x4EF6;&apos;&apos;&apos; shutil.rmtree(path[, ignore_errors[, onerror]])&#x9012;&#x5F52;&#x7684;&#x53BB;&#x5220;&#x9664;&#x6587;&#x4EF6; 123import shutil shutil.rmtree(&apos;folder1&apos;) shutil.move(src, dst)&#x9012;&#x5F52;&#x7684;&#x53BB;&#x79FB;&#x52A8;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x7C7B;&#x4F3C;mv&#x547D;&#x4EE4;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x91CD;&#x547D;&#x540D;&#x3002; 123import shutil shutil.move(&apos;folder1&apos;, &apos;folder3&apos;) shutil.make_archive(base_name, format,&#x2026;)&#x521B;&#x5EFA;&#x538B;&#x7F29;&#x5305;&#x5E76;&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;zip&#x3001;tar base_name&#xFF1A; &#x538B;&#x7F29;&#x5305;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x538B;&#x7F29;&#x5305;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x53EA;&#x662F;&#x6587;&#x4EF6;&#x540D;&#x65F6;&#xFF0C;&#x5219;&#x4FDD;&#x5B58;&#x81F3;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF0C;&#x5426;&#x5219;&#x4FDD;&#x5B58;&#x81F3;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#xFF0C; &#x5982; data_bak =&gt;&#x4FDD;&#x5B58;&#x81F3;&#x5F53;&#x524D;&#x8DEF;&#x5F84; &#x5982;&#xFF1A;/tmp/data_bak =&gt;&#x4FDD;&#x5B58;&#x81F3;/tmp/ format&#xFF1A; &#x538B;&#x7F29;&#x5305;&#x79CD;&#x7C7B;&#xFF0C;&#x201C;zip&#x201D;, &#x201C;tar&#x201D;, &#x201C;bztar&#x201D;&#xFF0C;&#x201C;gztar&#x201D; root_dir&#xFF1A; &#x8981;&#x538B;&#x7F29;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84;&#xFF08;&#x9ED8;&#x8BA4;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF09; owner&#xFF1A; &#x7528;&#x6237;&#xFF0C;&#x9ED8;&#x8BA4;&#x5F53;&#x524D;&#x7528;&#x6237; group&#xFF1A; &#x7EC4;&#xFF0C;&#x9ED8;&#x8BA4;&#x5F53;&#x524D;&#x7EC4; logger&#xFF1A; &#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x65E5;&#x5FD7;&#xFF0C;&#x901A;&#x5E38;&#x662F;logging.Logger&#x5BF9;&#x8C61; 12345678#&#x5C06; /data &#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x6253;&#x5305;&#x653E;&#x7F6E;&#x5F53;&#x524D;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;import shutilret = shutil.make_archive(&quot;data_bak&quot;, &apos;gztar&apos;, root_dir=&apos;/data&apos;) #&#x5C06; /data&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x6253;&#x5305;&#x653E;&#x7F6E; /tmp/&#x76EE;&#x5F55;import shutilret = shutil.make_archive(&quot;/tmp/data_bak&quot;, &apos;gztar&apos;, root_dir=&apos;/data&apos;) shutil &#x5BF9;&#x538B;&#x7F29;&#x5305;&#x7684;&#x5904;&#x7406;&#x662F;&#x8C03;&#x7528; ZipFile &#x548C; TarFile &#x4E24;&#x4E2A;&#x6A21;&#x5757;&#x6765;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x8BE6;&#x7EC6;&#xFF1A; 1234567891011121314import zipfile# &#x538B;&#x7F29;z = zipfile.ZipFile(&apos;laxi.zip&apos;, &apos;w&apos;)z.write(&apos;a.log&apos;)z.write(&apos;data.data&apos;)z.close()# &#x89E3;&#x538B;z = zipfile.ZipFile(&apos;laxi.zip&apos;, &apos;r&apos;)z.extractall(path=&apos;.&apos;)z.close()zipfile&#x538B;&#x7F29;&#x89E3;&#x538B;&#x7F29; 123456789101112131415import tarfile# &#x538B;&#x7F29;&gt;&gt;&gt; t=tarfile.open(&apos;/tmp/egon.tar&apos;,&apos;w&apos;)&gt;&gt;&gt; t.add(&apos;/test1/a.py&apos;,arcname=&apos;a.bak&apos;)&gt;&gt;&gt; t.add(&apos;/test1/b.py&apos;,arcname=&apos;b.bak&apos;)&gt;&gt;&gt; t.close()# &#x89E3;&#x538B;&gt;&gt;&gt; t=tarfile.open(&apos;/tmp/egon.tar&apos;,&apos;r&apos;)&gt;&gt;&gt; t.extractall(&apos;/egon&apos;)&gt;&gt;&gt; t.close()tarfile&#x538B;&#x7F29;&#x89E3;&#x538B;&#x7F29;]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>shutil</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python配置文件模块]]></title>
    <url>%2F2018%2F01%2F18%2Fpython-config%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;python&#x4E2D;&#x5904;&#x7406;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6A21;&#x5757; PyYAML&#x5F85;&#x7EED; ConfigParser&#x7528;&#x4E8E;&#x5BF9;&#x7279;&#x5B9A;&#x7684;&#x914D;&#x7F6E;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5F53;&#x524D;&#x6A21;&#x5757;&#x7684;&#x540D;&#x79F0;&#x5728; python 3.x &#x7248;&#x672C;&#x4E2D;&#x53D8;&#x66F4;&#x4E3A; configparser&#x3002; 12345678910111213# &#x6CE8;&#x91CA;1; &#x6CE8;&#x91CA;2[section1]k1 = v1k2:v2user=egonage=18is_admin=truesalary=31[section2]k1 = v1 &#x8BFB;&#x53D6;1234567891011121314151617181920212223242526272829303132import configparserconfig=configparser.ConfigParser()config.read(&apos;a.cfg&apos;)#&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x6807;&#x9898;res=config.sections() #[&apos;section1&apos;, &apos;section2&apos;]print(res)#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;&#x6240;&#x6709;key=value&#x7684;keyoptions=config.options(&apos;section1&apos;)print(options) #[&apos;k1&apos;, &apos;k2&apos;, &apos;user&apos;, &apos;age&apos;, &apos;is_admin&apos;, &apos;salary&apos;]#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;&#x6240;&#x6709;key=value&#x7684;(key,value)&#x683C;&#x5F0F;item_list=config.items(&apos;section1&apos;)print(item_list) #[(&apos;k1&apos;, &apos;v1&apos;), (&apos;k2&apos;, &apos;v2&apos;), (&apos;user&apos;, &apos;egon&apos;), (&apos;age&apos;, &apos;18&apos;), (&apos;is_admin&apos;, &apos;true&apos;), (&apos;salary&apos;, &apos;31&apos;)]#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;user&#x7684;&#x503C;=&gt;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;val=config.get(&apos;section1&apos;,&apos;user&apos;)print(val) #egon#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;age&#x7684;&#x503C;=&gt;&#x6574;&#x6570;&#x683C;&#x5F0F;val1=config.getint(&apos;section1&apos;,&apos;age&apos;)print(val1) #18#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;is_admin&#x7684;&#x503C;=&gt;&#x5E03;&#x5C14;&#x503C;&#x683C;&#x5F0F;val2=config.getboolean(&apos;section1&apos;,&apos;is_admin&apos;)print(val2) #True#&#x67E5;&#x770B;&#x6807;&#x9898;section1&#x4E0B;salary&#x7684;&#x503C;=&gt;&#x6D6E;&#x70B9;&#x578B;&#x683C;&#x5F0F;val3=config.getfloat(&apos;section1&apos;,&apos;salary&apos;)print(val3) #31.0 &#x6539;&#x5199;123456789101112131415161718192021222324252627282930import configparserconfig=configparser.ConfigParser()config.read(&apos;a.cfg&apos;,encoding=&apos;utf-8&apos;)#&#x5220;&#x9664;&#x6574;&#x4E2A;&#x6807;&#x9898;section2config.remove_section(&apos;section2&apos;)#&#x5220;&#x9664;&#x6807;&#x9898;section1&#x4E0B;&#x7684;&#x67D0;&#x4E2A;k1&#x548C;k2config.remove_option(&apos;section1&apos;,&apos;k1&apos;)config.remove_option(&apos;section1&apos;,&apos;k2&apos;)#&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x67D0;&#x4E2A;&#x6807;&#x9898;print(config.has_section(&apos;section1&apos;))#&#x5224;&#x65AD;&#x6807;&#x9898;section1&#x4E0B;&#x662F;&#x5426;&#x6709;userprint(config.has_option(&apos;section1&apos;,&apos;&apos;))#&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6807;&#x9898;config.add_section(&apos;egon&apos;)#&#x5728;&#x6807;&#x9898;egon&#x4E0B;&#x6DFB;&#x52A0;name=egon,age=18&#x7684;&#x914D;&#x7F6E;config.set(&apos;egon&apos;,&apos;name&apos;,&apos;egon&apos;)config.set(&apos;egon&apos;,&apos;age&apos;,18) #&#x62A5;&#x9519;,&#x5FC5;&#x987B;&#x662F;&#x5B57;&#x7B26;&#x4E32;#&#x6700;&#x540E;&#x5C06;&#x4FEE;&#x6539;&#x7684;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x6587;&#x4EF6;,&#x5B8C;&#x6210;&#x6700;&#x7EC8;&#x7684;&#x4FEE;&#x6539;config.write(open(&apos;a.cfg&apos;,&apos;w&apos;)) &#x57FA;&#x4E8E;&#x4E0A;&#x8FF0;&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;ini&#x6587;&#x6863;12345678910111213141516import configparser config = configparser.ConfigParser()config[&quot;DEFAULT&quot;] = {&apos;ServerAliveInterval&apos;: &apos;45&apos;, &apos;Compression&apos;: &apos;yes&apos;, &apos;CompressionLevel&apos;: &apos;9&apos;} config[&apos;bitbucket.org&apos;] = {}config[&apos;bitbucket.org&apos;][&apos;User&apos;] = &apos;hg&apos;config[&apos;topsecret.server.com&apos;] = {}topsecret = config[&apos;topsecret.server.com&apos;]topsecret[&apos;Host Port&apos;] = &apos;50022&apos; # mutates the parsertopsecret[&apos;ForwardX11&apos;] = &apos;no&apos; # same hereconfig[&apos;DEFAULT&apos;][&apos;ForwardX11&apos;] = &apos;yes&apos;with open(&apos;example.ini&apos;, &apos;w&apos;) as configfile: config.write(configfile) xmlxml&#x662F;&#x5B9E;&#x73B0;&#x4E0D;&#x540C;&#x8BED;&#x8A00;&#x6216;&#x7A0B;&#x5E8F;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x8DDF;json&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x4F46;json&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x66F4;&#x7B80;&#x5355;&#xFF0C;&#x4E0D;&#x8FC7;&#xFF0C;&#x53E4;&#x65F6;&#x5019;&#xFF0C;&#x5728;json&#x8FD8;&#x6CA1;&#x8BDE;&#x751F;&#x7684;&#x9ED1;&#x6697;&#x5E74;&#x4EE3;&#xFF0C;&#x5927;&#x5BB6;&#x53EA;&#x80FD;&#x9009;&#x62E9;&#x7528;xml&#x5440;&#xFF0C;&#x81F3;&#x4ECA;&#x5F88;&#x591A;&#x4F20;&#x7EDF;&#x516C;&#x53F8;&#x5982;&#x91D1;&#x878D;&#x884C;&#x4E1A;&#x7684;&#x5F88;&#x591A;&#x7CFB;&#x7EDF;&#x7684;&#x63A5;&#x53E3;&#x8FD8;&#x4E3B;&#x8981;&#x662F;xml&#x3002; xml&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF0C;&#x5C31;&#x662F;&#x901A;&#x8FC7;&lt;&gt;&#x8282;&#x70B9;&#x6765;&#x533A;&#x522B;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;: 1234567891011121314151617181920212223&lt;?xml version=&quot;1.0&quot;?&gt;&lt;data&gt; &lt;country name=&quot;Liechtenstein&quot;&gt; &lt;rank updated=&quot;yes&quot;&gt;2&lt;/rank&gt; &lt;year&gt;2008&lt;/year&gt; &lt;gdppc&gt;141100&lt;/gdppc&gt; &lt;neighbor name=&quot;Austria&quot; direction=&quot;E&quot;/&gt; &lt;neighbor name=&quot;Switzerland&quot; direction=&quot;W&quot;/&gt; &lt;/country&gt; &lt;country name=&quot;Singapore&quot;&gt; &lt;rank updated=&quot;yes&quot;&gt;5&lt;/rank&gt; &lt;year&gt;2011&lt;/year&gt; &lt;gdppc&gt;59900&lt;/gdppc&gt; &lt;neighbor name=&quot;Malaysia&quot; direction=&quot;N&quot;/&gt; &lt;/country&gt; &lt;country name=&quot;Panama&quot;&gt; &lt;rank updated=&quot;yes&quot;&gt;69&lt;/rank&gt; &lt;year&gt;2011&lt;/year&gt; &lt;gdppc&gt;13600&lt;/gdppc&gt; &lt;neighbor name=&quot;Costa Rica&quot; direction=&quot;W&quot;/&gt; &lt;neighbor name=&quot;Colombia&quot; direction=&quot;E&quot;/&gt; &lt;/country&gt;&lt;/data&gt; xml&#x534F;&#x8BAE;&#x5728;&#x5404;&#x4E2A;&#x8BED;&#x8A00;&#x91CC;&#x7684;&#x90FD; &#x662F;&#x652F;&#x6301;&#x7684;&#xFF0C;&#x5728;python&#x4E2D;&#x53EF;&#x4EE5;&#x7528;&#x4EE5;&#x4E0B;&#x6A21;&#x5757;&#x64CD;&#x4F5C;xml&#xFF1A; 123# print(root.iter(&apos;year&apos;)) #&#x5168;&#x6587;&#x641C;&#x7D22;# print(root.find(&apos;country&apos;)) #&#x5728;root&#x7684;&#x5B50;&#x8282;&#x70B9;&#x627E;&#xFF0C;&#x53EA;&#x627E;&#x4E00;&#x4E2A;# print(root.findall(&apos;country&apos;)) #&#x5728;root&#x7684;&#x5B50;&#x8282;&#x70B9;&#x627E;&#xFF0C;&#x627E;&#x6240;&#x6709; 1234567891011121314151617181920212223242526272829303132333435363738import xml.etree.ElementTree as ET tree = ET.parse(&quot;xmltest.xml&quot;)root = tree.getroot()print(root.tag) #&#x904D;&#x5386;xml&#x6587;&#x6863;for child in root: print(&apos;========&gt;&apos;,child.tag,child.attrib,child.attrib[&apos;name&apos;]) for i in child: print(i.tag,i.attrib,i.text) #&#x53EA;&#x904D;&#x5386;year &#x8282;&#x70B9;for node in root.iter(&apos;year&apos;): print(node.tag,node.text)#---------------------------------------import xml.etree.ElementTree as ET tree = ET.parse(&quot;xmltest.xml&quot;)root = tree.getroot() #&#x4FEE;&#x6539;for node in root.iter(&apos;year&apos;): new_year=int(node.text)+1 node.text=str(new_year) node.set(&apos;updated&apos;,&apos;yes&apos;) node.set(&apos;version&apos;,&apos;1.0&apos;)tree.write(&apos;test.xml&apos;) #&#x5220;&#x9664;nodefor country in root.findall(&apos;country&apos;): rank = int(country.find(&apos;rank&apos;).text) if rank &gt; 50: root.remove(country) tree.write(&apos;output.xml&apos;) 12345678910111213#&#x5728;country&#x5185;&#x6DFB;&#x52A0;&#xFF08;append&#xFF09;&#x8282;&#x70B9;year2import xml.etree.ElementTree as ETtree = ET.parse(&quot;a.xml&quot;)root=tree.getroot()for country in root.findall(&apos;country&apos;): for year in country.findall(&apos;year&apos;): if int(year.text) &gt; 2000: year2=ET.Element(&apos;year2&apos;) year2.text=&apos;&#x65B0;&#x5E74;&apos; year2.attrib={&apos;update&apos;:&apos;yes&apos;} country.append(year2) #&#x5F80;country&#x8282;&#x70B9;&#x4E0B;&#x6DFB;&#x52A0;&#x5B50;&#x8282;&#x70B9;tree.write(&apos;a.xml.swap&apos;) &#x81EA;&#x5DF1;&#x521B;&#x5EFA;xml&#x6587;&#x4EF6; 12345678910111213141516import xml.etree.ElementTree as ET new_xml = ET.Element(&quot;namelist&quot;)name = ET.SubElement(new_xml,&quot;name&quot;,attrib={&quot;enrolled&quot;:&quot;yes&quot;})age = ET.SubElement(name,&quot;age&quot;,attrib={&quot;checked&quot;:&quot;no&quot;})sex = ET.SubElement(name,&quot;sex&quot;)sex.text = &apos;33&apos;name2 = ET.SubElement(new_xml,&quot;name&quot;,attrib={&quot;enrolled&quot;:&quot;no&quot;})age = ET.SubElement(name2,&quot;age&quot;)age.text = &apos;19&apos; et = ET.ElementTree(new_xml) #&#x751F;&#x6210;&#x6587;&#x6863;&#x5BF9;&#x8C61;et.write(&quot;test.xml&quot;, encoding=&quot;utf-8&quot;,xml_declaration=True) ET.dump(new_xml) #&#x6253;&#x5370;&#x751F;&#x6210;&#x7684;&#x683C;&#x5F0F;]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>PyYAML</tag>
        <tag>configparser</tag>
        <tag>xml</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python执行系统命令]]></title>
    <url>%2F2018%2F01%2F17%2Fpython-syscommand%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x53EF;&#x4EE5;&#x6267;&#x884C;shell&#x547D;&#x4EE4;&#x7684;&#x76F8;&#x5173;&#x6A21;&#x5757;&#x548C;&#x51FD;&#x6570;&#x6709;&#xFF1A; os.system os.spawn* os.popen* &#x2013;&#x5E9F;&#x5F03; popen2.* &#x2013;&#x5E9F;&#x5F03; commands.* &#x2013;&#x5E9F;&#x5F03;&#xFF0C;3.x&#x4E2D;&#x88AB;&#x79FB;&#x9664; subprocess commands123456import commandsresult = commands.getoutput(&apos;cmd&apos;)result = commands.getstatus(&apos;cmd&apos;)result = commands.getstatusoutput(&apos;cmd&apos;)(status, out) = commands.getstatusoutput(&apos;cmd&apos; + &apos; 2&gt;&amp;1&apos;) &#x4EE5;&#x4E0A;&#x6267;&#x884C;shell&#x547D;&#x4EE4;&#x7684;&#x76F8;&#x5173;&#x7684;&#x6A21;&#x5757;&#x548C;&#x51FD;&#x6570;&#x7684;&#x529F;&#x80FD;&#x5747;&#x5728; subprocess &#x6A21;&#x5757;&#x4E2D;&#x5B9E;&#x73B0;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4E86;&#x66F4;&#x4E30;&#x5BCC;&#x7684;&#x529F;&#x80FD;&#x3002; subprocesscall&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801; 12ret = subprocess.call([&quot;ls&quot;, &quot;-l&quot;], shell=False)ret = subprocess.call(&quot;ls -l&quot;, shell=True) shell = True &#xFF0C;&#x5141;&#x8BB8; shell &#x547D;&#x4EE4;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F; check_call&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x679C;&#x6267;&#x884C;&#x72B6;&#x6001;&#x7801;&#x662F; 0 &#xFF0C;&#x5219;&#x8FD4;&#x56DE;0&#xFF0C;&#x5426;&#x5219;&#x629B;&#x5F02;&#x5E38; 12subprocess.check_call([&quot;ls&quot;, &quot;-l&quot;])subprocess.check_call(&quot;exit 1&quot;, shell=True) check_output&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x679C;&#x72B6;&#x6001;&#x7801;&#x662F; 0 &#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF0C;&#x5426;&#x5219;&#x629B;&#x5F02;&#x5E38; 12subprocess.check_output([&quot;echo&quot;, &quot;Hello World!&quot;])subprocess.check_output(&quot;exit 1&quot;, shell=True) subprocess.Popen(&#x2026;)&#x7528;&#x4E8E;&#x6267;&#x884C;&#x590D;&#x6742;&#x7684;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4; &#x53C2;&#x6570;&#xFF1A; args&#xFF1A;shell&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x5E8F;&#x5217;&#x7C7B;&#x578B;&#xFF08;&#x5982;&#xFF1A;list&#xFF0C;&#x5143;&#x7EC4;&#xFF09; bufsize&#xFF1A;&#x6307;&#x5B9A;&#x7F13;&#x51B2;&#x3002;0 &#x65E0;&#x7F13;&#x51B2;,1 &#x884C;&#x7F13;&#x51B2;,&#x5176;&#x4ED6; &#x7F13;&#x51B2;&#x533A;&#x5927;&#x5C0F;,&#x8D1F;&#x503C; &#x7CFB;&#x7EDF;&#x7F13;&#x51B2; stdin, stdout, stderr&#xFF1A;&#x5206;&#x522B;&#x8868;&#x793A;&#x7A0B;&#x5E8F;&#x7684;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x3001;&#x8F93;&#x51FA;&#x3001;&#x9519;&#x8BEF;&#x53E5;&#x67C4; preexec_fn&#xFF1A;&#x53EA;&#x5728;Unix&#x5E73;&#x53F0;&#x4E0B;&#x6709;&#x6548;&#xFF0C;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x5BF9;&#x8C61;&#xFF08;callable object&#xFF09;&#xFF0C;&#x5B83;&#x5C06;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528; close_sfs&#xFF1A;&#x5728;windows&#x5E73;&#x53F0;&#x4E0B;&#xFF0C;&#x5982;&#x679C;close_fds&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;True&#xFF0C;&#x5219;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x4E0D;&#x4F1A;&#x7EE7;&#x627F;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x8F93;&#x5165;&#x3001;&#x8F93;&#x51FA;&#x3001;&#x9519;&#x8BEF;&#x7BA1;&#x9053;&#x3002;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x5C06;close_fds&#x8BBE;&#x7F6E;&#x4E3A;True&#x540C;&#x65F6;&#x91CD;&#x5B9A;&#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x3001;&#x8F93;&#x51FA;&#x4E0E;&#x9519;&#x8BEF;(stdin, stdout, stderr)&#x3002; shell&#xFF1A;&#x540C;&#x4E0A; cwd&#xFF1A;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x76EE;&#x5F55; env&#xFF1A;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;&#x5982;&#x679C;env = None&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5C06;&#x4ECE;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#x7EE7;&#x627F;&#x3002; universal_newlines&#xFF1A;&#x4E0D;&#x540C;&#x7CFB;&#x7EDF;&#x7684;&#x6362;&#x884C;&#x7B26;&#x4E0D;&#x540C;&#xFF0C;True -&gt; &#x540C;&#x610F;&#x4F7F;&#x7528; \n startupinfo&#x4E0E;createionflags&#x53EA;&#x5728;windows&#x4E0B;&#x6709;&#x6548;&#x5C06;&#x88AB;&#x4F20;&#x9012;&#x7ED9;&#x5E95;&#x5C42;&#x7684;CreateProcess()&#x51FD;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x4E00;&#x4E9B;&#x5C5E;&#x6027;&#xFF0C;&#x5982;&#xFF1A;&#x4E3B;&#x7A97;&#x53E3;&#x7684;&#x5916;&#x89C2;&#xFF0C;&#x8FDB;&#x7A0B;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x7B49;&#x7B49; 123import subprocessret1 = subprocess.Popen([&quot;mkdir&quot;,&quot;t1&quot;])ret2 = subprocess.Popen(&quot;mkdir t2&quot;, shell=True) &#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x7684;&#x547D;&#x4EE4;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF1A; &#x8F93;&#x5165;&#x5373;&#x53EF;&#x5F97;&#x5230;&#x8F93;&#x51FA;&#xFF0C;&#x5982;&#xFF1A;ifconfig &#x8F93;&#x5165;&#x8FDB;&#x884C;&#x67D0;&#x73AF;&#x5883;&#xFF0C;&#x4F9D;&#x8D56;&#x518D;&#x8F93;&#x5165;&#xFF0C;&#x5982;&#xFF1A;python 123import subprocessobj = subprocess.Popen(&quot;mkdir t3&quot;, shell=True, cwd=&apos;/home/dev&apos;,) 12345678910111213141516import subprocessobj = subprocess.Popen([&quot;python&quot;], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)obj.stdin.write(&apos;print 1 \n &apos;)obj.stdin.write(&apos;print 2 \n &apos;)obj.stdin.write(&apos;print 3 \n &apos;)obj.stdin.write(&apos;print 4 \n &apos;)obj.stdin.close()cmd_out = obj.stdout.read()obj.stdout.close()cmd_error = obj.stderr.read()obj.stderr.close()print cmd_outprint cmd_error 12345678910import subprocessobj = subprocess.Popen([&quot;python&quot;], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)obj.stdin.write(&apos;print 1 \n &apos;)obj.stdin.write(&apos;print 2 \n &apos;)obj.stdin.write(&apos;print 3 \n &apos;)obj.stdin.write(&apos;print 4 \n &apos;)out_error_list = obj.communicate()print out_error_list 12345import subprocessobj = subprocess.Popen([&quot;python&quot;], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)out_error_list = obj.communicate(&apos;print &quot;hello&quot;&apos;)print out_error_list 123456789101112131415161718192021222324252627282930import subprocess&apos;&apos;&apos;sh-3.2# ls /Users/egon/Desktop |grep txt$mysql.txttt.txt&#x4E8B;&#x7269;.txt&apos;&apos;&apos;res1=subprocess.Popen(&apos;ls /Users/jieli/Desktop&apos;,shell=True,stdout=subprocess.PIPE)res=subprocess.Popen(&apos;grep txt$&apos;,shell=True,stdin=res1.stdout, stdout=subprocess.PIPE)print(res.stdout.read().decode(&apos;utf-8&apos;))#&#x7B49;&#x540C;&#x4E8E;&#x4E0A;&#x9762;,&#x4F46;&#x662F;&#x4E0A;&#x9762;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x4E8E;,&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6D41;&#x53EF;&#x4EE5;&#x548C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6D41;&#x4EA4;&#x4E92;,&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x722C;&#x866B;&#x5F97;&#x5230;&#x7ED3;&#x679C;&#x7136;&#x540E;&#x4EA4;&#x7ED9;grepres1=subprocess.Popen(&apos;ls /Users/jieli/Desktop |grep txt$&apos;,shell=True,stdout=subprocess.PIPE)print(res1.stdout.read().decode(&apos;utf-8&apos;))#windows&#x4E0B;:# dir | findstr &apos;test*&apos;# dir | findstr &apos;txt$&apos;import subprocessres1=subprocess.Popen(r&apos;dir C:\Users\Administrator\PycharmProjects\test\&#x51FD;&#x6570;&#x5907;&#x8BFE;&apos;,shell=True,stdout=subprocess.PIPE)res=subprocess.Popen(&apos;findstr test*&apos;,shell=True,stdin=res1.stdout, stdout=subprocess.PIPE)print(res.stdout.read().decode(&apos;gbk&apos;)) #subprocess&#x4F7F;&#x7528;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x7F16;&#x7801;&#xFF0C;&#x5F97;&#x5230;&#x7ED3;&#x679C;&#x4E3A;bytes&#x7C7B;&#x578B;&#xFF0C;&#x5728;windows&#x4E0B;&#x9700;&#x8981;&#x7528;gbk&#x89E3;&#x7801;]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>commands</tag>
        <tag>subprocess</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python模块（hashlib）]]></title>
    <url>%2F2018%2F01%2F17%2Fpython-hashlib%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;hashlib&#x7684;&#x5E38;&#x7528;&#x65B9;&#x6CD5; hashlibhash&#xFF1A;&#x4E00;&#x79CD;&#x7B97;&#x6CD5;,&#x7528;&#x4E8E;&#x52A0;&#x5BC6;&#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;,3.x&#x91CC;&#x4EE3;&#x66FF;&#x4E86;md5&#x6A21;&#x5757;&#x548C;sha&#x6A21;&#x5757;&#xFF0C;&#x4E3B;&#x8981;&#x63D0;&#x4F9B; SHA1, SHA224, SHA256, SHA384, SHA512 &#xFF0C;MD5 &#x7B97;&#x6CD5;&#x4E09;&#x4E2A;&#x7279;&#x70B9;&#xFF1A; &#x5185;&#x5BB9;&#x76F8;&#x540C;&#x5219;hash&#x8FD0;&#x7B97;&#x7ED3;&#x679C;&#x76F8;&#x540C;&#xFF0C;&#x5185;&#x5BB9;&#x7A0D;&#x5FAE;&#x6539;&#x53D8;&#x5219;hash&#x503C;&#x5219;&#x53D8; &#x4E0D;&#x53EF;&#x9006;&#x63A8; &#x76F8;&#x540C;&#x7B97;&#x6CD5;&#xFF1A;&#x65E0;&#x8BBA;&#x6821;&#x9A8C;&#x591A;&#x957F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x54C8;&#x5E0C;&#x503C;&#x957F;&#x5EA6;&#x56FA;&#x5B9A;&#x3002; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849import hashlib# ######## md5 ######## hash = hashlib.md5()hash.update(&apos;hello&apos;.encode(&apos;utf8&apos;))print(hash.hexdigest())#5d41402abc4b2a76b9719d911017c592 hash.update(&apos;alvin&apos;.encode(&apos;utf8&apos;)) print(hash.hexdigest())#92a7e713c30abbb0319fa07da2a5c4af m2=hashlib.md5()m2.update(&apos;helloalvin&apos;.encode(&apos;utf8&apos;))print(m2.hexdigest())#92a7e713c30abbb0319fa07da2a5c4af# &#x6CE8;&#x610F;&#xFF1A;&#x628A;&#x4E00;&#x6BB5;&#x5F88;&#x957F;&#x7684;&#x6570;&#x636E;update&#x591A;&#x6B21;&#xFF0C;&#x4E0E;&#x4E00;&#x6B21;update&#x8FD9;&#x6BB5;&#x957F;&#x6570;&#x636E;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E00;&#x6837;# &#x4F46;&#x662F;update&#x591A;&#x6B21;&#x4E3A;&#x6821;&#x9A8C;&#x5927;&#x6587;&#x4EF6;&#x63D0;&#x4F9B;&#x4E86;&#x53EF;&#x80FD;&#x3002; # ######## sha1 ########hash = hashlib.sha1()hash.update(&apos;admin&apos;)print hash.hexdigest() # ######## sha256 ########hash = hashlib.sha256()hash.update(&apos;admin&apos;)print hash.hexdigest() hash = hashlib.sha256(&apos;898oaFs09f&apos;.encode(&apos;utf8&apos;))hash.update(&apos;alvin&apos;.encode(&apos;utf8&apos;))print (hash.hexdigest())#e79e68f070cdedcfe63eaf1a2e92c83b4cfb1b5c6bc452d214c1b7e77cdfd1c7 # ######## sha384 ######## hash = hashlib.sha384()hash.update(&apos;admin&apos;)print hash.hexdigest() # ######## sha512 ######## hash = hashlib.sha512()hash.update(&apos;admin&apos;) &#x4EE5;&#x4E0A;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x867D;&#x7136;&#x4F9D;&#x7136;&#x975E;&#x5E38;&#x5389;&#x5BB3;&#xFF0C;&#x4F46;&#x65F6;&#x5019;&#x5B58;&#x5728;&#x7F3A;&#x9677;&#xFF0C;&#x5373;&#xFF1A;&#x901A;&#x8FC7;&#x649E;&#x5E93;&#x53EF;&#x4EE5;&#x53CD;&#x89E3;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x6709;&#x5FC5;&#x8981;&#x5BF9;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;key&#x518D;&#x6765;&#x505A;&#x52A0;&#x5BC6;&#x3002; 1234567import hashlib # ######## md5 ######## hash = hashlib.md5(&apos;898oaFs09f&apos;)hash.update(&apos;admin&apos;)print hash.hexdigest() &#x6A21;&#x62DF;&#x649E;&#x5E93;&#x7834;&#x89E3;&#x5BC6;&#x7801; 123456789101112131415161718192021222324import hashlibpasswds=[ &apos;alex3714&apos;, &apos;alex1313&apos;, &apos;alex94139413&apos;, &apos;alex123456&apos;, &apos;123456alex&apos;, &apos;a123lex&apos;, ]def make_passwd_dic(passwds): dic={} for passwd in passwds: m=hashlib.md5() m.update(passwd.encode(&apos;utf-8&apos;)) dic[passwd]=m.hexdigest() return dicdef break_code(cryptograph,passwd_dic): for k,v in passwd_dic.items(): if v == cryptograph: print(&apos;&#x5BC6;&#x7801;&#x662F;===&gt;\033[46m%s\033[0m&apos; %k)cryptograph=&apos;aee949757a2e698417463d47acac93df&apos;break_code(cryptograph,make_passwd_dic(passwds)) &#x8FD8;&#x4E0D;&#x591F;&#x540A;&#xFF1F;python &#x8FD8;&#x6709;&#x4E00;&#x4E2A; hmac &#x6A21;&#x5757;&#xFF0C;&#x5B83;&#x5185;&#x90E8;&#x5BF9;&#x6211;&#x4EEC;&#x521B;&#x5EFA; key &#x548C; &#x5185;&#x5BB9; &#x518D;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x7136;&#x540E;&#x518D;&#x52A0;&#x5BC6; 123456import hmach = hmac.new(&apos;alvin&apos;.encode(&apos;utf8&apos;))h.update(&apos;hello&apos;.encode(&apos;utf8&apos;))print(h.hexdigest())#320df9832eab4c038b6c1d7ed73a5940 &#x6CE8;&#x610F;&#xFF01;&#x6CE8;&#x610F;&#xFF01;&#x6CE8;&#x610F; 1234567891011121314151617181920212223#&#x8981;&#x60F3;&#x4FDD;&#x8BC1;hmac&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x4E00;&#x81F4;&#xFF0C;&#x5FC5;&#x987B;&#x4FDD;&#x8BC1;&#xFF1A;#1:hmac.new&#x62EC;&#x53F7;&#x5185;&#x6307;&#x5B9A;&#x7684;&#x521D;&#x59CB;key&#x4E00;&#x6837;#2:&#x65E0;&#x8BBA;update&#x591A;&#x5C11;&#x6B21;&#xFF0C;&#x6821;&#x9A8C;&#x7684;&#x5185;&#x5BB9;&#x7D2F;&#x52A0;&#x5230;&#x4E00;&#x8D77;&#x662F;&#x4E00;&#x6837;&#x7684;&#x5185;&#x5BB9;import hmach1=hmac.new(b&apos;egon&apos;)h1.update(b&apos;hello&apos;)h1.update(b&apos;world&apos;)print(h1.hexdigest())h2=hmac.new(b&apos;egon&apos;)h2.update(b&apos;helloworld&apos;)print(h2.hexdigest())h3=hmac.new(b&apos;egonhelloworld&apos;)print(h3.hexdigest())&apos;&apos;&apos;f1bf38d054691688f89dcd34ac3c27f2f1bf38d054691688f89dcd34ac3c27f2bcca84edd9eeb86f30539922b28f3981&apos;&apos;&apos;]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>hashlib</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python模块（random）]]></title>
    <url>%2F2018%2F01%2F17%2Fpython-random%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;random&#x5E38;&#x7528;&#x65B9;&#x6CD5; random123456789101112131415161718192021222324#!/usr/bin/env python#_*_encoding: utf-8_*_import randomprint (random.random()) #0.6445010863311293 #random.random()&#x7528;&#x4E8E;&#x751F;&#x6210;&#x4E00;&#x4E2A;0&#x5230;1&#x7684;&#x968F;&#x673A;&#x7B26;&#x70B9;&#x6570;: 0 &lt;= n &lt; 1.0print (random.randint(1,7)) #4#random.randint()&#x7684;&#x51FD;&#x6570;&#x539F;&#x578B;&#x4E3A;&#xFF1A;random.randint(a, b)&#xFF0C;&#x7528;&#x4E8E;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x5185;&#x7684;&#x6574;&#x6570;&#x3002;# &#x5176;&#x4E2D;&#x53C2;&#x6570;a&#x662F;&#x4E0B;&#x9650;&#xFF0C;&#x53C2;&#x6570;b&#x662F;&#x4E0A;&#x9650;&#xFF0C;&#x751F;&#x6210;&#x7684;&#x968F;&#x673A;&#x6570;n: a &lt;= n &lt;= bprint (random.randrange(1,10)) #5#random.randrange&#x7684;&#x51FD;&#x6570;&#x539F;&#x578B;&#x4E3A;&#xFF1A;random.randrange([start], stop[, step])&#xFF0C;# &#x4ECE;&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x5185;&#xFF0C;&#x6309;&#x6307;&#x5B9A;&#x57FA;&#x6570;&#x9012;&#x589E;&#x7684;&#x96C6;&#x5408;&#x4E2D; &#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x6570;&#x3002;&#x5982;&#xFF1A;random.randrange(10, 100, 2)&#xFF0C;# &#x7ED3;&#x679C;&#x76F8;&#x5F53;&#x4E8E;&#x4ECE;[10, 12, 14, 16, ... 96, 98]&#x5E8F;&#x5217;&#x4E2D;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x6570;&#x3002;# random.randrange(10, 100, 2)&#x5728;&#x7ED3;&#x679C;&#x4E0A;&#x4E0E; random.choice(range(10, 100, 2) &#x7B49;&#x6548;&#x3002;print(random.choice(&apos;liukuni&apos;)) #i#random.choice&#x4ECE;&#x5E8F;&#x5217;&#x4E2D;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x5143;&#x7D20;&#x3002;# &#x5176;&#x51FD;&#x6570;&#x539F;&#x578B;&#x4E3A;&#xFF1A;random.choice(sequence)&#x3002;&#x53C2;&#x6570;sequence&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7C7B;&#x578B;&#x3002;# &#x8FD9;&#x91CC;&#x8981;&#x8BF4;&#x660E;&#x4E00;&#x4E0B;&#xFF1A;sequence&#x5728;python&#x4E0D;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x5B9A;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x662F;&#x6CDB;&#x6307;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x3002;# list, tuple, &#x5B57;&#x7B26;&#x4E32;&#x90FD;&#x5C5E;&#x4E8E;sequence&#x3002;&#x6709;&#x5173;sequence&#x53EF;&#x4EE5;&#x67E5;&#x770B;python&#x624B;&#x518C;&#x6570;&#x636E;&#x6A21;&#x578B;&#x8FD9;&#x4E00;&#x7AE0;&#x3002;# &#x4E0B;&#x9762;&#x662F;&#x4F7F;&#x7528;choice&#x7684;&#x4E00;&#x4E9B;&#x4F8B;&#x5B50;&#xFF1A;print(random.choice(&quot;&#x5B66;&#x4E60;Python&quot;))#&#x5B66;print(random.choice([&quot;JGood&quot;,&quot;is&quot;,&quot;a&quot;,&quot;handsome&quot;,&quot;boy&quot;])) #Listprint(random.choice((&quot;Tuple&quot;,&quot;List&quot;,&quot;Dict&quot;))) #Listprint(random.sample([1,2,3,4,5],3)) #[1, 2, 5]#random.sample&#x7684;&#x51FD;&#x6570;&#x539F;&#x578B;&#x4E3A;&#xFF1A;random.sample(sequence, k)&#xFF0C;&#x4ECE;&#x6307;&#x5B9A;&#x5E8F;&#x5217;&#x4E2D;&#x968F;&#x673A;&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x7247;&#x65AD;&#x3002;sample&#x51FD;&#x6570;&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#x539F;&#x6709;&#x5E8F;&#x5217;&#x3002; &#x5B9E;&#x9645;&#x4F7F;&#x7528;123456789101112131415161718192021222324252627#!/usr/bin/env python# encoding: utf-8import randomimport string#&#x968F;&#x673A;&#x6574;&#x6570;&#xFF1A;print( random.randint(0,99)) #70 #&#x968F;&#x673A;&#x9009;&#x53D6;0&#x5230;100&#x95F4;&#x7684;&#x5076;&#x6570;&#xFF1A;print(random.randrange(0, 101, 2)) #4 #&#x968F;&#x673A;&#x6D6E;&#x70B9;&#x6570;&#xFF1A;print( random.random()) #0.2746445568079129print(random.uniform(1, 10)) #9.887001463194844 #&#x968F;&#x673A;&#x5B57;&#x7B26;&#xFF1A;print(random.choice(&apos;abcdefg&amp;#%^*f&apos;)) #f #&#x591A;&#x4E2A;&#x5B57;&#x7B26;&#x4E2D;&#x9009;&#x53D6;&#x7279;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x5B57;&#x7B26;&#xFF1A;print(random.sample(&apos;abcdefghij&apos;,3)) #[&apos;f&apos;, &apos;h&apos;, &apos;d&apos;] #&#x968F;&#x673A;&#x9009;&#x53D6;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;print( random.choice ( [&apos;apple&apos;, &apos;pear&apos;, &apos;peach&apos;, &apos;orange&apos;, &apos;lemon&apos;] )) #apple#&#x6D17;&#x724C;#items = [1,2,3,4,5,6,7]print(items) #[1, 2, 3, 4, 5, 6, 7]random.shuffle(items)print(items) #[1, 4, 7, 2, 5, 3, 6] &#x751F;&#x6210;&#x968F;&#x673A;&#x9A8C;&#x8BC1;&#x7801;12345678910import randomcheckcode = &apos;&apos;for i in range(4): current = random.randrange(0,4) if current != i: temp = chr(random.randint(65,90)) else: temp = random.randint(0,9) checkcode += str(temp)print (checkcode)]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>random</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python模块（time、datetime）]]></title>
    <url>%2F2018%2F01%2F16%2Fpython-time%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5728;Python&#x4E2D;&#xFF0C;&#x901A;&#x5E38;&#x6709;&#x8FD9;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x8868;&#x793A;&#x65F6;&#x95F4;&#xFF1A; &#x65F6;&#x95F4;&#x6233; &#x683C;&#x5F0F;&#x5316;&#x7684;&#x65F6;&#x95F4;&#x5B57;&#x7B26;&#x4E32; &#x5143;&#x7EC4;&#xFF08;struct_time&#xFF09;&#x5171;&#x4E5D;&#x4E2A;&#x5143;&#x7D20;&#x3002; &#x7531;&#x4E8E;Python&#x7684;time&#x6A21;&#x5757;&#x5B9E;&#x73B0;&#x4E3B;&#x8981;&#x8C03;&#x7528;C&#x5E93;&#xFF0C;&#x6240;&#x4EE5;&#x5404;&#x4E2A;&#x5E73;&#x53F0;&#x53EF;&#x80FD;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002; UTC&#xFF08;Coordinated Universal Time&#xFF09;&#x5373;&#x683C;&#x6797;&#x5A01;&#x6CBB;&#x5929;&#x6587;&#x65F6;&#x95F4;&#xFF0C;&#x4E3A;&#x4E16;&#x754C;&#x6807;&#x51C6;&#x65F6;&#x95F4;&#x3002;&#x4E2D;&#x56FD;&#x5317;&#x4EAC;&#x4E3A;UTC+8&#x3002; DST&#xFF08;Daylight Saving Time&#xFF09;&#x5373;&#x590F;&#x4EE4;&#x65F6;&#x3002; &#x65F6;&#x95F4;&#x6233;&#xFF08;timestamp&#xFF09;&#x7684;&#x65B9;&#x5F0F;&#xFF1A;&#x901A;&#x5E38;&#x6765;&#x8BF4;&#xFF0C;&#x65F6;&#x95F4;&#x6233;&#x662F;&#x6307;&#x683C;&#x6797;&#x5A01;&#x6CBB;&#x65F6;&#x95F4;1970&#x5E74;01&#x6708;01&#x65E5;00&#x65F6;00&#x5206;00&#x79D2;(&#x5317;&#x4EAC;&#x65F6;&#x95F4;1970&#x5E74;01&#x6708;01&#x65E5;08&#x65F6;00&#x5206;00&#x79D2;)&#x8D77;&#x81F3;&#x73B0;&#x5728;&#x7684;&#x603B;&#x79D2;&#x6570;&#x3002;&#x6211;&#x4EEC;&#x8FD0;&#x884C;&#x201C;type(time.time())&#x201D;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x662F;float&#x7C7B;&#x578B;&#x3002;&#x8FD4;&#x56DE;&#x65F6;&#x95F4;&#x6233;&#x65B9;&#x5F0F;&#x7684;&#x51FD;&#x6570;&#x4E3B;&#x8981;&#x6709;time()&#xFF0C;clock()&#x7B49;&#x3002; &#x5143;&#x7EC4;&#xFF08;struct_time&#xFF09;&#x65B9;&#x5F0F;&#xFF1A;struct_time&#x5143;&#x7EC4;&#x5171;&#x6709;9&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x8FD4;&#x56DE;struct_time&#x7684;&#x51FD;&#x6570;&#x4E3B;&#x8981;&#x6709;gmtime()&#xFF0C;localtime()&#xFF0C;strptime()&#x3002; datetime123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310import datetime1.&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x65F6;&#x95F4;&gt;&gt;&gt; datetime.datetime.now()datetime.datetime(2017, 5, 9, 17, 7, 0, 514481)2.&#x65F6;&#x95F4;&#x6233;&#x8F6C;&#x6362;&#x6210;&#x65E5;&#x671F;&gt;&gt;&gt; datetime.date.fromtimestamp(1178766678)datetime.date(2007, 5, 10)3.&#x5F53;&#x524D;&#x65F6;&#x95F4;+3&#x5929;&gt;&gt;&gt; datetime.datetime.now() + datetime.timedelta(+3)datetime.datetime(2017, 5, 12, 17, 12, 42, 124379)4.&#x5F53;&#x524D;&#x65F6;&#x95F4;-3&#x5929;&gt;&gt;&gt; datetime.datetime.now() + datetime.timedelta(-3)datetime.datetime(2017, 5, 6, 17, 13, 18, 474406)5.&#x5F53;&#x524D;&#x65F6;&#x95F4;+3&#x5C0F;&#x65F6;&gt;&gt;&gt; datetime.datetime.now() + datetime.timedelta(hours=3)datetime.datetime(2017, 5, 9, 20, 13, 55, 678310)6.&#x5F53;&#x524D;&#x65F6;&#x95F4;+30&#x5206;&#x949F;&gt;&gt;&gt; datetime.datetime.now() + datetime.timedelta(minutes=30)datetime.datetime(2017, 5, 9, 17, 44, 40, 392370)1. &#x65E5;&#x671F;&#x8F93;&#x51FA;&#x683C;&#x5F0F;&#x5316; datetime =&gt; stringimport datetimenow = datetime.datetime.now()now.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;) &#x8F93;&#x51FA;&apos;2015-04-07 19:11:21&apos;strftime&#x662F;datetime&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;&#x3002; 2. &#x65E5;&#x671F;&#x8F93;&#x51FA;&#x683C;&#x5F0F;&#x5316; string =&gt; datetimeimport datetimet_str = &apos;2015-04-07 19:11:21&apos;d = datetime.datetime.strptime(t_str, &apos;%Y-%m-%d %H:%M:%S&apos;)strptime&#x662F;datetime&#x7C7B;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x3002; 3. &#x65E5;&#x671F;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#x5728;datetime&#x6A21;&#x5757;&#x4E2D;&#x6709;timedelta&#x7C7B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x7528;&#x4E8E;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x6BD4;&#x5982;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x6216;&#x8005;&#x65F6;&#x95F4;&#x7684;&#x5DEE;&#x522B;&#x3002;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF1A;import datetimedatetime.timedelta(days=0, seconds=0, microseconds=0, milliseconds=0, minutes=0, hours=0, weeks=0) &#x6240;&#x6709;&#x7684;&#x53C2;&#x6570;&#x90FD;&#x6709;&#x9ED8;&#x8BA4;&#x503C;0&#xFF0C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;int&#x6216;float&#xFF0C;&#x6B63;&#x7684;&#x6216;&#x8D1F;&#x7684;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; timedelta.days&#x3001;tiemdelta.seconds &#x7B49;&#x83B7;&#x53D6;&#x76F8;&#x5E94;&#x7684;&#x65F6;&#x95F4;&#x503C;&#x3002;timedelta &#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x652F;&#x6301;&#x52A0;&#x3001;&#x51CF;&#x3001;&#x4E58;&#x3001;&#x9664;&#x7B49;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x5F97;&#x7684;&#x7ED3;&#x679C;&#x4E5F;&#x662F; timedelta &#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x3002;&#x6BD4;&#x5982;&#xFF1A;import datetimeyear = datetime.timedelta(days=365)ten_years = year *10nine_years = ten_years - year &#x540C;&#x65F6;&#xFF0C;date&#x3001;time&#x548C;datetime&#x7C7B;&#x4E5F;&#x652F;&#x6301;&#x4E0E;timedelta&#x7684;&#x52A0;&#x3001;&#x51CF;&#x8FD0;&#x7B97;&#x3002;datetime1 = datetime2 + timedeltatimedelta = datetime1 - datetime2&#x8FD9;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x529F;&#x80FD;&#x3002; 4. &#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x76F8;&#x5DEE;&#x591A;&#x5C11;&#x5929;&#x3002;import datetimed1 = datetime.datetime.strptime(&apos;2015-03-05 17:41:20&apos;, &apos;%Y-%m-%d %H:%M:%S&apos;)d2 = datetime.datetime.strptime(&apos;2015-03-02 17:41:20&apos;, &apos;%Y-%m-%d %H:%M:%S&apos;)delta = d1 - d2print delta.days &#x8F93;&#x51FA;&#xFF1A;3 5. &#x4ECA;&#x5929;&#x7684;n&#x5929;&#x540E;&#x7684;&#x65E5;&#x671F;&#x3002;import datetimenow = datetime.datetime.now()delta = datetime.timedelta(days=3)n_days = now + deltaprint n_days.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;) &#x8F93;&#x51FA;&#xFF1A;2015-04-10 19:16:34 #coding=utf-8import datetimenow=datetime.datetime.now()print now #&#x5C06;&#x65E5;&#x671F;&#x8F6C;&#x5316;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;datetime =&gt; stringimport datetimenow=datetime.datetime.now()print now.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;) #&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x4E3A;&#x65E5;&#x671F; string =&gt; datetimeimport datetimet_str = &apos;2015-03-05 16:26:23&apos;d=datetime.datetime.strptime(t_str,&apos;%Y-%m-%d %H:%M:%S&apos;)print d#&#x5728;datetime&#x6A21;&#x5757;&#x4E2D;&#x6709;timedelta&#x7C7B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x7528;&#x4E8E;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x6BD4;&#x5982;&#x4E24;&#x4E2A;&#x65E5;#&#x671F;&#x6216;&#x8005;&#x65F6;&#x95F4;&#x7684;&#x5DEE;&#x522B;&#x3002; #&#x8BA1;&#x7B97;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x7684;&#x95F4;&#x9694;import datetimed1 = datetime.datetime.strptime(&apos;2012-03-05 17:41:20&apos;, &apos;%Y-%m-%d %H:%M:%S&apos;)d2 = datetime.datetime.strptime(&apos;2012-03-02 17:41:20&apos;, &apos;%Y-%m-%d %H:%M:%S&apos;)delta = d1 - d2print delta.days print delta #&#x4ECA;&#x5929;&#x7684;n&#x5929;&#x540E;&#x7684;&#x65E5;&#x671F;import datetimenow=datetime.datetime.now()delta=datetime.timedelta(days=3)n_days=now+deltaprint n_days.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)datetime&#x7684;&#x597D;&#x5904;&#x662F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x65B9;&#x4FBF;&#x7684;&#x65F6;&#x95F4;&#x8FD0;&#x7B97;,&#x6BD4;&#x5982; endTime - starTime,&#x8FD9;&#x5728;&#x65F6;&#x95F4;duration&#x8BA1;&#x7B97;&#x65F6;&#x975E;&#x5E38;&#x65B9;&#x4FBF;.##datetime &#x6A21;&#x5757;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#x5C0F;&#x8BB0;datetime&#x6A21;&#x5757;&#x5E38;&#x7528;&#x7684;&#x4E3B;&#x8981;&#x6709;&#x4E0B;&#x9762;&#x8FD9;&#x56DB;&#x4E2A;&#x7C7B;&#xFF1A;1. datetime.date: &#x662F;&#x6307;&#x5E74;&#x6708;&#x65E5;&#x6784;&#x6210;&#x7684;&#x65E5;&#x671F;(&#x76F8;&#x5F53;&#x4E8E;&#x65E5;&#x5386;)2. datetime.time: &#x662F;&#x6307;&#x65F6;&#x5206;&#x79D2;&#x5FAE;&#x79D2;&#x6784;&#x6210;&#x7684;&#x4E00;&#x5929;24&#x5C0F;&#x65F6;&#x4E2D;&#x7684;&#x5177;&#x4F53;&#x65F6;&#x95F4;(&#x76F8;&#x5F53;&#x4E8E;&#x624B;&#x8868;)3. datetime.datetime: &#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x65E2;&#x5305;&#x542B;&#x65F6;&#x95F4;&#x53C8;&#x5305;&#x542B;&#x65E5;&#x671F;4. datetime.timedelta: &#x65F6;&#x95F4;&#x95F4;&#x9694;&#x5BF9;&#x8C61;(timedelta)&#x3002;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x70B9;(datetime)&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9694;(timedelta)&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x65F6;&#x95F4;&#x70B9;(datetime)&#x3002;&#x6BD4;&#x5982;&#x4ECA;&#x5929;&#x7684;&#x4E0A;&#x5348;3&#x70B9;&#x52A0;&#x4E0A;5&#x4E2A;&#x5C0F;&#x65F6;&#x5F97;&#x5230;&#x4ECA;&#x5929;&#x7684;&#x4E0A;&#x5348;8&#x70B9;&#x3002;&#x540C;&#x7406;&#xFF0C;&#x4E24;&#x4E2A;&#x65F6;&#x95F4;&#x70B9;&#x76F8;&#x51CF;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x3002;1.datetime.date &#x7C7B;1.&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;date&#x5BF9;&#x8C61;&#xFF0C;&#x65E5;&#x671F;&#x4E3A;&#x4ECA;&#x5929;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;datetime.date.today()&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5411;datetime.date()&#x4F20;&#x503C;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;In [4]: today = datetime.date.today()In [5]: todayOut[5]: datetime.date(2014, 8, 15)In [6]: t = datetime.date(2014,8,15)In [7]: tOut[7]: datetime.date(2014, 8, 15)2.datetime.date.strftime(format) &#x683C;&#x5F0F;&#x5316;&#x4E3A;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5982;&#x5E38;&#x7528;&#x7684; &#x201C;&#x5E74;-&#x6708;-&#x65E5; &#x5C0F;&#x65F6;&#xFF1A;&#x5206;&#x949F;&#xFF1A;&#x79D2;&#x201D; &#x683C;&#x5F0F;In [8]: today.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)Out[8]: &apos;2014-08-15 00:00:00&#x2019;date&#x5BF9;&#x8C61;&#x4E2D;&#x5C0F;&#x65F6;&#x3001;&#x5206;&#x949F;&#x3001;&#x79D2;&#x9ED8;&#x8BA4;&#x90FD;&#x662F;0&#xFF0C;&#x7EAA;&#x5143;&#x5E74;&#x7684;&#x90A3;&#x4E2A;&#x65F6;&#x95F4;3.datetime.date.timple() &#x8F6C;&#x6210;struct_time&#x683C;&#x5F0F;&#xFF0C;&#x8FD9;&#x6837;&#x4F20;&#x9012;&#x7ED9;time.mktime(t) &#x540E;&#xFF0C;&#x76F4;&#x63A5;&#x8F6C;&#x6210;&#x65F6;&#x95F4;&#x6233;&#x683C;&#x5F0F;In [9]: today.timetuple()Out[9]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=15, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=4, tm_yday=227, tm_isdst=-1)In [10]: time.mktime(today.timetuple())Out[10]: 1408032000.04.datetime.date.replace(year, month, day) &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x66FF;&#x6362;&#x540E;&#x7684;date&#x5BF9;&#x8C61;In [11]: today.replace(year=2013)Out[11]: datetime.date(2013, 8, 15)5.datetime.date.fromtimestamp(timestamp) &#x5C06;&#x65F6;&#x95F4;&#x6233;&#x8F6C;&#x5316;&#x4E3A;date&#x5BF9;&#x8C61;In [12]: datetime.date.fromtimestamp(1408058729)Out[12]: datetime.date(2014, 8, 15)2.datetime.time &#x7C7B;1.&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;time&#x5BF9;&#x8C61;In [15]: tOut[15]: datetime.time(8, 45, 20)2.datetime.time.(format)&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;In [16]: t.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)Out[16]: &apos;1900-01-01 08:45:20&#x2019;time&#x5BF9;&#x5E94;&#x7684;&#x5E74;&#x3001;&#x6708;&#x3001;&#x65E5;&#x4E3A;1900&#x3001;01&#x3001;01&#xFF0C;&#x7EAA;&#x5143;&#x5E74;&#x7684;&#x90A3;&#x4E2A;&#x65F6;&#x95F4;3.datetime.time.replace([hour[, minute[, second[, microsecond[, tzinfo]]]]]) &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x66FF;&#x6362;&#x540E;&#x7684;time&#x5BF9;&#x8C61;In [17]: t.replace(hour=9)Out[17]: datetime.time(9, 45, 20)3.datetime.datetime&#x7C7B;&#x5176;&#x5B9E;&#x548C;date&#x7684;&#x90A3;&#x4E9B;&#x65B9;&#x6CD5;&#x5DEE;&#x4E0D;&#x591A;&#x4E86;&#xFF0C;&#x5927;&#x6982;&#x770B;&#x4EE5;&#x4E0B;&#xFF0C;&#x7B80;&#x5355;&#x8BF4;&#x8BF4;1.&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;datetime&#x5BF9;&#x8C61;&#xFF0C;&#x65E5;&#x671F;&#x4E3A;&#x4ECA;&#x5929;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;datetime.datetime.today()&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5411;datetime.datetime()&#x4F20;&#x503C;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;In [21]: d1 = datetime.datetime.today()In [22]: d1Out[22]: datetime.datetime(2014, 8, 15, 8, 12, 34, 790945)In [23]: d2 = datetime.datetime(2014, 8, 15, 8, 12, 34, 790945)In [24]: d2Out[24]: datetime.datetime(2014, 8, 15, 8, 12, 34, 790945)2.datetime.datetime.now([tz]) &#x5F53;&#x4E0D;&#x6307;&#x5B9A;&#x65F6;&#x533A;&#x65F6;&#xFF0C;&#x548C;datetime.datetime.today()&#x662F;&#x4E00;&#x6837;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x5982;&#x4E0B;In [25]: datetime.datetime.now()Out[25]: datetime.datetime(2014, 8, 15, 8, 14, 50, 738672)3..datetime.datetime.strftime(format) &#x683C;&#x5F0F;&#x5316;&#x4E3A;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5982;&#x5E38;&#x7528;&#x7684; &#x201C;&#x5E74;-&#x6708;-&#x65E5; &#x5C0F;&#x65F6;&#xFF1A;&#x5206;&#x949F;&#xFF1A;&#x79D2;&#x201D; &#x683C;&#x5F0F;In [27]: d1Out[27]: datetime.datetime(2014, 8, 15, 8, 12, 34, 790945)In [28]: d1.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)Out[28]: &apos;2014-08-15 08:12:34&#x2019;4.datetime.datetime.timple() &#x8F6C;&#x6210;struct_time&#x683C;&#x5F0F;&#xFF0C;&#x8FD9;&#x6837;&#x4F20;&#x9012;&#x7ED9;time.mktime(t) &#x540E;&#xFF0C;&#x76F4;&#x63A5;&#x8F6C;&#x6210;&#x65F6;&#x95F4;&#x6233;&#x683C;&#x5F0F;In [29]: d1Out[29]: datetime.datetime(2014, 8, 15, 8, 12, 34, 790945)In [30]: d1.timetuple()Out[30]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=15, tm_hour=8, tm_min=12, tm_sec=34, tm_wday=4, tm_yday=227, tm_isdst=-1)In [31]: time.mktime(d1.timetuple())Out[31]: 1408061554.05.datetime.datetime.replace(year, month, day) &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x66FF;&#x6362;&#x540E;&#x7684;date&#x5BF9;&#x8C61;In [32]: d1Out[32]: datetime.datetime(2014, 8, 15, 8, 12, 34, 790945)In [33]: d1.replace(year=2000)Out[33]: datetime.datetime(2000, 8, 15, 8, 12, 34, 790945)6.datetime.datetime.fromtimestamp(timestamp) &#x5C06;&#x65F6;&#x95F4;&#x6233;&#x8F6C;&#x5316;&#x4E3A;datetime&#x5BF9;&#x8C61;In [34]: time.time()Out[34]: 1408061894.081552In [35]: datetime.datetime.fromtimestamp(1408061894)Out[35]: datetime.datetime(2014, 8, 15, 8, 18, 14)4.datetime.timedelta&#x7C7B;&#x6CA1;&#x5565;&#x597D;&#x8BF4;&#x7684;&#xFF0C;&#x4E3B;&#x8981;&#x505A;&#x65F6;&#x95F4;&#x7684;&#x52A0;&#x51CF;&#x6CD5;&#x7528;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;In [78]: today = datetime.datetime.today()In [79]: yesterday = today - datetime.timedelta(days=1)In [80]: yesterdayOut[80]: datetime.datetime(2014, 8, 14, 15, 8, 25, 783471)In [81]: todayOut[81]: datetime.datetime(2014, 8, 15, 15, 8, 25, 783471)#!/usr/bin/python# -*- coding: UTF-8 -*-import datetimei = datetime.datetime.now()print (&quot;&#x5F53;&#x524D;&#x7684;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x662F; %s&quot; % i)print (&quot;ISO&#x683C;&#x5F0F;&#x7684;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x662F; %s&quot; % i.isoformat() )print (&quot;&#x5F53;&#x524D;&#x7684;&#x5E74;&#x4EFD;&#x662F; %s&quot; %i.year)print (&quot;&#x5F53;&#x524D;&#x7684;&#x6708;&#x4EFD;&#x662F; %s&quot; %i.month)print (&quot;&#x5F53;&#x524D;&#x7684;&#x65E5;&#x671F;&#x662F; %s&quot; %i.day)print (&quot;dd/mm/yyyy &#x683C;&#x5F0F;&#x662F; %s/%s/%s&quot; % (i.day, i.month, i.year) )print (&quot;&#x5F53;&#x524D;&#x5C0F;&#x65F6;&#x662F; %s&quot; %i.hour)print (&quot;&#x5F53;&#x524D;&#x5206;&#x949F;&#x662F; %s&quot; %i.minute)print (&quot;&#x5F53;&#x524D;&#x79D2;&#x662F; %s&quot; %i.second) time1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681.&#x4EE5;&#x5143;&#x7EC4;&#x65B9;&#x5F0F;&#x8FD4;&#x56DE;&#x672C;&#x5730;&#x5F53;&#x524D;&#x65F6;&#x95F4;&gt;&gt;&gt; time.localtime()time.struct_time(tm_year=2017, tm_mon=5, tm_mday=8, tm_hour=16, tm_min=13, tm_sec=34, tm_wday=0, tm_yday=128, tm_isdst=0)2.&#x4EE5;&#x5143;&#x7EC4;&#x65B9;&#x5F0F;&#x8FD4;&#x56DE;&#x683C;&#x6797;&#x5A01;&#x6CBB;&#x65F6;&#x95F4;&gt;&gt;&gt; time.gmtime() time.struct_time(tm_year=2017, tm_mon=5, tm_mday=8, tm_hour=8, tm_min=13, tm_sec=38, tm_wday=0, tm_yday=128, tm_isdst=0)3.&#x5C06;&#x5143;&#x7EC4;&#x65F6;&#x95F4;&#x8F6C;&#x6362;&#x4E3A;&#x65F6;&#x95F4;&#x6233;&gt;&gt;&gt; x = time.localtime()&gt;&gt;&gt; time.mktime(x)1494232890.04.&#x5C06;&#x5143;&#x7EC4;&#x65F6;&#x95F4;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x65F6;&#x95F4;&gt;&gt;&gt; x = time.localtime()&gt;&gt;&gt; time.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;,x)&apos;2017-05-08 16:57:38&apos;5.&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x65F6;&#x95F4;&#x8F6C;&#x6362;&#x4E3A;&#x5143;&#x7EC4;&#x683C;&#x5F0F;&#x65F6;&#x95F4;&gt;&gt;&gt; time.strptime(&apos;2017-05-08 17:03:12&apos;,&apos;%Y-%m-%d %H:%M:%S&apos;)time.struct_time(tm_year=2017, tm_mon=5, tm_mday=8, tm_hour=17, tm_min=3, tm_sec=12, tm_wday=0, tm_yday=128, tm_isdst=-1)6.&#x5143;&#x7EC4;&#x683C;&#x5F0F;&#x65F6;&#x95F4;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x65F6;&#x95F4;&gt;&gt;&gt; time.asctime()&apos;Tue May 9 15:23:21 2017&apos;&gt;&gt;&gt; x = time.localtime()&gt;&gt;&gt; time.asctime(x)&apos;Tue May 9 15:23:39 2017&apos;7.&#x65F6;&#x95F4;&#x6233;&#x8F6C;&#x6362;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x65F6;&#x95F4;&gt;&gt;&gt; time.ctime()&apos;Tue May 9 16:07:24 2017&apos;&gt;&gt;&gt; time.ctime(987867475)&apos;Sat Apr 21 23:37:55 2001&apos;&#x683C;&#x5F0F;&#x53C2;&#x7167;%a&#x3000;&#x3000;&#x672C;&#x5730;&#xFF08;locale&#xFF09;&#x7B80;&#x5316;&#x661F;&#x671F;&#x540D;&#x79F0; %A&#x3000;&#x3000;&#x672C;&#x5730;&#x5B8C;&#x6574;&#x661F;&#x671F;&#x540D;&#x79F0; %b&#x3000;&#x3000;&#x672C;&#x5730;&#x7B80;&#x5316;&#x6708;&#x4EFD;&#x540D;&#x79F0; %B&#x3000;&#x3000;&#x672C;&#x5730;&#x5B8C;&#x6574;&#x6708;&#x4EFD;&#x540D;&#x79F0; %c&#x3000;&#x3000;&#x672C;&#x5730;&#x76F8;&#x5E94;&#x7684;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x8868;&#x793A; %d&#x3000;&#x3000;&#x4E00;&#x4E2A;&#x6708;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x5929;&#xFF08;01 - 31&#xFF09; %H&#x3000;&#x3000;&#x4E00;&#x5929;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#xFF08;24&#x5C0F;&#x65F6;&#x5236;&#xFF0C;00 - 23&#xFF09; %I&#x3000;&#x3000;&#x7B2C;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#xFF08;12&#x5C0F;&#x65F6;&#x5236;&#xFF0C;01 - 12&#xFF09; %j&#x3000;&#x3000;&#x4E00;&#x5E74;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x5929;&#xFF08;001 - 366&#xFF09; %m&#x3000;&#x3000;&#x6708;&#x4EFD;&#xFF08;01 - 12&#xFF09; %M&#x3000;&#x3000;&#x5206;&#x949F;&#x6570;&#xFF08;00 - 59&#xFF09; %p&#x3000;&#x3000;&#x672C;&#x5730;am&#x6216;&#x8005;pm&#x7684;&#x76F8;&#x5E94;&#x7B26; %S&#x3000;&#x3000;&#x79D2;&#xFF08;01 - 61&#xFF09; %U&#x3000;&#x3000;&#x4E00;&#x5E74;&#x4E2D;&#x7684;&#x661F;&#x671F;&#x6570;&#x3002;&#xFF08;00 - 53&#x661F;&#x671F;&#x5929;&#x662F;&#x4E00;&#x4E2A;&#x661F;&#x671F;&#x7684;&#x5F00;&#x59CB;&#x3002;&#xFF09;&#x7B2C;&#x4E00;&#x4E2A;&#x661F;&#x671F;&#x5929;&#x4E4B;&#x524D;&#x7684;&#x6240;&#x6709;&#x5929;&#x6570;&#x90FD;&#x653E;&#x5728;&#x7B2C;0&#x5468;&#x3002; %w&#x3000;&#x3000;&#x4E00;&#x4E2A;&#x661F;&#x671F;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x5929;&#xFF08;0 - 6&#xFF0C;0&#x662F;&#x661F;&#x671F;&#x5929;&#xFF09;%W&#x3000;&#x3000;&#x548C;%U&#x57FA;&#x672C;&#x76F8;&#x540C;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x662F;%W&#x4EE5;&#x661F;&#x671F;&#x4E00;&#x4E3A;&#x4E00;&#x4E2A;&#x661F;&#x671F;&#x7684;&#x5F00;&#x59CB;&#x3002; %x&#x3000;&#x3000;&#x672C;&#x5730;&#x76F8;&#x5E94;&#x65E5;&#x671F; %X&#x3000;&#x3000;&#x672C;&#x5730;&#x76F8;&#x5E94;&#x65F6;&#x95F4; %y&#x3000;&#x3000;&#x53BB;&#x6389;&#x4E16;&#x7EAA;&#x7684;&#x5E74;&#x4EFD;&#xFF08;00 - 99&#xFF09; %Y&#x3000;&#x3000;&#x5B8C;&#x6574;&#x7684;&#x5E74;&#x4EFD; %Z&#x3000;&#x3000;&#x65F6;&#x533A;&#x7684;&#x540D;&#x5B57;&#xFF08;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#xFF09; %%&#x3000;&#x3000;&#x2018;%&#x2019;&#x5B57;&#x7B26;import time # &#x5F53;&#x524D;&#x65F6;&#x95F4;print time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime()) t = time.localtime(time.time() - 300) # 5&#x5206;&#x949F;&#x524D;print time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, t)python datetime &#x83B7;&#x53D6; &#x51E0;&#x5206;&#x949F; &#x5C0F;&#x65F6; &#x5929;&#x4E4B;&#x524D;&#x7684;&#x65F6;&#x95F4; print ((datetime.datetime.now()-datetime.timedelta(minutes=2)).strftime(&quot;%Y-%m-%d %H:%M&quot;))&#x53EF;&#x4EE5;&#x63A7;&#x5236;days&#x3001;seconds&#x3001;minutes&#x3001;hours&#x3001;weeks&#x7B49;------&#x4E00;&#xFF1A;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x95F4;&#x65B9;&#x6CD5;1.&#x5F97;&#x5230;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x4F7F;&#x7528;time&#x6A21;&#x5757;&#xFF0C;&#x9996;&#x5148;&#x5F97;&#x5230;&#x5F53;&#x524D;&#x7684;&#x65F6;&#x95F4;&#x6233;In [42]: time.time()Out[42]: 1408066927.208922&#x5C06;&#x65F6;&#x95F4;&#x6233;&#x8F6C;&#x6362;&#x4E3A;&#x65F6;&#x95F4;&#x5143;&#x7EC4; struct_timeIn [43]: time.localtime(time.time())Out[43]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=15, tm_hour=9, tm_min=42, tm_sec=20, tm_wday=4, tm_yday=227, tm_isdst=0)&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;&#x60F3;&#x8981;&#x7684;&#x65F6;&#x95F4;In [44]: time.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;,time.localtime(time.time()))Out[44]: &apos;2014-08-15 09:43:04&apos;&#x63A5;&#x4E0A;&#x6587;&#xFF0C;&#x4E0D;&#x52A0;&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;&#x8F93;&#x51FA;&#x5F53;&#x524D;&#x7684;&#x65F6;&#x95F4;In [48]: time.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)Out[48]: &apos;2014-08-15 09:46:53&#x2019;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x900F;&#x8FC7;datetime&#x6A21;&#x5757;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;In [68]: t = time.time()In [69]: datetime.datetime.fromtimestamp(t).strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)Out[69]: &apos;2014-08-15 10:04:51&#x2019;&#x540C;&#x65F6;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53EA;&#x4F7F;&#x7528;datetime&#x6A21;&#x5757;In [46]: datetime.datetime.now().strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)Out[46]: &apos;2014-08-15 09:45:27&#x2019;In [47]: datetime.datetime.today().strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)Out[47]: &apos;2014-08-15 09:46:10&apos;2.&#x83B7;&#x53D6;&#x65F6;&#x95F4;&#x5DEE;&#xFF0C;&#x8BA1;&#x7B97;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x7B49;&#xFF1A;&#x4F7F;&#x7528;time&#x6A21;&#x5757;&#xFF1A;In [75]: def t(): ....: start = time.time() ....: time.sleep(10) ....: end = time.time() ....: print end - start ....:In [76]: t()10.0014948845&#x4F7F;&#x7528;datetime&#x6A21;&#x5757;&#xFF1A;In [49]: starttime = datetime.datetime.now()In [50]: endtime = datetime.datetime.now()In [51]: print (endtime - starttime).seconds63.&#x8BA1;&#x7B97;&#x6628;&#x5929;&#x7684;&#x65E5;&#x671F;&#xFF08;&#x53D1;&#x6563;&#x601D;&#x7EF4;&#xFF0C;&#x8BA1;&#x7B97;&#x5176;&#x4ED6;&#x65E5;&#x671F;&#x76F8;&#x52A0;&#x3001;&#x76F8;&#x51CF;&#x7B49;&#xFF09;&#xFF1A;In [52]: d1 = datetime.datetime.now()In [53]: d2 = d1 - datetime.timedelta(days=1)In [54]: d1Out[54]: datetime.datetime(2014, 8, 15, 9, 54, 10, 68665)In [55]: d2Out[55]: datetime.datetime(2014, 8, 14, 9, 54, 10, 68665)4.&#x65F6;&#x95F4;&#x5143;&#x7EC4; struct_time&#x8F6C;&#x5316;&#x4E3A;&#x65F6;&#x95F4;&#x6233;In [56]: datetime.datetime.now()Out[56]: datetime.datetime(2014, 8, 15, 9, 57, 52, 779893)In [57]: datetime.datetime.now().timetuple()Out[57]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=15, tm_hour=9, tm_min=58, tm_sec=12, tm_wday=4, tm_yday=227, tm_isdst=-1)In [58]: time.mktime(datetime.datetime.now().timetuple())Out[58]: 1408067904.05.strptime&#x4E5F;&#x633A;&#x6709;&#x7528;&#x7684;&#xFF0C;&#x5C06;&#x65F6;&#x95F4;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x4E3A;&#x65F6;&#x95F4;&#x5143;&#x7EC4;struct_timeIn [73]: time.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;)Out[73]: &apos;2014-08-15 10:27:36&apos;In [74]: time.strptime(&apos;2014-08-15 10:27:36&apos;,&apos;%Y-%m-%d %H:%M:%S&apos;)Out[74]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=15, tm_hour=10, tm_min=27, tm_sec=36, tm_wday=4, tm_yday=227, tm_isdst=-1) ##&#x4E8C;&#xFF1A;time&#x548C;datetime&#x6A21;&#x5757;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#x7B80;&#x4ECB; &#x8868;&#x793A;&#x65F6;&#x95F4;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A; &#x65F6;&#x95F4;&#x6233;(&#x76F8;&#x5BF9;&#x4E8E;1970.1.1 00:00:00&#x4EE5;&#x79D2;&#x8BA1;&#x7B97;&#x7684;&#x504F;&#x79FB;&#x91CF;),&#x65F6;&#x95F4;&#x6233;&#x662F;&#x60DF;&#x4E00;&#x7684; &#x65F6;&#x95F4;&#x5143;&#x7EC4; &#x5373;(struct_time),&#x5171;&#x6709;&#x4E5D;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5206;&#x522B;&#x8868;&#x793A;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233;&#x7684;struct_time&#x4F1A;&#x56E0;&#x4E3A;&#x65F6;&#x533A;&#x4E0D;&#x540C;&#x800C;&#x4E0D;&#x540C; time &#x6A21;&#x5757;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#x5C0F;&#x8BB0;1.time.clock&#xFF08;&#xFF09; &#x8FD9;&#x4E2A;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#x542B;&#x4E49;&#x4E0D;&#x540C;&#x3002;&#x5728;UNIX&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x201C;&#x8FDB;&#x7A0B;&#x65F6;&#x95F4;&#x201D;&#xFF0C;&#x5B83;&#x662F;&#x7528;&#x79D2;&#x8868;&#x793A;&#x7684;&#x6D6E;&#x70B9;&#x6570;&#xFF08;&#x65F6;&#x95F4; &#x6233;&#xFF09;&#x3002;&#x800C;&#x5728;WINDOWS&#x4E2D;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x5B9E;&#x9645;&#x65F6;&#x95F4;&#x3002;&#x800C;&#x7B2C;&#x4E8C;&#x6B21;&#x4E4B;&#x540E;&#x7684;&#x8C03;&#x7528;&#x662F;&#x81EA;&#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x4EE5;&#x540E;&#x5230;&#x73B0;&#x5728;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x3002;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4EE5;WIN32 &#x4E0A;QueryPerformanceCounter()&#x4E3A;&#x57FA;&#x7840;&#xFF0C;&#x5B83;&#x6BD4;&#x6BEB;&#x79D2;&#x8868;&#x793A;&#x66F4;&#x4E3A;&#x7CBE;&#x786E;&#xFF09; budong@budongdeMacBook-Pro:/tmp$ cat clock.py #!/usr/bin/env pythonimport timeif name == &#x2018;main&#x2018;: time.sleep(1) print &#x201C;clock1:%s&#x201D; % time.clock() time.sleep(1) print &#x201C;clock2:%s&#x201D; % time.clock() time.sleep(1) print &#x201C;clock3:%s&#x201D; % time.clock() &#x8FD0;&#x884C;&#x811A;&#x672C;&#xFF1A;budong@budongdeMacBook-Pro:/tmp$ ./clock.pyclock1:0.059173clock2:0.059299clock3:0.059416 2.time.sleep(secs) &#x7EBF;&#x7A0B;&#x63A8;&#x8FDF;&#x6307;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x8FD0;&#x884C;&#x9002;&#x5408;&#x653E;&#x5728;&#x811A;&#x672C;&#x91CC;&#xFF0C;&#x5B9A;&#x65F6;sleep&#x4E00;&#x4F1A;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x5E72;&#x5565; In [138]: while True: &#x2026;..: time.sleep(3) &#x2026;..: print time.strftime(&#x2018;%H:%M:%S&#x2019;) &#x2026;..:17:21:3517:21:3817:21:4117:21:44&#x2026;&#x2026; 3.time.localtime([secs]) &#x5C06;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A;&#x5F53;&#x524D;&#x65F6;&#x533A;&#x7684;struct_time&#xFF0C;&#x5982;&#x679C;seconds&#x53C2;&#x6570;&#x672A;&#x8F93;&#x5165;&#xFF0C;&#x5219;&#x4EE5;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x4E3A;&#x8F6C;&#x6362;&#x6807;&#x51C6;&#x672A;&#x63D0;&#x4F9B;secs&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x6309;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x4E3A;&#x51C6;In [141]: time.localtime()Out[141]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=14, tm_hour=17, tm_min=23, tm_sec=48, tm_wday=3, tm_yday=226, tm_isdst=0) &#x63D0;&#x4F9B;secs&#x4E3A;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x6233;&#x65F6;In [142]: time.time()Out[142]: 1408008232.217969In [143]: time.localtime(time.time())Out[143]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=14, tm_hour=17, tm_min=24, tm_sec=2, tm_wday=3, tm_yday=226, tm_isdst=0) 4.time.strftime(format[, t]) &#x5C06;&#x6307;&#x5B9A;&#x7684;struct_time(&#x9ED8;&#x8BA4;&#x4E3A;&#x5F53;&#x524D;&#x65F6;&#x95F4;)&#xFF0C;&#x6839;&#x636E;&#x6307;&#x5B9A;&#x7684;&#x683C;&#x5F0F;&#x5316;&#x5B57;&#x7B26;&#x4E32;&#x8F93;&#x51FA;t&#x672A;&#x6307;&#x5B9A;&#xFF0C;&#x4F20;&#x5165;time.localtime()&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#xFF1A;In [156]: time.strftime(&#x2018;%Y-%m-%d %H:%M:%S&#x2019;)Out[156]: &#x2018;2014-08-14 17:28:16&#x2019; &#x6307;&#x5B9A;t&#x4E3A;time.localtime(1407945600.0)&#x65F6;&#xFF1A;In [157]: time.localtime(1407945600.0)Out[157]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=14, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=3, tm_yday=226, tm_isdst=0) In [158]: time.strftime(&#x2018;%Y-%m-%d %H:%M:%S&#x2019;,time.localtime(1407945600.0))Out[158]: &#x2018;2014-08-14 00:00:00&#x2019; 5.time.time&#xFF08;&#xFF09; &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x7684;&#x65F6;&#x95F4;&#x6233;In [161]: time.time()Out[161]: 1408008711.730218 6.time.mktime(t) &#x5C06;&#x4E00;&#x4E2A;struct_time&#x8F6C;&#x6362;&#x4E3A;&#x65F6;&#x95F4;&#x6233;,&#x5982;&#x4E0B;time.localtime&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;struct_time&#xFF0C;&#x800C;time.mktime&#x63A5;&#x6536;&#x4E00;&#x4E2A;struct_time&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233;In [159]: time.localtime(1407945600.0)Out[159]: time.struct_time(tm_year=2014, tm_mon=8, tm_mday=14, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=3, tm_yday=226, tm_isdst=0)In [160]: time.mktime(time.localtime(1407945600.0))Out[160]: 1407945600.0 &#x6B8B;&#x9633;&#x4F3C;&#x8840;&#x7684;&#x535A;&#x5BA2;&#xFF1A;http://qinxuye.me/article/details-about-time-module-in-python/ &#x5B98;&#x65B9;time&#x6A21;&#x5757;&#xFF1A;http://python.me/library/time.html#module-time]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>time</tag>
        <tag>datetime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python-deep]]></title>
    <url>%2F2018%2F01%2F04%2Fpython-deep%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; Python&#x540E;&#x7AEF;&#x3001;&#x5927;&#x6570;&#x636E;&#x5206;&#x6790;&#x3001;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x548C; AI &#x5DE5;&#x7A0B;&#x5E08;&#x6210;&#x529F;&#x8F6C;&#x578B;&#x4E3A;Rails&#x5FEB;&#x901F;&#x5F00;&#x53D1;&#x9AD8;&#x624B;&#x4F46;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x518D;&#x770B;&#xFF0C;Python &#x5DF2;&#x7ECF;&#x662F;&#x6570;&#x636E;&#x5206;&#x6790;&#x548C; AI&#x7684;&#x7B2C;&#x4E00;&#x8BED;&#x8A00;&#xFF0C;&#x7F51;&#x7EDC;&#x653B;&#x9632;&#x7684;&#x7B2C;&#x4E00;&#x9ED1;&#x5BA2;&#x8BED;&#x8A00;&#xFF0C;&#x6B63;&#x5728;&#x6210;&#x4E3A;&#x7F16;&#x7A0B;&#x5165;&#x95E8;&#x6559;&#x5B66;&#x7684;&#x7B2C;&#x4E00;&#x8BED;&#x8A00;&#xFF0C;&#x4E91;&#x8BA1;&#x7B97;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x7B2C;&#x4E00;&#x8BED;&#x8A00;&#x3002; Python &#x4E5F;&#x65E9;&#x5C31;&#x6210;&#x4E3A;Web &#x5F00;&#x53D1;&#x3001;&#x6E38;&#x620F;&#x811A;&#x672C;&#x3001;&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;&#x3001;&#x7269;&#x8054;&#x7F51;&#x7BA1;&#x7406;&#x548C;&#x673A;&#x5668;&#x4EBA;&#x5F00;&#x53D1;&#x7684;&#x4E3B;&#x6D41;&#x8BED;&#x8A00;&#x4E4B;&#x4E00;&#xFF0C;&#x968F;&#x7740; Python &#x7528;&#x6237;&#x53EF;&#x4EE5;&#x9884;&#x671F;&#x7684;&#x589E;&#x957F;&#xFF0C;&#x5B83;&#x8FD8;&#x6709;&#x673A;&#x4F1A;&#x5728;&#x591A;&#x4E2A;&#x9886;&#x57DF;&#x91CC;&#x767B;&#x9876;&#x3002; &#x672C;&#x6587;&#x4E3A;&#x6570;&#x76DF;&#x539F;&#x521B;&#x8BD1;&#x6587; &#x5982;&#x679C;&#x4F60;&#x5BF9;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x548C;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x611F;&#x5174;&#x8DA3;&#xFF0C;&#x4F46;&#x662F;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x4ECE;&#x54EA;&#x91CC;&#x5F00;&#x59CB;&#xFF0C;&#x4E5F;&#x4E0D;&#x77E5;&#x9053;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x5E93;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x91CC;&#x5C31;&#x4E3A;&#x4F60;&#x63D0;&#x4F9B;&#x4E86;&#x8BB8;&#x591A;&#x5E2E;&#x52A9;&#x3002; &#x5728;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x91CC;&#xFF0C;&#x6211;&#x8BE6;&#x7EC6;&#x89E3;&#x8BFB;&#x4E86;9&#x4E2A;&#x6211;&#x6700;&#x559C;&#x6B22;&#x7684;Python&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#x3002; &#x8FD9;&#x4E2A;&#x540D;&#x5355;&#x5E76;&#x4E0D;&#x8BE6;&#x5C3D;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x6211;&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;&#x7684;&#x804C;&#x4E1A;&#x751F;&#x6DAF;&#x4E2D;&#x4F7F;&#x7528;&#x5E76;&#x5728;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x6BB5;&#x53D1;&#x73B0;&#x7279;&#x522B;&#x6709;&#x7528;&#x7684;&#x4E00;&#x4E2A;&#x5E93;&#x7684;&#x5217;&#x8868;&#x3002; &#x8FD9;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x5E93;&#x6211;&#x6BD4;&#x522B;&#x4EBA;&#x7528;&#x7684;&#x591A;&#x5F88;&#x591A;&#xFF0C;&#x5C24;&#x5176;&#x662F;Keras&#x3001;mxnet&#x548C;sklearn-theano&#x3002; &#x5176;&#x4ED6;&#x7684;&#x4E00;&#x4E9B;&#x6211;&#x662F;&#x95F4;&#x63A5;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x6BD4;&#x5982;Theano&#x548C;TensorFlow&#xFF08;&#x5E93;&#x5305;&#x62EC;Keras&#x3001;deepy&#x548C;Blocks&#x7B49;&#xFF09;&#x3002; &#x53E6;&#x5916;&#x7684;&#x6211;&#x53EA;&#x662F;&#x5728;&#x4E00;&#x4E9B;&#x7279;&#x522B;&#x7684;&#x4EFB;&#x52A1;&#x4E2D;&#x7528;&#x8FC7;&#xFF08;&#x6BD4;&#x5982;nolearn&#x548C;&#x4ED6;&#x4EEC;&#x7684;Deep Belief Network implementation&#xFF09;&#x3002; &#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x76EE;&#x7684;&#x662F;&#x5411;&#x4F60;&#x4ECB;&#x7ECD;&#x8FD9;&#x4E9B;&#x5E93;&#x3002;&#x6211;&#x5EFA;&#x8BAE;&#x4F60;&#x8BA4;&#x771F;&#x4E86;&#x89E3;&#x8FD9;&#x91CC;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x67D0;&#x4E2A;&#x5177;&#x4F53;&#x5DE5;&#x4F5C;&#x60C5;&#x5883;&#x4E2D;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x4E00;&#x4E2A;&#x6700;&#x9002;&#x7528;&#x7684;&#x5E93;&#x3002; &#x6211;&#x60F3;&#x518D;&#x6B21;&#x91CD;&#x7533;&#xFF0C;&#x8FD9;&#x4EFD;&#x540D;&#x5355;&#x5E76;&#x4E0D;&#x8BE6;&#x5C3D;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;&#x7814;&#x7A76;&#x4EBA;&#x5458;&#x5E76;&#x957F;&#x671F;&#x6D3B;&#x8DC3;&#x5728;&#x8FD9;&#x4E2A;&#x9886;&#x57DF;&#xFF0C;&#x5BF9;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#xFF08;&#x7EC6;&#x80DE;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#xFF09;&#x65B9;&#x9762;&#x7684;&#x5E93;&#x4F1A;&#x5173;&#x6CE8;&#x66F4;&#x591A;&#x3002; &#x6211;&#x628A;&#x8FD9;&#x4E2A;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#x7684;&#x5217;&#x8868;&#x5206;&#x4E3A;&#x4E09;&#x4E2A;&#x90E8;&#x5206;&#x3002; &#x7B2C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;&#x5E93;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x5F88;&#x719F;&#x6089;&#x4E86;&#x3002;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E9B;&#x5E93;&#xFF0C;&#x6211;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x901A;&#x4FD7;&#x7684;&#x3001;&#x9AD8;&#x5C42;&#x6B21;&#x7684;&#x6982;&#x8FF0;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x5E93;&#x6211;&#x8BE6;&#x7EC6;&#x89E3;&#x8BF4;&#x4E86;&#x6211;&#x7684;&#x559C;&#x6B22;&#x4E4B;&#x5904;&#x548C;&#x4E0D;&#x559C;&#x6B22;&#x4E4B;&#x5904;&#xFF0C;&#x5E76;&#x5217;&#x4E3E;&#x4E86;&#x4E00;&#x4E9B;&#x9002;&#x5F53;&#x7684;&#x5E94;&#x7528;&#x6848;&#x4F8B;&#x3002; &#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#x8FDB;&#x5165;&#x5230;&#x6211;&#x4E2A;&#x4EBA;&#x6700;&#x559C;&#x6B22;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#xFF0C;&#x4E5F;&#x662F;&#x6211;&#x65E5;&#x5E38;&#x5DE5;&#x4F5C;&#x4E2D;&#x4F7F;&#x7528;&#x6700;&#x591A;&#x7684;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;Keras&#x3001;mxnet&#x548C;sklearn-theano&#x7B49;&#x3002; &#x6700;&#x540E;&#xFF0C;&#x6211;&#x5BF9;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#x4E2D;&#x4E0D;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x5E93;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x201C;&#x798F;&#x5229;&#x201D;&#x677F;&#x5757;&#xFF0C;&#x4F60;&#x6216;&#x8BB8;&#x8FD8;&#x4F1A;&#x4ECE;&#x4E2D;&#x53D1;&#x73B0;&#x6709;&#x7528;&#x7684;&#x6216;&#x8005;&#x662F;&#x5728;&#x7B2C;&#x4E8C;&#x677F;&#x5757;&#x4E2D;&#x6211;&#x8FD8;&#x6CA1;&#x6709;&#x5C1D;&#x8BD5;&#x8FC7;&#x4F46;&#x770B;&#x8D77;&#x6765;&#x5F88;&#x6709;&#x8DA3;&#x7684;&#x5E93;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x63A2;&#x7D22;&#x3002; &#x9488;&#x5BF9;&#x521D;&#x5B66;&#x8005;&#xFF1A; 1.Caffe &#x63D0;&#x5230;&#x201C;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#x201D;&#x5C31;&#x4E0D;&#x53EF;&#x80FD;&#x4E0D;&#x8BF4;&#x5230;Caffe&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x81EA;&#x4ECE;&#x4F60;&#x6253;&#x5F00;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x5B66;&#x4E60;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#xFF0C;&#x6211;&#x5C31;&#x6562;&#x6253;&#x4FDD;&#x7968;&#x4F60;&#x80AF;&#x5B9A;&#x542C;&#x8BF4;Caffe&#x3002; &#x90A3;&#x4E48;&#xFF0C;&#x7A76;&#x7ADF;Caffe&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F; Caffe&#x662F;&#x7531;Berkeley Vision and Learning Center&#xFF08;BVLC&#xFF09;&#x5EFA;&#x7ACB;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x6846;&#x67B6;&#x3002;&#x5B83;&#x662F;&#x6A21;&#x5757;&#x5316;&#x7684;&#xFF0C;&#x901F;&#x5EA6;&#x6781;&#x5FEB;&#x3002;&#x800C;&#x4E14;&#x88AB;&#x5E94;&#x7528;&#x4E8E;&#x5B66;&#x672F;&#x754C;&#x548C;&#x4EA7;&#x4E1A;&#x754C;&#x7684;start-of-the-art&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002; &#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x53BB;&#x7FFB;&#x9605;&#x6700;&#x65B0;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x51FA;&#x7248;&#x7269;&#xFF08;&#x4E5F;&#x63D0;&#x4F9B;&#x6E90;&#x4EE3;&#x7801;&#xFF09;&#xFF0C;&#x4F60;&#x5C31;&#x5F88;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x5B83;&#x4EEC;&#x76F8;&#x5173;&#x7684;GitHub&#x5E93;&#x4E2D;&#x627E;&#x5230;Caffe&#x6A21;&#x578B;&#x3002; &#x867D;&#x7136;Caffe&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;Python&#x5E93;&#xFF0C;&#x4F46;&#x5B83;&#x63D0;&#x4F9B;&#x7ED1;&#x5B9A;&#x5230;Python&#x4E0A;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x3002;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x5728;&#x65B0;&#x9886;&#x57DF;&#x5F00;&#x62D3;&#x7F51;&#x7EDC;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x7ED1;&#x5B9A;&#x3002; &#x6211;&#x628A;Caffe&#x653E;&#x5728;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x7684;&#x539F;&#x56E0;&#x662F;&#x5B83;&#x51E0;&#x4E4E;&#x88AB;&#x5E94;&#x7528;&#x5728;&#x5404;&#x4E2A;&#x65B9;&#x9762;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;&#x7A7A;&#x767D;&#x6587;&#x6863;&#x91CC;&#x5B9A;&#x4E49;&#x4F60;&#x7684;&#x6A21;&#x578B;&#x67B6;&#x6784;&#x548C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;JSON&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x7684;.prototxt&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;Caffe&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x63D0;&#x53D6;&#x8FD9;&#x4E9B;.prototxt&#x6587;&#x4EF6;&#x5E76;&#x57F9;&#x8BAD;&#x4F60;&#x7684;&#x7F51;&#x7EDC;&#x3002;Caffe&#x5B8C;&#x6210;&#x57F9;&#x8BAD;&#x4E4B;&#x540E;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x4F60;&#x7684;&#x7F51;&#x7EDC;&#x548C;&#x7ECF;&#x8FC7;&#x5206;&#x7C7B;&#x7684;&#x65B0;&#x56FE;&#x50CF;&#x901A;&#x8FC7;Caffe&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x66F4;&#x597D;&#x7684;&#x5C31;&#x76F4;&#x63A5;&#x901A;&#x8FC7;Python&#x6216;MATLAB&#x7684;API&#x3002; &#x867D;&#x7136;&#x6211;&#x5F88;&#x559C;&#x6B22;Caffe&#x7684;&#x6027;&#x80FD;&#xFF08;&#x5B83;&#x6BCF;&#x5929;&#x53EF;&#x4EE5;&#x5728;K40 GPU&#x4E0A;&#x5904;&#x7406;60&#x4E07;&#x5F20;&#x56FE;&#x7247;&#xFF09;&#xFF0C;&#x4F46;&#x76F8;&#x6BD4;&#x4E4B;&#x4E0B;&#x6211;&#x66F4;&#x559C;&#x6B22;Keras&#x548C;mxnet&#x3002; &#x4E3B;&#x8981;&#x7684;&#x539F;&#x56E0;&#x662F;&#xFF0C;&#x5728;.prototxt&#x6587;&#x4EF6;&#x5185;&#x90E8;&#x6784;&#x5EFA;&#x67B6;&#x6784;&#x53EF;&#x80FD;&#x4F1A;&#x53D8;&#x5F97;&#x76F8;&#x5F53;&#x4E4F;&#x5473;&#x548C;&#x65E0;&#x804A;&#x3002;&#x66F4;&#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C; Caffe&#x4E0D;&#x80FD;&#x7528;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x8C03;&#x6574;&#x8D85;&#x53C2;&#x6570;&#xFF01;&#x7531;&#x4E8E;&#x8FD9;&#x4E24;&#x4E2A;&#x539F;&#x56E0;&#xFF0C;&#x5728;&#x57FA;&#x4E8E;Python&#x7684;API&#x4E2D;&#x6211;&#x503E;&#x5411;&#x4E8E;&#x5BF9;&#x5141;&#x8BB8;&#x6211;&#x5B9E;&#x73B0;&#x7EC8;&#x7AEF;&#x5230;&#x7EC8;&#x7AEF;&#x8054;&#x64AD;&#x7F51;&#x7684;&#x5E93;&#x503E;&#x659C;&#xFF08;&#x5305;&#x62EC;&#x4EA4;&#x53C9;&#x9A8C;&#x8BC1;&#x548C;&#x8C03;&#x6574;&#x8D85;&#x53C2;&#x6570;&#xFF09;&#x3002; Theano&#x5728;&#x6700;&#x5F00;&#x59CB;&#x6211;&#x60F3;&#x8BF4;Theano&#x662F;&#x7F8E;&#x4E3D;&#x7684;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;Theano&#xFF0C;&#x6211;&#x4EEC;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x8FBE;&#x5230;&#x73B0;&#x6709;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#x7684;&#x6570;&#x91CF;&#xFF08;&#x7279;&#x522B;&#x662F;&#x5728;Python&#xFF09;&#x3002;&#x540C;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;numpy&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x4F1A;&#x6709;SciPy&#x3001;scikit-learn&#x548C; scikit-image,&#xFF0C;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x5173;&#x4E8E;Theano&#x548C;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x66F4;&#x9AD8;&#x7EA7;&#x522B;&#x7684;&#x62BD;&#x8C61;&#x3002; &#x975E;&#x5E38;&#x6838;&#x5FC3;&#x7684;&#x662F;&#xFF0C;Theano&#x662F;&#x4E00;&#x4E2A;Python&#x5E93;&#xFF0C;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x3001;&#x4F18;&#x5316;&#x548C;&#x8BC4;&#x4F30;&#x6D89;&#x53CA;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x7684;&#x6570;&#x5B66;&#x8868;&#x8FBE;&#x5F0F;&#x3002; Theano&#x901A;&#x8FC7;&#x4E0E;numpy&#x7684;&#x7D27;&#x5BC6;&#x96C6;&#x6210;&#xFF0C;&#x900F;&#x660E;&#x5730;&#x4F7F;&#x7528;GPU&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x4E9B;&#x5DE5;&#x4F5C;&#x3002; &#x867D;&#x7136;&#x53EF;&#x4EE5;&#x5229;&#x7528;Theano&#x5EFA;&#x7ACB;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7F51;&#x7EDC;&#xFF0C;&#x4F46;&#x6211;&#x503E;&#x5411;&#x4E8E;&#x8BA4;&#x4E3A;Theano&#x662F;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x57FA;&#x77F3;&#xFF0C;&#x540C;&#x6837;&#x7684;numpy&#x662F;&#x4F5C;&#x4E3A;&#x79D1;&#x5B66;&#x8BA1;&#x7B97;&#x7684;&#x57FA;&#x77F3;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x6211;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x63D0;&#x5230;&#x7684;&#x5E93;&#x90FD;&#x662F;&#x56F4;&#x7ED5;&#x7740;Theano&#xFF0C;&#x4F7F;&#x81EA;&#x5DF1;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x4FBF;&#x5229;&#x3002; &#x4E0D;&#x8981;&#x8BEF;&#x4F1A;&#x6211;&#x7684;&#x610F;&#x601D;&#xFF0C;&#x6211;&#x7231;Theano&#xFF0C;&#x6211;&#x53EA;&#x662F;&#x4E0D;&#x559C;&#x6B22;&#x7528;Theano&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x3002; &#x5728;Theano&#x5EFA;&#x8BBE;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x5C31;&#x50CF;&#x53EA;&#x7528;&#x672C;&#x673A;Python&#x4E2D;&#x7684;numpy&#x5199;&#x4E00;&#x4E2A;&#x5B9A;&#x5236;&#x7684;&#x652F;&#x6301;&#x5411;&#x91CF;&#x673A;&#xFF08;SVM&#xFF09;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x4E2A;&#x5BF9;&#x6BD4;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x5B8C;&#x7F8E;&#x3002; &#x4F60;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x5417;&#xFF1F; &#x5F53;&#x7136;&#x53EF;&#x4EE5;&#x3002; &#x5B83;&#x503C;&#x5F97;&#x82B1;&#x8D39;&#x60A8;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x7CBE;&#x529B;&#x5417;&#xFF1F; &#x55EF;&#xFF0C;&#x4E5F;&#x8BB8;&#x5427;&#x3002;&#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x4F60;&#x662F;&#x5426;&#x60F3;&#x6446;&#x8131;&#x4F4E;&#x7EA7;&#x522B;&#x6216;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x662F;&#x5426;&#x9700;&#x8981;&#x3002; &#x5C31;&#x4E2A;&#x4EBA;&#x800C;&#x8A00;&#xFF0C;&#x6211;&#x5B81;&#x613F;&#x4F7F;&#x7528;&#x50CF;Keras&#x8FD9;&#x6837;&#x7684;&#x5E93;&#xFF0C;&#x5B83;&#x628A;Theano&#x5305;&#x88C5;&#x6210;&#x66F4;&#x6709;&#x4EBA;&#x6027;&#x5316;&#x7684;API&#xFF0C;&#x540C;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;scikit-learn&#x4F7F;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x5DE5;&#x4F5C;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x5BB9;&#x6613;&#x3002; TensorFlow&#x4E0E;Theano&#x7C7B;&#x4F3C;&#xFF0C;TensorFlow&#x662F;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x6D41;&#x56FE;&#x8FDB;&#x884C;&#x6570;&#x503C;&#x8BA1;&#x7B97;&#x7684;&#x5F00;&#x6E90;&#x5E93;&#xFF08;&#x8FD9;&#x662F;&#x6240;&#x6709;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x56FA;&#x6709;&#x7684;&#x7279;&#x5F81;&#xFF09;&#x3002;&#x6700;&#x521D;&#x7531;&#x8C37;&#x6B4C;&#x7684;&#x673A;&#x5668;&#x667A;&#x80FD;&#x7814;&#x7A76;&#x673A;&#x6784;&#x5185;&#x7684;Google Brain Team&#x7814;&#x7A76;&#x4EBA;&#x5458;&#x5F00;&#x53D1;&#xFF0C;&#x6B64;&#x540E;&#x5E93;&#x4E00;&#x76F4;&#x5F00;&#x6E90;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x7ED9;&#x516C;&#x4F17;&#x3002; &#x76F8;&#x6BD4;&#x4E8E;Theano &#xFF0C;TensorFlow&#x7684;&#x4E3B;&#x8981;&#x4F18;&#x70B9;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x591A;GPU&#x7684;&#x73AF;&#x5883;&#x4E2D;&#xFF08;&#x867D;&#x7136;&#x8FD9;&#x662F;Theano&#x6B63;&#x5728;&#x653B;&#x514B;&#x7684;&#x9879;&#x76EE;&#xFF09;&#x3002; &#x9664;&#x4E86;&#x7528;TensorFlow&#x800C;&#x4E0D;&#x662F;Theano&#x66FF;&#x6362;Keras&#x540E;&#x7AEF;&#xFF0C;&#x5BF9;&#x4E8E;TensorFlow&#x5E93;&#x6211;&#x5E76;&#x6CA1;&#x6709;&#x592A;&#x591A;&#x7684;&#x7ECF;&#x9A8C;&#x3002;&#x7136;&#x800C;&#x5728;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x51E0;&#x4E2A;&#x6708;&#x91CC;&#xFF0C;&#x6211;&#x5E0C;&#x671B;&#x8FD9;&#x6709;&#x6240;&#x6539;&#x53D8;&#x3002; LasagneLasagne&#x662F;Theano&#x4E2D;&#x7528;&#x4E8E;&#x6784;&#x5EFA;&#x548C;&#x8BAD;&#x7EC3;&#x7F51;&#x7EDC;&#x7684;&#x8F7B;&#x91CF;&#x7EA7;&#x5E93;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x5173;&#x952E;&#x8BCD;&#x662F;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5B83;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x50CF;Keras&#x4E00;&#x6837;&#x56F4;&#x7ED5;&#x7740;Theano&#x7684;&#x91CD;&#x5305;&#x88C5;&#x7684;&#x5E93;&#x3002;&#x867D;&#x7136;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#x66F4;&#x52A0;&#x7E41;&#x7410;&#xFF0C;&#x4F46;&#x5B83;&#x4F1A;&#x628A;&#x4F60;&#x4ECE;&#x5404;&#x79CD;&#x9650;&#x5236;&#x4E2D;&#x89E3;&#x8131;&#x51FA;&#x6765;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x53EF;&#x4EE5;&#x8BA9;&#x60A8;&#x6839;&#x636E;Theano&#x8FDB;&#x884C;&#x6A21;&#x5757;&#x5316;&#x7684;&#x6784;&#x5EFA;&#x3002; &#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF1A;Lasagne&#x7684;&#x529F;&#x80FD;&#x662F;Theano&#x7684;&#x4F4E;&#x7EA7;&#x7F16;&#x7A0B;&#x548C;Keras&#x7684;&#x9AD8;&#x7EA7;&#x62BD;&#x8C61;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x4E2A;&#x6298;&#x4E2D;&#x3002; &#x6211;&#x6700;&#x559C;&#x6B22;&#x7684;&#xFF1A; Keras&#x5982;&#x679C;&#x6211;&#x5FC5;&#x987B;&#x9009;&#x51FA;&#x4E00;&#x4E2A;&#x6700;&#x559C;&#x6B22;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;Python&#x5E93;&#xFF0C;&#x6211;&#x5C06;&#x5F88;&#x96BE;&#x5728;Keras&#x548C;mxnet&#x4E2D;&#x505A;&#x51FA;&#x6289;&#x62E9;&#x2014;&#x2014;&#x4F46;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x60F3;&#x6211;&#x4F1A;&#x9009;Keras&#x3002; &#x8BF4;&#x771F;&#x7684;&#xFF0C;Keras&#x7684;&#x597D;&#x5904;&#x6211;&#x8BF4;&#x90FD;&#x8BF4;&#x4E0D;&#x5B8C;&#x3002; Keras&#x662F;&#x4E00;&#x4E2A;&#x6700;&#x4F4E;&#x9650;&#x5EA6;&#x7684;&#x3001;&#x6A21;&#x5757;&#x5316;&#x7684;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x5E93;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Theano&#x6216;TensorFlow&#x4F5C;&#x4E3A;&#x540E;&#x7AEF;&#x3002;Keras&#x6700;&#x4E3B;&#x8981;&#x7684;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x662F;&#xFF0C;&#x4ECE;&#x6784;&#x601D;&#x5230;&#x4EA7;&#x751F;&#x7ED3;&#x679C;&#x5C06;&#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x8FC5;&#x901F;&#x7684;&#x8FC7;&#x7A0B;&#x3002; &#x5728;Keras&#x4E2D;&#x67B6;&#x6784;&#x7F51;&#x7EDC;&#x8BBE;&#x8BA1;&#x662F;&#x5341;&#x5206;&#x8F7B;&#x677E;&#x81EA;&#x7136;&#x7684;&#x3002;&#x5B83;&#x5305;&#x62EC;&#x4E00;&#x4E9B;state-of-the-art&#x4E2D;&#x9488;&#x5BF9;&#x4F18;&#x5316;&#xFF08;Adam&#xFF0C;RMSProp&#xFF09;&#x3001;&#x6807;&#x51C6;&#x5316;&#xFF08;BatchNorm&#xFF09;&#x548C;&#x6FC0;&#x6D3B;&#x5C42;&#xFF08;PReLU&#xFF0C;ELU&#xFF0C;LeakyReLU&#xFF09;&#x6700;&#x65B0;&#x7684;&#x7B97;&#x6CD5;&#x3002; Keras&#x4E5F;&#x975E;&#x5E38;&#x6CE8;&#x91CD;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x6211;&#x5341;&#x5206;&#x9700;&#x8981;&#x7684;&#x3002;&#x65E0;&#x8BBA;&#x5B83;&#x662F;&#x6709;&#x610F;&#x8FD8;&#x662F;&#x65E0;&#x610F;&#x7684;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x4ECE;&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#x8FD9;&#x662F;&#x975E;&#x5E38;&#x6709;&#x4EF7;&#x503C;&#x7684;&#x3002; &#x66F4;&#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C;&#x4F60;&#x65E2;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x6784;&#x5EFA;&#x57FA;&#x4E8E;&#x5E8F;&#x5217;&#x7684;&#x7F51;&#x7EDC;&#xFF08;&#x5176;&#x4E2D;&#x8F93;&#x5165;&#x7EBF;&#x6027;&#x6D41;&#x7ECF;&#x7F51;&#x7EDC;&#xFF09;&#x53C8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x57FA;&#x4E8E;&#x56FE;&#x5F62;&#x7684;&#x7F51;&#x7EDC;&#xFF08;&#x8F93;&#x5165;&#x53EF;&#x4EE5;&#x201C;&#x8DF3;&#x8FC7;&#x201D;&#x67D0;&#x4E9B;&#x5C42;&#x76F4;&#x63A5;&#x548C;&#x540E;&#x9762;&#x5BF9;&#x63A5;&#xFF09;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;&#x521B;&#x5EFA;&#x50CF;GoogLeNet&#x548C;SqueezeNet&#x8FD9;&#x6837;&#x590D;&#x6742;&#x7684;&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#x53D8;&#x5F97;&#x5BB9;&#x6613;&#x5F97;&#x591A;&#x3002; &#x6211;&#x8BA4;&#x4E3A;Keras&#x552F;&#x4E00;&#x7684;&#x95EE;&#x9898;&#x662F;&#x5B83;&#x4E0D;&#x652F;&#x6301;&#x591A;GPU&#x73AF;&#x5883;&#x4E2D;&#x5E76;&#x884C;&#x5730;&#x8BAD;&#x7EC3;&#x7F51;&#x7EDC;&#x3002;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x6210;&#x4E3A;&#x4F60;&#x7684;&#x5927;&#x5FCC;&#x3002; &#x5982;&#x679C;&#x6211;&#x60F3;&#x5C3D;&#x5FEB;&#x5730;&#x8BAD;&#x7EC3;&#x7F51;&#x7EDC;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x53EF;&#x80FD;&#x4F1A;&#x4F7F;&#x7528;mxnet&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6211;&#x9700;&#x8981;&#x8C03;&#x6574;&#x8D85;&#x53C2;&#x6570;&#xFF0C;&#x6211;&#x5C31;&#x4F1A;&#x7528;Keras&#x8BBE;&#x7F6E;&#x56DB;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5B9E;&#x9A8C;&#xFF08;&#x5206;&#x522B;&#x5728;&#x6211;&#x7684;Titan X GPUs&#x4E0A;&#x8FD0;&#x884C;&#xFF09;&#x5E76;&#x8BC4;&#x4F30;&#x7ED3;&#x679C;&#x3002; mxnet&#x6211;&#x7B2C;&#x4E8C;&#x559C;&#x6B22;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;Python&#x5E93;&#x65E0;&#x7591;&#x5C31;&#x662F;mxnet&#xFF08;&#x91CD;&#x70B9;&#x4E5F;&#x662F;&#x8BAD;&#x7EC3;&#x56FE;&#x50CF;&#x5206;&#x7C7B;&#x7F51;&#x7EDC;&#xFF09;&#x3002;&#x867D;&#x7136;&#x5728;mxnet&#x4E2D;&#x7AD9;&#x7ACB;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x8F83;&#x591A;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x5B83;&#x4F1A;&#x63D0;&#x4F9B;&#x7ED9;&#x4F60;&#x60CA;&#x4EBA;&#x6570;&#x91CF;&#x7684;&#x8BED;&#x8A00;&#x7ED1;&#x5B9A;&#xFF08;C ++&#x3001;Python&#x3001;R&#x3001;JavaScript&#x7B49;&#xFF09;&#x3002; Mxnet&#x5E93;&#x771F;&#x6B63;&#x51FA;&#x8272;&#x7684;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x5728;&#x591A;&#x4E2A;CPU / GPU&#x673A;&#x8BAD;&#x7EC3;&#x4F60;&#x7684;&#x7F51;&#x7EDC;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x5728;AWS&#x3001;Azure&#x4EE5;&#x53CA;YARN&#x96C6;&#x7FA4;&#x3002; &#x5B83;&#x786E;&#x5B9E;&#x9700;&#x8981;&#x66F4;&#x591A;&#x7684;&#x4EE3;&#x7801;&#x6765;&#x8BBE;&#x7ACB;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x5E76;&#x5728;mxnet&#x4E0A;&#x8FD0;&#x884C;&#xFF08;&#x4E0E;Keras&#x76F8;&#x6BD4;&#xFF09;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x8DE8;&#x591A;&#x4E2A;GPU&#x6216;&#x7CFB;&#x7EDF;&#x5206;&#x914D;&#x8BAD;&#x7EC3;&#xFF0C;&#x6211;&#x63A8;&#x8350;mxnet&#x3002; sklearn-theano&#x6709;&#x65F6;&#x5019;&#x4F60;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x7EC8;&#x7AEF;&#x5230;&#x7EC8;&#x7AEF;&#x7684;&#x57F9;&#x517B;&#x4E00;&#x4E2A;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x628A;CNN&#x770B;&#x4F5C;&#x4E00;&#x4E2A;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#x5668;&#x3002;&#x5F53;&#x4F60;&#x6CA1;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x6570;&#x636E;&#x6765;&#x4ECE;&#x5934;&#x57F9;&#x517B;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;CNN&#x65F6;&#x5B83;&#x5C31;&#x4F1A;&#x53D8;&#x5F97;&#x7279;&#x522B;&#x6709;&#x7528;&#x3002;&#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x628A;&#x4F60;&#x7684;&#x8F93;&#x5165;&#x56FE;&#x50CF;&#x653E;&#x5165;&#x6D41;&#x884C;&#x7684;&#x9884;&#x5148;&#x8BAD;&#x7EC3;&#x67B6;&#x6784;&#xFF0C;&#x5982;OverFeat&#x3001;AlexNet&#x3001;VGGNet&#x6216;GoogLeNet&#xFF0C;&#x7136;&#x540E;&#x4ECE;FC&#x5C42;&#x63D0;&#x53D6;&#x7279;&#x5F81;&#xFF08;&#x6216;&#x4EFB;&#x4F55;&#x60A8;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x5C42;&#xFF09;&#x3002; &#x603B;&#x4E4B;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;sklearn-theano&#x7684;&#x529F;&#x80FD;&#x6240;&#x5728;&#x3002;&#x4F60;&#x4E0D;&#x80FD;&#x7528;&#x5B83;&#x4ECE;&#x5934;&#x5230;&#x5C3E;&#x7684;&#x8BAD;&#x7EC3;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#xFF0C;&#x4F46;&#x5B83;&#x7684;&#x795E;&#x5947;&#x4E4B;&#x5904;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x628A;&#x7F51;&#x7EDC;&#x4F5C;&#x4E3A;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#x5668;&#x3002;&#x5F53;&#x9700;&#x8981;&#x8BC4;&#x4F30;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x95EE;&#x9898;&#x662F;&#x5426;&#x9002;&#x5408;&#x4F7F;&#x7528;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x6765;&#x89E3;&#x51B3;&#x65F6;&#xFF0C;&#x6211;&#x503E;&#x5411;&#x4E8E;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5E93;&#x4F5C;&#x4E3A;&#x6211;&#x7684;&#x7B2C;&#x4E00;&#x624B;&#x5224;&#x65AD;&#x3002; nolearn&#x6211;&#x5728;PyImageSearch&#x535A;&#x5BA2;&#x4E0A;&#x7528;&#x8FC7;&#x51E0;&#x6B21;nolearn&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x5728;&#x6211;&#x7684;MacBook Pro&#x4E0A;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x521D;&#x6B65;&#x7684;GPU&#x5B9E;&#x9A8C;&#x548C;&#x5728;Amazon EC2 GPU&#x5B9E;&#x4F8B;&#x4E2D;&#x8FDB;&#x884C;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x3002; Keras&#x628A; Theano&#x548C;TensorFlow&#x5305;&#x88C5;&#x6210;&#x4E86;&#x66F4;&#x5177;&#x4EBA;&#x6027;&#x5316;&#x7684;API&#xFF0C;&#x800C;nolearn&#x4E5F;&#x4E3A;Lasagne&#x505A;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x4E8B;&#x3002;&#x6B64;&#x5916;&#xFF0C;nolearn&#x4E2D;&#x6240;&#x6709;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x662F;&#x4E0E;scikit-learn&#x517C;&#x5BB9;&#x7684;&#xFF0C;&#x8FD9;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#x7EDD;&#x5BF9;&#x662F;&#x4E2A;&#x8D85;&#x7EA7;&#x7684;&#x798F;&#x5229;&#x3002; &#x6211;&#x4E2A;&#x4EBA;&#x4E0D;&#x4F7F;&#x7528;nolearn&#x505A;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#xFF08;CNNs&#xFF09;&#xFF0C;&#x4F46;&#x4F60;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#xFF08;&#x6211;&#x66F4;&#x559C;&#x6B22;&#x7528;Keras&#x548C;mxnet&#x6765;&#x505A;CNNs&#xFF09;&#x3002;&#x6211;&#x4E3B;&#x8981;&#x7528;nolearn&#x6765;&#x5236;&#x4F5C;Deep Belief Networks (DBNs)&#x3002; DIGITSDIGITS&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#xFF08;&#x867D;&#x7136;&#x5B83;&#x662F;&#x7528;Python&#x5199;&#x7684;&#xFF09;&#x3002;DIGITS&#xFF08;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;GPU&#x57F9;&#x8BAD;&#x7CFB;&#x7EDF;&#xFF09;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x7528;&#x4E8E;&#x57F9;&#x8BAD;Caffe&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&#x7684;web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF08;&#x867D;&#x7136;&#x6211;&#x8BA4;&#x4E3A;&#x4F60;&#x53EF;&#x4EE5;&#x7834;&#x89E3;&#x6E90;&#x4EE3;&#x7801;&#x7136;&#x540E;&#x4F7F;&#x7528;Caffe&#x4EE5;&#x5916;&#x5176;&#x4ED6;&#x7684;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F46;&#x8FD9;&#x542C;&#x8D77;&#x6765;&#x5C31;&#x50CF;&#x4E00;&#x573A;&#x5669;&#x68A6;&#xFF09;&#x3002; &#x5982;&#x679C;&#x4F60;&#x66FE;&#x7ECF;&#x7528;&#x8FC7;Caffe&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x5C31;&#x4F1A;&#x77E5;&#x9053;&#x901A;&#x8FC7;&#x5B83;&#x7684;&#x7EC8;&#x7AEF;&#x6765;&#x5B9A;&#x4E49;.prototxt&#x6587;&#x4EF6;&#x3001;&#x751F;&#x6210;&#x56FE;&#x50CF;&#x6570;&#x636E;&#x3001;&#x8FD0;&#x884C;&#x7F51;&#x7EDC;&#x5E76;&#x76D1;&#x7BA1;&#x4F60;&#x7684;&#x7F51;&#x7EDC;&#x8BAD;&#x7EC3;&#x662F;&#x76F8;&#x5F53;&#x7E41;&#x7410;&#x7684;&#x3002; DIGITS&#x65E8;&#x5728;&#x901A;&#x8FC7;&#x8BA9;&#x4F60;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6267;&#x884C;&#x8FD9;&#x4E9B;&#x4EFB;&#x52A1;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002; &#x6B64;&#x5916;&#xFF0C;DIGITS&#x7684;&#x7528;&#x6237;&#x754C;&#x9762;&#x975E;&#x5E38;&#x51FA;&#x8272;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4E3A;&#x4F60;&#x63D0;&#x4F9B;&#x6709;&#x4EF7;&#x503C;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x548C;&#x56FE;&#x8868;&#x4F5C;&#x4E3A;&#x4F60;&#x7684;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5404;&#x79CD;&#x8F93;&#x5165;&#x8F7B;&#x677E;&#x5730;&#x53EF;&#x89C6;&#x5316;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x6FC0;&#x6D3B;&#x5C42;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x60F3;&#x6D4B;&#x8BD5;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x56FE;&#x50CF;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x628A;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x5230;&#x4F60;&#x7684;DIGITS&#x670D;&#x52A1;&#x5668;&#x6216;&#x8FDB;&#x5165;&#x56FE;&#x7247;&#x7684;URL&#xFF0C;&#x7136;&#x540E;&#x4F60;&#x7684;Caffe&#x6A21;&#x578B;&#x5C06;&#x4F1A;&#x81EA;&#x52A8;&#x5206;&#x7C7B;&#x56FE;&#x50CF;&#x5E76;&#x628A;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x3002;&#x5E72;&#x51C0;&#x5229;&#x843D;&#xFF01; &#x798F;&#x5229;&#xFF1A; Blocks&#x8BF4;&#x5B9E;&#x8BDD;&#xFF0C;&#x867D;&#x7136;&#x6211;&#x4E00;&#x76F4;&#x60F3;&#x5C1D;&#x8BD5;&#xFF0C;&#x4F46;&#x622A;&#x81F3;&#x76EE;&#x524D;&#x6211;&#x7684;&#x786E;&#x4ECE;&#x6765;&#x6CA1;&#x7528;&#x8FC7;Blocks&#xFF08;&#x8FD9;&#x4E5F;&#x662F;&#x6211;&#x628A;&#x5B83;&#x5305;&#x62EC;&#x5728;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x91CC;&#x7684;&#x539F;&#x56E0;&#xFF09;&#x3002;&#x5C31;&#x50CF;&#x8BB8;&#x591A;&#x4E2A;&#x5728;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x5E93;&#x4E00;&#x6837;&#xFF0C;Blocks&#x5EFA;&#x7ACB;&#x5728;Theano&#x4E4B;&#x4E0A;&#xFF0C;&#x5448;&#x73B0;&#x51FA;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x53CB;&#x597D;&#x578B;&#x7684;API&#x3002; deepy&#x5982;&#x679C;&#x8BA9;&#x4F60;&#x731C;deepy&#x662F;&#x56F4;&#x7ED5;&#x54EA;&#x4E2A;&#x5E93;&#x5EFA;&#x7ACB;&#x7684;&#xFF0C;&#x4F60;&#x4F1A;&#x731C;&#x4EC0;&#x4E48;&#xFF1F; &#x6CA1;&#x9519;&#xFF0C;&#x5C31;&#x662F;Theano&#x3002; &#x6211;&#x8BB0;&#x5F97;&#x5728;&#x524D;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x7528;&#x8FC7;deepy&#xFF08;&#x505A;&#x4E86;&#x521D;&#x59CB;&#x63D0;&#x4EA4;&#xFF09;&#xFF0C;&#x4F46;&#x5728;&#x63A5;&#x4E0B;&#x91CC;&#x7684;&#x5927;&#x6982;6-8&#x4E2A;&#x6708;&#x6211;&#x90FD;&#x6CA1;&#x6709;&#x78B0;&#x5B83;&#x4E86;&#x3002;&#x6211;&#x6253;&#x7B97;&#x5728;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x535A;&#x5BA2;&#x6587;&#x7AE0;&#x91CC;&#x518D;&#x5C1D;&#x8BD5;&#x4E00;&#x4E0B;&#x3002; pylearn2&#x867D;&#x7136;&#x6211;&#x4ECE;&#x6CA1;&#x6709;&#x4E3B;&#x52A8;&#x5730;&#x4F7F;&#x7528;pylearn2&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x5386;&#x53F2;&#x539F;&#x56E0;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#x628A;&#x5B83;&#x5305;&#x62EC;&#x5728;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x91CC;&#x3002; Pylearn2&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x822C;&#x7684;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x5E93;&#xFF08;&#x5730;&#x4F4D;&#x7C7B;&#x4F3C;&#x4E8E;scikit-learn&#xFF09;&#xFF0C;&#x4E5F;&#x5305;&#x542B;&#x4E86;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#x3002; &#x5BF9;&#x4E8E;pylearn2&#x6211;&#x6700;&#x5927;&#x7684;&#x62C5;&#x5FE7;&#x5C31;&#x662F;&#xFF08;&#x5728;&#x64B0;&#x5199;&#x672C;&#x6587;&#x65F6;&#xFF09;&#xFF0C;&#x5B83;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x6D3B;&#x8DC3;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x3002;&#x6B63;&#x56E0;&#x4E3A;&#x5982;&#x6B64;&#xFF0C;&#x76F8;&#x6BD4;&#x4E8E;&#x50CF;Keras&#x548C;mxnet&#x8FD9;&#x6837;&#x7684;&#x6709;&#x79EF;&#x6781;&#x7EF4;&#x62A4;&#x7684;&#x5E93;&#xFF0C;&#x63A8;&#x8350;pylearn2&#x6211;&#x8FD8;&#x6709;&#x4E9B;&#x72B9;&#x8C6B;&#x3002; Deeplearning4j&#x8FD9;&#x672C;&#x5E94;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;Python&#x7684;&#x5217;&#x8868;&#xFF0C;&#x4F46;&#x6211;&#x60F3;&#x6211;&#x4F1A;&#x628A;Deeplearning4j&#x5305;&#x62EC;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x51FA;&#x4E8E;&#x5BF9;&#x4ED6;&#x4EEC;&#x6240;&#x505A;&#x4E8B;&#x8FF9;&#x7684;&#x65E0;&#x6BD4;&#x5D07;&#x656C;&#x2014;&#x2014;Deeplearning4j&#x4E3A;JVM&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#x3002; &#x5982;&#x679C;&#x60A8;&#x5728;&#x4F01;&#x4E1A;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x585E;&#x6EE1;&#x4E86;&#x7528;&#x8FC7;&#x7684;Hadoop&#x548C;MapReduce&#x670D;&#x52A1;&#x5668;&#x7684;&#x50A8;&#x5B58;&#x5668;&#x3002;&#x4E5F;&#x8BB8;&#x8FD9;&#x4E9B;&#x4F60;&#x8FD8;&#x5728;&#x7528;&#xFF0C;&#x4E5F;&#x8BB8;&#x65E9;&#x5C31;&#x4E0D;&#x7528;&#x4E86;&#x3002; &#x4F60;&#x600E;&#x6837;&#x624D;&#x80FD;&#x628A;&#x8FD9;&#x4E9B;&#x76F8;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5E94;&#x7528;&#x5230;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x91CC;&#xFF1F; &#x4E8B;&#x5B9E;&#x8BC1;&#x660E;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#x2014;&#x2014;&#x4F60;&#x53EA;&#x9700;&#x8981;Deeplearning4j&#x3002; &#x6DF1;&#x5165;&#x7814;&#x7A76;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x548C;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC; ADE.tm &#x56FE;1&#xFF1A;&#x4E86;&#x89E3;PyImageSearch&#x5927;&#x5E08;&#x8BFE;&#x7A0B;&#x5185;&#x7684;&#x5982;&#x4F55;&#x5229;&#x7528;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x548C;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x5BF9;&#x56FE;&#x50CF;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x5206;&#x7C7B; &#x5BF9;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x597D;&#x5947;&#x5417;&#xFF1F; &#x6211;&#x4F1A;&#x5728;&#x8FD9;&#x91CC;&#x63D0;&#x4F9B;&#x5E2E;&#x52A9;&#x3002; &#x5728;PyImageSearch&#x5927;&#x5E08;&#x7684;&#x8BFE;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x521B;&#x5EFA;&#x4E86;21&#x8282;&#x8BFE;&#x5305;&#x62EC;256&#x9875;&#x7684;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x3001;&#x6DF1;&#x5EA6;&#x4FE1;&#x5FF5;&#x7F51;&#x7EDC;&#x548C;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x6559;&#x7A0B;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x4F60;&#x8F7B;&#x677E;&#x5FEB;&#x901F;&#x7684;&#x5B66;&#x5230;&#x8FD9;&#x4E9B;&#x5185;&#x5BB9;&#x3002; &#x60F3;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;PyImageSearch&#x5927;&#x5E08;&#x8BFE;&#x7A0B;&#x7684;&#x5185;&#x5BB9;&#xFF08;&#x62A2;10&#x4E2A;&#x514D;&#x8D39;&#x8BFE;&#x7A0B;&#x6837;&#x672C;&#xFF09;&#xFF0C;&#x53EA;&#x9700;&#x70B9;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x94FE;&#x63A5;&#xFF1A; https://www.pyimagesearch.com/pyimagesearch-gurus/?src=post-deep-learning-libs &#x603B;&#x7ED3; &#x5728;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x56DE;&#x987E;&#x4E86;&#x4E00;&#x4E9B;&#x6211;&#x6700;&#x559C;&#x7231;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x548C;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x5E93;&#x3002;&#x4F46;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x51B3;&#x4E0D;&#x662F;&#x8BE6;&#x5C3D;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x4E13;&#x6CE8;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;&#x548C;&#x5377;&#x79EF;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x5E93;&#x80AF;&#x5B9A;&#x662F;&#x6709;&#x5931;&#x504F;&#x9887;&#x7684;&#x3002; &#x5C3D;&#x7BA1;&#x8FD9;&#x6837;&#x8BF4;&#xFF0C;&#x4F46;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x521A;&#x521A;&#x8FDB;&#x5165;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x9886;&#x57DF;&#xFF0C;&#x5E76;&#x5728;&#x5BFB;&#x627E;&#x4E00;&#x4E2A;&#x5408;&#x9002;&#x7684;&#x5E93;&#x7684;&#x4EBA;&#xFF0C;&#x6211;&#x8BA4;&#x4E3A;&#x8FD9;&#x786E;&#x5B9E;&#x662F;&#x4E00;&#x4E2A;&#x4F1F;&#x5927;&#x7684;&#x5217;&#x8868;&#x3002; &#x6211;&#x4E2A;&#x4EBA;&#x8BA4;&#x4E3A;&#x6253;&#x8D25;Keras&#x548C;mxne&#x662F;&#x5F88;&#x96BE;&#x7684;&#x4E8B;&#x3002;Keras&#x5E93;&#x4F4D;&#x4E8E;&#x8BA1;&#x7B97;&#x7684;&#x9F99;&#x5934;&#x5730;&#x4F4D;&#xFF0C;&#x5982;Theano&#x548C;TensorFlow&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x60A8;&#x53EA;&#x9700;&#x51E0;&#x884C;Python&#x4EE3;&#x7801;&#x5C31;&#x53EF;&#x4EE5;&#x6784;&#x5EFA;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x67B6;&#x6784;&#x3002; &#x867D;&#x7136;mxnet&#x53EF;&#x80FD;&#x9700;&#x8981;&#x66F4;&#x591A;&#x4E00;&#x70B9;&#x7684;&#x4EE3;&#x7801;&#x6765;&#x6784;&#x5EFA;&#x548C;&#x57F9;&#x517B;&#x7F51;&#x7EDC;&#xFF0C;&#x4F46;&#x5B83;&#x80FD;&#x591F;&#x8F7B;&#x677E;&#x9AD8;&#x6548;&#x5730;&#x5C06;&#x57F9;&#x517B;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x5230;&#x591A;&#x4E2A;GPU&#x4E2D;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5728;&#x4E00;&#x4E2A;&#x591A;GPU&#x7CFB;&#x7EDF;&#x6216;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x5E76;&#x5E0C;&#x671B;&#x5145;&#x5206;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#xFF0C;&#x90A3;&#x5C31;&#x80AF;&#x5B9A;&#x8981;&#x8BD5;&#x4E00;&#x8BD5;mxnet&#x3002; &#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x53D6;&#x4EE3;PC&#x4E92;&#x8054;&#x7F51;&#x9886;&#x8DD1;&#x5728;&#x4E92;&#x8054;&#x7F51;&#x65F6;&#x4EE3;&#x7684;&#x6700;&#x524D;&#x6CBF;&#xFF0C;Android&#x548C;iOS&#x4E00;&#x5EA6;&#x6210;&#x4E3A;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x5E94;&#x7528;&#x5E73;&#x53F0;&#x7684;&#x4E24;&#x5927;&#x9738;&#x4E3B;&#xFF0C;&#x6210;&#x4E3A;&#x79FB;&#x52A8;&#x5F00;&#x53D1;&#x8005;&#x9996;&#x9009;&#x7684;&#x4E24;&#x95E8;&#x6280;&#x672F;&#xFF0C;HTML5&#x4EE5;&#x5176;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x5E94;&#x7528;&#x5E73;&#x53F0;&#x5360;&#x636E;&#x91CD;&#x8981;&#x4F4D;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x540E;&#x6765;&#x8005;&#x5C45;&#x4E0A;&#x3002; &#x7531;&#x4E8E;&#x6280;&#x672F;&#x7684;&#x9650;&#x5236;&#x96BE;&#x4EE5;&#x50AC;&#x751F;&#x51FA;&#x66F4;&#x591A;&#x7684;&#x65B0;&#x5E94;&#x7528;&#xFF0C;&#x4E92;&#x8054;&#x7F51;+&#x7684;&#x4EA7;&#x54C1;&#x65E5;&#x6E10;&#x9971;&#x548C;&#xFF0C;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x4ECE;&#x5DC5;&#x5CF0;&#x65F6;&#x4EE3;&#x9010;&#x6E10;&#x8D8B;&#x4E8E;&#x5E73;&#x7F13;&#x53D1;&#x5C55;&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;&#x65F6;&#x4EE3;&#x8C01;&#x662F;&#x4E3B;&#x573A;&#xFF1F;&#x4E0B;&#x4E00;&#x95E8;&#x5E94;&#x7528;&#x6280;&#x672F;&#x8C01;&#x6765;&#x638C;&#x95E8;&#xFF1F; &#x5728;&#x7B2C;&#x4E09;&#x5C4A;&#x4E92;&#x8054;&#x7F51;&#x5927;&#x4F1A;&#x4E2D;&#x767E;&#x5EA6;CEO&#x674E;&#x5F66;&#x5B8F;&#x66FE;&#x8868;&#x8FF0;&#xFF1A;&#x9760;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x98CE;&#x53E3;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x53EF;&#x80FD;&#x518D;&#x51FA;&#x73B0;&#x72EC;&#x89D2;&#x517D;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x5E02;&#x573A;&#x5DF2;&#x7ECF;&#x8FDB;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x5E73;&#x7A33;&#x7684;&#x53D1;&#x5C55;&#x9636;&#x6BB5;&#xFF0C;&#x4E92;&#x8054;&#x7F51;&#x4EBA;&#x53E3;&#x6E17;&#x900F;&#x7387;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;&#x4E86;50%&#x3002;&#x800C;&#x672A;&#x6765;&#x7684;&#x673A;&#x4F1A;&#x5728;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x3002;&#x7684;&#x786E;&#x4E92;&#x8054;&#x7F51;&#x5DE8;&#x5934;&#x516C;&#x53F8;&#x5728;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x9886;&#x57DF;&#x6295;&#x5165;&#x660E;&#x663E;&#x589E;&#x5927;&#xFF0C;&#x90FD;&#x529B;&#x4E89;&#x505A;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x65F6;&#x4EE3;&#x7684;&#x201C;&#x5E26;&#x5934;&#x5927;&#x54E5;&#x201D;&#x3002; Python&#x4F5C;&#x4E3A;&#x4E00;&#x95E8;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x5176;&#x9B45;&#x529B;&#x8FDC;&#x8D85;C#&#xFF0C;Java,C,C++&#xFF0C;&#x5B83;&#x88AB;&#x6635;&#x79F0;&#x4E3A;&#x201C;&#x80F6;&#x6C34;&#x8BED;&#x8A00;&#x201D;&#xFF0C;&#x66F4;&#x88AB;&#x70ED;&#x7231;&#x5B83;&#x7684;&#x7A0B;&#x5E8F;&#x5458;&#x8A89;&#x4E3A;&#x201C;&#x6700;&#x7F8E;&#x4E3D;&#x7684;&#x201D;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x3002;&#x4ECE;&#x4E91;&#x7AEF;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5230;&#x7269;&#x8054;&#x7F51;&#x7EC8;&#x7AEF;&#xFF0C;python&#x5E94;&#x7528;&#x65E0;&#x5904;&#x4E0D;&#x5728;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x662F;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x9996;&#x5148;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x3002; &#x5728;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x4E0A;&#x4F7F;&#x7528;Python&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x4F18;&#x52BF; 1.&#x4F18;&#x8D28;&#x7684;&#x6587;&#x6863; 2.&#x5E73;&#x53F0;&#x65E0;&#x5173;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x73B0;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;*nix&#x7248;&#x672C;&#x4E0A;&#x4F7F;&#x7528; 3.&#x548C;&#x5176;&#x4ED6;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x6BD4;&#x5B66;&#x4E60;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x5FEB;&#x901F; 4.Python&#x6709;&#x8BB8;&#x591A;&#x56FE;&#x50CF;&#x52A0;&#x5F3A;&#x5E93;&#x50CF;Python Imaging Libary,VTK&#x548C;Maya 3D&#x53EF;&#x89C6;&#x5316;&#x5DE5;&#x5177;&#x5305;&#xFF0C;Numeric Python, Scientific Python&#x548C;&#x5176;&#x4ED6;&#x5F88;&#x591A;&#x53EF;&#x7528;&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x4E8E;&#x6570;&#x503C;&#x548C;&#x79D1;&#x5B66;&#x5E94;&#x7528;&#x3002; 5.Python&#x7684;&#x8BBE;&#x8BA1;&#x975E;&#x5E38;&#x597D;&#xFF0C;&#x5FEB;&#x901F;&#xFF0C;&#x575A;&#x56FA;&#xFF0C;&#x53EF;&#x79FB;&#x690D;&#xFF0C;&#x53EF;&#x6269;&#x5C55;&#x3002;&#x5F88;&#x660E;&#x663E;&#x8FD9;&#x4E9B;&#x5BF9;&#x4E8E;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x5E94;&#x7528;&#x6765;&#x8BF4;&#x90FD;&#x662F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x56E0;&#x7D20;&#x3002; 6.&#x5BF9;&#x4E8E;&#x79D1;&#x5B66;&#x7528;&#x9014;&#x7684;&#x5E7F;&#x6CDB;&#x7F16;&#x7A0B;&#x4EFB;&#x52A1;&#x90FD;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x65E0;&#x8BBA;&#x4ECE;&#x5C0F;&#x7684;shell&#x811A;&#x672C;&#x8FD8;&#x662F;&#x6574;&#x4E2A;&#x7F51;&#x7AD9;&#x5E94;&#x7528;&#x3002; 7.&#x6700;&#x540E;&#xFF0C;&#x5B83;&#x662F;&#x5F00;&#x6E90;&#x7684;&#x3002;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x76F8;&#x540C;&#x7684;&#x793E;&#x533A;&#x652F;&#x6301;&#x3002; AI&#x7684;Python&#x5E93; &#x603B;&#x4F53;&#x7684;AI&#x5E93; AIMA&#xFF1A;Python&#x5B9E;&#x73B0;&#x4E86;&#x4ECE;Russell&#x5230;Norvigs&#x7684;&#x201C;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#xFF1A;&#x4E00;&#x79CD;&#x73B0;&#x4EE3;&#x7684;&#x65B9;&#x6CD5;&#x201D;&#x7684;&#x7B97;&#x6CD5; pyDatalog&#xFF1A;Python&#x4E2D;&#x7684;&#x903B;&#x8F91;&#x7F16;&#x7A0B;&#x5F15;&#x64CE; SimpleAI&#xFF1A;Python&#x5B9E;&#x73B0;&#x5728;&#x201C;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#xFF1A;&#x4E00;&#x79CD;&#x73B0;&#x4EE3;&#x7684;&#x65B9;&#x6CD5;&#x201D;&#x8FD9;&#x672C;&#x4E66;&#x4E2D;&#x63CF;&#x8FF0;&#x8FC7;&#x7684;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x7684;&#x7B97;&#x6CD5;&#x3002;&#x5B83;&#x4E13;&#x6CE8;&#x4E8E;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x6613;&#x4E8E;&#x4F7F;&#x7528;&#xFF0C;&#x6709;&#x826F;&#x597D;&#x6587;&#x6863;&#x548C;&#x6D4B;&#x8BD5;&#x7684;&#x5E93;&#x3002; EasyAI&#xFF1A;&#x4E00;&#x4E2A;&#x53CC;&#x4EBA;AI&#x6E38;&#x620F;&#x7684;python&#x5F15;&#x64CE;&#xFF08;&#x8D1F;&#x6781;&#x5927;&#x503C;&#xFF0C;&#x7F6E;&#x6362;&#x8868;&#x3001;&#x6E38;&#x620F;&#x89E3;&#x51B3;&#xFF09; &#x673A;&#x5668;&#x5B66;&#x4E60;&#x5E93; PyBrain &#x4E00;&#x4E2A;&#x7075;&#x6D3B;&#xFF0C;&#x7B80;&#x5355;&#x800C;&#x6709;&#x6548;&#x7684;&#x9488;&#x5BF9;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x4EFB;&#x52A1;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x5B83;&#x662F;&#x6A21;&#x5757;&#x5316;&#x7684;Python&#x673A;&#x5668;&#x5B66;&#x4E60;&#x5E93;&#x3002;&#x5B83;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x79CD;&#x9884;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x73AF;&#x5883;&#x6765;&#x6D4B;&#x8BD5;&#x548C;&#x6BD4;&#x8F83;&#x4F60;&#x7684;&#x7B97;&#x6CD5;&#x3002; PyML &#x4E00;&#x4E2A;&#x7528;Python&#x5199;&#x7684;&#x53CC;&#x8FB9;&#x6846;&#x67B6;&#xFF0C;&#x91CD;&#x70B9;&#x7814;&#x7A76;SVM&#x548C;&#x5176;&#x4ED6;&#x5185;&#x6838;&#x65B9;&#x6CD5;&#x3002;&#x5B83;&#x652F;&#x6301;Linux&#x548C;Mac OS X&#x3002; scikit-learn &#x65E8;&#x5728;&#x63D0;&#x4F9B;&#x7B80;&#x5355;&#x800C;&#x5F3A;&#x5927;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x91CD;&#x7528;&#xFF1A;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x4F5C;&#x4E3A;&#x79D1;&#x5B66;&#x548C;&#x5DE5;&#x7A0B;&#x7684;&#x4E00;&#x4E2A;&#x591A;&#x529F;&#x80FD;&#x5DE5;&#x5177;&#x3002;&#x5B83;&#x662F;python&#x7684;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x96C6;&#x6210;&#x4E86;&#x7ECF;&#x5178;&#x7684;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E9B;&#x7B97;&#x6CD5;&#x662F;&#x548C;python&#x79D1;&#x5B66;&#x5305;&#xFF08;numpy,scipy.matplotlib&#xFF09;&#x7D27;&#x5BC6;&#x8054;&#x7CFB;&#x5728;&#x4E00;&#x8D77;&#x7684;&#x3002; MDP-Toolkit &#x8FD9;&#x662F;&#x4E00;&#x4E2A;Python&#x6570;&#x636E;&#x5904;&#x7406;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x7684;&#x8FDB;&#x884C;&#x6269;&#x5C55;&#x3002;&#x5B83;&#x6D77;&#x6536;&#x96C6;&#x4E86;&#x6709;&#x76D1;&#x7BA1;&#x548C;&#x6CA1;&#x6709;&#x76D1;&#x7BA1;&#x7684;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x548C;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5904;&#x7406;&#x5355;&#x5143;&#xFF0C;&#x53EF;&#x4EE5;&#x7EC4;&#x5408;&#x6210;&#x6570;&#x636E;&#x5904;&#x7406;&#x5E8F;&#x5217;&#x6216;&#x8005;&#x66F4;&#x590D;&#x6742;&#x7684;&#x524D;&#x9988;&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#x3002;&#x65B0;&#x7B97;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#x662F;&#x7B80;&#x5355;&#x548C;&#x76F4;&#x89C2;&#x7684;&#x3002;&#x53EF;&#x7528;&#x7684;&#x7B97;&#x6CD5;&#x662F;&#x5728;&#x4E0D;&#x65AD;&#x7684;&#x7A33;&#x5B9A;&#x589E;&#x52A0;&#x7684;&#xFF0C;&#x5305;&#x62EC;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#xFF08;&#x4E3B;&#x6210;&#x5206;&#x5206;&#x6790;&#x3001;&#x72EC;&#x7ACB;&#x6210;&#x5206;&#x5206;&#x6790;&#x3001;&#x6162;&#x7279;&#x5F81;&#x5206;&#x6790;&#xFF09;&#xFF0C;&#x6D41;&#x578B;&#x5B66;&#x4E60;&#x65B9;&#x6CD5;&#xFF08;&#x5C40;&#x90E8;&#x7EBF;&#x6027;&#x5D4C;&#x5165;&#xFF09;&#xFF0C;&#x96C6;&#x4E2D;&#x5206;&#x7C7B;&#xFF0C;&#x6982;&#x7387;&#x65B9;&#x6CD5;&#xFF08;&#x56E0;&#x5B50;&#x5206;&#x6790;&#xFF0C;RBM),&#x6570;&#x636E;&#x9884;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#x7B49;&#x7B49;&#x3002; &#x81EA;&#x7136;&#x8BED;&#x8A00;&#x548C;&#x6587;&#x672C;&#x5904;&#x7406;&#x5E93; NLTK &#x5F00;&#x6E90;&#x7684;Python&#x6A21;&#x5757;&#xFF0C;&#x8BED;&#x8A00;&#x5B66;&#x6570;&#x636E;&#x548C;&#x6587;&#x6863;&#xFF0C;&#x7528;&#x6765;&#x7814;&#x7A76;&#x548C;&#x5F00;&#x53D1;&#x81EA;&#x7136;&#x8BED;&#x8A00;&#x5904;&#x7406;&#x548C;&#x6587;&#x672C;&#x5206;&#x6790;&#x3002;&#x6709;windows,Mac OSX&#x548C;Linux&#x7248;&#x672C;&#x3002; Python&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x4E00;&#x5927;&#x4F18;&#x52BF;&#xFF0C;&#x5C31;&#x5728;&#x4E8E;&#x5176;&#x4E30;&#x5BCC;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#x3002;&#x7ECF;&#x8FC7;&#x8FC7;&#x53BB;&#x4E00;&#x5E74;&#x7684;&#x65F6;&#x95F4;&#xFF0C;Python&#x7684;&#x4E16;&#x754C;&#x4E2D;&#x53C8;&#x6D8C;&#x73B0;&#x51FA;&#x4E86;&#x54EA;&#x4E9B;&#x4F18;&#x79C0;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#x5462;&#xFF1F;&#x5728;&#x672C;&#x6587;&#x4E2D;&#xFF0C;&#x6211;&#x5C06;&#x7ED9;&#x5927;&#x5BB6;&#x4ECB;&#x7ECD;2015&#x5E74;&#x65B0;&#x51FA;&#x73B0;&#x7684;&#x5341;&#x5927;Python&#x5F00;&#x53D1;&#x5E93;&#x3002;&#x8FD9;&#x91CC;&#x6BD4;&#x8F83;&#x7684;&#x8303;&#x56F4;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x5728;2015&#x65B0;&#x5F00;&#x53D1;&#x6216;&#x521B;&#x5EFA;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#x3002; &#x5341;&#x5927;&#x6D41;&#x884C;&#x7684;Python&#x5E93; 1.Keras Keras&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x5EA6;&#x6A21;&#x5757;&#x5316;&#x7684;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x5E93;&#xFF0C;&#x7528;Python&#x8BED;&#x8A00;&#x7F16;&#x5199;&#xFF0C;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;TensorFlow&#x6216;Theano&#x6846;&#x67B6;&#x8FD0;&#x884C;&#x3002;Keras&#x7684;&#x5F00;&#x53D1;&#x8005;&#x5728;&#x8BBE;&#x8BA1;&#x65F6;&#xFF0C;&#x5C31;&#x6CE8;&#x91CD;&#x652F;&#x6301;&#x5FEB;&#x901F;&#x5B9E;&#x9A8C;&#x8FD9;&#x4E00;&#x7279;&#x6027;&#x3002;&#x4F7F;&#x7528;Keras&#x5E93;&#xFF0C;&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x5730;&#x7F29;&#x77ED;&#x4ECE;&#x60F3;&#x6CD5;&#x5230;&#x5B9E;&#x73B0;&#x4E4B;&#x95F4;&#x7684;&#x65F6;&#x95F4;&#x3002; 2.YAPF yapf&#x662F;&#x4E00;&#x4E2A;Python&#x6587;&#x4EF6;&#x4EE3;&#x7801;&#x683C;&#x5F0F;&#x5316;&#x5DE5;&#x5177;&#xFF0C;&#x4F46;&#x4E0E;&#x5176;&#x4ED6;&#x7C7B;&#x4F3C;&#x5DE5;&#x5177;&#x91C7;&#x53D6;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x7B97;&#x6CD5;&#x3002;&#x5B83;&#x8131;&#x80CE;&#x4E8E;&#x7531; Daniel Jasper &#x5F00;&#x53D1;&#x7684; clang-format&#x3002;&#x5927;&#x4F53;&#x4E0A;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x83B7;&#x53D6;&#x4EE3;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x521D;&#x59CB;&#x4EE3;&#x7801;&#x91CD;&#x65B0;&#x7F16;&#x6392;&#xFF0C;&#x5373;&#x4FBF;&#x521D;&#x59CB;&#x4EE3;&#x7801;&#x5E76;&#x6CA1;&#x6709;&#x8FDD;&#x80CC;&#x89C4;&#x8303;&#xFF0C;&#x4E5F;&#x53EF;&#x4F7F;&#x5176;&#x8FBE;&#x5230;&#x9075;&#x5FAA;&#x4EE3;&#x7801;&#x89C4;&#x8303;&#x7684;&#x6700;&#x4F73;&#x683C;&#x5F0F;&#x3002;&#x8FD9;&#x4E2A;&#x7406;&#x5FF5;&#x548C; Go &#x8BED;&#x8A00;&#x4E2D;&#x7684; gofmt &#x5DE5;&#x5177;&#x76F8;&#x4F3C;&#xFF0C;&#x7EC8;&#x7ED3;&#x5173;&#x4E8E;&#x683C;&#x5F0F;&#x7684;&#x5404;&#x79CD;&#x201C;&#x5723;&#x6218;&#x201D;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x4EE3;&#x7801;&#x5E93;&#xFF0C;&#x65E0;&#x8BBA;&#x4F55;&#x65F6;&#x4FEE;&#x6539;&#xFF0C;&#x901A;&#x8FC7; YAPF &#x4F18;&#x5316;&#x540E;&#xFF0C;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#x53EF;&#x7EDF;&#x4E00;&#xFF0C;&#x5728;&#x6BCF;&#x6B21;&#x4EE3;&#x7801;&#x5BA1;&#x67E5;&#x4E2D;&#xFF0C;&#x4E5F;&#x5C31;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x4E89;&#x8BBA;&#x98CE;&#x683C;&#x4E86;&#x3002; YAPF&#x7684;&#x7EC8;&#x6781;&#x76EE;&#x6807;&#x662F;&#x751F;&#x6210;&#x548C;&#x9075;&#x5FAA;&#x4EE3;&#x7801;&#x89C4;&#x8303;&#x7684;&#x7A0B;&#x5E8F;&#x5458;&#x5199;&#x51FA;&#x7684;&#x4E00;&#x6837;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x53EF;&#x5E2E;&#x4F60;&#x51CF;&#x5C11;&#x7EF4;&#x62A4;&#x4EE3;&#x7801;&#x7684;&#x82E6;&#x5DEE;&#x4E8B;&#x3002; 3.tqdm tqdm&#xFF08;&#x8BFB;&#x97F3;&#xFF1A;taqadum, &#xFF09;&#x5728;&#x963F;&#x62C9;&#x4F2F;&#x8BED;&#x4E2D;&#x7684;&#x610F;&#x601D;&#x662F;&#x8FDB;&#x5C55;&#x3002;tqdm&#x53EF;&#x4EE5;&#x5728;&#x957F;&#x5FAA;&#x73AF;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8FDB;&#x5EA6;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF0C;&#x7528;&#x6237;&#x53EA;&#x9700;&#x8981;&#x5C01;&#x88C5;&#x4EFB;&#x610F;&#x7684;&#x8FED;&#x4EE3;&#x5668; tqdm(iterator)&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5FEB;&#x901F;&#x3001;&#x6269;&#x5C55;&#x6027;&#x5F3A;&#x7684;&#x8FDB;&#x5EA6;&#x6761;&#x5DE5;&#x5177;&#x5E93;&#x3002; 4.pyvim &#x7528;Python&#x8BED;&#x8A00;&#x5B9E;&#x73B0;&#x7684;Vim&#x7F16;&#x8F91;&#x5668;&#x3002; 5.snake Snake&#x7528;&#x6765;&#x53D6;&#x4EE3;Vim&#x7684;VimScript&#x8FDB;&#x884C;Vim&#x7684;&#x63D2;&#x4EF6;&#x7F16;&#x7A0B;&#xFF0C;&#x501F;&#x7531;Python&#x7684;&#x5F3A;&#x5927;&#xFF0C;&#x8BA9;&#x63D2;&#x4EF6;&#x7F16;&#x7A0B;&#x5982;&#x864E;&#x6DFB;&#x7FFC;&#x3002; 6.reverse-geocoder &#x7528;Python&#x5B9E;&#x73B0;&#x7684;&#x53CD;&#x5411;&#x5730;&#x7406;&#x4FE1;&#x606F;&#x7F16;&#x7801;&#x5668;&#xFF08;geocoder&#xFF09;&#xFF0C;&#x6027;&#x80FD;&#x5F3A;&#xFF0C;&#x53EF;&#x79BB;&#x7EBF;&#x4F7F;&#x7528;&#x3002; 7.pyxley &#x4F7F;&#x7528;Flask&#x548C;React.js&#xFF0C;&#x5FEB;&#x901F;&#x5F00;&#x53D1;&#x6570;&#x636E;&#x9762;&#x677F;&#xFF08;dashboard&#x3002;&#x5728;&#x7F51;&#x9875;&#x4E0A;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9762;&#x677F;&#x662F;&#x4E0E;&#x4EBA;&#x5206;&#x4EAB;&#x6570;&#x636E;&#x79D1;&#x5B66;&#x53D1;&#x73B0;&#x7684;&#x6700;&#x76F4;&#x89C2;&#x65B9;&#x6CD5;&#x3002;&#x5BF9;R&#x8BED;&#x8A00;&#x6765;&#x8BF4;&#x6709;Shiny&#x6765;&#x7B80;&#x5316;&#x6570;&#x636E;&#x79D1;&#x5B66;&#x5BB6;&#x5F00;&#x53D1;&#x7F51;&#x9875;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x800C;Pyxley&#x5C31;&#x76F8;&#x5F53;&#x4E8E;Python&#x7248;&#x7684;Shiny&#x3002;&#x4F7F;&#x7528;Pyxley&#x4E0D;&#x5149;&#x4E0D;&#x7528;&#x5199;HTML&#x3001;CSS&#xFF0C;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x81EA;&#x5DF1;&#x7684;JavaScript&#x6765;&#x8FDB;&#x884C;&#x5B9A;&#x5236;&#x3002; 8.pupy Pupy&#x662F;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF08;Administration Tool&#xFF09;&#xFF0C;&#x5F00;&#x6E90;&#x5E76;&#x4E14;&#x652F;&#x6301;&#x591A;&#x4E2A;&#x5E73;&#x53F0;&#x3002;Pupy&#x8FD8;&#x5185;&#x7F6E;&#x4E86;&#x4E00;&#x4E2A;Python&#x89E3;&#x91CA;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x5185;&#x5B58;&#x4E2D;&#x52A0;&#x8F7D;Python&#x5305;&#xFF0C;&#x8BBF;&#x95EE;&#x8FDC;&#x7A0B;Python&#x5BF9;&#x8C61;&#x3002; 9.tomorrow Tomorrow&#x4E3A;Python 2.7&#x4E2D;&#x7684;&#x5F02;&#x6B65;&#x4EE3;&#x7801;&#x63D0;&#x4F9B;&#x4E86;&#x795E;&#x5947;&#x7684;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x5B9E;&#x73B0;&#x3002;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A; 10.ibis Ibis&#x662F;Cloudera Labs&#x63A8;&#x51FA;&#x7684;&#x4E00;&#x4E2A;&#x65B0;&#x9879;&#x76EE;&#xFF0C;&#x76EE;&#x524D;&#x8FD8;&#x662F;&#x9884;&#x89C8;&#x7248;&#x3002;&#x5B83;&#x8BD5;&#x56FE;&#x89E3;&#x51B3;&#x7684;&#x5C31;&#x662F;&#x6570;&#x636E;&#x96C6;&#x89C4;&#x6A21;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x5BF9;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x7684;&#x786E;&#x662F;&#x5355;&#x673A;&#x4E0A;Python&#x7684;&#x4F53;&#x9A8C;&#xFF0C;&#x800C;&#x4E14;&#x80FD;&#x591F;&#x4E0E;&#x73B0;&#x6709;&#x7684;Python&#x6570;&#x636E;&#x751F;&#x6001;&#x5708;&#xFF08;Pandas&#x3001;Scikit-learn&#x3001;Numpy&#xFF09;&#x8FDB;&#x884C;&#x96C6;&#x6210;&#x3002;&#x672A;&#x6765;&#x5B83;&#x8FD8;&#x8BA1;&#x5212;&#x52A0;&#x5165;&#x4E0E;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x548C;&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x96C6;&#x6210;&#x7684;&#x529F;&#x80FD;&#x3002;]]></content>
  </entry>
  <entry>
    <title><![CDATA[星露谷新手开荒四季简单攻略]]></title>
    <url>%2F2017%2F11%2F22%2FStardew-run%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x662F;&#x81EA;&#x5DF1;&#x6839;&#x636E;&#x7F51;&#x4E0A;&#x4E00;&#x4E9B;&#x73B0;&#x6709;&#x653B;&#x7565;&#x4EE5;&#x53CA;&#x81EA;&#x5DF1;&#x5B9E;&#x9645;&#x6E38;&#x73A9;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x603B;&#x7ED3;&#x800C;&#x6765;&#x3002; &#x6E38;&#x620F;&#x5E73;&#x53F0;&#xFF1A;ns&#x4E3B;&#x8981;&#x662F;&#x524D;&#x671F;&#x9493;&#x9C7C;&#xFF0C;&#x4E2D;&#x671F;&#x79CD;&#x5730;&#x6316;&#x77FF;&#xFF0C;&#x540E;&#x671F;&#x917F;&#x9152; &#x91CD;&#x70B9;&#x653B;&#x7565; &#x524D;&#x671F;&#x9493;&#x9C7C; &#x6625;&#x5929;&#x6D77;&#x9C7C;&#x4E0D;&#x503C;&#x94B1; &#x77FF;&#x6E56;&#xFF08;&#x77FF;&#x6D1E;&#x4E0B;&#x9762;&#x7684;&#x6E56;&#xFF09;&#xFF08;&#x4E0D;&#x4E0B;&#x96E8;&#x4EE5;&#x53CA;&#x4E0B;&#x96E8;8&#x7EA7;&#x4EE5;&#x4E0A;&#x559D;&#x9C7C;&#x6C64;&#xFF09;&#x5927;&#x5634;&#x9C7C; &#x4E0B;&#x96E8;&#x5929;&#x53BB;&#x6751;&#x5B50;&#x5DE6;&#x4E0B;&#x7684;&#x6CB3;(8&#x7EA7;&#x4EE5;&#x4E0B;) &#x9CB6;&#x9C7C;&#xFF08;&#x5F88;&#x96BE;&#xFF09;&#xFF08;&#x7559;&#x4E00;&#x6761;&#xFF09; &#x4E70;&#x9C7C;&#x6C64;&#xFF0C;9&#x7EA7;&#x9C7C;&#x738B;&#x6216;&#x8005;&#x56DE;&#x590D;&#x4F53;&#x529B; 2-4&#x5929;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x7BA1;&#xFF0C;&#x4E00;&#x76F4;&#x9493;&#x9C7C;&#xFF0C;&#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;100%&#x548C;&#x5B8C;&#x7F8E;&#xFF0C;4&#x5929;&#x5347;5&#x7EA7; 5&#x7EA7;&#x4E4B;&#x524D;&#x7684;&#x9C7C;&#x4E00;&#x76F4;&#x5B58;&#x7740;&#xFF0C;5&#x7EA7;&#x52A0;&#x4E86;&#x4EF7;&#x683C;25%&#x7684;&#x6280;&#x80FD;&#x4E4B;&#x540E;&#x5356;&#x6389;&#x4E70;&#x80CC;&#x5305;&#x548C;1800&#x7684;&#x9C7C;&#x7AFF;&#x3001;&#x9C7C;&#x9975;&#x4EE5;&#x53CA;&#x9C7C;&#x6C64; &#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;15&#x5929;&#x4E4B;&#x524D;&#x9493;&#x9C7C;&#x6EE1;&#x7EA7;&#xFF0C;5&#x7EA7;&#x4E4B;&#x540E;&#x4E0D;&#x5DEE;&#x94B1;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x5B58;&#x4E00;&#x4E9B;&#x9C7C;10&#x7EA7;&#x4E4B;&#x540E;&#x5356; &#x9C7C;&#x7AFF;&#x53EF;&#x4EE5;&#x4E00;&#x76F4;&#x7528;1800&#x7684;&#x76F4;&#x5230;&#x8C03;&#x9C7C;&#x738B;&#x4E4B;&#x524D; &#x9493;&#x9C7C;&#x7684;&#x5B9D;&#x85CF; &#x5B9D;&#x7BB1;5000&#xFF0C;&#x94BB;&#x77F3;750 &#x6D77;&#x795E;&#x5927;&#x5251;&#x3001;&#x53C9;&#x5B50;&#x4E0B;&#x77FF; &#x53E4;&#x4EE3;&#x79CD;&#x5B50;&#x7ED9;&#x535A;&#x7269;&#x9986;&#x5F97;&#x5230;&#x8FDC;&#x53E4;&#x79CD;&#x5B50;&#x548C;&#x914D;&#x65B9; &#x5404;&#x79CD;&#x6212;&#x6307; &#x6050;&#x9F99;&#x86CB;&#x7559;&#x7740;&#x5B75;&#x86CB; &#x9C7C;&#x738B;&#x4F4D;&#x7F6E; 10&#x7EA7;&#x4EE5;&#x540E;&#x4E0B;&#x96E8;&#x9493;&#x9C7C;&#x738B;&#xFF0C;&#x4E0D;&#x4E0B;&#x96E8;&#x4E0B;&#x77FF;&#x6216;&#x8005;&#x79CD;&#x5730;&#xFF0C;&#x4E0B;&#x77FF;&#x4E4B;&#x524D;&#x5347;&#x7EA7;&#x94DC;&#x9504;&#x5934; &#x4F18;&#x5148;&#x5347;&#x7EA7;&#x7B2C;&#x4E8C;&#x884C;&#x80CC;&#x5305;&#xFF08;2000&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x5347;&#x7EA7;&#x65A7;&#x5B50;&#xFF0C;&#x94C1;&#x65A7;&#x5B50;&#x4E4B;&#x540E;&#x9E21;&#x7A9D;&#x548C;&#x725B;&#x68DA; &#x725B;&#x68DA;&#x4E8C;&#x7EA7;&#x5C71;&#x7F8A;&#xFF0C;&#x4E09;&#x7EA7;&#x732A;&#xFF0C;&#x9E21;&#x7A9D;&#x4E8C;&#x7EA7;&#x9E2D;&#x5B50;&#xFF0C;&#x4E09;&#x7EA7;&#x5154;&#x5B50; &#x6D1E;&#x7A74;&#x8611;&#x83C7;&#x6216;&#x8005;&#x8759;&#x8760;&#x679C;&#x5B50;&#xFF1A;&#x63A8;&#x8350;&#x8759;&#x8760; &#x5E26;&#x7740;&#x9504;&#x5934;&#xFF0C;&#x6316;&#x86AF;&#x8693; &#x91D1;&#x661F;&#x4F5C;&#x7269;&#x4EFB;&#x52A1;&#xFF1A;&#x9632;&#x98CE;&#x8349;&#xFF0C;&#x751C;&#x74DC;&#xFF0C;&#x7389;&#x7C73; &#x6BCF;&#x5929;&#x7FFB;&#x5783;&#x573E;&#x6876; &#x6302;&#x6811;&#x673A;&#xFF0C;&#x9700;&#x8981;&#x7559;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x6811;&#xFF0C;&#x4E3B;&#x8981;&#x7559;&#x6A61;&#x6811;&#xFF0C;&#x4EE5;&#x53CA;&#x641C;&#x96C6;&#x6A61;&#x6811;&#x79CD;&#x5B50;&#xFF0C;&#x63D0;&#x524D;&#x79CD; &#x5468;&#x4E94;&#x548C;&#x5468;&#x65E5;&#xFF0C;&#x732A;&#x8F66;&#x4E70;&#x4E1C;&#x897F; &#x4E3B;&#x8981;&#x4E70;&#x7535;&#x6C60;&#x548C;&#x4E00;&#x4E9B;&#x5F88;&#x96BE;&#x7684;&#x732E;&#x796D;&#x7269;&#x54C1; &#x53EF;&#x4EE5;&#x4E70;&#x7A00;&#x6709;&#x79CD;&#x5B50;&#xFF0C;&#x6625;&#x590F;&#x5929;&#x6BCF;&#x6B21;&#x90FD;&#x4E70;&#x603B;&#x5171;16&#x4E2A;&#xFF0C;1&#x4E2A;&#x4E0A;&#x4EA4;&#xFF0C;15&#x4E2A;&#x51FA;&#x8D27; &#x4E0A;&#x4EA4;&#x7684;&#x662F;&#x732A;&#x8F66;&#x5DE6;&#x8FB9;&#x67AF;&#x6728;&#x8FDB;&#x53BB;&#x795E;&#x79D8;&#x96D5;&#x50CF; &#x770B;&#x4EBA;&#x54C1; &#x94F1;&#x77FF;&#x94F1;&#x952D; &#x9AD8;&#x7EA7;&#x6D12;&#x6C34;&#x5668; &#x5154;&#x811A;&#x9E2D;&#x6BDB; &#x53CD;&#x5B63;&#x8282;&#x6C34;&#x679C; &#x7B2C;&#x4E8C;&#x5E74;&#x624D;&#x5356;&#x7684;&#x7D2B;&#x7518;&#x84DD;&#x5927;&#x849C; &#x5982;&#x679C;&#x4F60;&#x4E70;&#x5230;&#x9E2D;&#x6BDB;&#xFF0C;&#x57FA;&#x672C;&#x5C31;&#x4E0D;&#x7528;&#x517B;&#x9E2D;&#x5B50;&#x4E86; &#x53E6;&#x5916;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x9009;&#x8759;&#x8760;&#x6D1E;&#x7684;&#x540C;&#x5B66;&#x6CE8;&#x610F;&#x4E00;&#x4E0B;&#x7A00;&#x6709;&#x8611;&#x83C7;&#xFF0C;&#x9009;&#x8611;&#x83C7;&#x6D1E;&#x7684;&#x540C;&#x5B66;&#x6CE8;&#x610F;&#x4E00;&#x4E0B;&#x5404;&#x79CD;&#x679C;&#x6811;&#x6C34;&#x679C; &#x535A;&#x7269;&#x9986;&#x6350;&#x732E;60&#x4E2A;&#x89E3;&#x9501;&#x4E0B;&#x6C34;&#x9053; &#x4F5C;&#x7269;&#x732E;&#x796D;&#x89E3;&#x9501;&#x6E29;&#x5BA4; &#x91D1;&#x94B1;&#x732E;&#x796D;&#x89E3;&#x9501;&#x6C99;&#x6F20; &#x52A8;&#x7269;&#x51AC;&#x5929;&#x9700;&#x8981;&#x6696;&#x6C14; &#x6BCF;&#x4E2A;&#x5B63;&#x8282;1-2&#x53F7;&#x5927;&#x5988;&#x4E0D;&#x4E0A;&#x73ED; &#x51AC;&#x5929;&#x4E4B;&#x524D;&#x8981;&#x8349;&#x6599;&#x5854;&#xFF08;&#x591A;&#x51E0;&#x4E2A;&#xFF09;&#xFF0C;&#x51AC;&#x5929;&#x524D;&#x6536;&#x7267;&#x8349; &#x6625;&#x5929;&#x6CE8;&#x610F; &#x6625;&#x5B63;&#x91C7;&#x96C6;&#x732E;&#x796D; &#x6811;&#x8102;&#x505A;&#x80A5;&#x6599; &#x91D1;&#x661F;&#x9632;&#x98CE;&#x8349; &#x6C34;&#x58F6;&#x548C;&#x9504;&#x5934;&#x524D;&#x671F;&#x6CA1;&#x5FC5;&#x8981;&#x5347;&#x7EA7; &#x7B2C;&#x4E00;&#x5929;&#xFF0C;15&#x4E2A;&#x9632;&#x98CE;&#x8349;&#xFF0C;&#x7136;&#x540E;500&#x4E70;2&#x6C99;&#x62C9;&#xFF0C;&#x5176;&#x4F59;&#x571F;&#x8C46;&#xFF0C;100&#x4E2A;&#x6728;&#x5934;&#x505A;2&#x7BB1;&#x5B50;&#xFF0C;&#x4E00;&#x4E2A;&#x5BB6;&#x91CC;&#xFF0C;&#x4E00;&#x4E2A;&#x9493;&#x9C7C;&#x70B9; &#x7B2C;&#x4E8C;&#x5929;&#x5F00;&#x59CB;&#x9493;&#x9C7C;&#xFF0C;&#x5347;&#x5230;2&#x7EA7; &#x7B2C;&#x4E09;&#x5929;&#x9493;&#x9C7C;&#x5347;&#x5230;4&#x7EA7; &#x7B2C;&#x56DB;&#x5929;&#x5347;&#x5230;5&#x7EA7;&#xFF0C;&#x4E70;&#x4E00;&#x4E9B;&#x9C7C; &#x7B2C;&#x4E94;&#x5929;&#x6536;&#x83B7;&#x9632;&#x98CE;&#x8349;&#xFF0C;&#x5F00;&#x793E;&#x533A;&#x4E2D;&#x5FC3;&#x4EFB;&#x52A1;&#xFF0C;&#x5F97;&#x5230;&#x72D7;&#xFF0C;&#x770B;&#x732A;&#x8F66;&#x5546;&#x4EBA;&#xFF0C;&#x53BB;&#x77FF;&#x4E95;&#x4E00;&#x8D9F;&#xFF0C;&#x9001;&#x5229;&#x4E9A;&#x6C99;&#x62C9;&#xFF0C;&#x9001;&#x4E5E;&#x4E10;&#x9632;&#x98CE;&#x8349;&#xFF0C;&#x7136;&#x540E;&#x5356;&#x9C7C;&#xFF0C;&#x7EE7;&#x7EED;&#x9493;&#x9C7C;&#x6216;&#x8005;&#x79CD;&#x9632;&#x98CE;&#x8349;&#x548C;&#x732E;&#x796D;&#x852C;&#x83DC; &#x7B2C;&#x516D;&#x5929;&#x4E70;&#x80CC;&#x5305;&#x3001;1800&#x9C7C;&#x7AFF;&#x3001;&#x9C7C;&#x9975;&#x4EE5;&#x53CA;&#x9C7C;&#x6C64;&#xFF0C;&#x9001;&#x5229;&#x4E9A;&#x6C99;&#x62C9;&#xFF0C;&#x9001;&#x4E5E;&#x4E10;&#x9632;&#x98CE;&#x8349;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x4E70;&#x6C99;&#x62C9; &#x7B2C;&#x4E03;&#x5929;&#x6751;&#x957F;&#x751F;&#x65E5;&#x9001;&#x9632;&#x98CE;&#x8349;&#x3001;&#x7EE7;&#x7EED;&#x9493;&#x9C7C; &#x5982;&#x679C;&#x6709;&#x6811;&#x8393;&#x548C;&#x5927;&#x8471;&#xFF0C;&#x53EF;&#x4EE5;&#x9001;&#x4E5E;&#x4E10;&#x8FD9;&#x4E24;&#x6837; &#x4E00;&#x76F4;&#x9493;&#x9C7C;&#x4E2D;&#x95F4;&#x8BB0;&#x5F97;&#x9001;&#x793C;&#x7269;&#x7136;&#x540E;&#x5C3D;&#x91CF;15&#x5929;&#x5230;10&#x7EA7; 13&#x53F7;&#x86CB;&#x86CB;&#x8282;10&#x4E2A;&#x8D62;&#x8349;&#x5E3D;&#xFF0C;&#x5E76;&#x4E14;&#x7559;&#x94B1;&#x4E70;&#x8349;&#x8393;&#x79CD;&#x5B50;&#xFF0C;13&#x53F7;&#x65E9;&#x4E0A;&#x5FD9;&#x5B8C;&#x4E4B;&#x540E;&#x8981;&#x5148;&#x5F00;&#x5730;&#xFF0C;&#x52A0;&#x80A5;&#x6599;&#xFF0C;&#x665A;&#x4E0A;&#x56DE;&#x53BB;&#x5C31;&#x5F00;&#x59CB;&#x79CD;&#x8349;&#x8393;&#xFF0C;&#x6CA1;&#x79CD;&#x5B8C;&#x7684;&#x7B2C;&#x4E8C;&#x5929;&#x4E5F;&#x4E0D;&#x79CD;&#x4E86; &#x6625;&#x79CB;&#x4E2D;&#x65EC;15&#x53F7;&#x5230;17&#x53F7;&#x6811;&#x8393;&#x5F88;&#x591A;&#xFF0C;&#x522B;&#x7684;&#x4E0D;&#x5E72;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x627E; &#x9493;&#x9C7C;&#x6EE1;&#x7EA7;&#x4E4B;&#x540E;&#x94B1;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x4E70;&#x725B;&#x68DA;&#x548C;&#x9E21;&#x68DA;&#xFF0C;&#x5982;&#x679C;&#x9493;&#x9C7C;&#x6709;&#x4E86;&#x5B9D;&#x85CF;&#x7684;&#x6B66;&#x5668;&#x53EF;&#x4EE5;&#x4E0B;&#x77FF;&#xFF0C;&#x6216;&#x8005;&#x9493;&#x9C7C;&#x6323;&#x94B1; &#x4E0B;&#x96E8;&#x5929;&#x8981;&#x53BB;&#x9493;&#x9C7C;&#x738B;&#xFF0C;&#x591A;&#x8054;&#x7CFB;&#x91CD;&#x590D;&#x8BFB;&#x6863; &#x62FF;&#x5230;&#x9493;&#x9C7C;&#x6B66;&#x5668;&#x4E4B;&#x540E;&#x53BB;&#x6316;&#x77FF;&#xFF0C;&#x524D;&#x671F;80&#x5B8C;&#x6210;&#x77FF;&#x8F66;&#xFF0C;&#x77FF;21&#xFF0C;51&#xFF0C;81 &#x591A;&#x5237;&#x8611;&#x83C7;&#xFF0C;&#x591A;&#x7559;&#x7D2B;&#x8272;&#x91D1;&#x661F;&#x5927;&#x8611;&#x83C7;&#xFF0C;&#x8FD8;&#x8981;&#x70E7;&#x77FF; 120&#x5C42;&#x662F;&#x4E3A;&#x4E86;&#x94F1;&#x77FF; &#x751F;&#x65E5;&#x4E00;&#x5B9A;&#x8981;&#x9001;&#x793C;&#x7269;&#xFF0C;&#x5B9E;&#x5728;&#x4E0D;&#x884C;12&#x70B9;&#x4E4B;&#x540E;&#x9152;&#x5427;&#x7684;&#x5496;&#x5561;&#xFF0C;&#x4E24;&#x4E2A;&#x5C0F;&#x5B69;&#x4E0D;&#x559C;&#x6B22; &#x6BCF;&#x6B21;&#x5BF9;&#x8BDD;&#x52A0;&#x597D;&#x611F;20&#xFF0C;&#x4E0D;&#x8BF4;&#x51CF;2 &#x4F10;&#x6728;&#xFF0C;&#x795E;&#x79D8;&#x68EE;&#x6797;12&#x786C;&#x6728; &#x5BB6;&#x91CC;&#x780D;&#x6728;&#x5934;&#x7684;&#x65F6;&#x5019;&#x4E3B;&#x8981;&#x6536;&#x96C6;&#x6A61;&#x6811;&#x79CD;&#x5B50; &#x6625;&#x5B63;&#x603B;&#x7ED3; &#x571F;&#x8C46;&#x867D;&#x7136;&#x7406;&#x8BBA;&#x4E0A;&#x6536;&#x76CA;&#x6BD4;&#x83DC;&#x82B1;&#x9AD8;&#xFF0C;&#x4F46;&#x662F;&#x65BD;&#x80A5;&#x4E4B;&#x540E;&#x7684;&#x5DE8;&#x5927;&#x83DC;&#x82B1;&#x780D;&#x6389;&#x6536;&#x76CA;&#x66F4;&#x9AD8;&#xFF0C;&#x5982;&#x679C;&#x571F;&#x5730;&#x89C4;&#x5212;&#x597D;&#x4E86;&#xFF0C;&#x5728;&#x4E00;&#x6CE2;&#x571F;&#x8C46;&#x6210;&#x719F;&#x4E4B;&#x540E;&#x6709;&#x83DC;&#x82B1;&#x7684;3&#x884C;&#x4EE5;&#x4E0A;&#x7684;&#x571F;&#x5730;&#x5C31;&#x79CD;&#x83DC;&#x82B1;&#xFF0C;3x3&#x7684;&#x683C;&#x5B50;&#x5C31;&#x6709;&#x51E0;&#x7387;&#x51FA;&#x5DE8;&#x5927;&#x83DC;&#x82B1;&#x3002;&#x6CE8;&#x610F;&#x83DC;&#x82B1;13&#x5929;&#x6210;&#x719F;&#xFF0C;&#x5176;&#x5B9E;&#x4E3A;&#x4E86;&#x8349;&#x8393;&#x7684;&#x5730;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x79CD;&#x83DC;&#x82B1;&#xFF0C;&#x79CD;&#x571F;&#x8C46;&#x62D6;&#x5230;13&#x53F7;&#x76F4;&#x63A5;&#x6362;&#x8349;&#x8393;&#x3002; 13&#x53F7;&#x86CB;&#x86CB;&#x8282;&#x4E0A;&#x628A;&#x94B1;&#x90FD;&#x4E70;&#x8349;&#x8393;&#x79CD;&#x5B50;&#xFF0C;&#x56DE;&#x5BB6;&#x5C31;&#x79CD;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x6536;&#x4E24;&#x6CE2;&#xFF0C;&#x7B2C;&#x4E09;&#x6CE2;&#x6536;&#x4E0D;&#x5230;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x6536;&#x5B8C;&#x4E24;&#x6CE2;&#x5C31;&#x53EF;&#x4EE5;&#x4E0D;&#x4EA4;&#x6C34;&#x4E86;&#x3002;&#x8349;&#x8393;&#x624D;&#x662F;&#x6625;&#x5929;&#x6700;&#x8D5A;&#x94B1;&#x7684;&#x4F5C;&#x7269;~ &#x86CB;&#x86CB;&#x8282;&#x4E0D;&#x8981;&#x628A;&#x94B1;&#x90FD;&#x82B1;&#x5149;&#xFF01;&#x81F3;&#x5C11;&#x7559;&#x4E94;&#x5343;&#x5757;&#xFF01;&#x4E3A;&#x5565;&#xFF1F;&#x56E0;&#x4E3A;&#x86CB;&#x86CB;&#x8282;&#x4E4B;&#x540E;14&#x53F7;&#x662F;&#x5468;&#x65E5;&#xFF01;&#x6709;&#x732A;&#x8F66;&#xFF01;&#x5982;&#x679C;&#x4F60;&#x6B63;&#x597D;&#x78B0;&#x5230;&#x8981;&#x4E70;&#x7684;&#x4E1C;&#x897F;&#x6CA1;&#x94B1;&#x5566;&#x3002;&#x3002;&#x3002;&#x3002;&#x60B2;&#x4E86;&#x4E2A;&#x5267; &#x82B1;&#x821E;&#x8282;&#x522B;&#x5FD8;&#x4E86;&#x627E;&#x95E8;&#x53E3;&#x7684;&#x5546;&#x5E97;&#x8001;&#x677F;&#x4E70;&#x7A3B;&#x8349;&#x4EBA;&#xFF0C;&#x662F;&#x6536;&#x96C6;&#x54C1;&#xFF0C;&#x867D;&#x7136;&#x4E0D;&#x77E5;&#x9053;&#x6709;&#x4EC0;&#x4E48;&#x5375;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x9519;&#x8FC7;&#x4E86;&#x5C31;&#x8981;&#x7B49;&#x660E;&#x5E74;&#x4E86;&#x3002; &#x90A3;&#x4E48;&#x6625;&#x5929;&#x7684;&#x653B;&#x7565;&#x5230;&#x6B64;&#x57FA;&#x672C;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x6625;&#x5929;&#x7684;&#x65F6;&#x95F4;&#x91CC;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x9493;&#x9C7C;&#xFF0C;&#x79CD;&#x571F;&#x8C46;&#x548C;&#x8349;&#x8393;&#xFF0C;&#x5347;&#x7EA7;&#x65A7;&#x5934;&#x53BB;&#x795E;&#x79D8;&#x68EE;&#x6797;&#xFF0C;&#x4E71;&#x4E03;&#x516B;&#x7CDF;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x5C3D;&#x91CF;&#x5B8C;&#x6210;&#x5982;&#x4E0B;&#x4EFB;&#x52A1;&#xFF1A; &#x725B;&#x68DA;&#x5B8C;&#x6210; &#x8001;&#x5A46;3&#x5FC3; &#x77FF;&#x8F66;&#x4FEE;&#x597D; &#x94C1;&#x65A7;&#x5934; &#x9876;&#x7EA7;&#x9C7C;&#x7AFF; &#x94DC;&#x7A3F;&#x5B50; &#x8D5A;&#x5230;&#x5341;&#x51E0;&#x4E07; &#x4E8C;&#x672C;&#x5B8C;&#x6210; &#x9E21;&#x7A9D;&#x5B8C;&#x6210; &#x6C99;&#x6F20;bus&#x4FEE;&#x597D; &#x590F;&#x5929;&#x6CE8;&#x610F; &#x590F;&#x5B63;&#x91C7;&#x96C6;&#x732E;&#x796D;&#xFF0C;&#x8568;&#x83DC;&#x5728;&#x795E;&#x79D8;&#x68EE;&#x6797; &#x91D1;&#x661F;&#x7389;&#x7C73;&#xFF08;&#x79CD;10&#x4E2A;&#xFF09;&#x548C;&#x751C;&#x74DC;&#xFF08;&#x4E0D;&#x8981;&#x91CD;3*3&#xFF09; &#x4E0D;&#x9700;&#x8981;&#x79CD;&#x8461;&#x8404;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x6361; &#x679C;&#x6811;&#x5468;&#x56F4;8&#x4E2A;&#x683C;&#x5B50;&#x4E0D;&#x8981;&#x6709;&#x4E1C;&#x897F; &#x9C7C;&#xFF1A;&#x77FF;&#x6E56;&#x9493;&#x4E00;&#x6761;Sturgeon&#xFF0C;&#x6D77;&#x91CC;&#x9493;Tuna&#x3001;RedSnapper&#xFF08;&#x96E8;&#x5929;&#x4E13;&#x4F9B;&#xFF09;&#x3001;Tilapia&#xFF0C;&#x8FD8;&#x6709;&#x4E2D;&#x5348;&#x5341;&#x4E8C;&#x70B9;&#x5230;&#x4E0B;&#x5348;&#x56DB;&#x70B9;&#x6D77;&#x8FB9;&#x6674;&#x5929;&#x9650;&#x5B9A;&#x7684;&#x6CB3;&#x8C5A; &#x590F;&#x5929;&#x4E0D;&#x9493;&#x9C7C;&#xFF0C;&#x4E0D;&#x66B4;&#x5BCC;&#xFF0C;&#x53EF;&#x4EE5;&#x6D77;&#x9493; 11&#x53F7;&#x7684;&#x8282;&#x65E5;&#xFF0C;&#x6CA1;&#x6709;&#x91D1;&#x661F;&#x5927;&#x6D77;&#x53C2;&#x5C31;&#x7528;&#x91D1;&#x661F;&#x5976;&#x916A;&#x6216;&#x8005;&#x91D1;&#x661F;&#x7D2B;&#x8611;&#x83C7; &#x590F;&#x5929;&#x4E0B;&#x77FF;&#x4E86;&#x8981;&#x591A;&#x505A;&#x6D12;&#x6C34;&#x5668;&#x3001;&#x6302;&#x6811;&#x673A;&#x3001;&#x9152;&#x6876; &#x725B;&#x5976;&#x548C;&#x9E21;&#x86CB;&#x505A;&#x6210;&#x5976;&#x916A;&#x548C;&#x86CB;&#x9EC4;&#x9171;&#xFF0C;&#x5976;&#x916A;&#x4E0B;&#x77FF;&#x53EF;&#x4EE5;&#x5403;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x4E0D;&#x5DEE;&#x94B1;&#x5C31;&#x5148;&#x7559;&#x7740;&#x7B49;&#x8001;&#x519C;10&#x7EA7;&#x518D;&#x5356; &#x590F;&#x5929;&#x7684;&#x4E09;&#x4E2A;&#x6D41;&#x6D3E; &#x84DD;&#x8393;&#x6D77;&#x79CD;&#x690D;&#x6D41; -&gt; &#x6885;&#x5B50;&#x6D77; &#x84DD;&#x8393;&#x814C;&#x5236;&#x6D41; -&gt; &#x814C;&#x83DC;&#x6D41; &#x5564;&#x9152;&#x82B1;&#x917F;&#x9152;&#x6D41; -&gt; &#x917F;&#x9152;&#x6D41; &#x8FDC;&#x53E4;&#x917F;&#x9152;&#x6D41; &#x5564;&#x9152;&#x82B1;&#x917F;&#x9152;&#x6D41; &#x6768;&#x6843; &#x6885;&#x5B50;&#x6D77; &#x76F4;&#x63A5;&#x79CD;&#x5927;&#x91CF;&#x7684;&#x6885;&#x5B50;&#x7136;&#x540E;&#x76F4;&#x63A5;&#x5356; &#x4EA7;&#x91CF;&#x6700;&#x5927;&#x7684;&#x4F5C;&#x7269; &#x6625;&#x5929;&#x662F;&#x8349;&#x8393; &#x590F;&#x5929;&#x662F;&#x84DD;&#x8393; &#x79CB;&#x5929;&#x662F;&#x8513;&#x8D8A;&#x8393; &#x6625;&#x5929;&#x704C;&#x6728;&#x91CE;&#x679C;&#x662F;&#x6811;&#x8393;&#xFF0C;&#x6811;&#x8393;&#x4E00;&#x4E2A;&#x5356;5g&#xFF0C;25&#x80FD;&#x91CF;10&#x751F;&#x547D; &#x79CB;&#x5929;&#x53C8;&#x832B;&#x832B;&#x591A;&#x9ED1;&#x8393;&#x6885;&#x5B50;&#xFF0C;&#x9ED1;&#x8393;&#x4E00;&#x4E2A;20g&#xFF0C;25&#x80FD;&#x91CF;10&#x751F;&#x547D; &#x9664;&#x4E86;&#x7279;&#x6B8A;&#x7684;&#x79CD;&#x5B50;&#xFF08;&#x8FDC;&#x53E4;&#x3001;&#x7A00;&#x6709;&#x3001;&#x6C99;&#x6F20;&#x5356;&#x7684;&#x90A3;&#x4E9B;&#xFF09;&#xFF0C;&#x6885;&#x5B50;&#x662F;&#x65E5;&#x4EA7;&#x503C;&#x6700;&#x9AD8;&#x7684;&#x4F5C;&#x7269;&#x3002; &#x590F;&#x5929;&#x7684;&#x84DD;&#x8393;&#xFF0C;&#x6BCF;&#x682A;&#x84DD;&#x8393;13&#x5929;&#x6210;&#x719F;&#xFF0C;&#x4E4B;&#x540E;&#x6BCF;4&#x5929;&#x4EA7;&#x751F;&#x4E09;&#x4E2A;&#x84DD;&#x8393; &#x4F18;&#x70B9;&#x5982;&#x4E0B; &#x8D77;&#x6B65;&#x5FEB;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x5927;&#x91CF;&#x7684;&#x814C;&#x83DC;&#x6876;&#x548C;&#x9152;&#x6876; &#x6536;&#x6548;&#x5FEB;&#xFF0C;&#x76F4;&#x63A5;&#x5356;&#x4F5C;&#x7269;&#x4E0D;&#x9700;&#x8981;&#x52A0;&#x5DE5;&#x65F6;&#x95F4;&#xFF0C;&#x5FEB;&#x901F;&#x56DE;&#x6536;&#x7684;&#x8D44;&#x91D1;&#x53EF;&#x4EE5;&#x8BA9;&#x73A9;&#x5BB6;&#x66F4;&#x65E9;&#x7684;&#x5E72;&#x66F4;&#x591A;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x5347;&#x7EA7;&#x623F;&#x5B50;&#x8FD8;&#x662F;&#x5347;&#x7EA7;&#x725B;&#x68DA;&#x9E21;&#x7A9D;&#x8FD8;&#x662F;&#x9020;&#x9A6C;&#x53A9;&#x3002; &#x723D;&#x3002;&#x554A;&#xFF0C;&#x662F;&#x554A;&#xFF0C;&#x770B;&#x7740;&#x832B;&#x832B;&#x591A;&#x7684;&#x6885;&#x5B50;&#x6D77;&#xFF0C;&#x4E0D;&#x723D;&#x4E48; &#x7F3A;&#x70B9; &#x7D2F;&#x7B2C;&#x4E00;&#x4E2A;&#x590F;&#x5929;&#x6CA1;&#x6709;&#x90A3;&#x4E48;&#x591A;&#x81EA;&#x52A8;&#x6D12;&#x6C34;&#x5668;&#xFF0C;&#x6D47;&#x6C34;&#x90FD;&#x8981;&#x7D2F;&#x6B7B;&#x3002; &#x8D39;&#x65F6;&#x95F4; &#x540E;&#x52B2;&#x4E0D;&#x8DB3;&#xFF0C;&#x5230;&#x540E;&#x671F;&#x8FD8;&#x662F;&#x5F97;&#x8F6C;&#x578B;&#x6210;&#x8FDC;&#x53E4;&#x6D41;&#x6216;&#x8005;&#x814C;&#x83DC;&#x6D41;&#xFF0C;&#x4F46;&#x662F;&#x540E;&#x671F;&#x4E5F;&#x5C31;&#x4E0D;&#x5DEE;&#x94B1;&#x4E86;&#xFF0C;&#x60F3;&#x600E;&#x4E48;&#x73A9;&#x90FD;&#x53EF;&#x4EE5;&#x5566; &#x814C;&#x83DC;&#x6D41; &#x814C;&#x83DC;&#x6D41;&#x7684;&#x6838;&#x5FC3;&#x5176;&#x5B9E;&#x8FD8;&#x662F;&#x5404;&#x79CD;&#x6885;&#x5B50;&#xFF0C;&#x4F46;&#x662F;&#x4ED6;&#x9700;&#x8981;&#x53E6;&#x4E00;&#x6837;&#x4E1C;&#x897F;&#x6765;&#x5BF9;&#x6885;&#x5B50;&#x8FDB;&#x884C;&#x52A0;&#x5DE5; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x814C;&#x83DC;&#x6876;4&#x7EA7;&#x519C;&#x6C11;&#x7B49;&#x7EA7;&#x5C31;&#x80FD;&#x5236;&#x9020;&#xFF0C;&#x524D;&#x671F;&#x5F88;&#x5BB9;&#x6613;&#x5C31;&#x80FD;&#x505A;&#xFF0C;&#x4F46;&#x662F;&#x9650;&#x5236;&#x5B83;&#x7684;&#x56E0;&#x7D20;&#x5728;&#x54EA;&#x91CC;&#x5462;&#xFF1F;&#x9020;&#x4E00;&#x4E2A;&#x8981;8&#x4E2A;&#x7164;&#x554A;&#xFF01;&#x94C1;&#x5320;&#x94FA;&#x4E00;&#x4E2A;&#x7164;150&#x554A;&#xFF01; &#x8D77;&#x6B65;&#x8FD8;&#x662F;&#x6BD4;&#x917F;&#x9152;&#x6D41;&#x66F4;&#x5BB9;&#x6613; &#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#xFF0C;&#x90FD;&#x662F;&#x4E22;&#x8FDB;&#x53BB;&#x4E1C;&#x897F;&#xFF0C;2&#x5929;&#x4EA7;&#x751F;&#x76F8;&#x5E94;&#x7684;&#x814C;&#x5236;&#x54C1;&#xFF0C;&#x751F;&#x4EA7;&#x5468;&#x671F;&#x975E;&#x5E38;&#x77ED;&#xFF0C;&#x4EA7;&#x503C;&#x4E5F;&#x5F88;&#x9AD8;&#xFF0C;50g&#x56FA;&#x5B9A;&#x91D1;&#x989D;+&#x4F5C;&#x7269;&#x4EF7;&#x503C;x2&#xFF0C;&#x6240;&#x4EE5;&#x7406;&#x8BBA;&#x4E0A;&#xFF0C;&#x4EF7;&#x503C;&#x4E0D;&#x9AD8;&#x7684;&#x4F5C;&#x7269;&#x4E22;&#x8FDB;&#x53BB;&#x662F;&#x6700;&#x8D5A;&#x7684;&#xFF0C;&#x521A;&#x597D;&#x9002;&#x5408;&#x4EA7;&#x91CF;&#x5927;&#x4EF7;&#x503C;&#x4F4E;&#x7684;&#x6885;&#x5B50; &#x4F18;&#x70B9; &#x53EF;&#x4EE5;&#x8BA9;&#x6BCF;&#x4E00;&#x9897;&#x6885;&#x5B50;&#x7684;&#x4EF7;&#x503C;&#x5F97;&#x5230;&#x63D0;&#x5347;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x51AC;&#x5929;&#x4E0D;&#x80FD;&#x79CD;&#x690D;&#x4F5C;&#x7269;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x4F60;&#x6625;&#x79CB;&#x814C;&#x4E0D;&#x5B8C;&#x7684;&#x6885;&#x5B50;&#x62FF;&#x51FA;&#x6765;&#x814C;&#x5236;&#xFF0C;&#x603B;&#x4F53;&#x6765;&#x8BF4;&#x8D5A;&#x7684;&#x94B1;&#x66F4;&#x591A; &#x6210;&#x672C;&#x76F8;&#x5BF9;&#x8F83;&#x4F4E;&#xFF0C;&#x5BF9;&#x6BD4;&#x9152;&#x6876;&#x6765;&#x8BF4;&#x3002;&#x6210;&#x578B;&#x4E5F;&#x6BD4;&#x9152;&#x6876;&#x5FEB; &#x5982;&#x679C;&#x52E4;&#x5FEB;&#x4E00;&#x70B9;&#x79CD;&#x690D;&#x5927;&#x91CF;&#x6885;&#x5B50;&#xFF0C;&#x653E;&#x4E0A;&#x5927;&#x91CF;&#x7684;&#x814C;&#x83DC;&#x6876;&#xFF0C;&#x8FD9;&#x4E2A;&#x6D41;&#x6D3E;&#x8D5A;&#x94B1;&#x4E0D;&#x6BD4;&#x917F;&#x9152;&#x8D5A;&#x94B1;&#x5C11; &#x814C;&#x83DC;&#x6876;&#x548C;&#x6885;&#x5B50;&#x7684;&#x5951;&#x5408;&#x5EA6;&#x662F;&#x6700;&#x9AD8;&#x7684;&#xFF0C;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x6885;&#x5B50;&#x7528;&#x6765;&#x814C;&#x5236;&#x624D;&#x662F;&#x6700;&#x6548;&#x7387;&#x7684;&#x8D5A;&#x94B1;&#x65B9;&#x5F0F; &#x7F3A;&#x70B9; &#x7164;&#x8D35; &#x8FD8;&#x662F;&#x6709;&#x70B9;&#x7D2F;&#xFF0C;&#x6D47;&#x5730;&#x4E0D;&#x7528;&#x90A3;&#x4E48;&#x591A;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x832B;&#x832B;&#x591A;&#x814C;&#x83DC;&#x6876;&#x6536;&#x83DC;&#x653E;&#x83DC; &#x6709;&#x4E00;&#x4E2A;&#x4E0D;&#x592A;&#x5F15;&#x4EBA;&#x6CE8;&#x610F;&#x7684;&#x7F3A;&#x70B9;&#x5C31;&#x662F;&#xFF0C;&#x814C;&#x83DC;&#x6876;&#x5236;&#x9020;&#x6BD4;&#x917F;&#x9152;&#x6876;&#x591A;20&#x4E2A;&#x6728;&#x5934;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x989D;&#x5916;40&#x4E2A;&#x77F3;&#x5934; &#x917F;&#x9152;&#x6D41; &#x8FD9;&#x4E2A;&#x6D41;&#x6D3E;&#x5728;&#x590F;&#x5929;&#x662F;&#x6700;&#x8D5A;&#x94B1;&#x7684;&#x6D41;&#x6D3E;&#x6CA1;&#x6709;&#x4E4B;&#x4E00; &#x540E;&#x671F;&#x662F;&#x4F1A;&#x53D1;&#x5C55;&#x6210;&#x8FDC;&#x53E4;&#x917F;&#x9152;&#x6D41;&#x7684; &#x9152;&#x6876;&#xFF0C;&#x590F;&#x5929;&#x4E3B;&#x8981;&#x7528;&#x5564;&#x9152;&#x82B1;&#x917F;&#x9020;&#x7684;&#x6E05;&#x5564;&#x9152;&#xFF0C;300&#x4E00;&#x4E2A;&#xFF0C;&#x4E00;&#x5929;&#x5DE6;&#x53F3;&#x5C31;&#x80FD;&#x917F;&#x597D; &#x5564;&#x9152;&#x82B1;&#xFF0C;&#x6BCF;&#x5929;&#x4E00;&#x4EA7;&#xFF01;&#x5564;&#x9152;&#x82B1;&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x503C;&#x94B1;&#xFF0C;&#x4E00;&#x4E2A;&#x624D;25g&#xFF0C;&#x4F46;&#x662F;&#x917F;&#x6210;&#x6E05;&#x5564;&#x9152;&#x4E00;&#x4E2A;&#x5356;300g&#x554A;&#xFF01; &#x8FD9;&#x4E2A;&#x6D41;&#x6D3E;&#x4E00;&#x4E2A;&#x9152;&#x6876;&#x7684;&#x6536;&#x76CA;&#x5C31;&#x662F;&#x770B;&#x5F97;&#x89C1;&#x7684;&#x65E5;&#x5165;300g&#x554A;&#xFF01; &#x4F18;&#x70B9;&#xFF08;&#x4F18;&#x70B9;&#x90FD;&#x5F88;&#x7F8E;&#x597D;&#xFF09; &#x590F;&#x5929;&#x6700;&#x66B4;&#x5229;&#x7684;&#x6D41;&#x6D3E;&#xFF0C;&#x8D5A;&#x94B1;MAX&#x3002; &#x56DE;&#x6536;&#x671F;&#x7092;&#x9E21;&#x77ED;&#xFF0C;1&#x5929;&#x4E00;&#x4EA7;1&#x5929;&#x4E00;&#x6536;&#xFF0C;&#x65E5;&#x5165;&#x4E07;&#x628A;&#x5757;&#x3002; &#x9152;&#x6876;&#x5230;&#x540E;&#x671F;&#x662F;&#x6700;&#x5177;&#x53D1;&#x5C55;&#x4EF7;&#x503C;&#x7684;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6C34;&#x679C;&#x917F;&#x9152;3&#x500D;&#x4EF7;&#x683C;&#xFF0C;&#x661F;&#x661F;&#x679C;&#x4E22;&#x8FDB;&#x53BB;&#x7684;&#x8BDD;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x52A0;&#x6210;&#x5C31;&#x662F;2400&#x554A;~ &#x55EF;&#x3002;&#x4E5F;&#x4E0D;&#x7528;&#x79CD;&#x90A3;&#x4E48;&#x591A;&#x5730;&#x4E86;&#x3002;&#x6BD5;&#x7ADF;&#x4EA7;&#x91CF;&#x90A3;&#x4E48;&#x5927; &#x7F3A;&#x70B9;&#xFF08;&#x7F3A;&#x70B9;&#x90FD;&#x5F88;&#x81F4;&#x547D;&#xFF09; &#x9152;&#x6876;&#x7684;&#x6210;&#x672C;&#x592A;tm&#x9AD8;&#x4E86;&#x3002;&#x9996;&#x5148;&#x9700;&#x8981;8&#x7EA7;&#x8001;&#x519C;&#x5C31;&#x628A;&#x5F88;&#x591A;&#x4EBA;&#x5361;&#x4F4F;&#x4E86;&#xFF0C;&#x9700;&#x8981;&#x6625;&#x5929;&#x591A;&#x79CD;&#x5F88;&#x591A;&#x5730;&#x624D;&#x80FD;&#x63D0;&#x5347;&#x5230;8&#x7EA7; &#x53E6;&#x5916;&#x9152;&#x6876;&#x9700;&#x8981;&#x7684;&#x94DC;&#x94C1;&#x952D;&#x53C8;&#x8981;&#x6C42;&#x73A9;&#x5BB6;&#x75AF;&#x72C2;&#x4E0B;&#x77FF;&#x6216;&#x8005;&#x627E;&#x94C1;&#x5320;&#x4E70;&#x3002; &#x6700;&#x6C14;&#x4EBA;&#x7684;&#x662F;&#x4F5C;&#x8005;&#x4E27;&#x5FC3;&#x75C5;&#x72C2;&#x5730;&#x52A0;&#x5165;&#x4E86;&#x65B0;&#x6750;&#x6599;&#x6A61;&#x6811;&#x8102;&#xFF01; &#x9700;&#x8981;6-7&#x5929;&#x624D;&#x751F;&#x4EA7;&#x4E00;&#x4E2A;&#x554A;&#xFF01; &#x5564;&#x9152;&#x82B1;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x662F;&#x6709;&#x67B6;&#x5B50;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x5BC6;&#x690D;&#xFF0C; &#x6E29;&#x5BA4;&#x5564;&#x9152;&#x82B1;&#x6D41;&#x4E5F;&#x662F;&#x7531;&#x4E8E;&#x5564;&#x9152;&#x82B1;&#x6709;&#x67B6;&#x5B50;&#x4E0D;&#x80FD;&#x5BC6;&#x690D;&#xFF0C;&#x6240;&#x4EE5;&#x86CB;&#x75BC;&#x5F97;&#x7D27;&#x3002; &#x4ED4;&#x7EC6;&#x770B;&#x917F;&#x9152;&#x6876;&#x7684;&#x4EA7;&#x7269;&#x6211;&#x4EEC;&#x4E0D;&#x96BE;&#x53D1;&#x73B0; &#x852C;&#x83DC;&#x917F;&#x51FA;&#x6765;&#x7684;&#x662F;&#x679C;&#x6C41;&#x554A; &#x6C34;&#x679C;&#x917F;&#x51FA;&#x6765;&#x7684;&#x662F;&#x9152;&#x554A; &#x5C0F;&#x9EA6;&#x917F;&#x51FA;&#x6765;&#x7684;&#x662F;&#x5564;&#x9152;&#x554A; &#x5564;&#x9152;&#x82B1;&#x917F;&#x51FA;&#x6765;&#x7684;&#x662F;&#x6E05;&#x5564;&#x9152;&#xFF08;&#x9EA6;&#x9152;&#xFF09;&#x554A; &#x6C34;&#x679C;&#x917F;&#x9152;x3&#xFF0C;&#x852C;&#x83DC;&#x53EA;&#x6709;x2.25 &#x4E0B;&#x77FF; &#x4E0B;&#x77FF;&#x6709;&#x4E24;&#x79CD;&#x9009;&#x62E9; &#x53BB;&#x9547;&#x91CC;&#x7684;&#x77FF; &#x917F;&#x9152;&#x6D41;&#x53EF;&#x4EE5;21&#x5C42;&#x548C;61&#x5C42;&#x53CD;&#x590D;&#x5237;&#x94DC;&#x94C1; &#x814C;&#x83DC;&#x6D41;&#x53EF;&#x4EE5;55&#x548C;65&#x5C42;&#x5237;&#x7164;&#x7403;&#x602A; &#x81EA;&#x52A8;&#x6D12;&#x6C34;&#x6885;&#x5B50;&#x6D41;&#x53EF;&#x4EE5;81&#x5C42;&#x5237;&#x91D1;&#x77FF; &#x4E0B;&#x77FF;&#x5176;&#x5B9E;&#x662F;&#x4E0D;&#x600E;&#x4E48;&#x8D5A;&#x94B1;&#x7684; &#x6316;&#x5230;&#x7684;&#x5B9D;&#x77F3;&#x524D;&#x671F;&#x53EF;&#x4EE5;&#x5356;&#x6389;&#xFF0C;&#x540E;&#x671F;&#x5EFA;&#x8BAE;&#x8FD8;&#x662F;&#x7559;&#x8D77;&#x6765;&#x9001;&#x4EBA; &#x6709;&#x597D;&#x591A;&#x4EBA;&#x7279;&#x522B;&#x559C;&#x6B22;&#x5B9D;&#x77F3;&#xFF0C;&#x6BD4;&#x5982;Abby&#x559C;&#x6B22;&#x7D2B;&#x6C34;&#x6676;&#xFF0C;&#x5927;&#x5988;&#x4EEC;&#x559C;&#x6B22;&#x94BB;&#x77F3;&#xFF0C;penny&#x559C;&#x6B22;&#x7EFF;&#x5B9D;&#x77F3;&#x4EC0;&#x4E48;&#x7684; &#x4E0B;&#x77FF;&#x4E3B;&#x8981;&#x8FD8;&#x662F;&#x4E3A;&#x4E86;&#x91D1;&#x94F6;&#x94DC;&#x7164;&#xFF0C;&#x4F46;&#x662F;&#x5462;&#xFF0C;&#x6709;&#x94B1;&#x4E86;&#x4E4B;&#x540E;&#x8FD9;&#x4E9B;&#x4E5F;&#x53EF;&#x4EE5;&#x53BB;&#x627E;&#x94C1;&#x5320;&#x4E70; &#x53BB;&#x6C99;&#x6F20;&#x77FF;&#x6D1E; &#x6C99;&#x6F20;&#x9996;&#x5148;&#x9700;&#x8981;&#x91D1;&#x94B1;&#x732E;&#x796D;42500&#x5B8C;&#x6210;&#xFF0C;&#x4FEE;&#x597D;&#x5DF4;&#x58EB;&#xFF0C;&#x7136;&#x540E;&#x5973;&#x53F8;&#x673A;10&#x70B9;10&#x5206;&#x5230;5&#x70B9;&#x95F4;&#x90FD;&#x4F1A;&#x53D1;&#x8F66; &#x53BB;&#x6C99;&#x6F20;&#x77FF;&#x6D1E;&#x8FD8;&#x9700;&#x8981;&#x9AB7;&#x9AC5;&#x94A5;&#x5319;&#xFF0C;120&#x5C42;&#x9547;&#x91CC;&#x7684;&#x77FF;&#x6D1E;&#xFF08;&#x5E95;&#x5C42;&#xFF09;&#x7684;&#x5B9D;&#x7BB1;&#x6709;&#x9AB7;&#x9AC5;&#x94A5;&#x5319; &#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x53D6;&#x5DE7;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x62FF;&#x5B8C;&#x9AB7;&#x9AC5;&#x94A5;&#x5319;&#x4E4B;&#x540E;&#x70B8;&#x4E86;120&#x5C42;&#x7684;&#x5B9D;&#x7BB1;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x5F53;&#x5929;&#x70B8;&#xFF0C;&#x7B2C;&#x4E8C;&#x5929;&#x5C31;&#x6CA1;&#x4E86;&#x3002;&#x70B8;&#x4E86;&#x4E4B;&#x540E;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x4E2A;&#x5730;&#x9053;&#xFF0C;&#x901A;&#x5411;&#x6C99;&#x6F20;&#x77FF;&#x6D1E;&#x3002;&#x4E0D;&#x8FC7;&#x53EA;&#x6709;&#x4E00;&#x6B21;&#x673A;&#x4F1A;&#xFF0C;&#x518D;&#x53BB;&#x5C31;&#x5F97;&#x627E;&#x8001;&#x53F8;&#x673A;&#x4E86; &#x5730;&#x6D1E;&#x662F;&#x6C99;&#x6F20;&#x77FF;&#x6D1E;&#x7279;&#x6709;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x4E00;&#x4E0B;&#x5B50;&#x4E0B;&#x597D;&#x591A;&#x5C42;&#xFF0C;&#x4F46;&#x662F;&#x8DF3;&#x5730;&#x6D1E;&#x4F1A;&#x6389;&#x8840;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8DF3;&#x4E0B;&#x53BB;&#x88AB;&#x602A;&#x7269;&#x77AC;&#x79D2;&#xFF0C;&#x8BF7;&#x5403;&#x6EE1;&#x8840;&#x518D;&#x8DF3; &#x6B66;&#x5668;&#x63A8;&#x8350;&#x4F7F;&#x7528;Sword&#xFF0C;&#x5373;&#x5927;&#x5251;&#x7C7B;&#x6B66;&#x5668;&#x3002;&#x9047;&#x5230;&#x6C99;&#x6F20;&#x98DE;&#x9F99;&#x4E0D;&#x8981;&#x4E00;&#x76F4;&#x6309;&#xFF0C;&#x770B;&#x5B83;&#x79BB;&#x4F60;&#x8FD1;&#x4E86;&#xFF0C;&#x6325;&#x821E;&#x6B66;&#x5668;&#xFF0C;&#x4ED6;&#x4F1A;&#x88AB;&#x51FB;&#x9000; &#x98DE;&#x9F99;&#x4F1A;&#x6389;&#x5F69;&#x8679;&#x77F3;&#x548C;&#x5154;&#x811A; &#x5927;&#x53F2;&#x83B1;&#x59C6;&#x6253;&#x4EBA;&#x4E0D;&#x4F1A;&#x51CF;&#x901F;&#xFF0C;&#x786E;&#x5207;&#x7684;&#x8BF4;&#x5927;&#x53F2;&#x83B1;&#x59C6;&#x4E0D;&#x4F1A;&#x653B;&#x51FB;&#xFF0C;&#x53EA;&#x4F1A;&#x78B0;&#x649E; &#x6728;&#x4E43;&#x4F0A;&#xFF0C;&#x6740;&#x6B7B;&#x4ED6;&#x4EEC;&#x4E4B;&#x540E;&#x9700;&#x8981;&#x7528;&#x70B8;&#x5F39;&#x70B8;&#x6B7B;&#x4ED6;&#x4EEC;&#xFF0C;&#x4E0D;&#x7136;&#x4ED6;&#x4EEC;&#x4F1A;&#x590D;&#x6D3B; &#x4E0B;&#x5230;50&#x5C42;&#x4E4B;&#x540E;&#x94F1;&#x77FF;&#x5C31;&#x5F00;&#x59CB;&#x591A;&#x4E86;&#xFF0C;&#x4E00;&#x5929;&#x4E0B;&#x6765;&#x70B8;&#x5F39;&#x591F;&#x591A;&#x8FD0;&#x6C14;&#x591F;&#x597D;&#x7684;&#x8BDD;&#xFF0C;&#x5E94;&#x8BE5;&#x5C31;&#x80FD;&#x70B8;&#x5230;&#x5341;&#x51E0;&#x4E8C;&#x5341;&#x4E2A;&#x94F1;&#x77FF; &#x5468;&#x56DB;&#x53BB;&#x6C99;&#x6F20;&#x8FD8;&#x80FD;&#x987A;&#x5E26;&#x4E70;&#x4E00;&#x4E9B;&#x9AD8;&#x7EA7;&#x52A0;&#x901F;&#x80A5;&#x6599; &#x5468;&#x4E09;&#x4E5F;&#x8981;&#x53BB;&#xFF0C;&#x987A;&#x5E26;&#x4E00;&#x676F;&#x5496;&#x5561;&#x7ED9;Sandy &#x79CB;&#x5929;&#x6CE8;&#x610F; &#x5982;&#x679C;&#x4E4B;&#x524D;&#x4E70;&#x4E86;&#x4EC0;&#x4E48;&#x79CD;&#x5B50;&#xFF0C;&#x5207;&#x8BB0;&#x7B2C;&#x4E00;&#x5929;&#x4E00;&#x5B9A;&#x8981;&#x79CD;&#x4E0B; &#x79CB;&#x5B63;&#x91C7;&#x96C6;&#x732E;&#x796D;&#x3002;&#x6817;&#x5B50;&#x8981;&#x7559;&#x4E00;&#x70B9;&#x3001;&#x674E;&#x5B50;&#x4E0D;&#x7528;&#x591A;&#x7559; &#x9ED1;&#x8393;&#x4E2D;&#x65EC;&#x7684;&#x65F6;&#x5019;&#x5927;&#x9762;&#x79EF;&#x91C7;&#x96C6; &#x6709;&#x4E86;&#x590F;&#x5929;&#x7684;&#x7389;&#x7C73; 5&#x4E2A;&#x8304;&#x5B50;&#xFF0C;&#x91CD;&#x590D;&#x6536; &#x5357;&#x74DC;&#x591A;&#x7559;&#x70B9;&#x3001;&#x5C71;&#x836F;&#x4E5F;&#x79CD;&#x70B9; &#x6C34;&#x58F6;&#x548C;&#x9504;&#x5934;&#x524D;&#x671F;&#x6CA1;&#x5FC5;&#x8981;&#x5347;&#x7EA7; &#x6CB3;&#x9C7C;&#x65E9;&#x4E0A;6-&#x4E0B;&#x5348;7&#xFF0C;&#x8FD8;&#x6709;&#x4E0B;&#x96E8;&#x7684;&#x665A;&#x4E0A; &#x7559;&#x51E0;&#x4E2A;&#x5411;&#x65E5;&#x8475; &#x5176;&#x4ED6;&#x7EE7;&#x7EED;&#x79CD;&#x8513;&#x8D8A;&#x8393;&#xFF08;&#x5982;&#x679C;&#x6CA1;&#x6709;5&#x4E2A;&#x91D1;&#x661F;&#x9632;&#x98CE;&#x8349;&#xFF0C;&#x8981;&#x591A;&#x79CD;&#x5357;&#x74DC;&#x5F97;&#x5230;5&#x4E2A;&#x91D1;&#x661F;&#x5357;&#x74DC;&#xFF09; &#x9152;&#x6876;&#x7EE7;&#x7EED;&#x5564;&#x9152;&#x82B1;&#xFF08;&#x9152;&#x6876;&#x592A;&#x5C11;&#x7684;&#x8BDD;&#xFF0C;&#x5564;&#x9152;&#x82B1;&#x5F88;&#x591A;&#x5269;&#x4E0B;&#x7684;&#xFF09;&#xFF0C;&#x5564;&#x9152;&#x82B1;&#x7528;&#x5B8C;&#x53EF;&#x4EE5;&#x7528;&#x8513;&#x8D8A;&#x8393; &#x6216;&#x8005;&#x9152;&#x6876;&#x53EF;&#x4EE5;&#x653E;&#x6768;&#x6843; 14&#x53F7;&#x89E3;&#x9501;&#x6E29;&#x5BA4;&#xFF0C;&#x5F00;&#x59CB;&#x79CD;&#x8FDC;&#x53E4;&#x679C;&#x548C;&#x661F;&#x661F;&#x679C; &#x8981;&#x4F10;&#x6728;&#xFF0C;&#x56E0;&#x4E3A;&#x6728;&#x5934;&#x4E0D;&#x591F;&#xFF0C;&#x8FD8;&#x8981;&#x4E0B;&#x77FF;&#x5237;&#x77FF; &#x6709;&#x94B1;&#x4E86;&#x89E3;&#x9501;&#x6C99;&#x6F20;&#x53BB;&#x6C99;&#x6F20;&#x70B8;&#x77FF; &#x9493;&#x9C7C;16&#x53F7;&#x4E4B;&#x524D;&#x53BB;&#x77FF;&#x6D1E;100&#x5C42; 9&#x6761;&#x7194;&#x5CA9;&#x6D77;&#x86C7; &#x79CB;&#x5929;&#x4E2D;&#x65EC;&#x6536;&#x96C6;&#x9ED1;&#x8393; 8&#x5FC3;&#x4E4B;&#x540E;&#x65E0;&#x9650;&#x9001;&#x82B1;&#x7B49;&#x4E0B;&#x96E8;&#x53BB;&#x4E70;&#x9879;&#x94FE; &#x7ED3;&#x5A5A;&#x524D;&#x9700;&#x8981;150&#x786C;&#x6728;&#x548C;5w&#x5347;&#x7EA7;&#x623F;&#x5B50; 16&#x53F7;&#x7684;&#x8282;&#x65E5; &#x9152;&#x5427;&#x8001;&#x677F;&#x53EF;&#x4EE5;&#x514D;&#x8D39;&#x5403;&#x6C49;&#x5821; &#x5546;&#x5E97;&#x5356;&#x7684;&#x4E1C;&#x897F;&#x9700;&#x8981;3400&#x661F;&#x661F;&#x5E01;&#xFF08;&#x7A3B;&#x8349;&#x4EBA;&#x3001;&#x4F53;&#x529B;&#x661F;&#x661F;&#x3001;&#x5E3D;&#x5B50;&#x3001;&#x5BB6;&#x5177;&#xFF09; &#x6709;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x5C55;&#x53F0;&#xFF08;9&#x6837;&#x6700;&#x8D35;&#x7684;&#x4E1C;&#x897F;&#xFF09; &#x529B;&#x91CF;&#x6D4B;&#x8BD5;&#x673A; &#x4E0D;&#x5212;&#x7B97; &#x9493;&#x9C7C;&#x6E38;&#x620F; &#x5C04;&#x51FB;&#x6E38;&#x620F; &#x8F6E;&#x76D8;&#x8D4C;&#x6CE8;&#xFF0C;&#x53EF;&#x4EE5;&#x8BD5;&#x8BD5; 100&#x5757;&#x94B1;&#x9884;&#x6D4B;&#x672A;&#x6765; &#x51AC;&#x5929;&#x6CE8;&#x610F; &#x51AC;&#x5B63;&#x91C7;&#x96C6;&#x732E;&#x796D; &#x4E0D;&#x80FD;&#x79CD;&#x5730;&#x4E86;&#xFF0C;&#x53EA;&#x80FD;&#x79CD;&#x91C7;&#x96C6;&#x690D;&#x7269; &#x52A8;&#x7269;&#x4E0D;&#x51FA;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x6696;&#x6C14;&#x548C;&#x5582;&#x8349; &#x51AC;&#x5929;&#x524D;&#x9700;&#x8981;&#x8349;&#x6599;&#x5854;&#xFF0C;&#x628A;&#x7267;&#x8349;&#x5168;&#x90E8;&#x6536;&#x5272; &#x51AC;&#x5929;&#x7684;&#x9493;&#x9C7C;&#x6BD4;&#x8D5B;&#x53EF;&#x4EE5;&#x53BB; &#x8FD8;&#x8981;&#x5236;&#x4F5C;&#x8349;&#x8393;&#x79CD;&#x5B50; &#x6574;&#x7406;&#x6E29;&#x5BA4; &#x51AC;&#x5929;&#x4E3B;&#x8981;&#x662F;&#x6316;&#x5730;&#xFF08;&#x9664;&#x4E86;&#x81EA;&#x5DF1;&#x5BB6;&#x7684;&#x5730;&#xFF09; &#x627E;&#x4E00;&#x4E2A;&#x6700;&#x4F4E;&#x70B9;&#xFF0C;&#x6A2A;&#x7740;&#x9504;&#xFF0C;&#x9504;&#x5230;&#x4E86;&#x51AC;&#x6839;&#x679C;&#x6216;&#x8005;&#x51B0;&#x841D;&#x535C;&#xFF0C;&#x5C31;&#x5728;&#x90A3;&#x4E00;&#x683C;&#x4E00;&#x76F4;&#x5F80;&#x4E0A;&#x9504;&#xFF0C;&#x4F1A;&#x51FA;&#x6765;&#x4E00;&#x5927;&#x5806;&#x7684;&#x679C;&#x5B50; &#x5982;&#x679C;&#x51FA;&#x4E86;&#x9ECF;&#x571F;&#xFF0C;&#x8FD9;&#x4E48;&#x9504;&#x4E5F;&#x662F;&#x4F1A;&#x51FA;&#x4E00;&#x5927;&#x5806;&#x7684;&#x9ECF;&#x571F;&#x7684;&#x3002;&#x800C;&#x4E14;&#x8C8C;&#x4F3C;&#x5982;&#x679C;&#x9009;&#x6700;&#x4E0A;&#x9762;&#x5F00;&#x59CB;&#x6A2A;&#x7740;&#x9504;&#xFF0C;&#x5F80;&#x4E0B;&#x4E00;&#x76F4;&#x9504;&#x4E5F;&#x662F;&#x53EF;&#x884C;&#x7684; &#x7136;&#x540E;&#x4E00;&#x6A2A;&#x884C;&#x5237;&#x5B8C;&#xFF0C;&#x7EE7;&#x7EED;&#x5F80;&#x4E0A;&#x632A;&#x4E00;&#x683C;&#xFF0C;&#x5237;&#x7B2C;&#x4E8C;&#x6A2A;&#x884C;&#xFF0C;&#x76F4;&#x5230;&#x6CA1;&#x4EC0;&#x4E48;&#x5237;&#x5934;&#x4E86; &#x5C31;&#x662F;&#x9504;&#x5927;&#x5730;&#x5982;&#x679C;&#x9047;&#x5230;&#x7EB5;&#x5411;&#x969C;&#x788D;&#x7269;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x969C;&#x788D;&#x7269;&#x524D;&#x4E00;&#x683C;&#x84C4;&#x529B;&#xFF08;&#x6240;&#x4EE5;&#x63A8;&#x8350;&#x5347;&#x7EA7;&#x5230;&#x94C1;&#x9504;&#x5934;&#xFF0C;&#x84C4;&#x529B;&#x53EF;&#x4EE5;&#x9504;&#x5355;&#x65B9;&#x5411;5&#x683C;&#xFF09;&#xFF0C;&#x84C4;&#x529B;&#x4E4B;&#x540E;&#x4F1A;&#x9504;&#x5230;&#x969C;&#x788D;&#x7269;&#x540E;&#x9762;&#x7684;&#x5730;&#xFF0C;&#x8FD9;&#x6837;&#x540E;&#x9762;&#x7684;&#x5730;&#x4E00;&#x6837;&#x4F1A;&#x5237;&#x679C;&#x5B50;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x969C;&#x788D;&#x7269;&#x524D;&#x4E00;&#x683C;&#x84C4;&#x529B;&#xFF0C;&#x4FDD;&#x8BC1;&#x84C4;&#x529B;&#x80FD;&#x9504;&#x5230;&#x969C;&#x788D;&#x7269;&#x524D;&#x4E00;&#x683C; &#x9A6C;&#x4E5F;&#x662F;&#x969C;&#x788D;&#x7269;&#xFF0C;&#x9700;&#x8981;&#x628A;&#x9A6C;&#x505C;&#x5728;&#x5408;&#x9002;&#x7684;&#x4F4D;&#x7F6E; &#x53BB;&#x54EA;&#x91CC;&#x9504;&#x5927;&#x5730; &#x6E29;&#x6CC9;&#x3002;&#x6E29;&#x6CC9;&#x7A7A;&#x5730;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x706B;&#x8F66;&#x7AD9;&#x524D;&#x9762;&#x4E24;&#x5927;&#x5757;&#x7A7A;&#x5730;&#x53EF;&#x4EE5;&#x9504; &#x7F57;&#x5BBE;&#x5BB6;&#x4E0A;&#x65B9;&#x3002;&#x4E0A;&#x65B9;&#x6709;&#x4E00;&#x5757;&#x4E0D;&#x662F;&#x5F88;&#x5927;&#x7684;&#x7A7A;&#x5730;&#xFF0C;&#x6700;&#x540E;&#x5730;&#x9504;&#x4E86;&#x53EF;&#x4EE5;&#x6765;&#x8FD9;&#x91CC; &#x7F57;&#x5BBE;&#x5BB6;&#x95E8;&#x53E3;&#x3002;&#x7F57;&#x5BBE;&#x5BB6;&#x95E8;&#x53E3;&#x7684;&#x5730;&#x8FD8;&#x7B97;&#x6BD4;&#x8F83;&#x5BBD;&#x655E;&#xFF0C;&#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x8E72;&#x585E;&#x5DF4;&#x65AF;&#x8482;&#x5B89; &#x9732;&#x5929;&#x77FF;&#x573A;&#x3002;&#x628A;&#x9732;&#x5929;&#x77FF;&#x573A;&#x7684;&#x77FF;&#x90FD;&#x6E05;&#x5149;&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x975E;&#x5E38;&#x4E0D;&#x9519;&#x7684;&#x9504;&#x5927;&#x5730;&#x5730;&#x70B9;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x7EB5;&#x5411;&#x6709;&#x8DEF;&#x6321;&#x4F4F;&#x4E0D;&#x80FD;&#x9504;&#xFF0C;&#x5229;&#x7528;&#x4E0A;&#x9762;&#x8BF4;&#x7684;&#x6280;&#x5DE7;&#xFF0C;&#x5728;&#x8DEF;&#x7684;&#x524D;&#x4E00;&#x683C;&#x84C4;&#x529B;&#x9504;&#x5730;&#xFF0C;&#x662F;&#x4F1A;&#x8DF3;&#x8FC7;&#x8DEF;&#x9504;&#x5230;&#x540E;&#x9762;&#x7684;&#x683C;&#x5B50;&#x7684;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x683C;&#x5B50;&#x4E5F;&#x4F1A;&#x5237;&#x679C;&#x5B50; &#x6D77;&#x6EE9;&#x3002;&#x6D77;&#x6EE9;&#x4E5F;&#x662F;&#x6709;&#x5F88;&#x591A;&#x969C;&#x788D;&#x7269;&#x7684;&#xFF0C;&#x4E5F;&#x662F;&#x5229;&#x7528;&#x6280;&#x5DE7;&#x8D8A;&#x8FC7;&#x969C;&#x788D;&#x7269;&#x3002;&#x800C;&#x4E14;&#x6D77;&#x6EE9;&#x4E0D;&#x63A8;&#x8350;&#x53BB;&#x65AD;&#x6865;&#x4E00;&#x4FA7;&#xFF0C;&#x90A3;&#x91CC;&#x6CA1;&#x5565;&#x597D;&#x6316;&#x7684; &#x6C99;&#x6F20;&#x3002;&#x51AC;&#x5929;&#x6C99;&#x6F20;&#x4E5F;&#x662F;&#x4F1A;&#x5237;&#x65B0;&#x51AC;&#x6839;&#x679C;&#x548C;&#x51B0;&#x841D;&#x535C;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x6C99;&#x6F20;&#x7684;&#x5730;&#x57FA;&#x672C;&#x90FD;&#x80FD;&#x6316; &#x9E21;&#x5927;&#x5A76;&#x5BB6;&#x95E8;&#x53E3;&#x3002;&#x8FD9;&#x91CC;&#x5730;&#x4E5F;&#x4E0D;&#x592A;&#x591A;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x662F;&#x80FD;&#x51FA;&#x4E00;&#x4E9B;&#xFF0C;&#x5B9E;&#x5728;&#x628A;&#x4E0A;&#x9762;&#x7684;&#x5730;&#x90FD;&#x9504;&#x5B8C;&#x4E86;&#x7684;&#x53EF;&#x4EE5;&#x6765;&#x8FD9;&#x91CC;&#x9504;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5728;&#x5176;&#x4ED6;&#x5B63;&#x8282;&#x53EF;&#x4EE5;&#x5237;&#x9ECF;&#x571F;&#xFF0C;&#x9ECF;&#x571F;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x86AF;&#x8693;&#x4E5F;&#x6709;&#x51E0;&#x7387;&#x51FA;&#x7684; &#x6280;&#x80FD;&#x52A0;&#x70B9;&#x519C;&#x4E1A; &#x519C;&#x573A;&#x4E3B;10% -&gt; &#x519C;&#x4F5C;&#x7269;&#x4EF7;&#x683C;50%&#xFF08;&#x9152;&#x3001;&#x5976;&#x916A;&#x3001;&#x6CB9;&#x3001;&#x86CB;&#x9EC4;&#x9171;&#x3001;&#x814C;&#x83DC;&#x3001;&#x679C;&#x9171;&#x4EC0;&#x4E48;&#x7684;&#xFF09; &#x519C;&#x4F5C;&#x7269;&#x52A0;&#x901F;&#x53EF;&#x4EE5;&#x4E70;&#x6C99;&#x6F20;&#x7684;&#x52A0;&#x901F;&#x80A5; &#x6316;&#x77FF; &#x77FF;&#x77F3;+1 -&gt; &#x91D1;&#x952D;25% or &#x53CC;&#x500D;&#x7164; &#x8FD9;&#x4E2A;&#x6CA1;&#x5565;&#x7528; &#x77FF;&#x90FD;&#x4E0D;&#x591F;&#x7528;&#xFF0C;&#x7164;&#x672C;&#x6765;&#x5C31;&#x5C11; &#x5B9D;&#x77F3;&#x6709;&#x51E0;&#x7387;&#x53CC;&#x500D;&#xFF08;&#x5BF9;&#x6676;&#x77F3;&#x4E5F;&#x6709;&#x6548;&#xFF09; -&gt; &#x86CB;&#x86CB;&#x53CC;&#x500D; or &#x5B9D;&#x77F3;+30%&#xFF08;&#x65E0;&#x7528;&#xFF09; &#x4F10;&#x6728; &#x6728;&#x5934;+25%&#xFF08;&#x7F3A;&#x6728;&#x5934;&#xFF09; -&gt; &#x786C;&#x6728;&#x6389;&#x843D;&#x51E0;&#x7387;+ or &#x7CD6;&#x6D46;+25% &#x91C7;&#x96C6;&#x6709;&#x51E0;&#x7387;&#x52A0;&#x500D; -&gt; &#x663E;&#x793A;&#x9690;&#x85CF;&#x7269;&#x54C1; or &#x91C7;&#x96C6;&#x91D1;&#x661F; &#x9493;&#x9C7C; &#x9C7C;+25% -&gt; &#x9C7C;&#x2014;&#x2014;50% or&#x53CC;&#x500D;&#x51E0;&#x7387;&#x5B9D;&#x7BB1; &#x87F9;&#x7B3C;&#x5236;&#x4F5C;&#x6750;&#x6599;&#x51CF;&#x5C11; -&gt; &#x87F9;&#x7B3C;&#x6CA1;&#x6709;&#x5783;&#x573E; or &#x4E0D;&#x9700;&#x8981;&#x9C7C;&#x9975; &#x6218;&#x6597; &#x653B;&#x51FB;+10% +15hp -&gt; &#x653B;&#x51FB;+15% or hp+25 &#x66B4;&#x51FB;+50% -&gt; &#x6280;&#x80FD;&#x51B7;&#x5374;&#x51CF;&#x534A; or &#x66B4;&#x51FB;&#x81F4;&#x6B7B; &#x732E;&#x796D;&#x91C7;&#x96C6;&#x8015;&#x79CD; &#x6625;&#x5B63;&#x91C7;&#x96C6;&#xFF0C;&#x6625;&#x5B63;&#x4F5C;&#x7269;&#xFF0C;&#x6625;&#x5B63;5&#x4E2A;&#x91D1;&#x661F;&#x9632;&#x98CE;&#x8349; &#x6728;&#x6750;&#x77F3;&#x5934;&#x7684;&#x4E0D;&#x7740;&#x6025;&#xFF0C;&#x51AC;&#x5929;&#x4E4B;&#x524D;&#xFF08;&#x4F9D;&#x8D56;&#x51AC;&#x5929;&#x7684;&#x91C7;&#x96C6;&#xFF09; &#x6930;&#x5B50;&#x548C;&#x4ED9;&#x4EBA;&#x638C;&#x8981;&#x53BB;&#x6C99;&#x6F20;&#x6216;&#x8005;&#x732A;&#x8F66; &#x7EA2;&#x8272;&#x548C;&#x7D2B;&#x8272;&#x8611;&#x83C7;&#x4E0B;&#x77FF;&#x6709; Morel&#x6625;&#x5929;&#x7684;&#x795E;&#x79D8;&#x68EE;&#x6797;&#x6216;&#x8005;&#x8611;&#x83C7;&#x6D1E; &#x6D1E;&#x7A74;&#x80E1;&#x841D;&#x535C;&#x77FF;&#x6D1E;&#x4E00;&#x5927;&#x5806; &#x67AB;&#x7CD6;&#x6D46;&#x3001;&#x6A61;&#x6811;&#x8102;&#x3001;&#x677E;&#x6811;&#x6CB9;&#x9700;&#x8981;&#x6302;&#x6811; Pantry&#x732E;&#x796D;&#x7684;&#x5357;&#x74DC;&#x79CB;&#x5929;14&#x5929;&#xFF0C;&#x5956;&#x52B1;&#x6E29;&#x5BA4; &#x590F;&#x5929;5&#x91D1;&#x661F;&#x751C;&#x74DC;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x84DD;&#x8393;&#x548C;&#x5564;&#x9152;&#x82B1;&#xFF0C;&#x5176;&#x4ED6;&#x4E00;&#x4E24;&#x4E2A; &#x79CB;&#x5929;&#x8513;&#x8D8A;&#x8393;&#xFF0C;&#x6CA1;&#x5FC5;&#x8981;&#x91D1;&#x661F;&#x5357;&#x74DC;&#xFF0C;&#x987A;&#x4FBF;&#x4E24;&#x5B63;&#x7684;&#x7389;&#x7C73; &#x52A8;&#x7269; &#x5927;&#x9E21;&#x86CB;&#x9700;&#x8981;&#x4E24;&#x79CD;&#x989C;&#x8272;&#xFF0C;&#x4E8C;&#x7EA7;&#x7684;&#x9E2D;&#x5B50;&#xFF0C;&#x4E09;&#x7EA7;&#x7684;&#x5154;&#x5B50; &#x6700;&#x597D;&#x5148;&#x725B;&#x68DA;&#xFF0C;&#x4E24;&#x5934;&#x725B;&#x505A;&#x5976;&#x916A;&#x56DE;&#x8840;&#x548C;&#x4F53;&#x529B;&#xFF0C;&#x5976;&#x916A;&#x673A;&#x653E;&#x68DA;&#x91CC;&#x9762; &#x679C;&#x5B50; &#x8759;&#x8760;&#x6D1E; &#x77F3;&#x69B4; &#x6843;&#x5B50; &#x82F9;&#x679C; &#x6A58;&#x5B50; &#x8611;&#x83C7;&#x6D1E; &#x8DD1;&#x732A;&#x8F66; &#x6625;&#x5929;&#x7684;&#x65F6;&#x5019;&#x7559;&#x4E2A;&#x4E00;&#x4E07;&#x591A;&#xFF0C;&#x79CD;&#x4E0B;&#x6A58;&#x5B50;&#x6843;&#x5B50;&#x77F3;&#x69B4;&#x82F9;&#x679C;&#x6811;&#x3002;&#x540E;&#x9762;&#x597D;&#x611F;&#x5EA6;&#x732E;&#x796D;&#x91CC;&#x7267;&#x573A;&#x5927;&#x5988;&#x9700;&#x8981;&#x4E09;&#x4E2A;&#x82F9;&#x679C; &#x5E03;&#x7528;&#x6BDB;&#x548C;&#x7EC7;&#x5E03;&#x673A;&#x505A; &#x7F8A;&#x916A;&#x5976;&#x916A;&#x662F;&#x725B;&#x7F8A;&#x5976;&#x6254;&#x8FDB;&#x5976;&#x916A;&#x673A;&#xFF0C;&#x5927;&#x7F8A;&#x5976;&#x548C;&#x5927;&#x725B;&#x5976;&#x6254;&#x8FDB;&#x53BB;&#x662F;&#x91D1;&#x661F;&#x7684;&#x7F8A;&#x916A;&#x548C;&#x5976;&#x916A;&#xFF0C;&#x7528;&#x6765;&#x5403;&#x6700;&#x5212;&#x7B97; &#x8702;&#x871C;&#x9020;&#x4E00;&#x4E2A;&#x8702;&#x623F; &#x679C;&#x9171;&#x7684;&#x8BDD;&#xFF0C;&#x814C;&#x83DC;&#x6876;&#x91CC;&#x968F;&#x4FBF;&#x4E22;&#x4E00;&#x4E2A;&#x6C34;&#x679C;&#x8FDB;&#x53BB;&#x5C31;&#x53EF;&#x4EE5; &#x9493;&#x9C7C; &#x6CB3;&#x9C7C; &#x65E5;&#x9C7C; &#x6674;&#x5929;&#x5C0F;&#x6CB3;&#x6C9F; &#x732B;&#x9C7C; &#x96E8;&#x5929;&#x5C0F;&#x6CB3;&#x6C9F; &#x9CB1;&#x9C7C;&#xFF08;shad&#xFF09; &#x5C0F;&#x6CB3;&#x6C9F; &#x4E0D;&#x4E0B;&#x96E8;&#x4E00;&#x822C;&#x90FD;&#x5728;&#x77FF;&#x6E56;&#xFF0C;&#x627E;&#x65F6;&#x95F4;&#x53BB;&#x4E00;&#x6B21; &#x6E56;&#x9C7C; &#x9C9F;&#x9C7C;&#xFF08;Sturgeon&#xFF09;&#x590F;&#x5929;&#x77FF;&#x6E56; &#x5176;&#x4ED6;&#x90FD;&#x5728;&#x6625;&#x5929;&#x77FF;&#x6E56; &#x6D77;&#x9C7C; &#x590F;&#x5929;&#x6D77;&#x9C7C; &#x591C;&#x9C7C; &#x9CA4;&#x79D1;&#x9C7C;-&#x6DE1;&#x6C34;&#x9C7C;&#xFF08;Bream&#xFF09;&#x4E00;&#x822C;&#x4E0B;&#x96E8;&#x5C0F;&#x6CB3; &#x6D77;&#x86C7; &#x4E0B;&#x96E8;&#x5929;10&#x70B9;&#x4EE5;&#x540E;&#x53BB;&#x706B;&#x901F;&#x6D77;&#x8FB9;&#xFF0C;&#x6216;&#x8005;&#x79CB;&#x5929;&#x4E0B;&#x96E8;&#x665A;&#x4E0A;&#x53BB; &#x87F9;&#x7B3C; &#x5F04;&#x4E24;&#x4E2A;&#x87F9;&#x7B3C;&#xFF0C;&#x6BCF;&#x5929;&#x6536; &#x7070;&#x8272;&#x5C0F;&#x9F99;&#x867E;&#xFF0C;&#x6625;&#x5929;&#x6DE1;&#x6C34;&#xFF0C;&#x5BB6;&#x91CC;&#x5C0F;&#x6C60;&#x5858; &#x7A00;&#x6709;&#x9C7C; &#x6CB3;&#x8C5A;&#xFF0C;&#x590F;&#x5929;&#x6674;&#x5929;&#x4E2D;&#x5348;&#x5230;&#x4E0B;&#x5348;&#x90A3;&#x4E00;&#x4F1A;&#xFF0C;&#x5EFA;&#x8BAE;&#x732A;&#x8F66; &#x9B3C;&#x9C7C;&#xFF0C;&#x77FF;&#x4E95;20&#x5C42;&#xFF0C;60&#xFF0C;100&#x4E5F;&#x51FA; &#x6C99;&#x9C7C;&#xFF0C;&#x94B1;&#x7684;&#x732E;&#x796D;&#x4E4B;&#x540E;&#x53BB;&#x6C99;&#x6F20; &#x6728;&#x9C7C;&#xFF0C;&#x795E;&#x79D8;&#x68EE;&#x6797; &#x9C7C;&#x738B; &#x56DB;&#x5927;&#x9C7C;&#x738B;&#x6709;&#x4E94;&#x6761; &#x6625;&#x5B63;&#x9C7C;&#x738B;&#xFF0C;8&#x7EA7;&#x559D;&#x9C7C;&#x6C64;&#x9876;&#x5230;9&#x7EA7;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x9493;&#x5230;&#x9C7C;&#x738B;&#x7684;&#xFF0C;&#x9677;&#x9631;&#x9C7C;&#x94A9; &#x6625;&#x5B63;&#x9C7C;&#x738B;&#x662F;&#x65E9;6&#x70B9;&#x5230;&#x665A;10&#x70B9;&#x624D;&#x6709; &#x590F;&#x5B63;&#x9C7C;&#x738B;&#x5728;&#x6D77;&#x6EE9;300&#x6728;&#x4FEE;&#x597D;&#x7684;&#x6865;&#x8FC7;&#x53BB;&#x90A3;&#x8FB9;&#xFF0C;&#x4E0B;&#x9762;&#x6709;&#x4E2A;&#x5EF6;&#x4F38;&#x51FA;&#x6765;&#x7684;&#x7532;&#x677F;&#xFF0C;&#x5728;&#x7532;&#x677F;&#x5C3D;&#x5934;&#x7684;&#x4F4D;&#x7F6E;&#x7529;&#x6746;&#x5373;&#x53EF; &#x79CB;&#x5B63;&#x9C7C;&#x738B;&#xFF0C;&#x4F4D;&#x7F6E;&#x5728;joja&#x8D85;&#x5E02;&#x5F80;&#x5317;&#x8D70;&#x5230;&#x5934;&#xFF0C;&#x6CB3;&#x6D41;&#x7684;&#x6700;&#x4E0A;&#x6E38;&#x90E8;&#x5206;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x7AD9;&#x7684;&#x5730;&#x65B9;&#x6709;&#x4E00;&#x5757;&#x77F3;&#x5934;&#xFF0C;&#x5982;&#x679C;&#x9493;&#x9C7C;&#x7B49;&#x7EA7;&#x9AD8;&#x4E86;&#xFF0C;&#x7AD9;&#x5728;&#x77F3;&#x5934;&#x540E;&#x9762;&#xFF08;&#x6211;&#x6240;&#x5728;&#x4F4D;&#x7F6E;&#xFF09;&#x7529;&#x6EE1;&#x6746;&#x5373;&#x53EF;&#x3002;&#x7AD9;&#x5728;&#x77F3;&#x5934;&#x524D;&#x9762;&#x7684;&#x8BDD;&#x5C31;&#x8981;&#x7529;&#x6746;&#x529B;&#x5EA6;&#x5C0F;&#x4E00;&#x4E9B; &#x51AC;&#x5B63;&#x9C7C;&#x738B;&#xFF0C;&#x5177;&#x4F53;&#x4F4D;&#x7F6E;&#x5728;&#x5357;&#x90E8;&#x68EE;&#x6797;&#x5E3D;&#x5B50;&#x5E97;&#x4E0A;&#x65B9;&#xFF0C;&#x6709;&#x4E00;&#x5757;&#x5C0F;&#x5C9B;&#xFF0C;&#x5C0F;&#x5C9B;&#x7684;&#x6700;&#x5357;&#x7AEF;&#x7A81;&#x51FA;&#x90E8;&#x5206;&#x5C31;&#x662F;&#x4E86; &#x4E0B;&#x6C34;&#x9053;&#x9C7C;&#x738B;&#xFF0C;&#x8FD9;&#x4E2A;&#x9C7C;&#x738B;&#x5176;&#x5B9E;&#x5E94;&#x8BE5;&#x662F;&#x5728;&#x4E0B;&#x6C34;&#x9053;&#x91CC;&#x54EA;&#x513F;&#x90FD;&#x80FD;&#x9493;&#x5230;&#x3002;&#x8001;&#x83CA;&#x5728;&#x5C0F;&#x9ED1;&#x524D;&#x9762;&#x7684;&#x4F4D;&#x7F6E;&#x4E5F;&#x9493;&#x5230;&#x4E86;&#xFF0C;&#x4E0D;&#x8FC7;&#x6211;&#x7AD9;&#x7684;&#x5730;&#x65B9;&#x660E;&#x663E;&#x5C31;&#x662F;&#x4F5C;&#x8005;&#x7ED9;&#x7684;&#x4E00;&#x4E2A;&#x9493;&#x9C7C;&#x53F0;&#x561B; &#x6316;&#x77FF; &#x524D;&#x671F;&#x4E0B;80&#x5C42;&#x8DB3;&#x591F; &#x4F9D;&#x8D56;&#x524D;&#x671F;&#x9493;&#x9C7C;&#x7684;&#x6B66;&#x5668; &#x6625;&#x5929;&#x3001;&#x79CB;&#x5929;&#x4E2D;&#x65EC;&#x6709;&#x4E24;&#x4E09;&#x5929;&#x704C;&#x6728;&#x4E1B;&#x4F1A;&#x5237;&#x65B0;&#x6811;&#x8393;&#xFF08;&#x79CB;&#x5929;&#x662F;&#x9ED1;&#x8393;&#xFF09;&#xFF0C;&#x6EE1;&#x4E16;&#x754C;&#x627E;&#x5427; &#x6280;&#x5DE7;&#xFF1A;&#x4E0B;&#x77FF;&#x9047;&#x5230;&#x67D0;&#x4E00;&#x5C42;&#x5237;&#x65B0;&#x5927;&#x91CF;&#x8611;&#x83C7;&#x53CD;&#x590D;&#x5237;&#xFF0C;&#x5237;&#x5B8C;&#x8FD9;&#x4E00;&#x5C42;&#xFF0C;&#x79BB;&#x5F00;&#x77FF;&#x6D1E;&#xFF0C;&#x7136;&#x540E;&#x5750;&#x7535;&#x68AF;&#x5230;&#x79BB;&#x4ED6;&#x6700;&#x8FD1;&#x7684;&#x4E00;&#x5C42;&#xFF0C;&#x7136;&#x540E;&#x8FBE;&#x5230;&#x90A3;&#x4E00;&#x5C42;&#xFF0C;&#x91C7;&#x8611;&#x83C7;&#xFF0C;&#x7136;&#x540E;&#x79BB;&#x5F00;&#x3002;&#x800C;&#x4E14;&#x7D2B;&#x8272;&#x8611;&#x83C7;&#x5927;&#x8865;&#xFF0C;&#x7559;&#x4E00;&#x4E2A;&#x91D1;&#x661F;&#x7D2B;&#x8272;&#x5927;&#x8611;&#x83C7;&#xFF0C;&#x559D;&#x6C64;&#x4E22;&#x8FDB;&#x53BB;&#xFF0C;&#x5168;&#x4F53;&#x6751;&#x6C11;&#x6DA8;&#x597D;&#x611F; &#x6676;&#x77FF;&#x4E3B;&#x8981;&#x662F;&#x706B;&#x6C34;&#x6676; &#x5192;&#x9669;&#x7B80;&#x5355; &#x9493;&#x9C7C;&#x6EE1;&#x7EA7;&#x53C8;&#x4E0D;&#x4E0B;&#x96E8;&#x7684;&#x5929;&#xFF0C;&#x6D47;&#x5B8C;&#x5730;&#x5C31;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4E0B;&#x77FF;&#x4E86;&#xFF0C;&#x4E0B;&#x77FF;&#x6709;&#x795E;&#x5668;&#x548C;&#x6811;&#x8393;&#x5728;&#x624B;&#xFF0C;&#x56DB;&#x4E94;&#x5929;&#x4E0B;&#x5230;80&#x5C42;&#x4E0D;&#x662F;&#x95EE;&#x9898;&#xFF0C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x5728;&#x6625;&#x5929;&#x89E3;&#x9501;&#x77FF;&#x8F66; &#x53CB;&#x60C5; &#x53A8;&#x5E08; &#x67AB;&#x7CD6;&#x6D46;&#x6302;&#x6811; &#x8568;&#x83DC;&#xFF0C;&#x53EA;&#x6709;&#x590F;&#x5929;&#x795E;&#x79D8;&#x68EE;&#x6797;&#x91CC; &#x677E;&#x9732;&#xFF0C;&#x732A;&#x8F66;&#x6216;&#x8005;&#x517B;&#x732A; &#x7F42;&#x7C9F;&#xFF0C;&#x590F;&#x5929;&#x4F5C;&#x7269; &#x5BFF;&#x53F8;&#xFF0C;&#x4E8C;&#x672C;&#x53A8;&#x623F;&#x4E4B;&#x540E;&#x7528;&#x7C73;&#x996D;&#xFF08;&#x76AE;&#x57C3;&#x5C14;&#x5546;&#x5E97;&#xFF09;+&#x6C34;&#x8349;+&#x4EFB;&#x610F;&#x9C7C; &#x714E;&#x86CB;&#x561B;&#xFF0C;&#x4E00;&#x4E2A;&#x9E21;&#x86CB;&#xFF0C;&#x53BB;&#x53A8;&#x623F;&#x641E; &#x6751;&#x53E3;&#x5317;&#x90E8;&#x7684;&#x6D41;&#x6D6A;&#x6C49;&#xFF01;&#x5237;&#x5230;3&#x5FC3;&#x597D;&#x50CF;&#x5C31;&#x9001;&#x7ED9;&#x4F60;&#x751F;&#x9C7C;&#x7247;&#x7684;&#x83DC;&#x8C31;&#xFF0C;&#x5B8C;&#x6210;&#x4E86;&#x91D1;&#x94B1;&#x732E;&#x796D;&#xFF0C;&#x80FD;&#x53BB;&#x6C99;&#x6F20;&#xFF0C;&#x90A3;&#x5C31;&#x628A;&#x6361;&#x5230;&#x7684;&#x6930;&#x5B50;&#x548C;&#x4ED9;&#x4EBA;&#x638C;&#x90FD;&#x7ED9;&#x4ED6;&#xFF0C;&#x6216;&#x8005;&#x6811;&#x8393;&#x548C;&#x97ED;&#x8471; &#x827E;&#x7C73;&#x4E3D; &#x7D2B;&#x7518;&#x84DD; &#x6D77;&#x80C6;&#xFF0C;&#x6C99;&#x6EE9;&#x6361; &#x5411;&#x65E5;&#x8475;&#xFF0C;&#x79CB;&#x5929;&#x79CD; &#x9E2D;&#x6BDB; &#x9ED1;&#x4EBA; &#x5927;&#x8611;&#x83C7;&#x4E0B;&#x77FF; &#x8717;&#x725B;&#x58F3;&#x51AC;&#x5929;&#x6D77;&#x6EE9; &#x5C0F;&#x9C7C; &#x51B0;&#x6676; &#x5927;&#x5988; &#x590F;&#x5929;&#x5341;&#x4E2A;&#x5C0F;&#x9EA6; &#x4E70;10&#x4E2A;&#x5E72;&#x8349; &#x82F9;&#x679C;&#xFF0C;&#x6625;&#x5929;&#x79CD; &#x5DEB;&#x5E08; &#x677E;&#x6811;&#x6CB9;&#x6302;&#x6811; &#x9152;&#xFF0C;&#x968F;&#x4FBF;&#x4E00;&#x4E2A;&#x6C34;&#x679C;&#x6254;&#x9152;&#x6876; &#x5154;&#x811A;&#xFF0C;&#x5EFA;&#x8BAE;&#x732A;&#x8F66; &#x77F3;&#x69B4;&#xFF0C;&#x679C;&#x6811;&#x6216;&#x8005;&#x8759;&#x8760;&#x6D1E; &#x91D1;&#x94B1;&#x7B80;&#x5355;&#x7ED9;&#x590D;&#x5236;&#x673A;&#xFF0C;&#x590D;&#x5236;&#x94BB;&#x77F3;&#x7ED9;&#x6240;&#x6709;&#x4EBA;&#x9664;&#x4E86;&#x7F57;&#x5BBE; &#x7EA2;&#x5FC3;&#x4E8B;&#x4EF6;&#x5728;&#x300A;&#x661F;&#x9732;&#x8C37;&#x7269;&#x8BED;&#x300B;&#x4E2D;&#xFF0C;&#x73A9;&#x5BB6;&#x662F;&#x53EF;&#x4EE5;&#x63D0;&#x5347;&#x4E0E;NPC&#x7684;&#x597D;&#x611F;&#x5EA6;&#x7684;&#xFF0C;NPC&#x597D;&#x611F;&#x5EA6;&#x63D0;&#x5347;&#x5230;&#x4E00;&#x5B9A;&#x7684;&#x7A0B;&#x5EA6;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;&#x7EA2;&#x5FC3;&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x5BF9;&#x73A9;&#x5BB6;&#x4E0E;NP&#x5173;&#x7CFB;&#x7684;&#x540E;&#x7EED;&#x53D1;&#x5C55;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF0C;&#x4E0B;&#x9762;&#x5C31;&#x4E3A;&#x73A9;&#x5BB6;&#x5E26;&#x6765;&#x661F;&#x9732;&#x8C37;&#x7269;&#x8BED;&#x597D;&#x611F;&#x5EA6;&#x63D0;&#x5347;&#x653B;&#x7565;&#xFF0C;&#x4EE5;&#x53CA;&#x5168;&#x4EBA;&#x7269;&#x7EA2;&#x5FC3;&#x4E8B;&#x4EF6;&#x3002; ALEX&#x827E;&#x5229;&#x514B;&#x65AF; &#x5BB6;&#x5C5E;:&#x5976;&#x5976; evelyn &#x7237;&#x7237; george &#x6700;&#x597D;&#x7684;&#x793C;&#x7269;:&#x65E9;&#x9910;&#x7CFB;&#x5217; &#x9C91;&#x9C7C;&#x665A;&#x996D; 123452&#x5FC3;&#xFF1A;&#x4E2D;&#x5348;&#x4E4B;&#x524D;&#x53BB;&#x6D77;&#x6EE9;&#xFF0C;&#x5C0F;&#x54E5;&#x4F1A;&#x5728;&#x90A3;&#x91CC;&#x73A9;&#x2642;&#x7403;&#x3002;&#x4ED6;&#x5411;&#x4F60;&#x6253;&#x62DB;&#x547C;&#xFF0C;&#x5E76;&#x548C;&#x4F60;&#x6559;&#x4ED6;&#x7684;&#x68A6;&#x60F3;blabla&#x3002;&#x4ED6;&#x95EE;&#x7403;&#x5458;&#x4ED6;&#x4EEC;&#x8BA4;&#x4E3A;&#x4ED6;&#x7684;&#x673A;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x3002;&#x7136;&#x540E;&#x4F1A;&#x4EE5;&#x548C;&#x4ED6;&#x73A9;&#x7403;&#x6CA1;&#x63A5;&#x4F4F;&#x7403;&#x544A;&#x7EC8;4&#x5FC3;&#xFF1A;2&#x70B9;&#x4E4B;&#x540E;&#xFF0C;&#x53BB;&#x9547;&#x4E2D;&#x5FC3;&#xFF0C;&#x5C0F;&#x54E5;&#x4F1A;&#x548C;&#x4ED6;&#x7684;&#x72D7;&#x72D7;&#x5728;&#x8C08;&#x5FC3;&#xFF0C;&#x4ED6;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x81EA;&#x5DF1;&#x548C;&#x72D7;&#x72D7;&#x7684;&#x4E00;&#x5207;5&#x5FC3;&#xFF1A;&#x8DDF;&#x7740;&#x4ED6;&#x53BB;&#x4ED6;&#x623F;&#x95F4; &#x4ED6;&#x4F1A;&#x8BF4; &#x4ED6;&#x662F;&#x4E2A;&#x5E9F;&#x6750; &#x7136;&#x540E;&#x6709;3&#x4E2A;&#x9009;&#x9879;8&#x5FC3;&#xFF1A;&#x53EF;&#x4EE5;&#x9001;&#x82B1;&#x653B;&#x7565;&#x54AF;10&#x5FC3;&#xFF1A;&#x5C0F;&#x54E5;&#x5C06;&#x4F1A;&#x9080;&#x7EA6;&#x4F60;&#x4E00;&#x8D77;&#x53BB;&#x9152;&#x9986;&#x5403;&#x5B8C;&#x996D;&#xFF0C;&#x6D6A;&#x6F2B;&#x7684;&#x70DB;&#x5149;&#x665A;&#x9910;&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x4ED6;&#x6700;&#x559C;&#x6B22;&#x7684;&#x5C31;&#x662F;&#x9C91;&#x9C7C;&#x665A;&#x5BB4;&#x4E4B;&#x540E;&#x9009;&#x62E9; &#x6211;&#x548C;&#x4F60;&#x611F;&#x540C;&#x8EAB;&#x53D7; ELLIOOT&#x827E;&#x5229;&#x5965;&#x7279; &#x4F18;&#x96C5; &#x5584;&#x89E3;&#x4EBA;&#x610F; &#x4F5C;&#x5BB6; &#x94A2;&#x7434;&#x5BB6; &#x670B;&#x53CB;&#xFF1A;willy&#x9C7C;&#x5546; &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x87F9;&#x9EC4;&#x86CB;&#x7CD5; &#x9E2D;&#x6BDB; &#x9F99;&#x867E; 123452&#x5FC3;&#xFF1A;&#x53BB;&#x4ED6;&#x7684;&#x623F;&#x95F4;&#x7136;&#x540E;&#x5C31;&#x662F;BLABLA&#xFF0C;&#x95EE;&#x4F60;&#x559C;&#x6B22;&#x4EC0;&#x4E48;&#x6D41;&#x6D3E;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x7136;&#x540E;&#x8BE2;&#x95EE;&#x73AB;&#x7470;4&#x5FC3;&#xFF1A;&#x53BB;&#x9152;&#x5427;&#xFF0C;&#x827E;&#x5229;&#x5965;&#x7279;&#x4F1A;&#x9080;&#x8BF7;&#x4F60;&#x4E00;&#x8D77;&#x559D;&#x9152;&#xFF0C;&#x4ED6;&#x4F1A;&#x95EE;&#x4F60;&#x6211;&#x4EEC;&#x4E3A;&#x4EC0;&#x4E48;&#x800C;&#x5E86;&#x795D;&#xFF0C;&#x9009;&#x53CB;&#x8C0A;firengship&#xFF0C;&#x7136;&#x540E;&#x4E2D;&#x9189;&#x9152; debuff &#x539F;&#x672C;&#x901F;&#x5EA6;&#x5C31;&#x6162;&#xFF0C;&#x7136;&#x540E;&#x66F4;&#x6162;&#x4E86;6&#x5FC3;&#xFF1A;10&#x70B9;&#x53BB;&#x627E;&#x4ED6;&#xFF0C;&#x4ED6;&#x5728;&#x5F39;&#x94A2;&#x7434;&#xFF0C;&#x865A;&#x4F2A;&#x7684;&#x5938;&#x5938;&#x4ED6;&#x4E4B;&#x540E;&#xFF0C;&#x4ED6;&#x5F00;&#x59CB;&#x54ED;&#x6CE3;&#xFF0C;&#x4E3A;&#x81EA;&#x5DF1;&#x8D8A;&#x6765;&#x8D8A;&#x8D2B;&#x7A77;&#x800C;&#x4F24;&#x60B2;(&#x6211;&#x517B;&#x4F60; &#x554A;!!)&#x7136;&#x540E;&#x4ED6;&#x8BF4;&#x4ED6;&#x60F3;&#x548C;&#x4F60;&#x4E00;&#x6837;&#x6210;&#x4E3A;&#x5FEB;&#x4E50;&#x7684;&#x519C;&#x592B; &#x9009;&#x62E9;&#x6765;&#x548C;&#x6211;&#x4E00;&#x8D77;&#x5427;&#xFF0C;&#x6211;&#x4F1A;&#x5E2E;&#x52A9;&#x4F60;&#x7684; &#x589E;&#x52A0;&#x597D;&#x611F;8&#x5FC3;&#xFF1A;&#x8FD8;&#x662F;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x662F;&#x6211;&#x8BB0;&#x9519;&#x4E86;&#x987A;&#x5E8F;&#xFF0C;&#x6536;&#x5230;&#x4FE1; &#x53BB;&#x56FE;&#x4E66;&#x9986;10&#x5FC3;&#xFF1A;&#x548C;&#x4F60;&#x60F3;&#x5728;&#x7801;&#x5934;&#x89C1;&#x9762; &#x7136;&#x540E;&#x518D;&#x9633;&#x5149;&#x4E0B;&#x62E5;&#x543B; SEBASTIAN&#x585E;&#x5DF4;&#x65AF;&#x5766; &#x6700;&#x795E;&#x79D8;&#x6700;&#x96BE;&#x4F3A;&#x5019;&#x7684;&#x7535;&#x8111;&#x5DE5;&#x4F5C;&#x8005;&#xFF0C;&#x542C;&#x8BF4;&#x559C;&#x6B22;&#x7684;&#x4EBA;&#x8FD8;&#x633A;&#x591A; &#x5BB6;&#x5EAD;&#xFF1A;&#x5988;&#x5988; robin&#x5C31;&#x662F;&#x90A3;&#x4E2A;&#x5EFA;&#x623F;&#x5B50;&#x7684; &#x59D0;&#x59D0; mare &#x7EE7;&#x7236; demetrius&#x5E2E;&#x4F60;&#x5F00;&#x57A6;&#x6D1E;&#x7A74;&#x7684;&#x690D;&#x7269;&#x5B66;&#x5BB6; &#x662F;&#x6700;&#x51B7;&#x51B0;&#x51B0;&#x4E5F;&#x6700;&#x9AD8;&#x51B7;&#x7684;&#x2014;&#x2013;&#x53D7;!! &#x670B;&#x53CB;&#xFF1A;&#x9EC4;&#x6BDB;sam&#x53EF;&#x653B;&#x7565;&#x7537;NPC &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x751F;&#x9C7C;&#x7247; &#x5357;&#x74DC;&#x6C64; &#x706B;&#x6676;&#x77F3; &#x51B0;&#x51BB;&#x4E4B;&#x6CEA; 1234562&#x5FC3;&#xFF1A;&#x76F4;&#x63A5;&#x65E9;&#x4E0A;&#x53BB;&#x4ED6;&#x5BB6; &#x4E0B;&#x9762;&#x662F;&#x4ED6;&#x7684;&#x623F;&#x95F4; &#x8FD9;&#x91CC;&#x4ED6;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x4ED6;&#x6574;&#x65E5;&#x73A9;&#x7535;&#x8111;&#x662F;&#x56E0;&#x4E3A;&#x5DE5;&#x4F5C;&#x6240;&#x9700; &#x800C;&#x4E14;&#x4ED6;&#x6709;&#x70B9;&#x4E0D;&#x559C;&#x6B22;&#x4EBA;&#x7FA4;4&#x5FC3;&#xFF1A;&#x8FD8;&#x662F;&#x53BB;&#x4ED6;&#x5BB6; SB&#x4F1A;&#x5728;&#x5BB6;&#x91CC;&#x7684;&#x8F66;&#x5E93;&#x6539;&#x88C5;&#x4ED6;&#x7684;&#x8F66; &#x4ED6;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;(&#x70AB;&#x8000;)&#x8FD9;&#x662F;&#x6211;&#x7684;&#x6469;&#x6258; &#x6709;&#x65F6;&#x4F1A;&#x79BB;&#x5F00;&#x661F;&#x9732;&#x8C37; &#x5E76;&#x5E0C;&#x671B;&#x6709;&#x673A;&#x4F1A;&#x4F60;&#x53EF;&#x4EE5;&#x548C;&#x4ED6;&#x4E00;&#x8D77; &#x4F60;&#x8981;&#x9009;&#x540C;&#x610F; &#x6216;&#x8005;&#x62D2;&#x7EDD;6&#x5FC3;&#xFF1A;&#x8FD8;&#x662F;&#x53BB;&#x4ED6;&#x7684;&#x623F;&#x95F4;&#x3002;&#x4ED6;&#x4F1A;&#x62DB;&#x547C;&#x4F60;&#x8FC7;&#x6765;&#x548C;SAM&#x4E00;&#x8D77;&#x73A9;&#x5471;&#x5471;&#x5495;&#x5495;&#x53FD;&#x53FD;&#x724C;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x662F;&#x4E00;&#x76F4;&#x8D70;&#xFF0C;&#x6211;&#x53CD;&#x6B63;&#x662F;&#x8D70;&#x5230;&#x697C;&#x9876;&#x89C1;&#x5230;&#x5927;&#x6CD5;&#x5E08; &#x9009;&#x62E9;&#x6551;&#x5F97;SB &#x4E4B;&#x540E;&#x4ED6;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x4F60;ABCD8&#x5FC3;&#xFF1A;&#x5728;&#x96E8;&#x5929;&#x4E0B;&#x5348;12&#x70B9;&#x4E4B;&#x540E;&#x53BB;&#x6D77;&#x6EE9;&#xFF0C;&#x4ED6;&#x4F1A;&#x5403;&#x60CA;&#x4F60;&#x7684;&#x5230;&#x6765; &#x5E76;&#x4E14;&#x60CA;&#x8BB6;&#x4F60;&#x6CA1;&#x6709;&#x6253;&#x4F1E;&#x7136;&#x540E;&#x4ED6;&#x5C31;&#x544A;&#x8BC9;&#x4F60;&#x4ED6;&#x6709;&#x4EBA;&#x7FA4;&#x6050;&#x60E7;&#x75C7; &#x4F46;&#x662F;&#x548C;&#x6211;&#x4EEC;&#x5728;&#x4E00;&#x8D77;&#x7684;&#x65F6;&#x5019; &#x4ED6;&#x5374;&#x611F;&#x89C9;&#x81EA;&#x5728; &#x4E4B;&#x540E;&#x4ED6;&#x4F1A;&#x6253;&#x5F00;&#x4F1E; &#x548C;&#x4F60;&#x4E00;&#x8D77;&#x5728;&#x4F1E;&#x4E0B;&#x907F;&#x96E8;10&#x5FC3;&#xFF1A;&#x665A;&#x4E0A;8&#x70B9;&#x53BB;&#x627E;&#x4ED6;&#xFF0C;&#x4ED6;&#x4F1A;&#x5F00;&#x8F66;&#x5E26;&#x4F60;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x548C;&#x4F60;&#x5728;&#x5C71;&#x4E0A;&#x6402;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x544A;&#x8BC9;&#x4F60;&#x7231;&#x4F60;&#x4E00;&#x4EBA; HARVEY &#x54C8;&#x7EF4; &#x5728;&#x533B;&#x9662;&#x5DE5;&#x4F5C;&#x7684;&#x533B;&#x751F; &#x5B8C;&#x7F8E;&#x4E3B;&#x4E49;&#x8005; &#x5BB6;&#x5EAD;&#x548C;&#x670B;&#x53CB;&#x4E0D;&#x660E; &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x7279;&#x6280;&#x98DF;&#x54C1; &#x9F99;&#x867E;&#x6C64; &#x9152; &#x5496;&#x5561;&#x548C;&#x6CE1;&#x83DC; 12345672&#x5FC3;&#xFF1A;&#x8FDB;&#x5165;&#x4ED6;&#x7684;&#x623F;&#x95F4; &#x4F60;&#x4F1A;&#x770B;&#x5230;&#x4ED6;&#x518D;&#x7ED9;&#x4E54;&#x6CBB;&#x505A;&#x79C1;&#x4EBA;&#x68C0;&#x67E5;&#x54C8;&#x7EF4;&#x7ED9;&#x4ED6;&#x4E00;&#x4E9B;&#x5065;&#x5EB7;&#x5EFA;&#x8BAE; &#x8001;&#x5934;&#x4E0D;&#x540C;&#x610F; &#x8BF4;&#x81EA;&#x5DF1;&#x660E;&#x767D;&#x81EA;&#x5DF1;&#x4EC0;&#x4E48;&#x9B3C; &#x7136;&#x540E;&#x5C31;&#x662F;BLABLA &#x4E4B;&#x540E;&#x4F1A;&#x8BA9;&#x4F60;&#x9009;&#x62E9;&#x662F;&#x5426;&#x613F;&#x610F;&#x5E2E;&#x52A9;&#x4ED6;&#x8BF4;&#x670D;&#x8001;&#x5934; &#x5E2E;&#x4E86;&#x7684;&#x8BDD;&#x8001;&#x5934;&#x5C31;&#x8F6F;&#x4E86; &#x7136;&#x540E;&#x54C8;&#x7EF4;&#x4F1A;&#x8BF4;&#xFF0C;&#x54E6;&#x670B;&#x53CB;&#x4F60;&#x8FD9;&#x4EBA;&#x548B;&#x90A3;&#x4E48;&#x68D2;&#x634F;4&#x5FC3;&#xFF1A;&#x661F;&#x671F;&#x5929;&#x53BB;&#x4ED6;&#x7684;&#x8BCA;&#x6240; &#x7136;&#x540E;&#x544A;&#x8BC9;&#x4F60;&#x533B;&#x9662;&#x7684;&#x79CD;&#x79CD; &#x4E4B;&#x540E;&#x6709;&#x4E00;&#x4E2A;&#x9009;&#x62E9; &#x662F;&#x4E0D;&#x662F;&#x611F;&#x5230;&#x7D27;&#x5F20; &#x4ED6;&#x5C31;&#x4F1A;&#x6765;&#x5E2E;&#x52A9;&#x4F60;&#x653E;&#x677E; &#x7136;&#x540E;&#x544A;&#x8BC9;&#x4F60;&#x4F60;&#x7684;&#x8EAB;&#x4F53;&#x7684;&#x5065;&#x5EB7;&#x7684; &#x4E0D;&#x8981;&#x8BA9;&#x4F60;&#x592A;&#x52B3;&#x7D2F;&#x5C31;&#x597D;6&#x5FC3;&#xFF1A;&#x79CD;&#x5B50;&#x70B9; &#x53BB;&#x53C2;&#x52A0;&#x5987;&#x4EBA;&#x5065;&#x8EAB;&#x5C0F;&#x722C;&#x68AF; &#x7136;&#x540E;&#x600E;&#x4E48;&#x600E;&#x4E48;&#x6837;&#x7684; &#x8FD9;&#x65F6;&#x5019;&#x54C8;&#x7EF4;&#x5C31;&#x4F1A;&#x8FDB;&#x6765; &#x7136;&#x540E;&#x4ED6;&#x4F1A;&#x8138;&#x7EA2;&#x559D;&#x5C34;&#x5C2C; &#x539F;&#x6765;&#x4ED6;&#x4E5F;&#x505A;&#x5065;&#x7F8E;&#x64CD;!!!&#x4E4B;&#x540E;&#x9009;&#x62E9;&#x4E0D;&#x4F1A;&#x544A;&#x8BC9;&#x522B;&#x4EBA; &#x4ED6;&#x57FA;&#x672C;&#x4E0A;&#x88AB;&#x653B;&#x7565;&#x4E86;8&#x5FC3;&#xFF1A;&#x53BB;&#x8BCA;&#x6240;&#x54C8;&#x7EF4;&#x7684;&#x623F;&#x95F4; &#x7136;&#x540E;&#x4ED6;&#x5728;&#x8C03;&#x8BD5;&#x8BBE;&#x5907;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x4E00;&#x626D;&#x5934; &#x4ED6;&#x4F1A;&#x88AB;&#x4F60;&#x5413;&#x7740; &#x7136;&#x540E;&#x5C31;&#x544A;&#x8BC9;&#x4F60;&#xFF0C;&#x4ED6;&#x5E74;&#x8F7B;&#x7684;&#x65F6;&#x5019;&#x662F;&#x4E00;&#x4E2A;&#x98DE;&#x884C;&#x5458;&#x3002;&#x53EF;&#x60DC;&#x81EA;&#x5DF1;&#x6709;&#x6050;&#x9AD8;&#x75C7;&#xFF0C;&#x7136;&#x540E;&#x9F13;&#x52B1;&#x6211;&#x4EEC;&#x8BF4; &#x4E0D;&#x8981;&#x56E0;&#x4E3A;&#x5B9E;&#x73B0;&#x4E0D;&#x4E86;&#x81EA;&#x5DF1;&#x7684;&#x68A6;&#x60F3;&#x800C;&#x6CAE;&#x4E27;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x751F;&#x6D3B;&#xFF0C;&#x7136;&#x540E;&#x4F60;&#x4FE9;&#x4E00;&#x8D77;&#x53BB;&#x770B;&#x98DE;&#x2642;&#x673A;10&#x5FC3;&#xFF1A;&#x5230;&#x8FBE;10&#x5FC3;&#x7684;&#x65F6;&#x5019; &#x548C;&#x5065;&#x8EAB;&#x5C0F;&#x54E5;&#x4E00;&#x6837; &#x4F60;&#x4F1A;&#x6536;&#x5230;&#x4E00;&#x5C01;&#x6765;&#x81EA;&#x4ED6;&#x7684;&#x4FE1; &#x5E0C;&#x671B;&#x4F60;&#x53EF;&#x4EE5;&#x53BB;&#x6E29;&#x6CC9;&#x90A3;&#x91CC;&#x89C1;&#x9762; &#x7136;&#x540E;&#x4F60;&#x53BB;&#x4E86; &#x4ED6;&#x4F1A;&#x7279;&#x522B;&#x9AD8;&#x5174; &#x4E4B;&#x540E;&#x4ED6;&#x4F1A;&#x8BF4; &#x55EF;&#xFF0C;&#x4ED6;&#x4EEC;&#x5E94;&#x8BE5;&#x5FEB;&#x5230;&#x4E86; &#x4E4B;&#x540E;&#x5C31;&#x6709;&#x4E00;&#x4E2A;&#x70ED;&#x6C14;&#x7403;&#x964D;&#x843D;&#x4E0B;&#x6765;&#x54C8;&#x7EF4;&#x8BF4;&#x81EA;&#x5DF1;&#x662F;&#x5728;&#x62A5;&#x7EB8;&#x4E0A;&#x770B;&#x5230;&#x7684; &#x5E0C;&#x671B;&#x548C;&#x4F60;&#x4E00;&#x8D77;&#x6765;&#x505A;&#x8FD9;&#x4E2A;&#x6709;&#x610F;&#x4E49;&#x4E14;&#x5B8C;&#x7F8E;&#x7684;&#x4E8B;&#x60C5; &#x7136;&#x540E;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x9009;&#x62E9;&#x8FDB;&#x5165; &#x4E5F;&#x53EF;&#x4EE5;&#x95EE;&#x4ED6;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x6837;&#x505A;&#x4ED6;&#x4F1A;&#x5BB3;&#x7F9E;&#x7684;&#x8BF4; &#x6050;&#x9AD8;&#x662F;&#x4ED6;&#x7684;&#x5185;&#x5FC3;&#x6050;&#x60E7; &#x53EF;&#x662F;&#x56E0;&#x4E3A;&#x4F60;&#x7684;&#x52C7;&#x6C14;&#x548C;&#x4F60;&#x8FD9;&#x4E2A;&#x4EBA; &#x7ED9;&#x4E86;&#x6211;&#x52C7;&#x6C14;&#x3002;&#x4E4B;&#x540E;&#x767B;&#x4E0A;&#x70ED;&#x6C14;&#x7403; &#x6C14;&#x7403;&#x8D85;&#x5FEB;&#x901F;&#x5347;&#x9AD8; &#x4ED6;&#x5413;&#x5F97;&#x8DF3;&#x4E86;&#x8D77;&#x6765; &#x7136;&#x540E;&#x4ED6;&#x544A;&#x8BC9;&#x4F60; &#x4ED6;&#x6562;&#x505A;&#x7740;&#x4E00;&#x5207;&#x7684;&#x52C7;&#x6C14;&#xFF0C;&#x90FD;&#x662F;&#x6E90;&#x81EA;&#x4E0E;&#x4F60; &#x7136;&#x540E;&#x8138;&#x7EA2; &#x4EB2;&#x543B; SAM&#x5C71;&#x59C6; &#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53EF;&#x653B;&#x7565;&#x7684;&#x7537;NPC &#x5409;&#x4ED6;&#x9AD8;&#x624B; &#x559C;&#x6B22;&#x97F3;&#x4E50; &#x5BB6;&#x5EAD;&#xFF1A;&#x5988;&#x5988;jobi &#x8FA3;&#x5988;&#x5065;&#x8EAB;&#x4F1A;&#x7684;&#x6210;&#x5458; &#x7238;&#x7238;kent &#x4E00;&#x4E2A;&#x521A;&#x4ECE;&#x6218;&#x4E89;&#x4E2D;&#x56DE;&#x6765;&#x7684;&#x7537;&#x4EBA;(&#x548C;&#x4ED6;&#x4EB2;&#x5BC6;&#x6EE1;&#x4E86;&#x3002;&#x3002;&#x7F9E;&#x7F9E;&#x8138;) &#x5F1F;&#x5F1F;vicent &#x662F;penny&#x8001;&#x5E08;&#x7684;&#x5B66;&#x751F; &#x670B;&#x53CB;&#xFF1A;sebastian&#x585E;&#x5DF4;&#x65AF;&#x5766;&#x5C0F;&#x53D7; &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x4ED9;&#x4EBA;&#x638C; &#x6BD4;&#x8428;&#x997C; 1234562&#x5FC3;&#xFF1A;&#x53BB;&#x5C71;&#x59C6;&#x5BB6; &#x53D1;&#x73B0;&#x4ED6;&#x548C;SB&#x5C0F;&#x53D7;&#x5728;&#x5C4B;&#x91CC;&#x5546;&#x8BAE;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x4E50;&#x961F; &#x5E0C;&#x671B;&#x4F60;&#x53EF;&#x4EE5;&#x52A0;&#x5165; &#x4F46;&#x4E0D;&#x77E5;&#x9053;&#x8D70;&#x4EC0;&#x4E48;&#x8DEF;&#x7EBF;&#xFF0C;&#x7136;&#x540E;&#x4E0D;&#x7BA1;&#x4F60;&#x9009;&#x4EC0;&#x4E48; &#x4ED6;&#x90FD;&#x4F1A;&#x8BF4;&#x8FD9;&#x662F;&#x6211;&#x4E00;&#x76F4;&#x8003;&#x8651;&#x7684;&#x98CE;&#x683C; &#x7136;&#x540E;&#x4ED6;&#x4F1A;&#x95EE;SB &#x7136;&#x540E;&#x90FD;&#x540C;&#x610F;&#x4F60;&#x9009;&#x7684;&#x90A3;&#x4E2A;&#x66F2;&#x98CE; 4&#x79CD;1&#x6D41;&#x884C;2&#x6447;&#x6EDA;3&#x821E;&#x66F2;4&#x4E61;&#x95F4;4&#x5FC3;&#xFF1A;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x5927;&#x6674;&#x5929;&#xFF0C;&#x5C31;&#x662F;&#x53F3;&#x4E0A;&#x89D2;&#x51FA;&#x73B0;&#x592A;&#x9633;&#x7684;&#x65F6;&#x5019; &#x53BB;&#x6C99;&#x6EE9;&#x627E;&#x4ED6;&#x3002; &#x4ED6;&#x4F1A;&#x548C;&#x4ED6;&#x7684;&#x5F1F;&#x5F1F;&#x6587;&#x68EE;&#x7279;&#x5728;&#x6C99;&#x6EE9;&#x4E0A;&#x73A9;&#x800D;&#x3002;&#x5C71;&#x59C6;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x4EE5;&#x524D;&#x4ED6;&#x4EEC;&#x7684;&#x7238;&#x7238;&#x4F1A;&#x7ECF;&#x5E38;&#x5E26;&#x4ED6;&#x4EEC;&#x6765;&#x6D77;&#x8FB9;&#x73A9;&#x800D; &#x8FD9;&#x65F6;&#x5019;&#x6587;&#x68EE;&#x7279;&#x4F1A;&#x95EE;&quot;&#x54E5;&#x54E5;&#x54E5;&#x54E5;&#xFF0C;&#x4F60;&#x4F1A;&#x5531;&#x5C0F;&#x661F;&#x661F;&#x561B;?&#x201C;(&#x6253;&#x6B7B;)&#x4ED6;&#x4F1A;&#x95EE;&#x7238;&#x6BD4;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x56DE;&#x5BB6;&#xFF0C;&#x7136;&#x540E;&#x5C71;&#x59C6;&#x5C31;&#x544A;&#x8BC9;&#x4ED6;&#x5F88;&#x5FEB; &#x4E4B;&#x540E;&#x5C31;&#x5F97;&#x77E5;&#x4ED6;&#x4EEC;&#x7684;&#x7238;&#x7238;&#x662F;&#x4E2A;&#x519B;&#x2642;&#x4EBA; &#x6240;&#x4EE5;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x3002;&#x3002;&#x3002;&#x3002;&#x7136;&#x540E;&#x5C71;&#x59C6;&#x7684;&#x5F1F;&#x5F1F;&#x542C;&#x5230;&#x4E86; &#x53C8;&#x95EE; &#x54E5;&#x54E5; &#x6B7B;&#x4EA1;&#x662F;&#x4EC0;&#x4E48;&#x5440; &#x8FD9;&#x65F6;&#x5019; &#x5C71;&#x59C6;&#x5411;&#x4F60;&#x6295;&#x6765;&#x6C42;&#x52A9;&#x7684;&#x773C;&#x5149; &#x201D;&#x8981;&#x5BF9;&#x5B69;&#x5B50;&#x5766;&#x8BDA;&#x201C; &#x5C71;&#x59C6;&#x5C31;&#x544A;&#x8BC9;&#x4ED6;&#x5F1F;&#x5F1F;BLABLA &#x4E4B;&#x540E;&#x548C;&#x4F60;&#x8BA8;&#x8BBA;&#x4E50;&#x961F;&#x7684;&#x4E8B;&#x4E4B;&#x540E;&#x53BB;&#x4ED6;&#x7684;&#x5BB6; &#x4ED6;&#x4F1A;&#x5728;&#x53A8;&#x623F;&#x91CC;&#x5411;&#x4F60;&#x95EE;&#x597D; &#x7136;&#x540E;&#x7ED9;&#x4F60;&#x98DF;&#x7269; &#x4F46;&#x4ED6;&#x4E00;&#x4E0D;&#x5C0F;&#x5FC3;&#x6253;&#x788E;&#x4E86;&#x9E21;&#x86CB; &#x4ED6;&#x7684;&#x5988;&#x54AA;&#x5C31;&#x6765;&#x5230;&#x53A8;&#x623F;&#x8BE2;&#x95EE;&#x60C5;&#x51B5; &#x8FD9;&#x65F6;&#x5019;&#x4F60;&#x9009;&#x62E9;&#x201D;&#x5C71;&#x6728;&#x518D;&#x9012;&#x7ED9;&#x6211;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x5C0F;&#x5FC3;&#x201C;or&#x201D;&#x4ED6;&#x5C31;&#x559C;&#x6B22;&#x8FD9;&#x6837;&#x6253;&#x788E;&#x4E1C;&#x897F;&#x201C;&#x9009;&#x4EC0;&#x4E48;&#x81EA;&#x5DF1;&#x770B;&#x7740;&#x529E;&#x5427;6&#x5FC3;&#xFF1A;&#x53BB;&#x4ED6;&#x5BB6;&#x627E;&#x4ED6; &#x7ED3;&#x679C;&#x53D1;&#x73B0;&#x4ED6;&#x5728;&#x73A9;&#x6ED1;&#x677F; &#x4E0D;&#x5C0F;&#x5FC3;&#x5F04;&#x574F;&#x4E86;&#x9694;&#x58C1;&#x827E;&#x7C73;&#x8389;(&#x5403;&#x62AB;&#x8428;&#x5417;?)&#x548C;&#x5979;&#x7684;&#x59B9;&#x59B9;&#x6D77;&#x7433;&#x7684;&#x82B1;&#x7BB1;&#xFF0C;&#x79CD;&#x5B50;&#x70B9;&#x7684;&#x8001;&#x677F;&#x5218;&#x6613;&#x65AF;&#x4F1A;&#x6293;&#x4F4F;&#x5E76;&#x8BAD;&#x65A5;&#x4ED6; &#x8FD9;&#x65F6;&#x5C71;&#x6728;&#x4F1A;&#x5411;&#x4F60;&#x8BE2;&#x95EE; &#x201C;&#x5218;&#x6613;&#x65AF;&#x4F60;&#x662F;&#x5BF9;&#x7684;&#x201D;&#x9009;&#x4E86;&#x8FD9;&#x4E2A;&#xFF0C;&#x5C71;&#x59C6;&#x4F1A;&#x54ED; &#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x662F;&#x5E2E;&#x4ED6;&#x8FA9;&#x62A4;8&#x5FC3;&#xFF1A;&#x53BB;&#x4ED6;&#x5BB6; &#x4ED6;&#x4F1A;&#x8BF7;&#x6C42;&#x548C;&#x4F60;&#x4E00;&#x8D77;&#x53BB;&#x770B;&#x4E50;&#x961F;&#x6F14;&#x51FA; &#x4E0B;&#x5348;&#x56DB;&#x70B9;&#x548C;&#x5C71;&#x59C6; &#x585E;&#x73ED;&#x5728;&#x516C;&#x4EA4;&#x8F66;&#x54EA;&#x91CC;&#x56DE;&#x5408;&#x7136;&#x540E;&#x589E;&#x52A0;&#x597D;&#x611F;10&#x5FC3;&#xFF1A;&#x6536;&#x5230;&#x4FE1;&#x4EF6;&#xFF0C;&#x8981;&#x4F60;&#x5929;&#x9ED1;&#x53BB;&#x627E;&#x4ED6;&#xFF0C;&#x7136;&#x540E;8&#x70B9;&#x53BB;&#x57CE;&#x91CC; &#x4ED6;&#x4F1A;&#x5728;&#x623F;&#x5B50;&#x5916;&#x7B49;&#x4F60;&#xFF0C;&#x5E76;&#x627F;&#x8BA4;&#x81EA;&#x5DF1;&#x505A;&#x8FD9;&#x4E00;&#x5207;&#x90FD;&#x662F;&#x4E3A;&#x4F60;&#xFF0C;&#x7136;&#x540E;&#x4ED6;&#x8BF4;&#x5F88;&#x51B7;&#xFF0C;&#x6211;&#x4EEC;&#x53BB;&#x5C4B;&#x91CC;&#x5427; &#x4E4B;&#x540E;&#x4F60;&#x4EEC;&#x5077;&#x5077;&#x6E9C;&#x8FDB;&#x4E86;&#x5C4B;&#x5B50;&#xFF0C;&#x5374;&#x88AB;&#x5988;&#x54AA;&#x53D1;&#x73B0;&#xFF0C;&#x4ED6;&#x85CF;&#x5728;&#x5E8A;&#x4E0A;&#x5E76;&#x95EE;&#x4ED6;&#x600E;&#x4E48;&#x4E86;&#x5FC3;&#x809D;&#x4F60;&#x600E;&#x4E48;&#x8138;&#x8FD9;&#x4E48;&#x7EA2; &#x8FD8;&#x51FA;&#x4E86;&#x6C57;&#xFF0C;&#x4F60;&#x9009;&#x62E9;1&#x7AD9;&#x8D77;&#x6765;(&#x88AB;&#x5988;&#x5988;&#x6293;&#x5230; &#x7136;&#x540E;&#x56DE;&#x5BB6;2&#x8EBA;&#x5728;&#x5E8A;&#x4E0A;-------&#x7136;&#x540E;&#x4ED6;&#x722C;&#x4E0A;&#x5E8A;&#xFF0C;&#x544A;&#x8BC9;&#x4F60;&#x6211;&#x4EEC;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x6211;&#x60F3;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x5F88;&#x7279;&#x522B;&#x4E86;~ ABIGAIL&#x963F;&#x6BD4;&#x76D6;&#x5C14; &#x7D2B;&#x53D1;&#x5BCC;&#x5BB6;&#x5973; &#x602A;&#x5496; &#x5BB6;&#x5EAD;&#xFF1A;&#x7238;&#x7238;pierre &#x79CD;&#x5B50;&#x5E97;&#x8001;&#x677F; &#x5988;&#x5988;caroline&#x8FA3;&#x5988;&#x5065;&#x8EAB;&#x4F1A;&#x7684;&#x4F1A;&#x957F;&#x5927;&#x4EBA; &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x84DD;&#x8393;&#x9762;&#x5305; &#x5DE7;&#x514B;&#x529B;&#x86CB;&#x7CD5; &#x7D2B;&#x6C34;&#x6676; &#x5357;&#x74DC; 123452&#x5FC3;&#xFF1A;&#x53BB;&#x4ED6;&#x7238;&#x6BD4;&#x7684;&#x79CD;&#x5B50;&#x5E97; &#x7136;&#x540E;&#x770B;&#x5230;&#x4ED6;&#x56E0;&#x4E3A;&#x901A;&#x5173;&#x4E0D;&#x4E86;&#x4E00;&#x4E2A;&#x6E38;&#x620F;&#x518D;&#x53D1;&#x813E;&#x6C14; &#x4F60;&#x5C31;&#x5E2E;&#x4ED6;&#x73A9; &#x73A9;&#x5230;&#x7B2C;&#x4E8C;&#x5173;&#x4ED6;&#x5C31;&#x4F1A;&#x5E2E;&#x4F60;&#x4E86;&#x4E4B;&#x540E;&#x4FBF;&#x7070;&#x5E38;&#x611F;&#x8C22;&#x4F60;4&#x5FC3;&#xFF1A;&#x5728;&#x96E8;&#x5929;&#x53BB;&#x90A3;&#x4E2A;&#x77FF;&#x6D1E;&#x8FB9;&#x4E0A;&#x7684;&#x6E56; &#x963F;&#x6BD4;&#x76D6;&#x5C14;&#x5728;&#x90A3;&#x91CC;&#x5439;&#x957F;&#x7B1B; &#x7136;&#x540E;&#x4F1A;&#x7591;&#x60D1;&#x4F60;&#x5E72;&#x561B;&#x5728;&#x96E8;&#x91CC;&#x7AD9;&#x7740; &#x4FBF;&#x5566;&#x4F60;&#x53BB;&#x6811;&#x4E0B;&#x8EB2;&#x96E8;&#x3002;&#x7136;&#x540E;&#x4F60;&#x5FFD;&#x7136;&#x5F97;&#x5230;&#x6B4C;&#x5531;&#x5929;&#x8D4B;&#xFF0C;&#x548C;&#x4ED6;&#x5728;&#x6E56;&#x8FB9;&#x5408;&#x5531;6&#x5FC3;&#xFF1A;&#x591C;&#x5E55;&#x8D70;&#x5230;&#x5C0F;&#x9547; &#x90A3;&#x4E2A;&#x653E;&#x4E86;&#x597D;&#x591A;&#x5893;&#x7891;&#x7684;&#x5730;&#x65B9;&#x5C31;&#x662F;&#x5893;&#x5730; &#x7136;&#x540E;&#x5979;&#x5728;&#x7EC3;&#x5251;&#x3002;&#x5F53;&#x4ED6;&#x521A;&#x60F3;&#x9080;&#x8BF7;&#x4F60;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5CB3;&#x7236;&#x51FA;&#x73B0;&#x6253;&#x65AD;&#x5979;&#x7684;&#x8BDD;&#xFF0C;&#x8BF4;&#x5988;&#x54AA;&#x60F3;&#x8BA9;&#x5979;&#x56DE;&#x5BB6;&#x5E2E;&#x5FD9;&#x505A;&#x996D;!&#x963F;&#x6BD4;&#x76D6;&#x5C14;&#x5C31;&#x4F1A;&#x751F;&#x6C14;&#x7684;&#x8BA9;&#x5979;&#x7238;&#x6BD4;&#x8D70;&#x5F00;&#xFF0C;&#x5E76;&#x4E14;&#x62C9;&#x7740;&#x4F60;&#x6492;&#x817F;&#x5C31;&#x8DD1; &#x4E4B;&#x540E;&#x4F60;&#x4EEC;&#x4F1A;&#x8EB2;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x8349;&#x5806;&#x91CC;&#x8C08;&#x8BDD;8&#x5FC3;&#xFF1A;&#x4F60;&#x4F1A;&#x53D7;&#x5230;&#x6765;&#x81EA;&#x963F;&#x6BD4;&#x7684;&#x4FE1; &#x4FE1;&#x4E0A;&#x8BF4;&#x201D;&#x5E0C;&#x671B;&#x4F60;&#x80FD;&#x6765;&#x6211;&#x7684;&#x623F;&#x95F4;&#xFF0C;&#x6211;&#x60F3;&#x7ED9;&#x4F60;&#x770B;&#x4E00;&#x4E9B;&#x5F88;&#x9177;&#x7684;&#x4E1C;&#x897F;&#x201C;&#x7136;&#x540E;&#x53BB;&#x4ED6;&#x5BB6;&#xFF0C;&#x4ED6;&#x4E0D;&#x5728;&#x628A;&#x4F60;&#x5F53;&#x6210;&#x670B;&#x53CB;&#x90A3;&#x6837;&#x5927;&#x54A7;&#x54A7;&#xFF0C;&#x5F00;&#x59CB;&#x8138;&#x7EA2;&#xFF0C;&#x6DD1;&#x5973;&#x4E86; &#x7136;&#x540E;&#x5BB3;&#x7F9E;&#x7684;&#x628A;&#x4F60;&#x4ECE;&#x623F;&#x95F4;&#x8D76;&#x8D70;&#xFF0C;&#x9694;&#x5929;&#x4ED6;&#x4F1A;&#x5728;&#x4F60;&#x7684;&#x5BB6;&#x95E8;&#x53E3;&#x5411;&#x4F60;&#x9053;&#x6B49;10&#x5FC3;&#xFF1A;&#x4E00;&#x65E6;&#x5230;&#x4E86;10&#x5FC3;&#xFF0C;&#x5E76;&#x4E14;&#x9001;&#x4E86;&#x5979;&#x5979;&#x7238;&#x5356;&#x7684;&#x82B1;&#xFF0C;&#x5728;&#x4E0B;&#x5348;&#x7684;&#x65F6;&#x5019;&#x53BB;&#x77FF;&#x6D1E;&#xFF0C;&#x6709;&#x51E0;&#x7387;&#x89E6;&#x53D1;&#x548C;&#x963F;&#x6BD4;&#x7684;&#x5267;&#x60C5; &#x4F60;&#x4F1A;&#x770B;&#x5230;&#x5979;&#x6B63;&#x8981;&#x4E0B;&#x77FF;&#x6D1E;&#xFF0C;&#x4E00;&#x53EA;&#x8759;&#x8760;&#x98DE;&#x4E86;&#x8FC7;&#x6765; &#x5979;&#x8F7B;&#x8511;&#x7684;&#x7B11;&#x7740;&#x60F3;&#x8981;&#x6D88;&#x706D;&#x5B83;&#xFF0C;&#x5FFD;&#x7136;&#x4E0A;&#x767E;&#x53EA;&#x8759;&#x8760;&#x51FA;&#x73B0;(&#x5BC6;&#x6050;&#x9884;&#x8B66;)&#x5979;&#x5413;&#x5F97;&#x8DD1;&#x56DE;&#x5BB6;&#x8EB2;&#x5728;&#x89D2;&#x843D;&#x91CC;&#x54ED;&#x6CE3;&#xFF0C;&#x4F60;&#x53BB;&#x5B89;&#x6170;&#x4ED6;&#xFF0C;&#x5979;&#x4E5F;&#x655E;&#x5F00;&#x5FC3;&#x6249;&#x3002; Leah&#x8389;&#x4E9A; &#x751F;&#x65E5;&#xFF1A;&#x51AC;&#x5929;23&#x65E5; &#x4F4F;&#x5740;&#xFF1A;&#x9547;&#x5B50;&#x897F;&#x8FB9;&#x7684;&#x4E00;&#x95F4;&#x5C0F;&#x5C4B;&#xFF0C;&#x5728;&#x5C0F;&#x8DEF;&#x7684;&#x5357;&#x8FB9; &#x670B;&#x53CB;&#xFF1A;Elliott&#x827E;&#x5229;&#x5965;&#x7279; Leah&#x59B9;&#x5B50;&#x72EC;&#x81EA;&#x751F;&#x6D3B;&#x5728;&#x57CE;&#x5916;&#x7684;&#x5C0F;&#x5C4B;&#xFF0C;&#x559C;&#x6B22;&#x5728;&#x5BA4;&#x5916;&#x4EAB;&#x53D7;&#x81EA;&#x7136;&#x3002;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x6709;&#x624D;&#x534E;&#x7684;&#x827A;&#x672F;&#x5BB6;&#xFF0C;&#x5728;&#x516C;&#x4F17;&#x9762;&#x524D;&#x5979;&#x603B;&#x662F;&#x592A;&#x7D27;&#x5F20;&#x3002;&#x4F60;&#x80FD;&#x7ED9;&#x5979;&#x632F;&#x594B;&#x4FE1;&#x5FC3;&#x5417;&#xFF1F; &#x6700;&#x7231; &#x4E03;&#x5F69;&#x788E;&#x7247;Prismatic Shard&#xFF08;&#x91C7;&#x77FF;&#xFF09; &#x5154;&#x5B50;&#x7684;&#x811A;Rabbit&#x2019;s Foot &#x6C99;&#x62C9;Salad&#xFF08;&#x9152;&#x5427;&#x552E;&#x6216;&#x97ED;&#x8471;Leek X1&#x3001;&#x84B2;&#x516C;&#x82F1;Dandelion X1&#x3001;&#x918B;Vinegar X1&#x70F9;&#x996A;&#xFF09; &#x852C;&#x83DC;&#x7096;&#x8089;Vegetable Stew&#xFF08;&#x756A;&#x8304;Tomato X1&#x3001;&#x751C;&#x83DC; Beet X1&#x70F9;&#x996A;&#xFF09; &#x7F42;&#x7C9F;&#x7C7D;&#x677E;&#x997C;Poppyseed Muffin&#xFF08;&#x7F42;&#x7C9F;Poppy X1&#x3001;&#x5C0F;&#x9EA6;&#x7C89;Wheat Flour X1&#x3001;&#x7CD6;Sugar X1&#x70F9;&#x996A;&#xFF09; &#x5C0F;&#x7092;&#xFF08;&#x6D1E;&#x7A74;&#x80E1;&#x841D;&#x535C;Cave Carrot X1&#x3001;&#x666E;&#x901A;&#x8611;&#x83C7;Common Mushroom X1&#x3001;&#x7FBD;&#x8863;&#x7518;&#x84DD;Kale X1&#x3001;&#x6CB9;Oil X1&#x3001;&#x9152;Wine &#x559C;&#x7231; &#x6240;&#x6709;&#x5B9D;&#x77F3;&#x3001;&#x6599;&#x7406;&#xFF08;&#x9664;&#x4E86;&#x714E;&#x86CB;&#x548C;&#x9762;&#x5305;&#xFF09; &#x5DE5;&#x4E1A;&#x54C1;&#x3001;&#x852C;&#x83DC;&#x3001;&#x82B1;&#x3001;&#x5496;&#x5561;Coffee&#xFF08;&#x9152;&#x5427;&#x5F97;&#xFF09; &#x82F9;&#x679C;Apple&#x674F;&#x5B50;Apricot&#x6A58;&#x5B50;Orange&#x6843;&#x5B50;Peach&#x77F3;&#x69B4;Pomegranate&#x6A31;&#x6843;Cherry&#xFF08;&#x679C;&#x6811;&#x5F97;&#xFF09; &#x67AB;&#x7CD6;&#x6D46;Maple Syrup&#x3001;&#x86CB;&#x3001;&#x5976;&#x3001;&#x6C34;&#x679C;&#x3001;&#x519C;&#x4F5C;&#x7269;&#x4E0D;&#x559C;&#x6240;&#x6709;&#x9C7C;&#x3001;&#x624B;&#x5DE5;&#x827A;&#x54C1;&#x3001;&#x77FF;&#x4EA7;&#x3001;&#x5EFA;&#x7B51;&#x6750;&#x6599;&#x3001;&#x80A5;&#x6599; &#x88C5;&#x5907;&#x3001;&#x5BB6;&#x5177;&#x3001;&#x6253;&#x602A;&#x6218;&#x5229;&#x54C1;&#x3001;&#x79CD;&#x5B50;&#x3001;&#x6D1E;&#x7A74;&#x80E1;&#x841D;&#x535C;Cave Carrot&#x3001;&#x6D6E;&#x6728;Driftwood&#x3001;&#x5C0F;&#x9EA6;&#x7C89;Wheat Flour &#x6CB9;Oil&#x3001;&#x918B;Vinegar&#x3001;&#x7C73;Rice&#x3001;&#x91CE;&#x751F;&#x7684;&#x5C0F;&#x5403;Field Snack&#x3001;&#x6A61;&#x80F6;&#x6811;&#x8102;Oak Resin &#x677E;&#x7126;&#x6CB9;Pine Tar&#x3001;&#x7C98;&#x571F;Clay&#x3001;&#x77F3;&#x5934;Stone&#x3001;&#x6D77;&#x85FB;Seaweed &#x538C;&#x6076; &#x6240;&#x6709;&#x5783;&#x573E;&#x9C7C;&#x9975;Bait&#x3001;&#x91CE;&#x8349;Weeds&#x3001;&#x6811;&#x6DB2;Sap&#x3001;&#x5E72;&#x8349;Hay&#x3001;&#x6D77;&#x80C6;Sea Urchin&#x7EA2;&#x8611;&#x83C7;Red Mushroom&#x3001;&#x751F;&#x9508;&#x7684;&#x52FA;&#x5B50;Rusty Spoon&#x3001;&#x751F;&#x9508;&#x7684;&#x9A6C;&#x523A;Rusty Spur&#x751F;&#x9508;&#x7684;&#x9F7F;&#x8F6E;Rusty Cog&#x3001;&#x7259;&#x7B7E;Chewing Stick&#x3001;&#x9CA4;&#x9C7C;Carp&#x3001;&#x7EFF;&#x85FB;Green Algae&#x767D;&#x85FB;White Algae&#x3001;&#x8717;&#x725B;Snail&#x3001;&#x7F42;&#x7C9F;Poppy&#x3001;&#x94DC;&#x77FF;Copper Ore&#x3001;&#x94C1;&#x77FF;Iron Ore&#x866B;&#x8089;Bug Meat&#x3001;&#x7C98;&#x6DB2;Slime&#x3001;&#x8759;&#x8760;&#x7FC5;&#x8180;Bat Wing&#x3001;&#x5927;&#x849C;&#x6CB9;Oil of Garlic&#x3001;&#x9762;&#x5305;Bread&#x3001;&#x62AB;&#x8428;Pizza &#x68EE;&#x5973; &#x827A;&#x672F;&#x5BB6; &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x8349;&#x8393; &#x6C99;&#x62C9;&#x7C7B; &#x9152;&#x7C7B; &#x7F42;&#x7C9F;&#x98DF;&#x7269; &#x7096;&#x83DC; &#x65E5;&#x7A0B;&#xFF08;&#x5173;&#x7CFB;&#x8FBE;&#x5230;2&#x5FC3;&#x624D;&#x80FD;&#x8FDB;&#x5165;Leah&#x5BB6;&#x3002;&#xFF09; &#x661F;&#x671F;&#x4E00; 11:00AM &#x2013; &#x79BB;&#x5BB6;&#x53BB;&#x6742;&#x8D27;&#x5E97; 05:00PM &#x2013; &#x79BB;&#x5F00;&#x6742;&#x8D27;&#x5E97; 06:30PM &#x2013; &#x5230;&#x5BB6; &#x661F;&#x671F;&#x4E8C; 06:00AM - 12:00PM &#x2013; &#x5BB6;&#x91CC;&#xFF0C;12&#x70B9;&#x5F00;&#x59CB;&#x8D70;&#x53BB;&#x897F;&#x8FB9;&#x7684;&#x6C60;&#x5858; 01:00PM - 02:00AM &#x2013; &#x6C60;&#x5858;&#x90A3;&#x513F;&#x5F85;&#x7740; &#x661F;&#x671F;&#x4E09; 06:00AM - 12:00PM &#x2013;&#x5BB6;&#x91CC;&#xFF0C;12&#x70B9;&#x5F00;&#x59CB;&#x8D70;&#x53BB;&#x897F;&#x8FB9;&#x7684;&#x6C60;&#x5858; 02:00PM - ??:???? &#x2013;&#x9493;&#x9C7C;&#x7801;&#x5934;&#x5317;&#x8FB9;&#x7684;&#x6D77;&#x6EE9;&#x4E0A; &#x661F;&#x671F;&#x56DB;/&#x4E94; 04:00PM &#x2013; &#x79BB;&#x5BB6;&#x53BB;&#x9152;&#x5427; 11:40PM &#x2013; &#x79BB;&#x5F00;&#x9152;&#x5427; 01:00AM &#x2013; &#x5230;&#x5BB6;&#x2013;&#x6216;&#x8005;&#x2013;12:00pm &#x2013; &#x79BB;&#x5BB6;&#x53BB;&#x6D77;&#x6EE9; &#x661F;&#x671F;&#x516D; 06:00AM - 04:00PM &#x2013; &#x5728;&#x5BB6; 04:00PM &#x2013; &#x79BB;&#x5BB6;&#x53BB;&#x9152;&#x5427; 05:30PM &#x2013; ?? - &#x9152;&#x5427;&#x91CC;&#x5F85;&#x7740;&#x661F;&#x671F;&#x5929; 06:00AM - 01:00PM &#x2013; &#x5728;&#x5BB6; 3:00PM (?) - 12:00AM (?) &#x2013; &#x5C4B;&#x5B50;&#x897F;&#x8FB9;&#x7684;&#x6C60;&#x5858; 1234562&#x5FC3;&#xFF1A;&#x4E3D;&#x4E9A;&#x6210;&#x4E3A;&#x666E;&#x901A;&#x670B;&#x53CB;&#x540E;&#xFF0C;&#x53BB;&#x5979;&#x7684;&#x5BB6;&#xFF0C;&#x5979;&#x7684;&#x5BB6;&#x5728;&#x7267;&#x573A;&#x5546;&#x5E97;&#x7684;&#x4E0B;&#x9762;&#xFF0C;&#x4F60;&#x8FDB;&#x53BB;&#x540E;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x5979;&#x6B63;&#x5728;&#x8010;&#x5FC3;&#x7684;&#x505A;&#x7740;&#x4E00;&#x4E2A;&#x96D5;&#x5851;&#xFF0C;&#x7136;&#x540E;&#x4F60;&#x53EF;&#x4EE5;&#x5938;&#x5979;&#x6216;&#x8005;&#x6279;&#x8BC4;&#x5979;&#x7684;&#x96D5;&#x523B;&#x5982;&#x4F55;&#x5982;&#x4F55;&#x3002;&#x5979;&#x5411;&#x4F60;&#x8BC9;&#x8BF4;&#x4E86;&#x7528;&#x8FD9;&#x4E9B;&#x827A;&#x672F;&#x54C1;&#x8D5A;&#x94B1;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x7EF4;&#x6301;&#x751F;&#x8BA1;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x5411;&#x4ED6;&#x63D0;&#x51FA;&#x4F60;&#x7684;&#x5EFA;&#x8BAE;&#xFF0C;&#x7136;&#x5E76;&#x5375;&#x3002;4&#x5FC3;&#xFF1A;&#x63D0;&#x524D;&#x6807;&#x6CE8;!!&#x6982;&#x7387;!&#x514D;&#x5F97;&#x6709;&#x4EBA;&#x770B;&#x4E0D;&#x5230;)&#x53BB;&#x5979;&#x5BB6;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x770B;&#x5230;&#x5979;&#x548C;&#x81EA;&#x5DF1;&#x524D;&#x7537;&#x53CB;&#x5728;&#x5435;&#x67B6;&#xFF0C;&#x5979;&#x7684;&#x7537;&#x670B;&#x53CB;&#x60F3;&#x8BA9;&#x4ED6;&#x56DE;&#x5230;zz&#x57CE;&#xFF0C;&#x53EF;&#x5979;&#x4E0D;&#x60F3;&#xFF0C;&#x7136;&#x540E;&#x4ED6;&#x5F00;&#x59CB;&#x544A;&#x8BC9;&#x4F60;&#x5979;&#x7684;&#x6545;&#x4E8B;BLABLABLA6&#x5FC3;&#xFF1A;&#x6210;&#x4E3A;&#x597D;&#x670B;&#x53CB;&#x540E; &#x5728;&#x519C;&#x573A;&#x4E2D;&#xFF0C;&#x4E3D;&#x4E9A;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x6709;&#x4E00;&#x4E2A;&#x793C;&#x7269;&#x8981;&#x9001;&#x7ED9;&#x4F60;&#xFF0C;&#x7136;&#x540E;&#x6536;&#x5230;&#x4E86;&#x5979;&#x9001;&#x4F60;&#x7684;&#x96D5;&#x523B;&#x7269;&#x7136;&#x540E;&#x5728;11&#x70B9;&#x53BB;&#x548C;&#x6751;&#x957F;&#x6709;&#x4FE9;&#x817F;&#x7684;&#x739B;&#x745E;&#x4E9A;&#x90A3;&#x91CC; &#x4F60;&#x4F1A;&#x770B;&#x5230;&#x4E3D;&#x4E9A;&#x60F3;&#x6458;&#x6811;&#x4E0A;&#x7684;&#x7F8E;&#x5473;&#x6C34;&#x679C; &#x53EF;&#x662F;&#x4ED6;&#x591F;&#x4E0D;&#x5230; &#x8FD9;&#x65F6;&#x5019;&#x4F60;&#x5C31;&#x62B1;&#x7740;&#x5979;&#x8BA9;&#x5979;&#x5F04;&#x5230;&#x4E86;&#x679C;&#x5B50;&#xFF0C;&#x4E4B;&#x540E;&#x5979;&#x4F1A;&#x611F;&#x8C22;&#x4F60;&#x5E76;&#x52A0;&#x597D;&#x611F;8&#x5FC3;&#xFF1A;&#x4F60;&#x627E;&#x4E3D;&#x4E9A;&#x8C08;&#x8BDD;&#xFF0C;&#x4E3D;&#x4E9A;&#x60F3;&#x8981;&#x9080;&#x8BF7;&#x4F60;&#x53BB;&#x770B;&#x57CE;&#x4E2D;&#x5FC3;&#x7684;&#x827A;&#x672F;&#x5C55;&#xFF0C;3PM&#x5230;5PM&#x4E4B;&#x95F4;&#x5C31;&#x53EF;&#x4EE5;&#x89E6;&#x53D1;&#x5267;&#x60C5; &#x52A0;&#x597D;&#x611F;10&#x5FC3;&#xFF1A;&#x4E0A;&#x5348;11&#x70B9;&#x949F;&#x4EE5;&#x540E;&#xFF0C;&#x53BB;&#x627E;&#x4F60;&#x7684;&#x5FC3;&#x809D;&#x4E3D;&#x4E9A;&#xFF0C;&#x4EA4;&#x5F80;&#x624D;&#x4F1A;&#x6B63;&#x5F0F;&#x89E6;&#x53D1; &#xFF0C;&#x4ED6;&#x4F1A;&#x9080;&#x8BF7;&#x4F60;&#x53BB;&#x91CE;&#x9910;&#xFF0C;&#x4E3A;&#x4E86;&#x611F;&#x8C22;&#x4F60;&#x652F;&#x6301;&#x5979;&#x7684;&#x827A;&#x672F;&#x5C55;&#x89C8;&#xFF0C;&#x7136;&#x540E;&#x5979;&#x7684;&#x524D;&#x7537;&#x53CB;&#x4F1A;&#x51FA;&#x73B0;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x751F;&#x4E89;&#x6267;&#xFF0C;&#x4E3D;&#x4E9A;&#x751F;&#x6C14;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F60;&#x9009;&#x62E9;1&#x66B4;&#x6253;&#x524D;&#x7537;&#x53CB;2&#x8BF4;&#x670D;&#x524D;&#x7537;&#x53CB;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#x81EA;&#x5DF1;&#x770B;&#x7740;&#x529E;&#x5427; HALEY&#x6D77;&#x6797; &#x6F02;&#x4EAE;&#x53C8;&#x81EA;&#x5927;&#x7684;&#x5343;&#x91D1;&#x5C0F;&#x59D0; &#x8179;&#x9ED1; &#x8BA8;&#x538C;&#x59D0;&#x59D0; &#x5BB6;&#x5EAD;&#xFF1A;&#x59D0;&#x59D0;emily&#x548C;&#x94C1;&#x5320;&#x662F;&#x60C5;&#x4FA3;&#x7684;&#x597D;&#x59D1;&#x5A18; &#x5728;&#x9152;&#x5427;&#x6253;&#x5DE5; &#x8FA3;&#x5988;&#x5065;&#x8EAB;&#x4F1A;&#x4F1A;&#x5458; &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x5411;&#x65E5;&#x8475; &#x8BA8;&#x538C;&#x6240;&#x6709;&#x519C;&#x4F5C;&#x7269;&#x6C34;&#x679C;&#x9C7C;&#x7C7B;&#x8FD8;&#x6709;&#x7267;&#x4EA7;&#x54C1; 1234562&#x5FC3;&#xFF1A;&#x6210;&#x4E3A;&#x666E;&#x901A;&#x670B;&#x53CB;&#x540E;&#xFF0C;&#x53BB;&#x6D77;&#x6797;&#x5BB6;&#xFF0C;&#x5979;&#x7684;&#x5BB6;&#x5728;SAM&#x5BB6;&#x53F3;&#x8FB9; &#x8FDB;&#x5C4B;&#x53D1;&#x73B0;&#x5979;&#x5728;&#x548C;&#x59D0;&#x59D0;&#x5927;&#x5435;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x56E0;&#x4E3A;&#x4E00;&#x4E9B;&#x5BB6;&#x5E38;&#x5C0F;&#x4E8B;&#x7136;&#x540E;&#x4F60;&#x6709;&#x4E09;&#x4E2A;&#x9009;&#x62E9;1&#x6307;&#x8D23;&#x5979;(&#x964D;&#x4F4E;&#x597D;&#x611F;2&#x65E0;&#x6240;&#x8C13;(&#x597D;&#x611F;&#x4E0D;&#x53D8;3&#x8BF4;&#x670D;&#x5979;(&#x63D0;&#x9AD8;&#x611F;&#x60C5;4&#x5FC3;&#xFF1A;&#x53BB;&#x5979;&#x7684;&#x623F;&#x95F4;&#xFF0C;&#x4F1A;&#x5728;&#x53A8;&#x623F;&#x4E00;&#x8D77;&#x505A;&#x679C;&#x9171;&#xFF0C;&#x6D77;&#x6797;&#x52AA;&#x529B;&#x7684;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x7F50;&#x5B50;&#xFF0C;&#x53EF;&#x505A;&#x4E0D;&#x5230;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x4F1A;&#x8BE2;&#x95EE;&#x4ED6;&#x4EEC;&#x662F;&#x4E0D;&#x662F;&#x5F88; &#x96BE;&#x4EE5;&#x88AB;&#x6253;&#x5F00;&#xFF0C;&#x7136;&#x540E;&#x9009;&#x62E9;&#x662F; &#x5E2E;&#x52A9;&#x5979;&#x6253;&#x5F00;&#x7F50;&#x5B50;&#xFF0C;&#x589E;&#x52A0;&#x5C11;&#x91CF;&#x597D;&#x611F;6&#x5FC3;&#xFF1A;&#x53BB;&#x6C99;&#x6EE9;&#xFF0C;&#x5728;&#x6C99;&#x6EE9;&#x4E0A;&#x4F60;&#x4F1A;&#x548C;&#x6D77;&#x6797;&#x89C1;&#x9762;&#xFF0C;&#x5979;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x4ED6;&#x5F04;&#x4E22;&#x4E86;&#x7956;&#x6BCD;&#x9001;&#x5979;&#x7684;&#x624B;&#x94FE;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5E2E;&#x4ED6;&#x627E;&#x56DE;&#x6765;&#x5417;&#xFF0C;&#x7136;&#x540E; &#x53BB;&#x53F3;&#x8FB9;&#x7684;&#x827E;&#x5229;&#x5965;&#x7279;&#x5BB6;&#x627E;&#x5230;&#x5B83;8&#x5FC3;&#xFF1A;&#x8FD9;&#x91CC;&#x5F00;&#x59CB;&#x4F60;&#x6BCF;&#x5929;&#x53EF;&#x4EE5;&#x72C2;&#x9001;&#x6D77;&#x6797;&#x8FD9;&#x4E2A;&#x7269;&#x8D28;&#x59B9;&#x82B1;&#xFF0C;&#x597D;&#x611F;&#x4F1A;&#x6025;&#x901F;&#x63D0;&#x5347;&#x5230;10&#x89E6;&#x53D1;&#x5267;&#x60C5;&#x4E5F;&#x5FC5;&#x987B;&#x8981;&#x9001;)(&#x53BB;&#x739B;&#x745E;&#x4E9A;&#x7684; &#x519C;&#x573A;&#xFF0C;&#x6D77;&#x6797;&#x6B63;&#x5728;&#x81EA;&#x62CD;&#x548C;&#x62CD;&#x98CE;&#x666F;&#xFF0C;&#x4ED6;&#x8BA9;&#x4F60;&#x5E2E;&#x5979;&#x62CD;&#x7167;&#xFF0C;&#x53BB;&#x5077;&#x5077;&#x63A5;&#x8FD1;&#x4E00;&#x5934;&#x725B;&#x5E76;&#x72C2;&#x7B11;&#x7136;&#x540E;&#x79BB;&#x5F00; &#x597D;&#x611F;&#x4F1A;&#x589E;&#x52A0;9&#x5FC3;&#xFF1A;&#x6CE8;&#x610F;&#x8FD9;&#x662F;9 &#x53BB;&#x6D77;&#x6797;&#x7684;&#x5BB6;&#x91CC;&#xFF0C;&#x5979;&#x4F1A;&#x5E26;&#x4F60;&#x53BB;&#x79D8;&#x5BC6;&#x623F;&#x95F4; &#x4E4B;&#x540E;&#x611F;&#x60C5;&#x4F1A;&#x7ACB;&#x523B;&#x589E;&#x52A0; &#x7136;&#x540E;&#x4E00;&#x5806;&#x5BF9;&#x8BDD;&#x540E;kiss PENNY&#x6F58;&#x59AE; &#x8D2B;&#x56F0; &#x4F4F;&#x5728;&#x5C0F;&#x623F;&#x8F66;&#x91CC; &#x5584;&#x826F; &#x81EA;&#x5351; &#x559C;&#x6B22;&#x505A;&#x996D;(&#x5267;&#x6BD2;)&#x548C;&#x9605;&#x8BFB; &#x5BB6;&#x5EAD;&#xFF1A;&#x5988;&#x5988;pam&#x9152;&#x9B3C; &#x9152;&#x5427;&#x7684;&#x5E38;&#x5BA2;&#xFF0C;&#x4F60;&#x73A9;&#x7684;&#x591A;&#x4E86;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x4E00;&#x5230;&#x9152;&#x5427;&#x5979;&#x5982;&#x679C;&#x521A;&#x597D;&#x8FDB;&#x6765;&#x4F1A;&#x8BF4;I&#x2019;Mback &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x94BB;&#x77F3; &#x6930;&#x6C41;&#x6C64; &#x6C99;&#x6F20;&#x9C7C; 12342&#x5FC3;&#xFF1A;12&#x70B9;&#x6574;(&#x8C8C;&#x4F3C;&#x5FC5;&#x987B;&#x662F;&#x8FD9;&#x4E2A;&#x70B9;)&#x53BB;&#x4ED6;&#x7684;&#x623F;&#x8F66; &#x770B;&#x89C1;&#x5979;&#x6B63;&#x5728;&#x6E05;&#x7406;&#x623F;&#x8F66; &#x5979;&#x4F1A;&#x611F;&#x5230;&#x5C34;&#x5C2C;&#x548C;&#x4E0D;&#x597D;&#x610F;&#x601D; &#x7136;&#x540E;&#x4F60;&#x4F1A;&#x8FC7;&#x53BB;&#x4E00;&#x8D77;&#x5E2E;&#x52A9;&#x5979;&#x5B8C;&#x6210;&#x6E05;&#x7406;&#x5979;&#x5988;&#x5988;&#x7684;&#x810F;&#x4E1C;&#x897F; &#x7136;&#x540E;&#x5973;&#x513F;&#x548C;&#x5988;&#x5988;&#x5C31;&#x5F00;&#x59CB;&#x6495;&#x4E86;&#x8D77;&#x6765;4&#x5FC3;&#xFF1A;&#x8FD8;&#x662F;&#x8981;&#x5728;&#x4E2D;&#x5348;&#x53BB;&#x627E;&#x5979; &#x5979;&#x5728;&#x7814;&#x5236;&#x4E00;&#x79CD;&#x65B0;&#x83DC;&#x8C31; &#x5979;&#x60F3;&#x8BA9;&#x4F60;&#x8BD5;&#x5403;&#x4E00;&#x4E0B; &#x7136;&#x540E;&#x4F60;&#x53D8;&#x7EFF;&#x4E86;&#x54C8;&#x54C8; &#x7136;&#x540E;&#x5C31;&#x662F;&#x9009;&#x62E9;&#x544A;&#x8BC9;&#x5979;&#x96BE;&#x4E0D;&#x96BE;&#x5403;&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x662F;&#x548C;&#x4ED6;&#x4E00;&#x8D77;&#x53BB;&#x770B;&#x7535;&#x5F71; &#x79BB;&#x5F00;&#x65F6;&#x5979;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x611F;&#x8C22;&#x4F60;&#x5E2E;&#x5979;&#x54C1;&#x5C1D;&#x98DF;&#x7269;&#x3002;6&#x5FC3;&#xFF1A;&#x4E0E;&#x4E3D;&#x4E9A;&#x548C;&#x9A6C;&#x9F99;(&#x6B66;&#x5668;&#x5546;&#x4EBA;)&#x53BB;&#x739B;&#x745E;&#x4E9A;&#x90A3;&#x8FB9; &#x4F1A;&#x770B;&#x5230;&#x6F58;&#x59AE;&#x5728;&#x9886;&#x7740;&#x5C0F;&#x5973;&#x5B69;&#x96C5;(&#x739B;&#x745E;&#x4E9A;&#x7684;&#x5973;&#x513F;&#x6587;&#x68EE;&#x7279;(SAM&#x7684;&#x5F1F;&#x5F1F;&#x5728;&#x73A9; &#x7136;&#x540E;&#x5C31;&#x4F1A;&#x5C55;&#x73B0;&#x4ED6;&#x5F3A;&#x5927;&#x7684;&#x7F16;&#x6545;&#x4E8B;&#x672C;&#x9886; &#x7136;&#x540E;&#x4ED6;&#x4F1A;&#x8BF4; &#x5B69;&#x5B50;&#x7684;&#x786E;&#x96BE;&#x4EE5;&#x6C9F;&#x901A;&#x548C;&#x6559;&#x80B2; &#x4F46;&#x4ED6;&#x4E0D;&#x4ECB;&#x610F;&#x53BB;&#x548C;&#x5B69;&#x5B50;&#x4EEC;&#x4E00;&#x8D77;&#x5B66;&#x4E60;8&#x5FC3;&#xFF1A;&#x6F58;&#x59AE;&#x4F1A;&#x5411;&#x4F60;&#x5BC4;&#x6765;&#x4E00;&#x4EFD;&#x4FE1; &#x8BA9;&#x4F60;&#x5929;&#x9ED1;&#x540E;&#x53BB;&#x6CE1;&#x6E29;&#x6CC9;&#x7684;&#x90A3;&#x91CC; &#x7136;&#x540E;&#x4ED6;&#x4F1A;&#x95EE;&#x4F60;&#x559C;&#x4E0D;&#x559C;&#x6B22;&#x4ED6; &#x4F60;&#x5C31;&#x70B9;&#x4E0D;&#x559C;&#x6B22;&#x5979;&#xFF0C;&#x7136;&#x540E;&#x5979;&#x5C31;&#x4F1A;&#x4EB2;&#x543B;&#x4F60;&#xFF0C;&#x4E4B;&#x540E;&#x4E0D;&#x9700;&#x8981;&#x5230;&#x8FBE;9&#xFF0C;10&#x5FC3;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x7528;&#x6708;&#x4EAE;&#x6D77;&#x87BA;&#x5C31;&#x53EF;&#x4EE5;&#x548C;&#x5979;&#x7ED3;&#x5A5A; MARU &#x9A6C;&#x9C81; &#x8D85;&#x7EA7;&#x79D1;&#x5B66;&#x8FF7; &#x5929;&#x624D; &#x673A;&#x68B0;&#x5E08; &#x5BB6;&#x5EAD;&#xFF1A;&#x5988;&#x5988;robin&#x8FD8;&#x662F;&#x76D6;&#x623F;&#x5B50;&#x7684;&#x90A3;&#x4E2A; &#x7238;&#x7238;demetrius&#x79D1;&#x5B66;&#x5BB6; &#x5F1F;&#x5F1F;sebastian&#x5C0F;&#x53D7;&#x53D7; &#x6700;&#x597D;&#x7684;&#x793C;&#x7269; &#x5976;&#x916A;&#x83DC;&#x82B1;&#x996D; &#x7535;&#x6C60; &#x8349;&#x8393; &#x94BB;&#x77F3; &#x91D1;&#x6761;(&#x90FD;&#x8FD9;&#x4E48;&#x8D35;&#x91CD;&#x4F60;&#x548B;&#x4E0D;&#x4E0A;&#x5929;&#x5462; 123452&#x5FC3;&#xFF1A;(&#x5FC5;&#x987B;&#x5728;&#x5468;&#x65E5;1PM&#x6216;&#x5468;&#x4E94;12PM)&#x4F60;&#x8D70;&#x8FDB;&#x4ED6;&#x7684;&#x5BB6;&#xFF0C;&#x5979;&#x548C;&#x7238;&#x6BD4;&#x5728;&#x505A;&#x5B9E;&#x9A8C;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x662F;&#x5CB3;&#x7236;&#x7EE7;&#x7EED;&#x963B;&#x6B62;&#xFF0C;&#x544A;&#x8BC9;&#x4F60;&#x4E0D; &#x80FD;&#x4ECB;&#x5165;&#x9A6C;&#x9C81;&#x7684;&#x672A;&#x6765; &#x7136;&#x540E;&#x5979;&#x4F1A;&#x7ED9;&#x4F60;&#x6D4B;&#x8BD5;1&#x4EC0;&#x4E48;&#x4E5F;&#x4E0D;&#x8BF4;(&#x4ED6;&#x4EEC;&#x5C31;&#x4E0D;&#x518D;&#x7406;&#x4F60;2&#x8BF4;&#x771F;&#x7684;&#xFF0C;&#x4F60;&#x7238;&#x597D;&#x5947;&#x602A;(&#x6211;&#x770B;&#x4F60;&#x4FE9; &#x90FD;&#x633A;&#x5947;&#x602A;&#x7684;!)&#x7136;&#x540E;&#x4ED6;&#x4EEC;&#x4F1A;&#x9053;&#x6B49;&#x52A0;&#x597D;&#x611F;4&#x5FC3;&#xFF1A;(&#x5468;&#x4E8C;&#x56DB;&#x65E9;&#x4E0A;)&#x53BB;&#x533B;&#x9662;&#xFF0C;&#x4ED6;&#x5728;&#x91CC;&#x9762;&#x662F;&#x90A3;&#x4E2A;&#x5C0F;&#x62A4;&#x58EB; &#x7136;&#x540E;&#x4F60;&#x7684;&#x5230;&#x6765;&#x8BA9;&#x5979;&#x5F00;&#x5FC3;&#x548C;&#x60CA;&#x559C;&#xFF0C;&#x628A;&#x4ED6;&#x624B;&#x4E2D;&#x7684;&#x73BB;&#x7483;&#x6454;&#x788E;&#x4E86;1&#x628A;&#x4E1C;&#x897F;&#x6E05;&#x7406;&#x5E72;&#x51C0;&#xFF0C;&#x4E0D;&#x4F1A;&#x8BA9;&#x54C8;&#x7EF4;&#x53D1;&#x73B0;2&#x544A;&#x8BC9;&#x54C8;&#x7EF4;&#x662F;&#x6211;&#x4EEC;&#x6253;&#x788E;&#x7684;3&#x544A;&#x8BC9;&#x54C8;&#x7EF4;&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x5C0F;&#x610F;&#x5916;(23&#x7684;&#x7ED3;&#x5C40;&#x90FD; &#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x4F46;3&#x7684;&#x8BDD;&#x524D;&#x9762;&#x4E5F;&#x77E5;&#x9053;&#x54C8;&#x7EF4;&#x662F;&#x5B8C;&#x7F8E;&#x72C2;&#xFF0C;&#x4E5F;&#x559C;&#x6B22;&#x522B;&#x4EBA;&#x522B;&#x4EBA;&#x8BF4;&#x5B9E;&#x8BDD;&#xFF0C;&#x4F1A;&#x9AD8;&#x5174;6&#x5FC3;&#xFF1A;(&#x5468;&#x56DB;)&#x53BB;&#x4ED6;&#x7684;&#x5BB6; &#x5979;&#x521A;&#x4ECE;&#x533B;&#x9662;&#x56DE;&#x5BB6; &#x4ED6;&#x4FBF;&#x4F1A;&#x5411;&#x4F60;&#x655E;&#x5F00;&#x5FC3;&#x6249; &#x544A;&#x8BC9;&#x4F60; &#x4ED6;&#x5728;&#x505A;&#x7684;&#x5B9E;&#x9A8C; &#x4F46;&#x4ED6;&#x611F;&#x5230;&#x62B1;&#x6B49; &#x603B;&#x662F;&#x4F24; &#x5BB3;&#x5230;&#x6211;&#x4EEC; 1&#x6211;&#x4EEC;&#x4F1A;&#x544A;&#x8BC9;&#x4ED6;&#x8FD9;&#x70B9;&#x4F24;&#x5BB3;&#x4E0D;&#x7B97;&#x4EC0;&#x4E48;2 &#x75BC;&#x6B7B;&#x5B9D;&#x5B9D;&#x4E86;!!&#x9009;&#x4EC0;&#x4E48;&#x81EA;&#x5DF1;&#x770B;&#x7740;&#x529E;&#x5427;&#xFF0C;&#x53CD;&#x6B63;&#x5979;&#x4E5F;&#x662F;8&#x5FC3;&#x7ED3; &#x5A5A;&#x7684;&#x4EBA;8&#x5FC3;&#xFF1A;(&#x5468;&#x4E09;)&#x76F4;&#x63A5;&#x53BB;&#x627E;&#x4ED6;&#xFF0C;&#x5979;&#x4F1A;&#x5F00;&#x59CB;&#x611F;&#x5230;&#x5BB3;&#x7F9E;&#x548C;&#x7D27;&#x5F20; &#x7136;&#x540E;&#x4F60;&#x8981;&#x9001;&#x4ED6;&#x82B1;&#x4F60;&#x4FE9;&#x4FBF;&#x4EB2;&#x5634;&#x4E86; &#x6E29;&#x5BA4; &#x6E29;&#x5BA4;&#x901A;&#x8FC7;Pantry&#x732E;&#x796D;&#x6216;&#x8005;&#x52A0;&#x5165;joja&#x7528;&#x91D1;&#x5E01;&#x89E3;&#x9501; &#x89E3;&#x9501;&#x4E4B;&#x540E;&#x6E29;&#x5BA4;&#x5185;&#x53EF;&#x4EE5;&#x65E0;&#x89C6;&#x5B63;&#x8282;&#x79CD;&#x690D;&#x4EFB;&#x4F55;&#x4F5C;&#x7269; &#x6E29;&#x5BA4;&#x5185;&#x571F;&#x58E4;&#x683C;&#x5B50;&#x6570;&#x4E3A;12X10&#xFF0C;&#x6E29;&#x5BA4;&#x5730;&#x677F;&#x53EF;&#x4EE5;&#x79CD;&#x679C;&#x6811;&#xFF0C;&#x6E29;&#x5BA4;&#x5185;&#x7684;&#x679C;&#x6811;&#x6210;&#x719F;&#x540E;&#x4E5F;&#x662F;&#x6BCF;&#x5929;&#x90FD;&#x4F1A;&#x7ED3;&#x679C;&#x5B50;&#xFF0C;&#x65E0;&#x89C6;&#x5B63;&#x8282; &#x53F2;&#x83B1;&#x59C6;&#x519C;&#x573A;1&#x53F2;&#x83B1;&#x59C6;&#x519C;&#x573A;&#x6211;&#x611F;&#x89C9;&#x662F;&#x4F5C;&#x8005;&#x8111;&#x6D1E;&#x5927;&#x5F00;&#x52A0;&#x8FDB;&#x6765;&#x7684;&#x3002;&#x5EFA;&#x9020;&#x8D39;&#x7528;&#x6602;&#x8D35;&#xFF08;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x94F1;&#x952D;&#xFF09;&#x4E0D;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E1C;&#x897F;&#x7684;&#x4EA7;&#x7269;&#x4E5F;&#x662F;&#x6CA1;&#x5375;&#x7528;&#x3002;&#x4EA7;&#x7269;&#x5C31;&#x662F;&#x56FE;&#x4E2D;&#x7684;&#x7EFF;&#x8272;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x53F3;&#x952E;&#x70B9;&#x51FB;&#x628A;&#x5B83;&#x634F;&#x7206;&#xFF0C;&#x4F1A;&#x51FA;20&#x591A;&#x4E2A;&#x53F2;&#x83B1;&#x59C6;&#x4F53;&#xFF0C;&#x5BF9;&#xFF0C;&#x5C31;&#x662F;&#x90A3;&#x79CD;&#x900F;&#x660E;&#x7684;&#xFF0C;&#x6253;&#x53F2;&#x83B1;&#x59C6;&#x4F1A;&#x7206;&#x7684;&#x90A3;&#x79CD;&#x3002; &#x3000;&#x3000;&#x800C;&#x4E14;&#xFF0C;&#x81EA;&#x5DF1;&#x517B;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#x8FD8;&#x4F1A;&#x6253;&#x4F60;&#xFF01;&#x8FD9;&#x6839;&#x672C;&#x5C31;&#x662F;&#x5B75;&#x5316;&#x51FA;&#x6765;&#x91CE;&#x751F;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#x554A;&#xFF01;&#x81F3;&#x4E8E;&#x600E;&#x4E48;&#x5B75;&#x5316;&#x561B;&#xFF0C;&#x53EF;&#x4EE5;&#x9020;&#x53F2;&#x83B1;&#x59C6;&#x86CB;&#x5236;&#x9020;&#x673A;&#xFF0C;&#x6254;100&#x4E2A;&#x53F2;&#x83B1;&#x59C6;&#x4F53;&#x8FDB;&#x53BB;&#xFF0C;&#x7B2C;&#x4E8C;&#x5929;&#x7ED9;&#x4F60;&#x4E2A;&#x968F;&#x673A;&#x989C;&#x8272;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#x86CB;&#x3002;&#x6709;&#x4E86;&#x53F2;&#x83B1;&#x59C6;&#x519C;&#x573A;&#x4E4B;&#x540E;&#x6740;&#x6B7B;&#x91CE;&#x751F;&#x53F2;&#x83B1;&#x59C6;&#x4E5F;&#x4F1A;&#x6709;&#x51E0;&#x7387;&#x7206;&#x86CB;&#xFF0C;&#x5BF9;&#xFF0C;&#x7206;&#x86CB;&#xFF0C;&#x4E0D;&#x5EFA;&#x9020;&#x53F2;&#x83B1;&#x59C6;&#x519C;&#x573A;&#x662F;&#x6CA1;&#x6709;&#x7684;&#x3002; &#x3000;&#x3000;&#x90A3;&#x4ED6;&#x4EEC;&#x600E;&#x4E48;&#x7E41;&#x6B96;&#x5462;&#xFF1F;&#x53F2;&#x83B1;&#x59C6;&#x4E5F;&#x662F;&#x6709;&#x6027;&#x522B;&#x7684;&#x3002;&#x5934;&#x4E0A;&#x5E26;&#x628A;&#x513F;&#x7684;&#x548C;&#x4E0D;&#x5E26;&#x628A;&#x513F;&#x7684;&#x662F;&#x4E0D;&#x540C;&#x6027;&#x522B;&#xFF0C;&#x628A;&#x4ED6;&#x4EEC;&#x653E;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x8FC7;&#x6BB5;&#x65F6;&#x95F4;&#x4ED6;&#x4EEC;&#x5C31;&#x4F1A;&#x5408;&#x4F53;&#xFF0C;&#x7136;&#x540E;&#x8E66;&#x51FA;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x6765;&#x3002;&#x989C;&#x8272;&#x4E0D;&#x540C;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#x4F1A;&#x751F;&#x51FA;&#x6DF7;&#x8272;&#x53F2;&#x83B1;&#x59C6;&#xFF0C;&#x4E0D;&#x8FC7;&#x6211;&#x603B;&#x611F;&#x89C9;&#x7070;&#x4E0D;&#x62C9;&#x51E0;&#x7684;&#x3002; &#x3000;&#x3000;&#x7528;&#x86CB;&#x5B75;&#x5316;&#x51FA;&#x6765;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#x548C;&#x6D1E;&#x7A74;&#x91CC;&#x76F8;&#x5E94;&#x989C;&#x8272;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#x5C5E;&#x6027;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x6DF7;&#x8272;&#x4EA4;&#x914D;&#x751F;&#x51FA;&#x6765;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#x597D;&#x50CF;&#x66F4;&#x5F3A;&#x529B;&#x4E00;&#x4E9B;&#x3002;&#x672C;&#x6765;&#x6700;&#x5F31;&#x7684;&#x7EFF;&#x8272;&#x53F2;&#x83B1;&#x59C6;&#x548C;&#x7D2B;&#x8272;&#x53F2;&#x83B1;&#x59C6;&#x751F;&#x51FA;&#x6765;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#xFF0C;&#x6211;&#x7528;&#x661F;&#x8FB0;&#x5251;&#x6253;&#x4E09;&#x4E0B;&#xFF08;300+&#x8840;&#xFF09;&#x90FD;&#x6CA1;&#x6253;&#x6B7B;&#x3002;&#x55EF;&#xFF0C;&#x597D;&#x5F3A;&#x554A;&#x3002;&#x800C;&#x4E14;&#x4E5F;&#x53EF;&#x4EE5;&#x517B;&#x4E00;&#x5806;&#x7D2B;&#x8272;&#x53F2;&#x83B1;&#x59C6;&#xFF0C;&#x7136;&#x540E;&#x6740;&#x4E86;&#x6536;&#x5272;&#x94F1;&#x77FF;&#xFF0C;&#x867D;&#x7136;&#x6211;&#x611F;&#x89C9;&#x6548;&#x7387;&#x4E0D;&#x9AD8;&#x3002;&#x5973;&#x5DEB;&#x8FC7;&#x5883;&#x7684;&#x8BDD;&#x4F1A;&#x628A;&#x4F60;&#x6240;&#x6709;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#x90FD;&#x53D8;&#x6210;&#x9ED1;&#x8272;&#xFF0C;&#x5C31;&#x6211;&#x4E0A;&#x9762;&#x90A3;&#x6837;&#x5B50;&#x7684;&#x3002;&#x6211;&#x6CA1;&#x5FCD;&#x5FC3;&#x6740;&#x4ED6;&#x4EEC;&#xFF0C;&#x4E0D;&#x6E05;&#x695A;&#x4F1A;&#x7206;&#x4EC0;&#x4E48;&#x3002; &#x3000;&#x3000;&#x4F5C;&#x8005;&#x8FD8;&#x8BF4;&#x540E;&#x7EED;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x53F2;&#x83B1;&#x59C6;&#x519C;&#x573A;&#x505A;&#x6587;&#x7AE0;&#xFF0C;&#x53F2;&#x83B1;&#x59C6;&#x672A;&#x6765;&#x7684;&#x4EA4;&#x914D;&#x7E41;&#x6B96;&#x673A;&#x5236;&#x5C06;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7814;&#x7A76;&#x8BFE;&#x9898;&#x3002;&#x4F5C;&#x8005;&#x8BF4;&#x4E5F;&#x8BB8;&#x4F1A;&#x914D;&#x79CD;&#x51FA;&#x4E00;&#x79CD;&#x9020;&#x6210;1&#x4F24;&#x5BB3;&#x5374;&#x80FD;&#x7206;&#x94F1;&#x77FF;&#x7684;&#x53F2;&#x83B1;&#x59C6;&#xFF1F;&#x6211;&#x66F4;&#x559C;&#x6B22;&#x53D1;&#x5149;&#x53F2;&#x83B1;&#x59C6;&#x6216;&#x8005;&#x4E94;&#x5F69;&#x53F2;&#x83B1;&#x59C6;&#x7684;&#x70B9;&#x5B50;&#x3002;&#x3010;&#x53F2;&#x83B1;&#x59C6;&#x9B54;&#x7269;&#x5A18;&#xFF1F;&#x3011; &#x3000;&#x3000;&#x8FD8;&#x6709;&#x5C31;&#x662F;&#x53EF;&#x80FD;&#x6709;&#x7684;&#x73A9;&#x5BB6;&#x4F1A;&#x53CD;&#x6620;&#xFF0C;&#x4E3A;&#x5565;&#x53F2;&#x83B1;&#x59C6;&#x4E0D;&#x751F;&#x4EA7;&#x53F2;&#x83B1;&#x59C6;&#x4F53;&#x3002;&#x55EF;&#xFF0C;&#x4F60;&#x5F80;&#x53F2;&#x83B1;&#x59C6;&#x519C;&#x573A;&#x53F3;&#x4FA7;&#x7684;&#x56DB;&#x4E2A;&#x69FD;&#x4F4D;&#x91CC;&#x5012;&#x6C34;&#x5C31;&#x884C;&#x4E86;&#x3002;&#x5373;&#x4F7F;&#x50CF;&#x6211;&#x4E00;&#x6837;&#x628A;&#x53F2;&#x83B1;&#x59C6;&#x5708;&#x5728;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#x5185;&#xFF0C;&#x4ED6;&#x4EEC;&#x8FD8;&#x662F;&#x4F1A;&#x5728;&#x6574;&#x4E2A;&#x53F2;&#x83B1;&#x59C6;&#x519C;&#x573A;&#x91CC;&#x5237;&#x65B0;&#x53F2;&#x83B1;&#x59C6;&#x4F53;&#x3010;&#x8FDC;&#x7A0B;&#x98DE;&#x7FD4;&#xFF1F;&#x3011;&#x3002;&#x53E6;&#x5916;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x613F;&#x610F;&#x9020;&#x6805;&#x680F;&#xFF0C;&#x60F3;&#x548C;&#x53F2;&#x83B1;&#x59C6;&#x4EB2;&#x5BC6;&#x63A5;&#x89E6;&#x7684;&#x8BDD;&#xFF0C;&#x8BF7;&#x5E26;&#x4E0A;&#x53F2;&#x83B1;&#x59C6;&#x514D;&#x75AB;&#x6212;&#x6307;&#x3002;&#x6740;1000&#x53EA;&#x53F2;&#x83B1;&#x59C6;&#x4E4B;&#x540E;&#x53BB;&#x5192;&#x9669;&#x5DE5;&#x4F1A;&#x5750;&#x6447;&#x6905;&#x7684;&#x8001;&#x5934;&#x90A3;&#x5151;&#x6362;&#x5373;&#x53EF;&#x3002; &#x3000;&#x3000;&#x6700;&#x540E;&#x6709;&#x4E00;&#x70B9;&#x6211;&#x611F;&#x89C9;&#x5F88;&#x5947;&#x602A;&#xFF0C;&#x6211;&#x5728;&#x77FF;&#x6D1E;&#x91CC;&#x89C1;&#x8FC7;&#x9EC4;&#x8272;&#x53F2;&#x83B1;&#x59C6;&#x3001;&#x865A;&#x65E0;&#x53F2;&#x83B1;&#x59C6;&#xFF08;&#x9ED1;&#x8272;&#x900F;&#x660E;&#x7684;&#xFF09;&#x3001;&#x77F3;&#x5934;&#x53F2;&#x83B1;&#x59C6;&#xFF08;&#x5CA9;&#x77F3;&#x989C;&#x8272;&#xFF0C;&#x6740;&#x4E86;&#x7206;&#x77F3;&#x5934;&#xFF09;&#xFF0C;&#x4E0D;&#x6E05;&#x695A;&#x8FD9;&#x4E9B;&#x53F2;&#x83B1;&#x59C6;&#x6709;&#x6CA1;&#x6709;&#x86CB;&#x3002;&#x6211;&#x662F;&#x4ECE;&#x6765;&#x6CA1;&#x6253;&#x51FA;&#x6765;&#x8FC7;&#x3002; &#x6211;&#x7684;&#x519C;&#x573A;&#x6700;&#x540E;&#x662F;&#x6211;&#x4ECE;&#x7F51;&#x4E0A;&#x627E;&#x6765;&#x7684;&#x4E00;&#x4E9B;&#x5B8C;&#x6210;&#x519C;&#x573A;&#x7684;&#x56FE;&#x7247;&#xFF0C;&#x5E0C;&#x671B;&#x4E0D;&#x4E45;&#x6211;&#x81EA;&#x5DF1;&#x7684;&#x519C;&#x573A;&#x56FE;&#x7247;&#x5C31;&#x53EF;&#x4EE5;&#x8D34;&#x51FA;&#x6765;&#x4E86;]]></content>
      <categories>
        <category>game</category>
        <category>星露谷</category>
      </categories>
      <tags>
        <tag>game</tag>
        <tag>星露谷</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jp-ch]]></title>
    <url>%2F2017%2F11%2F21%2Fjp-ch%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383&#x3042; &#x4E9A;&#x963F;&#x54C0;&#x7231;&#x6328;&#x9022;&#x8475;&#x831C;&#x6076;&#x63E1;&#x6E25;&#x65ED;&#x6893;&#x538B;&#x6271;&#x5B9B;&#x7EDA;&#x7EEB;&#x9C87;&#x5B89;&#x6697;&#x6848;&#x6697;&#x978D;&#x674F; &#x3044; &#x4EE5;&#x4F0A;&#x4F4D;&#x4F9D;&#x4F1F;&#x56F4;&#x5937;&#x59D4;&#x5A01;&#x5C09;&#x60DF;&#x610F;&#x6170;&#x6613;&#x4E3A;&#x754F;&#x5F02;&#x79FB;&#x7EF4;&#x7EAC;&#x80C3;&#x8863;&#x8FDD;&#x9057;&#x533B;&#x4E95;&#x4EA5;&#x57DF;&#x80B2;&#x90C1;&#x77F6;&#x4E00;&#x58F1;&#x6EA2;&#x9038;&#x7A3B;&#x828B;&#x5141;&#x5370;&#x5458;&#x56E0;&#x59FB;&#x5F15;&#x996E;&#x6DEB;&#x80E4;&#x836B;&#x9662;&#x9634;&#x9690;&#x3046; &#x53F3;&#x5B87;&#x9E1F;&#x7FBD;&#x8FC2;&#x96E8;&#x536F;&#x7AA5;&#x4E11;&#x6DA1;&#x5618;&#x6D66;&#x5642;&#x8FD0;&#x4E91; &#x3048; &#x9975;&#x777F;&#x5BAB;&#x5F71;&#x6620;&#x8363;&#x6C38;&#x6CF3;&#x745B;&#x9896;&#x82F1;&#x536B;&#x548F;&#x9510;&#x6DB2;&#x75AB;&#x76CA;&#x99C5;&#x60A6;&#x8C12;&#x8D8A;&#x9605;&#x5186;&#x5706;&#x5BB4;&#x5EF6;&#x63F4;&#x6CBF;&#x6F14;&#x708E;&#x70DF;&#x71D5;&#x733F;&#x7EFF;&#x8273;&#x82D1;&#x8FDC;&#x94C5;&#x9E33; &#x304A; &#x4E8E;&#x6C61;&#x7525;&#x51F9;&#x592E;&#x5965;&#x5F80;&#x5E94;&#x62BC;&#x6A2A;&#x6B27;&#x6BB4;&#x738B;&#x7FC1;&#x9EC4;&#x5188;&#x51B2;&#x4EBF;&#x5C4B;&#x5FC6;&#x81C6;&#x4E59;&#x4FFA;&#x5378;&#x6069;&#x6E29;&#x7A33;&#x97F3; &#x304B; &#x4E0B;&#x5316;&#x4EEE;&#x4F55;&#x4EF7;&#x4F73;&#x52A0;&#x53EF;&#x5609;&#x590F;&#x5AC1;&#x5BB6;&#x5BE1;&#x79D1;&#x6687;&#x679C;&#x67B6;&#x6B4C;&#x6CB3;&#x706B;&#x7978;&#x7A3C;&#x4E2A;&#x82B1;&#x8377;&#x534E;&#x83D3;&#x8BFE;&#x54D7;&#x8D27;&#x8FC7;&#x971E;&#x868A;&#x6211;&#x7259;&#x753B;&#x5367;&#x82BD;&#x8D3A;&#x96C5;&#x997F;&#x4ECB;&#x4F1A;&#x89E3;&#x56DE;&#x5757;&#x574F;&#x5FEB;&#x602A;&#x6094;&#x6000;&#x6212;&#x62D0;&#x6539;&#x68B0;&#x6D77;&#x7070;&#x754C;&#x7686;&#x7ED8;&#x5F00;&#x9636;&#x8D1D;&#x52BE;&#x5916;&#x5BB3;&#x5D16;&#x6168;&#x6982;&#x6DAF;&#x76D6;&#x8857;&#x8BE5;&#x94E0;&#x9AB8;&#x99A8;&#x57A3;&#x8D6B;&#x5404;&#x6269;&#x6405;&#x683C;&#x6838;&#x58F3;&#x83B7;&#x786E;&#x83B7;&#x89C9;&#x89D2;&#x8F83;&#x90ED;&#x9601;&#x9694;&#x9769;&#x5B66;&#x5CB3;&#x4E50;&#x989D;&#x989A;&#x6302;&#x6CFB;&#x5272;&#x559D;&#x62EC;&#x6D3B;&#x6E34;&#x6ED1;&#x845B;&#x8910;&#x8F96; &#x4E14;&#x53F6;&#x682A;&#x515C;&#x91DC;&#x9570;&#x556E;&#x5208;&#x4E7E;&#x51A0;&#x5BD2;&#x520A;&#x52D8;&#x529D;&#x5377;&#x5524;&#x582A;&#x5B8C;&#x5B98;&#x5BBD;&#x5E72;&#x5E72;&#x60A3;&#x611F;&#x60EF;&#x61BE;&#x6362;&#x6562;&#x6853;&#x68FA;&#x6B3E;&#x6B22;&#x6C57;&#x6C49;&#x73AF;&#x7518;&#x76D1;&#x770B;&#x7BA1;&#x7B80;&#x7F13;&#x7F36;&#x809D;&#x8230; &#x89C2;&#x8C0F;&#x8D2F;&#x8FD8;&#x9274;&#x95F4;&#x95F2;&#x5173;&#x9677;&#x97E9;&#x9986;&#x4E38;&#x542B;&#x5CB8;&#x4E25;&#x773C;&#x5CA9;&#x96C1;&#x987D;&#x989C;&#x613F; &#x304D; &#x4F01;&#x5371;&#x559C;&#x5668;&#x57FA;&#x5947;&#x5B09;&#x5BC4;&#x6B67;&#x5E0C;&#x51E0;&#x5FCC;&#x6325;&#x673A;&#x65D7;&#x65E2;&#x671F;&#x68CB;&#x5F03;&#x673A;&#x5F52;&#x6BC5;&#x6C14;&#x6C7D;&#x7948;&#x5B63;&#x7A00;&#x7EAA;&#x5FBD;&#x89C4;&#x8BB0;&#x8D35;&#x8D77;&#x8F68;&#x8F89;&#x9965;&#x9A91;&#x9B3C;&#x9F9F;&#x4F2A;&#x4EEA;&#x5B9C;&#x620F;&#x6280;&#x62DF;&#x6B3A;&#x727A;&#x7591;&#x4E49;&#x8BAE;&#x83CA;&#x5409;&#x5403;&#x6A58;&#x8BD8;&#x5374;&#x5BA2;&#x811A;&#x8650;&#x9006;&#x4E18;&#x4E45;&#x4EC7;&#x4F11;&#x53CA;&#x5438; &#x5F13;&#x6025;&#x6551;&#x673D;&#x6C42;&#x6C72;&#x6CE3;&#x7403;&#x7A76;&#x7A77;&#x7EA7;&#x7EA0;&#x7ED9;&#x65E7;&#x725B;&#x53BB;&#x5C45;&#x5DE8;&#x62D2;&#x636E;&#x4E3E;&#x6E20;&#x865A;&#x8BB8;&#x8DDD;&#x6E14;&#x9C7C;&#x4EA8;&#x4EAB;&#x4EAC;&#x4F9B;&#x4FA0;&#x7ADE;&#x5171;&#x51F6;&#x534F;&#x5321;&#x53EB;&#x4E54;&#x5883;&#x5CE1;&#x5F3A;&#x602F;&#x6050;&#x606D;&#x631F;&#x6559;&#x6865;&#x51B5;&#x72C2;&#x72ED;&#x77EB;&#x80F8;&#x80C1;&#x5174; &#x4E61;&#x955C;&#x54CD;&#x60CA;&#x4EF0;&#x51DD;&#x5C27;&#x6653;&#x4E1A;&#x5C40;&#x66F2;&#x6781;&#x7389;&#x6850;&#x52E4;&#x5747;&#x5DFE;&#x9526;&#x65A4;&#x6B23;&#x94A6;&#x7434;&#x7981;&#x79BD;&#x7B4B;&#x7D27;&#x83CC;&#x895F;&#x8C28;&#x8FD1;&#x91D1;&#x541F;&#x94F6; &#x304F; &#x4E5D;&#x53E5;&#x533A;&#x77E9;&#x82E6;&#x9A71;&#x9A79;&#x5177;&#x611A;&#x865E;&#x7A7A;&#x5076;&#x9047;&#x9685;&#x5C48;&#x6398;&#x6C93;&#x9774;&#x718A;&#x6817;&#x7F32;&#x6851;&#x52CB;&#x541B;&#x85B0;&#x8BAD;&#x7FA4;&#x519B;&#x90E1; &#x3051; &#x5366;&#x7941;&#x7CFB;&#x503E;&#x5211;&#x5144;&#x542F;&#x572D;&#x73EA;&#x578B;&#x5951;&#x5F62;&#x5F84;&#x60E0;&#x5E86;&#x6167;&#x61A9;&#x63ED;&#x643A;&#x656C;&#x666F;&#x6842;&#x6EAA;&#x7A3D;&#x7CFB;&#x7ECF;&#x7EE7;&#x51FB;&#x830E;&#x8346;&#x8424;&#x8BA1;&#x8B66;&#x8F7B;&#x9E21;&#x82B8;&#x8FCE;&#x9CB8;&#x5267;&#x621F;&#x64CE;&#x6FC0;&#x9699;&#x6770;&#x6B20;&#x51B3;&#x6D01;&#x7A74;&#x7ED3;&#x8840;&#x8BC0;&#x6708;&#x4EF6;&#x4FED;&#x5065;&#x517C;&#x5238;&#x5251;&#x55A7;&#x5708;&#x575A;&#x5ACC;&#x5EFA;&#x5BAA;&#x60AC;&#x62F3;&#x5377;&#x68C0;&#x6743;&#x7275;&#x72AC;&#x732E;&#x7814;&#x7EE2;&#x53BF;&#x80A9;&#x89C1;&#x8C26;&#x8D24;&#x8F69;&#x9063;&#x952E;&#x9669;&#x663E;&#x9A8C;&#x5143;&#x539F;&#x4E25;&#x5E7B;&#x5F26;&#x706D;&#x6E90;&#x7384;&#x73B0;&#x5F26;&#x8237;&#x8A00;&#x8C1A;&#x9650; &#x3053; &#x4E2A;&#x53E4;&#x547C;&#x56FA;&#x59D1;&#x5B64;&#x5DF2;&#x5E93;&#x5F27;&#x6237;&#x6545;&#x67AF;&#x6E56;&#x88E4;&#x80A1;&#x80E1;&#x864E;&#x5938;&#x96C7;&#x987E;&#x9F13;&#x4E94;&#x4E92;&#x4F0D;&#x5348;&#x5434;&#x543E;&#x5A31;&#x540E;&#x5FA1;&#x609F;&#x7881;&#x8BED;&#x8BEF;&#x62A4;&#x4E5E;&#x9CA4;&#x4EA4;&#x4FAF;&#x5019;&#x5149;&#x516C;&#x529F;&#x6548;&#x539A;&#x53E3;&#x5411;&#x540E;&#x5751;&#x57A2;&#x597D;&#x5B54;&#x5B5D;&#x5B8F;&#x5DE5;&#x5DE7;&#x5E78;&#x5E7F;&#x5EB7;&#x5F18;&#x6052;&#x614C;&#x6297;&#x62D8;&#x63A7;&#x653B;&#x6602;&#x6643;&#x66F4;&#x676D;&#x6821;&#x6784;&#x6C5F;&#x6D2A;&#x6D69;&#x6E2F;&#x6C9F;&#x7532;&#x7687;&#x786C;&#x7A3F;&#x7EA2;&#x7D18;&#x7EDE;&#x7EB2;&#x8015;&#x8003;&#x80AF;&#x80B1;&#x822A;&#x8352;&#x884C;&#x8861;&#x8BB2;&#x8D21;&#x8D2D;&#x90CA;&#x9175;&#x77FF;&#x94A2;&#x964D;&#x9879;&#x9999;&#x9AD8;&#x9E3F;&#x521A;&#x52AB;&#x53F7;&#x5408;&#x58D5;&#x62F7;&#x8C6A;&#x8F70;&#x514B;&#x523B;&#x544A;&#x56FD;&#x8C37;&#x9177;&#x9ED1;&#x72F1;&#x8170;&#x60DA;&#x9AA8;&#x8F93;&#x6B21;&#x9877;&#x4ECA;&#x56F0;&#x57A6;&#x5A5A;&#x6068;&#x660F;&#x6606;&#x6839;&#x6346;&#x6DF7;&#x7EC0;&#x9B42; &#x3055; &#x4E9B;&#x4F50;&#x53C9;&#x5506;&#x5DE6;&#x5DEE;&#x67E5;&#x6C99;&#x7802;&#x8BC8;&#x9501;&#x5EA7;&#x632B;&#x503A;&#x50AC;&#x518D;&#x6700;&#x54C9;&#x585E;&#x59BB;&#x5BB0;&#x5F69;&#x624D;&#x91C7;&#x683D;&#x5C81;&#x6D4E;&#x707E;&#x91C7;&#x788E;&#x7826;&#x796D;&#x658B;&#x7EC6;&#x83DC;&#x88C1;&#x8F7D;&#x9645;&#x5242;&#x5728;&#x6750;&#x7F6A;&#x8D22;&#x51B4;&#x5742;&#x80B4;&#x5D0E;&#x4F5C;&#x524A;&#x548B;&#x624E;&#x6628;&#x6805;&#x7B56;&#x7D22;&#x9519;&#x6A31;&#x5319;&#x518C;&#x5237;&#x5BDF;&#x62F6;&#x64AE;&#x64E6;&#x672D;&#x6740;&#x6742;&#x634C;&#x76BF;&#x6652;&#x4E09;&#x4F1E;&#x53C2;&#x5C71;&#x60E8;&#x6563;&#x6808;&#x4EA7;&#x7B97;&#x8695;&#x8D5E;&#x9178;&#x9910;&#x65A9;&#x6682;&#x6B8B; &#x3057; &#x4ED5;&#x4F3A;&#x4F7F;&#x523A;&#x53F8;&#x53F2;&#x55E3;&#x56DB;&#x58EB;&#x59CB;&#x59C9;&#x59FF;&#x5B50;&#x5C38;&#x5E02;&#x5E08;&#x5FD7;&#x601D;&#x6307;&#x652F;&#x65AF;&#x65BD;&#x65E8;&#x679D;&#x6B62;&#x6B7B;&#x6C0F;&#x72EE;&#x7949;&#x79C1;&#x4E1D;&#x7EB8;&#x7D2B;&#x80A2;&#x8102;&#x81F3;&#x89C6;&#x8BCD;&#x8BD7;&#x8BD5;&#x5FD7;&#x54A8;&#x8D44;&#x8D50;&#x96CC;&#x9972;&#x9F7F;&#x4E8B;&#x4F3C;&#x4F8D;&#x513F;&#x5B57;&#x5BFA;&#x6148;&#x6301;&#x65F6;&#x6B21;&#x6ECB;&#x6CBB;&#x5C14;&#x73BA;&#x78C1;&#x793A;&#x8033;&#x81EA;&#x8F9E;&#x6C50;&#x9E7F;&#x5F0F;&#x8BC6;&#x7AFA;&#x8F74;&#x4E03;&#x53F1;&#x6267;&#x5931;&#x5BA4;&#x6E7F;&#x6F06;&#x75BE;&#x8D28;&#x5B9E;&#x67F4;&#x829D;&#x820D;&#x5199;&#x5C04;&#x62FE;&#x8D66;&#x659C;&#x716E;&#x793E;&#x7EB1;&#x8005;&#x8C22;&#x8F66;&#x906E;&#x86C7;&#x90AA;&#x501F;&#x52FA;&#x5C3A;&#x707C;&#x7235;&#x914C;&#x91C8;&#x82E5;&#x5BC2;&#x5F31;&#x4E3B;&#x53D6;&#x5B88;&#x624B;&#x6731;&#x6B8A;&#x72E9;&#x73E0;&#x79CD;&#x8DA3;&#x9152;&#x9996;&#x5112;&#x53D7;&#x5BFF;&#x6388;&#x6811;&#x9700;&#x56DA;&#x6536;&#x5468;&#x5B97;&#x5C31;&#x5DDE;&#x4FEE;&#x6101;&#x62FE;&#x79C0;&#x79CB;&#x7EC8;&#x7EE3;&#x4E60;&#x81ED;&#x821F;&#x4F17;&#x88AD;&#x8B90;&#x8E74;&#x5468;&#x916C;&#x96C6;&#x4E11;&#x4EC0;&#x4F4F;&#x5145;&#x5341;&#x4ECE;&#x67D4;&#x6C41;&#x6DA9;&#x517D;&#x7EB5;&#x91CD;&#x94F3;&#x53D4;&#x5BBF;&#x6DD1;&#x795D;&#x7F29;&#x8083;&#x587E;&#x719F;&#x51FA;&#x672F;&#x8FF0;&#x4FCA;&#x5CFB;&#x6625;&#x77AC;&#x9A8F;&#x51C6;&#x5FAA;&#x65EC;&#x696F;&#x6B89;&#x6DF3;&#x96BC;&#x6DA6;&#x76FE;&#x7EAF;&#x5DE1;&#x9075;&#x987A;&#x5904;&#x521D;&#x6240;&#x6691;&#x6E1A;&#x5EB6;&#x7EEA;&#x7F72;&#x4E66;&#x8BF8;&#x52A9;&#x53D9;&#x5973;&#x5E8F;&#x5F90;&#x9664;&#x4F24;&#x8D4F;&#x80DC;&#x5320;&#x5347;&#x53EC;&#x5546;&#x5531;&#x5C1D;&#x5956;&#x5BB5;&#x5C06;&#x5C0F;&#x5C11;&#x5C1A;&#x5E84;&#x5E8A;&#x5382;&#x5F70;&#x627F;&#x6284;&#x62DB;&#x638C;&#x6377;&#x5347;&#x660C;&#x662D;&#x6676;&#x677E;&#x68A2;&#x6CBC;&#x6D88;&#x6D89;&#x70E7;&#x7126;&#x7167;&#x75C7;&#x7701;&#x785D;&#x7901;&#x7965;&#x79F0;&#x7AE0;&#x7B11;&#x5986;&#x7ECD;&#x8096;&#x848B;&#x51B2;&#x8BBC;&#x8BC1;&#x8BCF;&#x8BE6;&#x8C61;&#x8D4F;&#x949F;&#x953A;&#x969C;&#x4E0A;&#x4E08;&#x4E1E;&#x4E58;&#x5197;&#x5269;&#x57CE;&#x573A;&#x58E4;&#x5B22;&#x5E38;&#x60C5;&#x6761;&#x6756;&#x51C0;&#x72B6;&#x53E0;&#x7A70;&#x84B8;&#x8BA9; &#x91B8;&#x952D;&#x5631;&#x9970;&#x690D;&#x6B96;&#x7EC7;&#x804C;&#x8272;&#x89E6;&#x98DF;&#x8FB1;&#x5C3B;&#x4F38;&#x4FE1;&#x4FB5;&#x5507;&#x5A20;&#x5BDD;&#x756A;&#x5FC3;&#x614E;&#x632F;&#x65B0;&#x664B;&#x68EE;&#x6D78;&#x6DF1;&#x7533;&#x771F;&#x795E;&#x79E6;&#x7EC5;&#x81E3;&#x85AA;&#x4EB2;&#x8BCA;&#x8EAB;&#x8F9B;&#x8FDB;&#x9488;&#x9707;&#x4EBA;&#x4EC1;&#x5203;&#x5C18;&#x5BFB;&#x751A;&#x5C3D;&#x8FC5;&#x9635;&#x3059; &#x987B;&#x9162;&#x56FE;&#x5439;&#x5782;&#x5E05;&#x63A8;&#x6C34;&#x708A;&#x7761;&#x7CB9;&#x7FE0;&#x8870;&#x9042;&#x9189;&#x9524;&#x968F;&#x745E;&#x9AD3;&#x5D07;&#x5D69;&#x6570;&#x67A2;&#x8D8B;&#x96CF;&#x636E;&#x6749;&#x96C0;&#x6F84;&#x6298;&#x5BF8; &#x305B; &#x4E16;&#x6FD1;&#x4EA9;&#x662F;&#x5236;&#x52BF;&#x59D3;&#x5F81;&#x6027;&#x6210;&#x653F;&#x6574;&#x661F;&#x6674;&#x6816;&#x6B63;&#x6E05;&#x7272;&#x751F;&#x76DB;&#x7CBE;&#x5723;&#x58F0;&#x5236;&#x897F;&#x8BDA;&#x8A93;&#x8BF7;&#x901D;&#x9192;&#x9752;&#x9759;&#x9F50;&#x7A0E;&#x53CC;&#x5E2D;&#x60DC;&#x621A;&#x65A5;&#x6614;&#x6790;&#x77F3;&#x79EF;&#x7C4D;&#x7EE9;&#x810A;&#x8D23;&#x8D64;&#x8FF9;&#x5207;&#x62D9;&#x63A5;&#x6444;&#x6298;&#x8BBE;&#x7A83;&#x8282;&#x8BF4;&#x96EA;&#x7EDD;&#x820C;&#x8749;&#x4ED9;&#x5148;&#x5343;&#x5360;&#x5BA3;&#x4E13;&#x5C16;&#x5DDD;&#x6218;&#x6247;&#x6813;&#x6CC9;&#x6D45;&#x6D17;&#x67D3;&#x6F5C;&#x717D;&#x65CB;&#x7A7F;&#x7BAD;&#x7EBF;&#x7FA1;&#x817A;&#x8239;&#x8350;&#x8BE0;&#x8DF5;&#x9009;&#x8FC1;&#x94B1;&#x94E3;&#x95EA;&#x9C9C;&#x524D;&#x5584;&#x6E10;&#x7136;&#x5168;&#x7985;&#x7F2E;&#x305D; &#x5851;&#x63AA;&#x66FE;&#x695A;&#x72D9;&#x758F;&#x7840;&#x7956;&#x79DF;&#x7C97;&#x7D20;&#x7EC4;&#x82CF;&#x8BC9;&#x963B;&#x9F20;&#x50E7;&#x521B;&#x53CC;&#x4ED3;&#x4E27;&#x58EE;&#x594F;&#x723D;&#x5B8B;&#x5C42;&#x60E3;&#x60F3;&#x641C;&#x626B;&#x633F;&#x6414;&#x64CD;&#x65E9;&#x66F9;&#x5DE2;&#x67AA;&#x69FD;&#x71E5;&#x4E89;&#x7626;&#x76F8;&#x7A93;&#x603B;&#x7EFC;&#x806A;&#x8349;&#x8358;&#x846C;&#x82CD;&#x85FB;&#x88C5;&#x8D70;&#x9001;&#x906D; &#x9535;&#x971C;&#x9A9A;&#x50CF;&#x589E;&#x618E;&#x810F;&#x85CF;&#x8D60;&#x9020;&#x4FC3;&#x4FA7;&#x5219;&#x5373;&#x606F;&#x6349;&#x675F;&#x6D4B;&#x8DB3;&#x901F;&#x4FD7;&#x5C5E;&#x8D3C;&#x65CF;&#x7EED;&#x5352;&#x63C3;&#x5B58;&#x5B59;&#x5C0A;&#x635F;&#x6751;&#x900A; &#x305F; &#x4ED6;&#x591A;&#x592A;&#x6C70;&#x553E;&#x5815;&#x59A5;&#x60F0;&#x6253;&#x9A6E;&#x4F53;&#x5BF9;&#x8010;&#x5CB1;&#x5E26;&#x5F85;&#x6020;&#x6001;&#x6234;&#x66FF;&#x6CF0;&#x6EDE;&#x80CE;&#x888B;&#x8D37;&#x9000;&#x902E;&#x961F;&#x9CB7;&#x4EE3;&#x53F0;&#x5927;&#x7B2C;&#x9898;&#x9E70;&#x6CF7;&#x5353;&#x5B85;&#x629E;&#x62D3;&#x6CA2;&#x6FEF;&#x7422;&#x6258;&#x6D4A;&#x8BFA;&#x53EA;&#x53E9;&#x4F46;&#x8FBE;&#x8FB0;&#x593A;&#x8131;&#x68DA;&#x8C37;&#x8C01;&#x4E39;&#x5355;&#x53F9;&#x5766;&#x62C5;&#x63A2;&#x65E6;&#x53F9;&#x6DE1;&#x70AD;&#x77ED;&#x7AEF;&#x7708;&#x80C6;&#x8BDE;&#x953B;&#x56E2;&#x575B;&#x5F39;&#x65AD;&#x66A7;&#x6BB5;&#x7537;&#x8C08; &#x3061; &#x503C;&#x77E5;&#x5730;&#x803B;&#x667A;&#x6C60;&#x75F4;&#x7A1A;&#x7F6E;&#x81F4;&#x8FDF;&#x9A70;&#x7B51;&#x755C;&#x7AF9;&#x84C4;&#x9010;&#x79E9;&#x7A92;&#x8336;&#x5AE1;&#x7740;&#x4E2D;&#x4EF2;&#x5B99;&#x5FE0;&#x62BD;&#x663C;&#x67F1;&#x6CE8;&#x866B;&#x8877;&#x94F8;&#x9A7B;&#x732A;&#x8457;&#x8D2E;&#x4E01;&#x5146;&#x5BA0;&#x5E10;&#x5385;&#x540A;&#x5F20;&#x96D5;&#x5F81;&#x60E9;&#x6311;&#x7545;&#x671D;&#x6F6E;&#x753A;&#x773A;&#x542C;&#x80C0;&#x80A0;&#x8776;&#x8C03;&#x8C0D;&#x8D85;&#x8DF3;&#x957F;&#x9876;&#x9E1F;&#x8D56;&#x76F4; &#x6715;&#x6C88;&#x73CD;&#x8D41;&#x9547;&#x9648; &#x3064; &#x6D25;&#x5760;&#x69CC;&#x8FFD;&#x939A;&#x75DB;&#x901A;&#x51A2;&#x63B4;&#x6E83;&#x8311;&#x9537;&#x6E83;&#x576A;&#x722A;&#x540A;&#x9493;&#x9E64; &#x3066; &#x4EAD;&#x4F4E;&#x505C;&#x4FA6;&#x8D1E;&#x5448;&#x5824;&#x5B9A;&#x5E1D;&#x5E95;&#x5EAD;&#x5EF7;&#x5F1F;&#x608C;&#x62B5;&#x633A;&#x63D0;&#x68AF;&#x796F;&#x7A0B;&#x7F14;&#x8247;&#x8BA2;&#x8E44;&#x9013;&#x90B8;&#x90D1;&#x9489;&#x9F0E;&#x6CE5;&#x6458;&#x64E2;&#x654C;&#x6EF4;&#x7684;&#x7B1B;&#x9002;&#x6EBA;&#x54F2;&#x5F7B;&#x64A4;&#x8F99;&#x8FED;&#x94C1;&#x5178;&#x5929;&#x5C55;&#x5E97;&#x6DFB;&#x8F6C;&#x70B9;&#x4F20;&#x6BBF;&#x7530;&#x7535; &#x3068; &#x5154;&#x5410;&#x5835;&#x6D82;&#x5F92;&#x6597;&#x7261;&#x6E21;&#x767B;&#x83DF;&#x5835;&#x9014;&#x90FD;&#x52AA;&#x5EA6;&#x571F;&#x5974;&#x6012;&#x5012;&#x515A;&#x51AC;&#x51BB;&#x5200;&#x5510;&#x5854;&#x5C9B;&#x60BC;&#x6295;&#x642D;&#x4E1C;&#x6843;&#x680B;&#x76D7;&#x6C64;&#x6D9B;&#x706F;&#x5F53;&#x75D8;&#x7977;&#x7B49;&#x7B54;&#x7B52;&#x7CD6;&#x7EDF;&#x5230;&#x8463;&#x85E4;&#x8BA8;&#x80C6;&#x8C46;&#x8E0F;&#x9003;&#x900F;&#x956B;&#x9676;&#x5934;&#x817E;&#x6597;&#x51B2;&#x52A8;&#x540C;&#x5802;&#x5BFC;&#x6D1E;&#x77B3;&#x7AE5;&#x80F4;&#x8404;&#x9053;&#x94DC;&#x9E28;&#x533F;&#x5F97;&#x5FB7;&#x7279;&#x7763;&#x79C3;&#x7B03;&#x6BD2;&#x72EC;&#x8BFB;&#x51F8;&#x7A81;&#x5C4A;&#x5BC5;&#x9149;&#x5C6F;&#x6566; &#x6566;&#x8C5A;&#x9041;&#x987F;&#x541E;&#x949D; &#x306A; &#x5948;&#x90A3;&#x5185;&#x5243;&#x8C1C;&#x9A6F;&#x7EF3;&#x5357;&#x6960;&#x8F6F;&#x96BE;&#x6C5D; &#x306B; &#x4E8C;&#x5C3C;&#x8D30;&#x8089;&#x8679;&#x65E5;&#x4E73;&#x5165;&#x5982;&#x5C3F;&#x4EFB; &#x598A;&#x5FCD;&#x8BA4; &#x306C; &#x6FE1; &#x306D; &#x5B81;&#x732B;&#x70ED;&#x5E74;&#x5FF5;&#x637B;&#x71C3;&#x7C98; &#x306E; &#x4E43;&#x4E4B;&#x607C;&#x6D53;&#x7EB3;&#x80FD;&#x8111;&#x519C;&#x306F; &#x5DF4;&#x628A;&#x9738;&#x6CE2;&#x6D3E;&#x7834;&#x5A46;&#x9A82;&#x9A6C;&#x4FF3;&#x5E9F; &#x62DC;&#x6392;&#x8D25;&#x676F;&#x80CC;&#x80BA;&#x8F88;&#x914D;&#x500D;&#x57F9;&#x5A92;&#x6885;&#x4E70;&#x5356;&#x8D54;&#x966A;&#x8FD9;&#x8429;&#x4F2F;&#x5265;&#x535A;&#x62CD;&#x67CF;&#x6CCA;&#x767D;&#x7B94;&#x8236;&#x8584;&#x8FEB;&#x6F20;&#x7206;&#x7F1A;&#x9EA6;&#x7BB1;&#x8087;&#x7B48;&#x808C;&#x7551;&#x516B;&#x94B5;&#x6CFC;&#x53D1;&#x53D1;&#x4F10;&#x7F5A;&#x62D4;&#x7B4F;&#x9600;&#x9E20;&#x96BC;&#x4F34;&#x5224;&#x534A;&#x53CD;&#x53DB;&#x5E06;&#x642C;&#x677F;&#x6C3E;&#x6CDB;&#x7248;&#x72AF;&#x73ED;&#x7554;&#x7E41;&#x822C;&#x85E9;&#x8D29;&#x8303;&#x70E6;&#x9881;&#x996D;&#x633D;&#x665A;&#x756A;&#x76D8;&#x78D0;&#x86EE; &#x3072; &#x5351;&#x5426;&#x5983;&#x5E87;&#x5F7C;&#x60B2;&#x6249;&#x6279;&#x62AB;&#x6590;&#x6BD4;&#x6CCC;&#x75B2;&#x76AE;&#x7891;&#x79D8;&#x7EEF;&#x7F62;&#x80A5;&#x88AB;&#x8BFD;&#x8D39;&#x907F;&#x975E;&#x98DE;&#x5907;&#x5C3E;&#x5FAE;&#x7709;&#x7F8E;&#x9F3B;&#x5339;&#x9AED;&#x5F66;&#x819D;&#x5F3C;&#x5FC5;&#x7B14;&#x903C;&#x59EC;&#x5A9B;&#x767E;&#x8868;&#x5F6A;&#x6807;&#x51B0;&#x6F02;&#x7968;&#x8868;&#x8BC4;&#x8C79;&#x5E99;&#x63CF;&#x75C5;&#x79D2;&#x82D7;&#x54C1;&#x5F6C;&#x6D5C;&#x6FD2;&#x8D2B;&#x5B9D;&#x9891;&#x654F;&#x74F6; &#x3075; &#x4E0D;&#x4ED8;&#x592B;&#x5987;&#x5BCC;&#x5E03;&#x5E9C;&#x6016;&#x6276;&#x6577;&#x65A7;&#x666E;&#x6D6E;&#x7236;&#x7B26;&#x8150;&#x80A4;&#x8299;&#x8C31;&#x8D1F;&#x8D4B;&#x8D74;&#x9644;&#x4FAE;&#x629A;&#x6B66;&#x821E;&#x90E8;&#x5C01;&#x67AB;&#x98CE;&#x8557;&#x4F0F;&#x526F;&#x590D;&#x5E45;&#x670D;&#x798F;&#x8179;&#x590D;&#x8986;&#x6E0A;&#x6269;&#x6CB8;&#x4ECF;&#x7269;&#x5206;&#x55B7;&#x575F;&#x6124;&#x711A;&#x594B;&#x7C89;&#x7EB7;&#x6C1B;&#x6587;&#x95FB; &#x3078; &#x4E19;&#x5175;&#x576A;&#x5E01;&#x5E73;&#x5F0A;&#x67C4;&#x5E76;&#x853D;&#x95ED;&#x965B;&#x7C73;&#x58C1;&#x7656;&#x78A7;&#x522B;&#x8511;&#x504F;&#x53D8;&#x7247;&#x7BC7;&#x7F16;&#x8FB9;&#x8FD4;&#x904D;&#x4FBF;&#x52C9;&#x725F;&#x97AD; &#x307B; &#x4FDD;&#x94FA;&#x6355;&#x6B65;&#x752B;&#x8865;&#x8F85;&#x7A42;&#x52DF;&#x5893;&#x6155;&#x66AE;&#x6BCD;&#x7C3F;&#x4EFF;&#x4FF8;&#x5305;&#x5446;&#x62A5;&#x5949;&#x5B9D;&#x5CF0;&#x5D29;&#x62B1;&#x6367;&#x653E;&#x65B9;&#x670B;&#x6CD5;&#x6CE1;&#x70AE;&#x7F1D;&#x80DE;&#x82B3;&#x840C;&#x8702;&#x8912;&#x8BBF;&#x4E30;&#x90A6;&#x950B;&#x9971;&#x51E4;&#x4E4F;&#x4EA1;&#x508D;&#x5256;&#x574A;&#x59A8;&#x5E3D;&#x5FD8;&#x5FD9;&#x623F;&#x66B4;&#x671B;&#x67D0;&#x68D2;&#x5192;&#x7EBA;&#x80AA;&#x81A8;&#x8C0B;&#x8C8C;&#x8D38;&#x9632;&#x5317;&#x4EC6;&#x58A8;&#x6251;&#x6734;&#x7267;&#x7766;&#x7A46;&#x6CA1;&#x6398;&#x5954;&#x672C;&#x7FFB;&#x51E1;&#x76C6; &#x307E; &#x6469;&#x78E8;&#x9B54;&#x9EBB;&#x57CB;&#x59B9;&#x6627;&#x679A;&#x6BCF;&#x69C7;&#x5E55;&#x819C;&#x6795;&#x4EA6;&#x53C8;&#x62B9;&#x672B;&#x8327;&#x9EBF;&#x4E07;&#x6162;&#x6EE1;&#x6F2B;&#x307F; &#x5473;&#x672A;&#x9B45;&#x5DF3;&#x5CAC;&#x5BC6;&#x7A14;&#x8109;&#x5999;&#x6C11;&#x7720; &#x3080; &#x52A1;&#x68A6;&#x65E0;&#x725F;&#x77DB;&#x96FE;&#x5A18; &#x3081; &#x51A5;&#x540D;&#x547D;&#x660E;&#x76DF;&#x8FF7;&#x94ED;&#x9E23;&#x706D;&#x514D;&#x7EF5;&#x9762; &#x3082; &#x6478;&#x8302;&#x5984;&#x5B5F;&#x6BDB;&#x731B;&#x76F2;&#x7EB2;&#x8017;&#x8499;&#x6728;&#x9ED8;&#x76EE;&#x5C24;&#x623B;&#x95EE;&#x95F7;&#x7EB9;&#x95E8;&#x5301;&#x3084; &#x4E5F;&#x591C;&#x8036;&#x91CE;&#x5F25;&#x77E2;&#x5384;&#x5F79;&#x7EA6;&#x836F;&#x8BD1;&#x8DC3;&#x9756;&#x67F3;&#x3086; &#x6109;&#x6108;&#x6CB9;&#x8C15;&#x8F93;&#x552F;&#x4F51;&#x4F18;&#x52C7;&#x53CB;&#x5E7D;&#x60A0;&#x72B9;&#x6709;&#x91C9;&#x6D8C;&#x72B9;&#x7531;&#x8BF1;&#x6E38;&#x9091;&#x90AE;&#x96C4;&#x878D;&#x5915; &#x3088; &#x4E88;&#x4F59;&#x4E8E;&#x8A89;&#x4E0E;&#x9884;&#x5E7C;&#x5996;&#x5BB9;&#x5EB8;&#x626C;&#x6447;&#x62E5;&#x66DC;&#x6768;&#x6837;&#x6D0B;&#x6EB6;&#x7528;&#x7F94;&#x7F8A;&#x53F6;&#x84C9;&#x8981;&#x8C23;&#x8E0A;&#x9065;&#x9633;&#x517B;&#x6291;&#x6B32;&#x6C83;&#x6D74;&#x7FCC;&#x7FFC; &#x3089; &#x7F57;&#x88F8;&#x6765;&#x83B1;&#x8D56;&#x96F7;&#x6D1B;&#x7EDC;&#x843D;&#x916A;&#x4E71;&#x5375;&#x5C9A;&#x680F;&#x6EE5;&#x84DD;&#x5170;&#x89C8; &#x308A; &#x5229;&#x540F;&#x5C65;&#x674E;&#x68A8;&#x7406;&#x7483;&#x75E2;&#x91CC;&#x91CC;&#x79BB;&#x9646;&#x5F8B;&#x7387;&#x7ACB;&#x7565;&#x5218;&#x6D41;&#x6E9C;&#x7559;&#x786B;&#x7C92;&#x9686;&#x9F9F;&#x9F99;&#x4FA3;&#x8651;&#x65C5;&#x864F;&#x4E86;&#x4EAE;&#x50DA;&#x4E24;&#x51CC;&#x5BEE;&#x6599;&#x6881;&#x51C9;&#x7597;&#x4E86;&#x7CAE;&#x826F;&#x8C05;&#x8FBD;&#x91CF;&#x9675;&#x9886;&#x529B;&#x7EFF;&#x4F26;&#x5398;&#x6797;&#x7433;&#x4E34;&#x8F6E;&#x90BB;&#x9CDE;&#x9E9F; &#x308B; &#x7409;&#x5792;&#x6CEA;&#x7D2F;&#x7C7B; &#x308C; &#x4EE4;&#x4F36;&#x4F8B;&#x51B7;&#x52B1;&#x5CAD;&#x601C;&#x73B2;&#x793C;&#x94C3;&#x96B6;&#x96F6;&#x7075;&#x4E3D;&#x9F84;&#x66A6;&#x5386;&#x5217;&#x52A3;&#x70C8;&#x88C2;&#x5EC9;&#x604B;&#x601C;&#x7EC3;&#x8054;&#x83B2;&#x8FDE;&#x94FE; &#x308D; &#x5415;&#x9C81;&#x6A79;&#x7089;&#x8D42;&#x8DEF;&#x9732;&#x52B3;&#x5ECA;&#x5F04;&#x90CE;&#x697C;&#x6D6A;&#x6F0F;&#x7262;&#x72FC;&#x5784;&#x8001;&#x90CE;&#x516D;&#x9E93;&#x7984;&#x808B;&#x5F55;&#x8BBA;&#x308F; &#x548C;&#x8BDD;&#x6B6A;&#x8D42;&#x6216;&#x67A0;&#x4E98;&#x8BE7;&#x6E7E;&#x8155; &#x7279;&#x6B8A;&#x6C49;&#x5B57; &#x4E15;&#x4E42;&#x8C6B;&#x4E8E;&#x4F57;&#x4F91;&#x501A;&#x5043;&#x5085;&#x50ED;&#x5101;&#x5140;&#x4FDE;&#x5180;&#x51DB;&#x51F0;&#x522E;&#x5239;&#x514B;&#x523A;&#x52AD;&#x5308; &#x535E;&#x7BE1;&#x66FC;&#x543C;&#x5475;&#x548E;&#x5486;&#x54A4;&#x54EE;&#x5FF5;&#x5583;&#x5634;&#x5632;&#x54CD;&#x56EE;&#x56FD;&#x5761;&#x57D2;&#x5811;&#x58F6;&#x592D;&#x5939;&#x5955;&#x5942;&#x5978;&#x59DC;&#x5A1F;&#x5A36;&#x5AC2;&#x5BA6;&#x5BC7;&#x5BD4;&#x5C39;&#x5C4F;&#x5D0E;&#x5CEA;&#x5D14;&#x5D4C;&#x5DB7;&#x5DF1;&#x5E76;&#x5ED6;&#x53A8;&#x5E90;&#x5F29;&#x5F6D;&#x606A;&#x608D;&#x6115;&#x60EE;&#x60AF;&#x61FF;&#x6208;&#x622A;&#x6396;&#x639F;&#x63C9;&#x6426;&#x64D2;&#x6538;&#x659F;&#x7272;&#x65FB;&#x7693;&#x66B9;&#x54D7; &#x65F7;&#x6736;&#x67EF;&#x67A2;&#x67AD;&#x6977;&#x8302;&#x6A0A;&#x6A59;&#x6A84;&#x69DB;&#x6B7C;&#x6BB7;&#x6C82;&#x6C9B;&#x6CAE;&#x6D38;&#x6D35;&#x6D12;&#x6DEE;&#x6E2D;&#x9896;&#x6EDA;&#x6F7C;&#x6F58;&#x777F;&#x6FEE;&#x6CF8;&#x7109;&#x7199;&#x8000;&#x72DE;&#x73C0;&#x7405;&#x7425;&#x7459;&#x7441;&#x745C;&#x739B;&#x7476;&#x747E;&#x748B;&#x74A7;&#x743C;&#x7504;&#x74EE;&#x5F53;&#x7586;&#x75F9;&#x7624;&#x7696;&#x7693;&#x5362;&#x7708;&#x7729;&#x7738;&#x7768;&#x7791;&#x77BB;&#x78CB;&#x7940;&#x5D07;&#x797A;&#x79E3;&#x7A20;&#x7AD9;&#x7B50;&#x7B3C;&#x7CB2;&#x7CB1;&#x7CDC;&#x7ECA;&#x7EEE;&#x7F60;&#x7F8C;&#x7FA4;&#x7FD4;&#x7FE1;&#x7FF3;&#x804A;&#x8058;&#x80C4;&#x4FEE;&#x8151;&#x80C6;&#x81BA;&#x80EA;&#x81E7;&#x8205;&#x8210;&#x8238;&#x8258;&#x8270;&#x827E;&#x8303;&#x82DE;&#x8309;&#x8340;&#x837C; &#x8389;&#x846D;&#x8521;&#x859C;&#x857E;&#x85C9;&#x8654;&#x86A9;&#x8700;&#x8881;&#x888D;&#x88D4;&#x88F4;&#x88E8;&#x8944;&#x8BA3;&#x8BDB;&#x8C0F;&#x8C21;&#x8BB4;&#x8C2D;&#x8C17;&#x6EAA;&#x8C82;&#x8D2C;&#x8D3E;&#x8D32;&#x8D58;&#x7EA0;&#x8D75;&#x8DBE;&#x8DEA;&#x8E42;&#x8E59;&#x8E87;&#x8E0C;&#x8E8F;&#x8EBE;&#x8F78;&#x8F9F;&#x8FEA;&#x9005;&#x901E;&#x8FBE; &#x9082;&#x907D;&#x8FC8;&#x90B5;&#x5374;&#x90BB;&#x949C;&#x9514;&#x94BB;&#x9523;&#x960E;&#x9614;&#x964B;&#x9647;&#x96CD;&#x970D;&#x9739;&#x96F3;&#x97E6;&#x97F6;&#x9882;&#x9889;&#x98A6;&#x98D2;&#x9985;&#x9992;&#x99A5;&#x51AF;&#x9A97;&#x9AA0;&#x9A81;&#x9AE6;&#x9AEF;&#x987B;&#x5171;&#x9B4F;&#x9C82;&#x9C8D;&#x9E8B;&#x9E92;&#x9ECE;&#x9065;&#x6631;&#x5F67;&#x6615;&#x6862;&#x6CDB;&#x7426;&#x8C35;&#x9093;&#x91ED;]]></content>
  </entry>
  <entry>
    <title><![CDATA[mysql-utilities-install]]></title>
    <url>%2F2017%2F11%2F17%2Fmysql-utilities-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; ########## wget http://dev.mysql.com/Downloads/MySQLGUITools/mysql-utilities-1.6.4.zip unzip mysql-utilities-1.6.4.zip cd mysql-utilities-1.6.4/ python setup.py build python setup.py install ########### wget https://dev.mysql.com/get/mysql57-community-release-el6-11.noarch.rpm rpm -ivh mysql57-community-release-el6-11.noarch.rpm yum clean all yum list yum install mysql-utilities -y]]></content>
  </entry>
  <entry>
    <title><![CDATA[你好，我是运维！]]></title>
    <url>%2F2017%2F10%2F11%2Fiamops%2F</url>
    <content type="text"><![CDATA[&#x4F60;&#x597D;&#xFF0C;&#x6211;&#x662F;&#x8FD0;&#x7EF4;&#xFF01;&#x5728;&#x5F88;&#x591A;&#x4EBA;&#x773C;&#x91CC;&#xFF0C;&#x8FD0;&#x7EF4;&#x548C;&#x6253;&#x6742;&#x7684;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x533A;&#x522B;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x73B0;&#x5728;&#x7684;&#x5927;&#x73AF;&#x5883;&#xFF0C;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7D20;&#x8D28;&#x4F4E;&#x4E0B;&#x7684;&#x975E;&#x4E3B;&#x6D41;&#x6280;&#x672F;&#x4EBA;&#x5458;&#x5927;&#x6279;&#x6D8C;&#x5165;IT&#x884C;&#x4E1A;&#xFF0C;&#x53EA;&#x4F1A;&#x4E00;&#x70B9;&#x4E0D;&#x77E5;&#x9053;&#x4ECE;&#x54EA;&#x91CC;&#x5B66;&#x6765;&#x7684;&#x642C;&#x7816;&#x6280;&#x672F;&#x5C31;&#x6562;&#x6F2B;&#x5929;&#x8981;&#x4EF7;&#xFF0C;&#x5B8C;&#x5168;&#x4E0D;&#x628A;&#x5176;&#x4ED6;&#x4EBA;&#x653E;&#x5728;&#x773C;&#x91CC;&#xFF08;&#x5F53;&#x7136;&#x4E0D;&#x53EF;&#x5426;&#x8BA4;&#x8FD9;&#x91CC;&#x9762;&#x8FD8;&#x662F;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x826F;&#x624D;&#x7684;&#xFF0C;&#x73BB;&#x7483;&#x5FC3;&#x8BF7;&#x5BF9;&#x53F7;&#x5165;&#x5EA7;&#xFF09;&#x3002; &#x5728;&#x8FD9;&#x6837;&#x7684;&#x4EBA;&#x773C;&#x4E2D;&#xFF0C;&#x8FD0;&#x7EF4;&#x5B8C;&#x5168;&#x5C31;&#x662F;&#x5976;&#x5988;&#x4E00;&#x6837;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x5BF9;&#x4E8E;&#x4ED6;&#x4EEC;&#x6765;&#x8BF4;&#xFF1A;&#x8FD0;&#x7EF4;&#x662F;&#x7F51;&#x7BA1;&#xFF1B;&#x8FD0;&#x7EF4;&#x662F;&#x6253;&#x6742;&#x7684;&#xFF1B;&#x8FD0;&#x7EF4;&#x662F;&#x80CC;&#x9505;&#x7684;&#xFF1B;&#x8FD0;&#x7EF4;&#x662F;&#x4E07;&#x80FD;&#x7684;&#xFF08;&#x5475;&#x5475;&#xFF09;&#xFF0C;&#x5C31;&#x7B97;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x95EE;&#x9898;&#x4E5F;&#x6BEB;&#x4E0D;&#x6000;&#x7591;&#x7684;&#x628A;&#x8D23;&#x4EFB;&#x63A8;&#x7ED9;&#x8FD0;&#x7EF4;&#x3001;&#x5C31;&#x7B97;&#x662F;&#x642C;&#x7816;&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x4E86;&#x70B9;&#x95EE;&#x9898;&#x4E5F;&#x61D2;&#x5F97;&#x52A8;&#x7528;&#x4ED6;&#x4EEC;&#x9AD8;&#x8D35;&#x7684;&#x624B;&#x6307;&#x53BB;&#x95EE;&#x5EA6;&#x5A18;&#x3001;&#x8C37;&#x54E5;&#x800C;&#x628A;&#x95EE;&#x9898;&#x63A8;&#x7ED9;&#x201C;&#x4E07;&#x80FD;&#x201D;&#x7684;&#x8FD0;&#x7EF4;&#x3002; &#x8FD9;&#x4E9B;&#x4EBA;&#x6709;&#x5F88;&#x591A;&#x4E0D;&#x77E5;&#x9053;&#x4EE3;&#x7801;&#x662F;&#x600E;&#x4E48;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x53EA;&#x4F1A;&#x62FF;&#x522B;&#x4EBA;&#x7684;&#x6765;&#x7528;&#xFF0C;&#x6709;&#x4E9B;&#x8FD8;&#x4E0D;&#x77E5;&#x9053;&#x600E;&#x4E48;&#x7528;&#xFF1B;&#x8FD9;&#x4E9B;&#x4EBA;&#x6709;&#x5F88;&#x591A;&#x89C6;&#x6D41;&#x7A0B;&#x4E3A;&#x65E0;&#x7269;&#x3001;&#x89C6;&#x89C4;&#x8303;&#x5982;&#x65E0;&#x7269;&#x3001;&#x89C6;&#x673A;&#x5236;&#x5982;&#x65E0;&#x7269;&#xFF0C;&#x81EA;&#x5DF1;&#x60F3;&#x600E;&#x4E48;&#x6765;&#x5C31;&#x600E;&#x4E48;&#x6765;&#xFF0C;&#x4E3A;&#x8FBE;&#x76EE;&#x7684;&#x201C;&#x4E0D;&#x62E9;&#x624B;&#x6BB5;&#x201D;&#x3002; &#x4E3E;&#x51E0;&#x4E2A;&#x201C;&#x6817;&#x5B50;&#x201D;&#x5427;&#xFF0C;&#x7B97;&#x4E86;&#x8FD8;&#x662F;&#x4E0D;&#x4E3E;&#x4E86;&#xFF0C;&#x4E00;&#x95ED;&#x773C;&#x8111;&#x6D77;&#x91CC;&#x90FD;&#x662F;&#x90A3;&#x5E2E;&#x70E7;&#x997C;&#x7684;&#x58EE;&#x4E3E;&#xFF0C;&#x8FD8;&#x662F;&#x4E0D;&#x8BF4;&#x4E5F;&#x7F62;&#xFF0C;&#x53CD;&#x6B63;&#x8BE5;&#x61C2;&#x7684;&#x90FD;&#x61C2;&#xFF0C;&#x4F3C;&#x61C2;&#x975E;&#x61C2;&#x7684;&#x5E94;&#x8BE5;&#x65E9;&#x665A;&#x90FD;&#x4F1A;&#x61C2;&#xFF0C;&#x8C01;&#x8FD8;&#x6CA1;&#x78B0;&#x5230;&#x8FC7;&#x51E0;&#x4E2A;&#x7A00;&#x6709;&#x54C1;&#x79CD;&#x3002;&#x81F3;&#x4E8E;&#x90A3;&#x4E9B;&#x61C2;&#x4E86;&#x53C8;&#x4E0D;&#x60F3;&#x61C2;&#x7684;&#x5C31;&#x81EA;&#x5DF1;&#x5BF9;&#x53F7;&#x5165;&#x5EA7;&#x5427;&#x3002; &#x90A3;&#x4E48;&#xFF0C;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x539F;&#x56E0;&#x9020;&#x6210;&#x4E86;&#x73B0;&#x5728;&#x7684;&#x5C40;&#x9762;&#xFF0C;&#x53C8;&#x662F;&#x4EC0;&#x4E48;&#x539F;&#x56E0;&#x8BA9;&#x6211;&#x4EEC;&#x6D6A;&#x8D39;&#x4E86;&#x65E0;&#x6570;&#x7684;&#x53E3;&#x820C;&#x8FD8;&#x88AB;&#x4EBA;&#x6307;&#x7740;&#x540E;&#x80CC;&#x5632;&#x7B11;&#x5462;&#xFF1F;&#x6211;&#x89C9;&#x5F97;&#x5427;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x3002; &#x73AF;&#x5883;&#x662F;&#x4E00;&#x4E2A;&#x56E0;&#x7D20;&#xFF0C;&#x884C;&#x4E1A;&#x53D1;&#x5C55;&#x592A;&#x5FEB;&#xFF0C;&#x5927;&#x6279;&#x65E0;&#x4E1A;&#x4EBA;&#x5458;&#x80E1;&#x4E71;&#x5B66;&#x4E86;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#x4E4B;&#x540E;&#x6D8C;&#x5165;&#x8FD9;&#x4E2A;&#x884C;&#x4E1A;&#x3002;&#xFF08;&#x5F53;&#x7136;&#x8FD9;&#x4E5F;&#x662F;&#x6709;&#x5F88;&#x591A;&#x79D1;&#x73ED;&#x51FA;&#x8EAB;&#x7684;&#x524D;&#x8F88;&#x4EEC;&#x9119;&#x89C6;&#x8FD9;&#x4E9B;&#x4EBA;&#x7684;&#x4E3B;&#x56E0;&#xFF0C;&#x8BDD;&#x8BF4;&#x56DE;&#x6765;&#x672C;&#x4EBA;&#x4E5F;&#x662F;&#x8FD9;&#x4E48;&#x8FDB;&#x6765;&#x7684;&#x5462;&#xFF08;&#x7B11;&#xFF09;&#xFF01;&#xFF09;&#x8FD9;&#x4E9B;&#x4EBA;&#x521A;&#x5F00;&#x59CB;&#x7684;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x6C34;&#x5E73;&#x786E;&#x5B9E;&#x5F88;&#x5DEE;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E9B;&#x4EBA;&#x80AF;&#x523B;&#x82E6;&#x5B66;&#x4E60;&#xFF0C;&#x4E30;&#x5BCC;&#x4E86;&#x81EA;&#x5DF1;&#x54EA;&#x6015;&#x201C;&#x51FA;&#x8EAB;&#x4E0D;&#x597D;&#x201D;&#xFF0C;&#x4E5F;&#x5E76;&#x4E0D;&#x4E22;&#x4EBA;&#xFF0C;&#x4F46;&#x81EA;&#x5DF1;&#x613F;&#x610F;&#x523B;&#x82E6;&#x7684;&#x6BD5;&#x7ADF;&#x8FD8;&#x662F;&#x5C11;&#x6570;&#x3002; &#x90A3;&#x4E48;&#xFF0C;&#x516C;&#x53F8;&#x662F;&#x5426;&#x6709;&#x5FC5;&#x8981;&#x5BF9;&#x521A;&#x8FDB;&#x5165;&#x516C;&#x53F8;&#x8FD8;&#x4E0D;&#x719F;&#x6089;&#x516C;&#x53F8;&#x4E1A;&#x52A1;&#x7684;&#x4EBA;&#x8FDB;&#x884C;&#x57FA;&#x672C;&#x7684;&#x6280;&#x672F;&#x57F9;&#x8BAD;&#x5462;&#xFF1F;&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;&#x4E0D;&#x540C;&#x516C;&#x53F8;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x6280;&#x672F;&#x3001;&#x5236;&#x5B9A;&#x7684;&#x89C4;&#x8303;&#x548C;&#x6D41;&#x7A0B;&#xFF08;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x8FD8;&#x662F;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x5728;&#x65E5;&#x5E38;&#x5DE5;&#x4F5C;&#x4E2D;&#x719F;&#x6089;&#x7684;&#xFF0C;&#x6BD5;&#x7ADF;&#x78B0;&#x5230;&#x95EE;&#x9898;&#x627E;&#x8FD0;&#x7EF4;&#x561B;&#xFF0C;&#x4F60;&#x8BF4;&#x662F;&#x5427;&#xFF01; &#x8FD0;&#x7EF4;&#x5728;&#x4E00;&#x4E2A;&#x516C;&#x53F8;&#x4E2D;&#x627F;&#x62C5;&#x7740;&#x5982;&#x7480;&#x74A8;&#x7E41;&#x661F;&#x822C;&#x7684;&#x5730;&#x4F4D;&#xFF0C;&#x505A;&#x7740;&#x6700;&#x524D;&#x7EBF;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x53D7;&#x7740;&#x6700;&#x540E;&#x7EBF;&#x7684;&#x6C14;&#xFF1B;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x662F;&#x4F60;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#x5F53;&#x7136;&#x662F;&#x4F60;&#x7684;&#x8D23;&#x4EFB;&#xFF0C;&#x6742;&#x4E03;&#x6742;&#x516B;&#x94C1;&#x5B9A;&#x662F;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x5F00;&#x53D1;&#x603B;&#x4E5F;&#x95EE;&#x4E00;&#x4E9B;&#x557C;&#x7B11;&#x7686;&#x975E;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x628A;&#x4ED6;&#x8BA4;&#x4E3A;&#x7684;&#x95EE;&#x9898;&#x6254;&#x7ED9;&#x4F60;&#x89E3;&#x51B3;&#xFF0C;&#x54EA;&#x6015;&#x8FD9;&#x4E2A;&#x4E8B;&#x8DDF;&#x4F60;&#x4E00;&#x70B9;&#x5173;&#x7CFB;&#x90FD;&#x6CA1;&#x6709;&#x3002; &#x6211;&#x89C9;&#x5F97;&#x5E94;&#x8BE5;&#x5212;&#x6E05;&#x754C;&#x9650;&#xFF0C;&#x786E;&#x5B9A;&#x8D23;&#x4EFB;&#x3002;&#x54EA;&#x4E9B;&#x662F;&#x6211;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x4F60;&#x627E;&#x6211;&#xFF1B;&#x54EA;&#x4E9B;&#x4E0D;&#x662F;&#x6211;&#x7684;&#x8D23;&#x4EFB;&#xFF0C;&#x4E0D;&#x4F1A;&#x7528;&#x4F60;&#x81EA;&#x5DF1;&#x53BB;&#x5B66;&#x522B;&#x6765;&#x95EE;&#x6211;&#xFF1B;&#x54EA;&#x4E9B;&#x4EFB;&#x52A1;&#x6211;&#x53EF;&#x4EE5;&#x5E2E;&#x4F60;&#x5B9E;&#x73B0;&#xFF1B;&#x54EA;&#x4E9B;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x4E0D;&#x8BA9;&#x6211;&#x4EEC;&#x53C2;&#x4E0E;&#x4F60;&#x5C31;&#x7ED9;&#x51FA;&#x8BF4;&#x660E;&#x548C;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF1B;&#x54EA;&#x4E9B;&#x89C4;&#x5B9A;&#x548C;&#x6D41;&#x7A0B;&#x5236;&#x5B9A;&#x7684;&#x5C31;&#x8981;&#x6267;&#x884C;&#x3002;&#x7B49;&#x7B49;&#x7B49;&#x8FD9;&#x4E9B;&#x8981;&#x4E0D;&#x8981;&#x5728;&#x4F60;&#x521A;&#x6765;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x8DDF;&#x4F60;&#x8BF4;&#x660E;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8FD0;&#x7EF4;&#x6BD5;&#x7ADF;&#x662F;&#x516C;&#x53F8;&#x76F8;&#x5BF9;&#x5E95;&#x5C42;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x4F60;&#x5F88;&#x96BE;&#x7ED9;&#x516C;&#x53F8;&#x5E26;&#x6765;&#x660E;&#x9762;&#x4E0A;&#x7684;&#x6536;&#x76CA;&#xFF0C;&#x4F60;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x90A3;&#x5C31;&#x662F;&#x4F60;&#x771F;&#x7684;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F60;&#x5C31;&#x7B97;&#x5236;&#x5B9A;&#x4E86;&#x6D41;&#x7A0B;&#xFF0C;&#x4F18;&#x5316;&#x4E86;&#x67B6;&#x6784;&#xFF0C;&#x5F00;&#x53D1;&#x4E86;&#x7CFB;&#x7EDF;&#x4E5F;&#x53EA;&#x662F;&#x4F60;&#x8BE5;&#x505A;&#x7684;&#x4E8B;&#xFF0C;&#x53EF;&#x7B11;&#x7684;&#x662F;&#x4EBA;&#x5BB6;&#x613F;&#x4E0D;&#x613F;&#x610F;&#x914D;&#x5408;&#x4E5F;&#x4E0D;&#x662F;&#x4F60;&#x80FD;&#x505A;&#x7684;&#x4E86;&#x4E3B;&#x7684;&#x3002; &#x5199;&#x70B9;&#x4E1C;&#x897F;&#x53EF;&#x4EE5;&#x53D1;&#x6CC4;&#x4E00;&#x4E9B;&#x60C5;&#x7EEA;&#xFF0C;&#x4F46;&#x4EBA;&#x5FAE;&#x8A00;&#x8F7B;&#xFF0C;&#x5F88;&#x96BE;&#x6709;&#x4EC0;&#x4E48;&#x4F5C;&#x7528;&#xFF0C;&#x6BD5;&#x7ADF;&#x4EBA;&#x4E0E;&#x4EBA;&#x4E4B;&#x95F4;&#x4E5F;&#x5C31;&#x90A3;&#x4E48;&#x56DE;&#x4E8B;&#xFF0C;&#x6240;&#x4EE5;&#x672C;&#x6587;&#x5C31;&#x6B64;&#x7ED3;&#x675F;&#x5427;&#xFF01; &#x4EC0;&#x4E48;&#x662F;&#x8FD0;&#x7EF4;&#xFF1F; &#x8FD0;&#x7EF4;&#x5C31;&#x5982;&#x540C;&#x7E41;&#x661F;&#x661F;&#x661F;&#x70B9;&#x70B9;&#x5374;&#x65E0;&#x6CD5;&#x7167;&#x4EAE;&#x5929;&#x7A7A;&#x3002; &#x5176;&#x5B9E;&#x7E41;&#x661F;&#xFF0C;&#x591A;&#x4E00;&#x4E2A;&#x5C11;&#x4E00;&#x4E2A;&#x4E5F;&#x65E0;&#x6240;&#x8C13;&#xFF0C;&#x4F60;&#x8BF4;&#x662F;&#x5427;&#x3002;]]></content>
  </entry>
  <entry>
    <title><![CDATA[mysql-install]]></title>
    <url>%2F2017%2F09%2F21%2Fmysql-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; &#x5B89;&#x88C5;mysql&#x6DFB;&#x52A0;mysql&#x7528;&#x6237;12345groupadd mysqlmkdir -p /data/mysqluseradd -r -g mysql -d /data/mysql -s /sbin/nologin mysqlchown -R mysql.mysql /data/mysqlyum install cmake ncurses-devel -y &#x83B7;&#x53D6;&#x5B89;&#x88C5;&#x5305;123456789cd /usr/local/srcVERSION=&quot;5.6&quot;MYSQL_VERSION=&quot;5.6.40&quot;VERSION=&quot;5.7&quot;MYSQL_VERSION=&quot;5.7.22&quot;INSTALL_DIR=&quot;/usr/local/product&quot;wget http://dev.mysql.com/get/Downloads/MySQL-${VERSION}/mysql-${MYSQL_VERSION}.tar.gztar -xvf mysql-${MYSQL_VERSION}.tar.gz &amp;&amp; cd mysql-${MYSQL_VERSION} &#x7F16;&#x8BD1;&#x5B89;&#x88C5;1234567891011121314151617181920212223242526272829303132cmake \-DCMAKE_INSTALL_PREFIX=${INSTALL_DIR}/mysql-${MYSQL_VERSION} \-DDEFAULT_CHARSET=utf8 \-DENABLED_LOCAL_INFILE=1 \-DMYSQL_DATADIR=/data/mysql \-DWITH_EXTRA_CHARSETS=all \-DWITH_READLINE=1 \-DWITH_INNOBASE_STORAGE_ENGINE=1 \-DMYSQL_TCP_PORT=3306 \-DDEFAULT_COLLATION=utf8_general_ci# 5.7&#x4EE5;&#x4E0A;cmake \-DCMAKE_INSTALL_PREFIX=${INSTALL_DIR}/mysql-${MYSQL_VERSION} \-DDEFAULT_CHARSET=utf8 \-DENABLED_LOCAL_INFILE=1 \-DMYSQL_DATADIR=/data/mysql \-DSYSCONFDIR=/etc \-DWITH_EXTRA_CHARSETS=all \-DWITH_READLINE=1 \-DWITH_LIBWRAP=0 \-DWITH_INNOBASE_STORAGE_ENGINE=1 \-DWITH_ARCHIVE_STORAGE_ENGINE=1 \-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \-DMYSQL_UNIX_ADDR=/tmp/mysql.sock \-DMYSQL_TCP_PORT=3306 \-DDEFAULT_COLLATION=utf8_general_ci \-DWITH_BOOST=boost/boost_1_59_0/ \-DDOWNLOAD_BOOST=1make &amp;&amp; make installln -s ${INSTALL_DIR}/mysql-${MYSQL_VERSION} /usr/local/mysql &#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;12345678910111213141516171819mkdir /data/logs/mysqlcd /usr/local/mysql/support-files/cp my-medium.cnf /data/mysql/my.cnfcp mysql.server /etc/init.d/mysqldchmod +x /etc/init.d/mysqldcd /usr/local/mysql/scripts/./mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysqlcurl http://c.isme.pub/2017/08/30/service-install/my.cnf -o /etc/my.cnf # 5.7mkdir /data/logs/mysqlcd /usr/local/mysql/support-files/cp mysql.server /etc/init.d/mysqldchmod +x /etc/init.d/mysqldcd /usr/local/mysql/./bin/mysqld --initialize --user=mysql./bin/mysql_ssl_rsa_setup &#x542F;&#x52A8;&#x5E76;&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;init1234567chkconfig mysqld onecho &apos;export PATH=&quot;$PATH:/usr/local/bin:/usr/local/mysql/bin&quot;&apos; &gt;&gt; /root/.bashrcecho &apos;export PATH=&quot;$PATH:/usr/local/bin:/usr/local/mysql/bin&quot;&apos; &gt;&gt; /etc/profilesource /etc/profile]]></content>
  </entry>
  <entry>
    <title><![CDATA[python模块常用方法（os、sys）]]></title>
    <url>%2F2017%2F09%2F14%2Fpython-os%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;python&#x4E2D;os&#x548C;sys&#x6A21;&#x5757;&#x7684;&#x5E38;&#x7528;&#x65B9;&#x6CD5; os123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107## diros.getcwd()#&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x5373;&#x5F53;&#x524D;python&#x811A;&#x672C;&#x5DE5;&#x4F5C;&#x7684;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;os.chdir(&quot;dirname&quot;)#&#x6539;&#x53D8;&#x5F53;&#x524D;&#x811A;&#x672C;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF1B;&#x76F8;&#x5F53;&#x4E8E;shell&#x4E0B;cdos.curdir#&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x76EE;&#x5F55;: (&apos;.&apos;)os.pardir#&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x7684;&#x7236;&#x76EE;&#x5F55;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#xFF1A;(&apos;..&apos;)os.makedirs(&apos;dirname1/dirname2&apos;)#&#x53EF;&#x751F;&#x6210;&#x591A;&#x5C42;&#x9012;&#x5F52;&#x76EE;&#x5F55;os.removedirs(&apos;dirname1&apos;)#&#x82E5;&#x76EE;&#x5F55;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x5220;&#x9664;&#xFF0C;&#x5E76;&#x9012;&#x5F52;&#x5230;&#x4E0A;&#x4E00;&#x7EA7;&#x76EE;&#x5F55;&#xFF0C;&#x5982;&#x82E5;&#x4E5F;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x5220;&#x9664;&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;os.mkdir(&apos;dirname&apos;)#&#x751F;&#x6210;&#x5355;&#x7EA7;&#x76EE;&#x5F55;&#xFF1B;&#x76F8;&#x5F53;&#x4E8E;shell&#x4E2D;mkdir dirnameos.rmdir(&apos;dirname&apos;)#&#x5220;&#x9664;&#x5355;&#x7EA7;&#x7A7A;&#x76EE;&#x5F55;&#xFF0C;&#x82E5;&#x76EE;&#x5F55;&#x4E0D;&#x4E3A;&#x7A7A;&#x5219;&#x65E0;&#x6CD5;&#x5220;&#x9664;&#xFF0C;&#x62A5;&#x9519;&#xFF1B;&#x76F8;&#x5F53;&#x4E8E;shell&#x4E2D;rmdir dirnameos.listdir(&apos;dirname&apos;)#&#x5217;&#x51FA;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x548C;&#x5B50;&#x76EE;&#x5F55;&#xFF0C;&#x5305;&#x62EC;&#x9690;&#x85CF;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4EE5;&#x5217;&#x8868;&#x65B9;&#x5F0F;&#x6253;&#x5370;## fileos.remove()#&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;os.rename(&quot;oldname&quot;,&quot;newname&quot;)#&#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6;/&#x76EE;&#x5F55;os.stat(&apos;path/filename&apos;)#&#x83B7;&#x53D6;&#x6587;&#x4EF6;/&#x76EE;&#x5F55;&#x4FE1;&#x606F;## otheros.sep#&#x8F93;&#x51FA;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7279;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#x5206;&#x9694;&#x7B26;&#xFF0C;win&#x4E0B;&#x4E3A;&quot;\\&quot;,Linux&#x4E0B;&#x4E3A;&quot;/&quot;os.linesep#&#x8F93;&#x51FA;&#x5F53;&#x524D;&#x5E73;&#x53F0;&#x4F7F;&#x7528;&#x7684;&#x884C;&#x7EC8;&#x6B62;&#x7B26;&#xFF0C;win&#x4E0B;&#x4E3A;&quot;\t\n&quot;,Linux&#x4E0B;&#x4E3A;&quot;\n&quot;os.pathsep#&#x8F93;&#x51FA;&#x7528;&#x4E8E;&#x5206;&#x5272;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x7684;&#x5B57;&#x7B26;&#x4E32;os.name#&#x8F93;&#x51FA;&#x5B57;&#x7B26;&#x4E32;&#x6307;&#x793A;&#x5F53;&#x524D;&#x4F7F;&#x7528;&#x5E73;&#x53F0;&#x3002;win-&gt;&apos;nt&apos;; Linux-&gt;&apos;posix&apos;os.system(&quot;bash command&quot;)#&#x8FD0;&#x884C;shell&#x547D;&#x4EE4;&#xFF0C;&#x76F4;&#x63A5;&#x663E;&#x793A;os.environ#&#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x53D8;&#x91CF;## os.pathos.path.isfile(path)#&#x5982;&#x679C;path&#x662F;&#x4E00;&#x4E2A;&#x5B58;&#x5728;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD4;&#x56DE;True&#x3002;&#x5426;&#x5219;&#x8FD4;&#x56DE;Falseos.path.isdir(path)#&#x5982;&#x679C;path&#x662F;&#x4E00;&#x4E2A;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;True&#x3002;&#x5426;&#x5219;&#x8FD4;&#x56DE;Falseos.path.abspath(path)#&#x8FD4;&#x56DE;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;os.path.basename(path)# &#x8FD4;&#x56DE;path&#x6700;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x5982;&#x4F55;path&#x4EE5;&#xFF0F;&#x6216;\&#x7ED3;&#x5C3E;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x8FD4;&#x56DE;&#x7A7A;&#x503C;&#x3002;&#x5373;os.path.split(path)&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;os.path.commonprefix(list)#&#x8FD4;&#x56DE;list(&#x591A;&#x4E2A;&#x8DEF;&#x5F84;)&#x4E2D;&#xFF0C;&#x6240;&#x6709;path&#x5171;&#x6709;&#x7684;&#x6700;&#x957F;&#x7684;&#x8DEF;&#x5F84;&#x3002;os.path.dirname(path)#&#x8FD4;&#x56DE;path&#x7684;&#x76EE;&#x5F55;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;os.path.split(path)&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;os.path.exists(path)#&#x5982;&#x679C;path&#x5B58;&#x5728;&#xFF0C;&#x8FD4;&#x56DE;True&#xFF1B;&#x5982;&#x679C;path&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8FD4;&#x56DE;Falseos.path.lexists#&#x8DEF;&#x5F84;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE;True,&#x8DEF;&#x5F84;&#x635F;&#x574F;&#x4E5F;&#x8FD4;&#x56DE;Trueos.path.expanduser(path)#&#x628A;path&#x4E2D;&#x5305;&#x542B;&#x7684;&quot;~&quot;&#x548C;&quot;~user&quot;&#x8F6C;&#x6362;&#x6210;&#x7528;&#x6237;&#x76EE;&#x5F55;os.path.expandvars(path)#&#x6839;&#x636E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x66FF;&#x6362;path&#x4E2D;&#x5305;&#x542B;&#x7684;&#x201D;$name&#x201D;&#x548C;&#x201D;${name}&#x201D;os.path.getatime(path)#&#x8FD4;&#x56DE;path&#x6240;&#x6307;&#x5411;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x76EE;&#x5F55;&#x7684;&#x6700;&#x540E;&#x5B58;&#x53D6;&#x65F6;&#x95F4;os.path.getmtime(path)#&#x8FD4;&#x56DE;path&#x6240;&#x6307;&#x5411;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x76EE;&#x5F55;&#x7684;&#x6700;&#x540E;&#x4FEE;&#x6539;&#x65F6;&#x95F4;os.path.getctime(path)#&#x8FD4;&#x56DE;path&#x7684;&#x5927;&#x5C0F;os.path.getsize(path)#&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;os.path.isabs(path)#&#x5224;&#x65AD;&#x662F;&#x5426;&#x4E3A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;os.path.islink(path)#&#x5224;&#x65AD;&#x8DEF;&#x5F84;&#x662F;&#x5426;&#x4E3A;&#x94FE;&#x63A5;os.path.ismount(path)#&#x5224;&#x65AD;&#x8DEF;&#x5F84;&#x662F;&#x5426;&#x4E3A;&#x6302;&#x8F7D;&#x70B9;&#xFF08;&#xFF09;os.path.join(path1[, path2[, ...]])#&#x628A;&#x76EE;&#x5F55;&#x548C;&#x6587;&#x4EF6;&#x540D;&#x5408;&#x6210;&#x4E00;&#x4E2A;&#x8DEF;&#x5F84;os.path.normcase(path)#&#x8F6C;&#x6362;path&#x7684;&#x5927;&#x5C0F;&#x5199;&#x548C;&#x659C;&#x6760;os.path.normpath(path)#&#x89C4;&#x8303;path&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;os.path.realpath(path)#&#x8FD4;&#x56DE;path&#x7684;&#x771F;&#x5B9E;&#x8DEF;&#x5F84;os.path.relpath(path[, start])#&#x4ECE;start&#x5F00;&#x59CB;&#x8BA1;&#x7B97;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;os.path.samefile(path1, path2)#&#x5224;&#x65AD;&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x76F8;&#x540C;os.path.sameopenfile(fp1, fp2)#&#x5224;&#x65AD;fp1&#x548C;fp2&#x662F;&#x5426;&#x6307;&#x5411;&#x540C;&#x4E00;&#x6587;&#x4EF6;os.path.samestat(stat1, stat2)#&#x5224;&#x65AD;stat tuple stat1&#x548C;stat2&#x662F;&#x5426;&#x6307;&#x5411;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;os.path.split(path)#&#x628A;&#x8DEF;&#x5F84;&#x5206;&#x5272;&#x6210;dirname&#x548C;basename&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5143;&#x7EC4;os.path.splitdrive(path)#&#x4E00;&#x822C;&#x7528;&#x5728;windows&#x4E0B;&#xFF0C;&#x8FD4;&#x56DE;&#x9A71;&#x52A8;&#x5668;&#x540D;&#x548C;&#x8DEF;&#x5F84;&#x7EC4;&#x6210;&#x7684;&#x5143;&#x7EC4;os.path.splitext(path)#&#x5206;&#x5272;&#x8DEF;&#x5F84;&#xFF0C;&#x8FD4;&#x56DE;&#x8DEF;&#x5F84;&#x540D;&#x548C;&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;&#x7684;&#x5143;&#x7EC4;os.path.splitunc(path)#&#x628A;&#x8DEF;&#x5F84;&#x5206;&#x5272;&#x4E3A;&#x52A0;&#x8F7D;&#x70B9;&#x4E0E;&#x6587;&#x4EF6;os.path.walk(path, visit, arg)#&#x904D;&#x5386;path&#xFF0C;&#x8FDB;&#x5165;&#x6BCF;&#x4E2A;&#x76EE;&#x5F55;&#x90FD;&#x8C03;&#x7528;visit&#x51FD;&#x6570;&#xFF0C;visit&#x51FD;&#x6570;&#x5FC5;&#x987B;&#x6709;3&#x4E2A;&#x53C2;&#x6570;(arg, dirname, names)&#xFF0C;dirname&#x8868;&#x793A;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x7684;&#x76EE;&#x5F55;&#x540D;&#xFF0C;names&#x4EE3;&#x8868;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x540D;&#xFF0C;args&#x5219;&#x4E3A;walk&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;os.path.supports_unicode_filenames#&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x652F;&#x6301;unicode&#x8DEF;&#x5F84;&#x540D; 123456789101112&#x5728;Linux&#x548C;Mac&#x5E73;&#x53F0;&#x4E0A;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x4F1A;&#x539F;&#x6837;&#x8FD4;&#x56DE;path&#xFF0C;&#x5728;windows&#x5E73;&#x53F0;&#x4E0A;&#x4F1A;&#x5C06;&#x8DEF;&#x5F84;&#x4E2D;&#x6240;&#x6709;&#x5B57;&#x7B26;&#x8F6C;&#x6362;&#x4E3A;&#x5C0F;&#x5199;&#xFF0C;&#x5E76;&#x5C06;&#x6240;&#x6709;&#x659C;&#x6760;&#x8F6C;&#x6362;&#x4E3A;&#x996D;&#x659C;&#x6760;&#x3002;&gt;&gt;&gt; os.path.normcase(&apos;c:/windows\\system32\\&apos;) &apos;c:\\windows\\system32\\&apos; &#x89C4;&#x8303;&#x5316;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;..&#x548C;/&gt;&gt;&gt; os.path.normpath(&apos;c://windows\\System32\\../Temp/&apos;) &apos;c:\\windows\\Temp&apos; &gt;&gt;&gt; a=&apos;/Users/jieli/test1/\\\a1/\\\\aa.py/../..&apos;&gt;&gt;&gt; print(os.path.normpath(a))/Users/jieli/test1 12345678910111213141516os&#x8DEF;&#x5F84;&#x5904;&#x7406;#&#x65B9;&#x5F0F;&#x4E00;&#xFF1A;&#x63A8;&#x8350;&#x4F7F;&#x7528;import os#&#x5177;&#x4F53;&#x5E94;&#x7528;import os,syspossible_topdir = os.path.normpath(os.path.join( os.path.abspath(__file__), os.pardir, #&#x4E0A;&#x4E00;&#x7EA7; os.pardir, os.pardir))sys.path.insert(0,possible_topdir)#&#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__)))) sys12345678sys.argv &#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;List&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x662F;&#x7A0B;&#x5E8F;&#x672C;&#x8EAB;&#x8DEF;&#x5F84;sys.exit(n) &#x9000;&#x51FA;&#x7A0B;&#x5E8F;&#xFF0C;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x65F6;exit(0)sys.version &#x83B7;&#x53D6;Python&#x89E3;&#x91CA;&#x7A0B;&#x5E8F;&#x7684;&#x7248;&#x672C;&#x4FE1;&#x606F;sys.maxint &#x6700;&#x5927;&#x7684;Int&#x503C;sys.path &#x8FD4;&#x56DE;&#x6A21;&#x5757;&#x7684;&#x641C;&#x7D22;&#x8DEF;&#x5F84;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x4F7F;&#x7528;PYTHONPATH&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x503C;sys.platform &#x8FD4;&#x56DE;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E73;&#x53F0;&#x540D;&#x79F0;sys.stdout.write(&apos;please:&apos;)val = sys.stdin.readline()[:-1] &#x6A21;&#x62DF;&#x6253;&#x5370;&#x8FDB;&#x5EA6;&#x6761; 12345678910111213141516171819202122232425262728293031323334353637383940414243#=========&#x77E5;&#x8BC6;&#x50A8;&#x5907;==========#&#x8FDB;&#x5EA6;&#x6761;&#x7684;&#x6548;&#x679C;[# ][## ][### ][#### ]#&#x6307;&#x5B9A;&#x5BBD;&#x5EA6;print(&apos;[%-15s]&apos; %&apos;#&apos;)print(&apos;[%-15s]&apos; %&apos;##&apos;)print(&apos;[%-15s]&apos; %&apos;###&apos;)print(&apos;[%-15s]&apos; %&apos;####&apos;)#&#x6253;&#x5370;%print(&apos;%s%%&apos; %(100)) #&#x7B2C;&#x4E8C;&#x4E2A;%&#x53F7;&#x4EE3;&#x8868;&#x53D6;&#x6D88;&#x7B2C;&#x4E00;&#x4E2A;%&#x7684;&#x7279;&#x6B8A;&#x610F;&#x4E49;#&#x53EF;&#x4F20;&#x53C2;&#x6765;&#x63A7;&#x5236;&#x5BBD;&#x5EA6;print(&apos;[%%-%ds]&apos; %50) #[%-50s]print((&apos;[%%-%ds]&apos; %50) %&apos;#&apos;)print((&apos;[%%-%ds]&apos; %50) %&apos;##&apos;)print((&apos;[%%-%ds]&apos; %50) %&apos;###&apos;)#=========&#x5B9E;&#x73B0;&#x6253;&#x5370;&#x8FDB;&#x5EA6;&#x6761;&#x51FD;&#x6570;==========import sysimport timedef progress(percent,width=50): if percent &gt;= 1: percent=1 show_str=(&apos;[%%-%ds]&apos; %width) %(int(width*percent)*&apos;#&apos;) print(&apos;\r%s %d%%&apos; %(show_str,int(100*percent)),file=sys.stdout,flush=True,end=&apos;&apos;)#=========&#x5E94;&#x7528;==========data_size=1025recv_size=0while recv_size &lt; data_size: time.sleep(0.1) #&#x6A21;&#x62DF;&#x6570;&#x636E;&#x7684;&#x4F20;&#x8F93;&#x5EF6;&#x8FDF; recv_size+=1024 #&#x6BCF;&#x6B21;&#x6536;1024 percent=recv_size/data_size #&#x63A5;&#x6536;&#x7684;&#x6BD4;&#x4F8B; progress(percent,width=70) #&#x8FDB;&#x5EA6;&#x6761;&#x7684;&#x5BBD;&#x5EA6;70]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>os</tag>
        <tag>sys</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python颜色输出]]></title>
    <url>%2F2017%2F09%2F12%2Fpython-color%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;&#x7EC8;&#x7AEF;&#x7684;&#x5B57;&#x7B26;&#x989C;&#x8272;&#x662F;&#x7528;&#x8F6C;&#x4E49;&#x5E8F;&#x5217;&#x63A7;&#x5236;&#x7684;&#xFF0C;&#x662F;&#x6587;&#x672C;&#x6A21;&#x5F0F;&#x4E0B;&#x7684;&#x7CFB;&#x7EDF;&#x663E;&#x793A;&#x529F;&#x80FD;&#xFF0C;&#x548C;&#x5177;&#x4F53;&#x7684;&#x8BED;&#x8A00;&#x65E0;&#x5173;&#x3002; &#x8F6C;&#x4E49;&#x5E8F;&#x5217;&#x662F;&#x4EE5;ESC&#x5F00;&#x5934;,&#x5373;&#x7528;\033&#x6765;&#x5B8C;&#x6210;&#xFF08;ESC&#x7684;ASCII&#x7801;&#x7528;&#x5341;&#x8FDB;&#x5236;&#x8868;&#x793A;&#x662F;27&#xFF0C;&#x7528;&#x516B;&#x8FDB;&#x5236;&#x8868;&#x793A;&#x5C31;&#x662F;033&#xFF09;&#x3002; &#x4E66;&#x5199;&#x683C;&#x5F0F;&#x5F00;&#x5934;&#x90E8;&#x5206;&#xFF1A;\033[&#x663E;&#x793A;&#x65B9;&#x5F0F;;&#x524D;&#x666F;&#x8272;;&#x80CC;&#x666F;&#x8272;m + &#x7ED3;&#x5C3E;&#x90E8;&#x5206;&#xFF1A;\033[0m &#x6CE8;&#x610F;&#xFF1A;&#x5F00;&#x5934;&#x90E8;&#x5206;&#x7684;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x663E;&#x793A;&#x65B9;&#x5F0F;&#xFF0C;&#x524D;&#x666F;&#x8272;&#xFF0C;&#x80CC;&#x666F;&#x8272;&#x662F;&#x53EF;&#x9009;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x53EA;&#x5199;&#x5176;&#x4E2D;&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#xFF1B;&#x53E6;&#x5916;&#x7531;&#x4E8E;&#x8868;&#x793A;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x4E0D;&#x540C;&#x542B;&#x4E49;&#x7684;&#x6570;&#x503C;&#x90FD;&#x662F;&#x552F;&#x4E00;&#x7684;&#x6CA1;&#x6709;&#x91CD;&#x590D;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x4E66;&#x5199;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x6CA1;&#x6709;&#x56FA;&#x5B9A;&#x8981;&#x6C42;&#xFF0C;&#x7CFB;&#x7EDF;&#x90FD;&#x80FD;&#x8BC6;&#x522B;&#xFF1B;&#x4F46;&#x662F;&#xFF0C;&#x5EFA;&#x8BAE;&#x6309;&#x7167;&#x9ED8;&#x8BA4;&#x7684;&#x683C;&#x5F0F;&#x89C4;&#x8303;&#x4E66;&#x5199;&#x3002; &#x5BF9;&#x4E8E;&#x7ED3;&#x5C3E;&#x90E8;&#x5206;&#xFF0C;&#x5176;&#x5B9E;&#x4E5F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x4E66;&#x5199;&#x89C4;&#x8303;&#xFF0C;&#x5EFA;&#x8BAE;\033[*&#x5F00;&#x5934;&#xFF0C;\033[0m&#x7ED3;&#x5C3E;&#x3002; &#x6570;&#x503C;&#x8868;&#x793A;&#x7684;&#x53C2;&#x6570;&#x542B;&#x4E49;12345678910111213141516171819202122232425262728# &#x663E;&#x793A;&#x65B9;&#x5F0F;:0:&#x9ED8;&#x8BA4;&#x503C;1:&#x9AD8;&#x4EAE;22:&#x975E;&#x7C97;&#x4F53;4:&#x4E0B;&#x5212;&#x7EBF;24:&#x975E;&#x4E0B;&#x5212;&#x7EBF;5:&#x95EA;&#x70C1;25:&#x975E;&#x95EA;&#x70C1;7:&#x53CD;&#x663E;27:&#x975E;&#x53CD;&#x663E;# &#x5B57;&#x4F53;&#x989C;&#x8272;&#xFF1A;30:&#x9ED1; 31:&#x7EA2; 32:&#x7EFF; 33:&#x9EC4; 34:&#x84DD;&#x8272; 35:&#x7D2B;&#x8272; 36:&#x6DF1;&#x7EFF; 37:&#x767D;&#x8272;# &#x80CC;&#x666F;&#x8272;: 40:&#x9ED1; 41:&#x6DF1;&#x7EA2; 42:&#x7EFF; 43:&#x9EC4;&#x8272; 44:&#x84DD;&#x8272; 45:&#x7D2B;&#x8272; 46:&#x6DF1;&#x7EFF; 47:&#x767D;&#x8272; &#x5E38;&#x89C1;&#x5F00;&#x5934;&#x683C;&#x5F0F;12345678910111213141516171819202122\033[0m &#x5173;&#x95ED;&#x6240;&#x6709;&#x5C5E;&#x6027; \033[01m &#x8BBE;&#x7F6E;&#x9AD8;&#x4EAE;&#x5EA6; \033[04m &#x4E0B;&#x5212;&#x7EBF; \033[05m &#x95EA;&#x70C1; \033[07m &#x53CD;&#x663E; \033[08m &#x6D88;&#x9690; \033[30m -- \33[37m &#x8BBE;&#x7F6E;&#x524D;&#x666F;&#x8272; \033[40m -- \33[47m &#x8BBE;&#x7F6E;&#x80CC;&#x666F;&#x8272; \033[nA &#x5149;&#x6807;&#x4E0A;&#x79FB;n&#x884C; \033[nB &#x5149;&#x6807;&#x4E0B;&#x79FB;n&#x884C; \033[nC &#x5149;&#x6807;&#x53F3;&#x79FB;n&#x884C; \033[nD &#x5149;&#x6807;&#x5DE6;&#x79FB;n&#x884C; \033[y;xH&#x8BBE;&#x7F6E;&#x5149;&#x6807;&#x4F4D;&#x7F6E; \033[2J &#x6E05;&#x5C4F; \033[K &#x6E05;&#x9664;&#x4ECE;&#x5149;&#x6807;&#x5230;&#x884C;&#x5C3E;&#x7684;&#x5185;&#x5BB9; \033[s &#x4FDD;&#x5B58;&#x5149;&#x6807;&#x4F4D;&#x7F6E; \033[u &#x6062;&#x590D;&#x5149;&#x6807;&#x4F4D;&#x7F6E; \033[?25l &#x9690;&#x85CF;&#x5149;&#x6807; \033[?25h &#x663E;&#x793A;&#x5149;&#x6807;\033[32;0m &#x7EA2;&#x8272;&#x5B57;&#x4F53;&#x6B63;&#x5E38;&#x663E;&#x793A;\033[1;32;40m &#x663E;&#x793A;&#x65B9;&#x5F0F;: &#x9AD8;&#x4EAE; &#x5B57;&#x4F53;&#x524D;&#x666F;&#x8272;&#xFF1A;&#x7EFF;&#x8272; &#x80CC;&#x666F;&#x8272;&#xFF1A;&#x9ED1;&#x8272;\033[0;31;46m &#x663E;&#x793A;&#x65B9;&#x5F0F;: &#x6B63;&#x5E38; &#x5B57;&#x4F53;&#x524D;&#x666F;&#x8272;&#xFF1A;&#x7EA2;&#x8272; &#x80CC;&#x666F;&#x8272;&#xFF1A;&#x9752;&#x8272; &#x5B9E;&#x4F8B;123print(&quot;\033[1;31;40m&#x60A8;&#x8F93;&#x5165;&#x7684;&#x5E10;&#x53F7;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&#xFF01;\033[0m&quot;) &#x3000;&#x3000;print(&quot;\033[0;31m%s\033[0m&quot; % &quot;&#x8F93;&#x51FA;&#x7EA2;&#x8272;&#x5B57;&#x7B26;&quot;) &#x3000;&#x3000;]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[service-install]]></title>
    <url>%2F2017%2F08%2F30%2Fservice-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002;]]></content>
  </entry>
  <entry>
    <title><![CDATA[linux常用包管理换源合集]]></title>
    <url>%2F2017%2F08%2F29%2Fpackage-source%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x7531;&#x4E8E;&#x5F88;&#x591A;&#x5305;&#x7BA1;&#x7406;&#x7684;&#x5B98;&#x65B9;&#x6E90;&#x5728;&#x56FD;&#x5916;&#xFF0C;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#x56FD;&#x5185;&#x4F7F;&#x7528;&#x662F;&#x5F88;&#x4E0D;&#x65B9;&#x4FBF;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x90FD;&#x4F1A;&#x9009;&#x62E9;&#x6362;&#x6210;&#x56FD;&#x5185;&#x7684;&#x955C;&#x50CF;&#x6E90;&#x3002; &#x672C;&#x6587;&#x6574;&#x7406;&#x4EE5;&#x4E0B;linux&#x5E38;&#x7528;&#x5305;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x66F4;&#x6362;&#x6E90;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x6765;&#x6E90;&#x4E8E;&#x7F51;&#x7EDC;&#x3002; yum apt pip npm docker yumredhat/centos&#x4F7F;&#x7528;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x5668; &#x56FD;&#x5185;&#x6E90;&#x5730;&#x5740;163&#x6E90; http://mirrors.163.com/ &#x963F;&#x91CC;&#x6E90; http://mirrors.aliyun.com/ &#x66F4;&#x6362;&#x65B9;&#x5F0F;&#x5907;&#x4EFD;1mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup &#x4E0B;&#x8F7D;&#x65B0;&#x7684;CentOS-Base.repo &#x5230;/etc/yum.repos.d/CentOS 5123wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo# &#x6216;&#x8005;curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo CentOS 6123wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo# &#x6216;&#x8005;curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo CentOS 7123wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo# &#x6216;&#x8005;curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo &#x4E4B;&#x540E;&#x8FD0;&#x884C;yum makecache&#x751F;&#x6210;&#x7F13;&#x5B58;12yum clean allyum makecache aptubuntu&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x5668; &#x56FD;&#x5185;&#x6E90;&#x5730;&#x5740;163&#x6E90; http://mirrors.163.com/ &#x963F;&#x91CC;&#x6E90; http://mirrors.aliyun.com/ &#x66F4;&#x6362;&#x65B9;&#x5F0F;&#x5907;&#x4EFD;1cp /etc/apt/sources.list /etc/apt/sources.list.bak &#x66F4;&#x6362;&#x914D;&#x7F6E;1234567891011121314151617181920# 14.04version=&quot;trusty&quot;# 14.10version=&quot;utopic&quot;# 16.04version=&quot;xenial&quot;# 17.04version=&quot;zesty&quot;echo &quot;deb http://mirrors.aliyun.com/ubuntu/ ${version} main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ ${version}-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ ${version}-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ ${version}-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ ${version}-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ ${version} main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ ${version}-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ ${version}-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ ${version}-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ ${version}-backports main restricted universe multiverse&quot; &gt; /etc/apt/sources.list Ubuntu &#x5386;&#x53F2;&#x7248;&#x672C;&#x4E00;&#x89C8;&#x8868; &#x7248;&#x672C;&#x53F7; &#x4EE3;&#x53F7; &#x4E2D;&#x6587; &#x53D1;&#x5E03;&#x65F6;&#x95F4; 17.04 Zesty Zapus &#x5174;&#x594B;&#x7684;&#x5317;&#x7F8E;&#x8DF3;&#x9F20;&#x9F20; 2017/04/13 16.10 Yakkety Yak &#x4EC0;&#x4E48;&#x7266;&#x725B; 2016/10/20 16.04 LTS Xenial Xerus &#x597D;&#x5BA2;&#x7684;&#x975E;&#x6D32;&#x5730;&#x677E;&#x9F20; 2016/04/21 15.10 Wily Werewolf &#x72E1;&#x8BC8;&#x7684;&#x72FC;&#x4EBA; 2015/10/22 15.04 Vivid Vervet &#x6D3B;&#x6CFC;&#x7684;&#x5C0F;&#x7334; 2015/04/23 14.10 Utopic Unicorn &#x4E4C;&#x6258;&#x90A6;&#x72EC;&#x89D2;&#x517D; 2014/10/23 14.04 LTS Trusty Tahr &#x503C;&#x5F97;&#x4FE1;&#x8D56;&#x7684;&#x5854;&#x5C14;&#x7F8A; 2014/04/18 13.10 Saucy Salamander &#x6D3B;&#x6CFC;&#x7684;&#x877E;&#x8788; 2013/10/17 13.04 Raring Ringtail &#x94C6;&#x52B2;&#x6D63;&#x718A; 2013/04/25 12.10 Quantal Quetzal &#x7F24;&#x7EB7;&#x7684;&#x7EFF;&#x54AC;&#x9E43; 2012/10/18 12.04 LTS Precise Pangolin &#x7CBE;&#x51C6;&#x7684;&#x7A7F;&#x5C71;&#x7532; 2012/04/26 11.10 Oneiric Ocelot &#x6709;&#x68A6;&#x7684;&#x864E;&#x732B; 2011/10/13 11.04 Unity&#x6210;&#x4E3A;&#x9ED8;&#x8BA4;&#x684C;&#x9762;&#x73AF;&#x5883; Natty Narwhal &#x654F;&#x6377;&#x7684;&#x72EC;&#x89D2;&#x9CB8; 2011/04/28 10.10 Maverick Meerkat &#x6807;&#x65B0;&#x7ACB;&#x5F02;&#x7684;&#x7684;&#x72D0;&#x7374; 2010/10/10 10.04 LTS Lucid Lynx &#x6E05;&#x9192;&#x7684;&#x731E;&#x7301; 2010/04/29 9.10 Karmic Koala &#x5E78;&#x8FD0;&#x7684;&#x65E0;&#x5C3E;&#x718A; 2009/10/29 9.04 Jaunty Jackalope &#x6D3B;&#x6CFC;&#x7684;&#x5154;&#x5B50; 2009/04/23 8.10 Intrepid Ibex &#x65E0;&#x754F;&#x7684;&#x9AD8;&#x5730;&#x5C71;&#x7F8A; 2008/10/30 8.06 &#x5B98;&#x65B9;&#x67E5;&#x4E0D;&#x5230;&#x6B64;&#x7248;&#x672C;&#x53D1;&#x5E03;&#x4FE1;&#x606F; Haughty Husky &#x9A84;&#x50B2;&#x7684;&#x54C8;&#x58EB;&#x5947; 2008/06/07 8.04 LTS Hardy Heron &#x575A;&#x5F3A;&#x7684;&#x82CD;&#x9E6D; 2008/04/24 7.10 Gutsy Gibbon &#x52C7;&#x6562;&#x7684;&#x957F;&#x81C2;&#x733F; 2007/10/18 7.04 Feisty Fawn &#x70E6;&#x8E81;&#x4E0D;&#x5B89;&#x7684;&#x5C0F;&#x9E7F; 2007/04/19 6.10 Edgy Eft &#x5C16;&#x5229;&#x7684;&#x5C0F;&#x8725;&#x8734; 2006/10/26 6.06 LTS Dapper Drake &#x6574;&#x6D01;&#x7684;&#x516C;&#x9E2D; 2006/06/01 5.10 Breezy Badger &#x6D3B;&#x6CFC;&#x7684;&#x737E; 2005/10/13 5.04 Hoary Hedgehog &#x767D;&#x53D1;&#x5F97;&#x523A;&#x732C; 2005/04/08 4.10 &#x521D;&#x59CB;&#x53D1;&#x5E03;&#x7248;&#x672C; Warty Warthog &#x591A;&#x75A3;&#x7684;&#x75A3;&#x732A; 2004/10/20 pippython&#x7684;&#x5305;&#x7BA1;&#x7406;&#x5668; &#x4E00;&#x4E9B;&#x6E90;&#x5730;&#x5740;&#x5B98;&#x65B9;&#x6E90;&#x5730;&#x5740; trusted-host : pypi.python.org index-url : https://pypi.python.org/pypi &#x963F;&#x91CC;&#x6E90; trusted-host : mirrors.aliyun.com index-url : http://mirrors.aliyun.com/pypi/simple/ &#x8C46;&#x74E3;&#x6E90; trusted-host : pypi.douban.com index-url : https://pypi.douban.com/simple &#x66F4;&#x6362;&#x65B9;&#x5F0F;&#x4E34;&#x65F6;&#x4F7F;&#x7528;1pip install pythonModuleName -i http://mirrors.aliyun.com/pypi/simple/ &#x6C38;&#x4E45;&#x4F7F;&#x7528;123456789mkdir ~/.pip &amp;&amp; vim ~/.pip/pip.conf[global]index-url=http://mirrors.aliyun.com/pypi/simple/trusted-host=mirrors.aliyun.comdefault-timeout = 60format=legacydownload-cache = /data/.pip/cachelog-file = /data/.pip/pip.log &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;&#x987A;&#x5E8F;12345678# linux/etc/pip.conf~/.pip/pip.conf~/.config/pip/pip.conf# mac~/Library/Application Support/pip/pip.conf~/.pip/pip.conf/Library/Application Support/pip/pip.conf windows&#x521B;&#x5EFA;%HOMEPATH%\pip\pip.ini&#x6587;&#x4EF6;&#x6765;&#x914D;&#x7F6E;&#x3002; &#x4F8B;&#x5982;&#xFF1A;C:\Users\fxl\pip\pip.ini 123[global]trusted-host=mirrors.aliyun.comindex-url=http://mirrors.aliyun.com/pypi/simple/ npm&#x5168;&#x79F0;Node Package Manager&#xFF0C;&#x662F;node.js&#x7684;&#x6A21;&#x5757;&#x4F9D;&#x8D56;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x3002; &#x56FD;&#x5185;&#x4F18;&#x79C0;npm&#x955C;&#x50CF;&#x6DD8;&#x5B9D;npm&#x955C;&#x50CF; &#x641C;&#x7D22;&#x5730;&#x5740;&#xFF1A;http://npm.taobao.org/ registry&#x5730;&#x5740;&#xFF1A;http://registry.npm.taobao.org/ cnpmjs&#x955C;&#x50CF; &#x641C;&#x7D22;&#x5730;&#x5740;&#xFF1A;http://cnpmjs.org/ registry&#x5730;&#x5740;&#xFF1A;http://r.cnpmjs.org/ &#x4E34;&#x65F6;&#x4F7F;&#x7528;1npm --registry https://registry.npm.taobao.org install express &#x6C38;&#x4E45;&#x66F4;&#x6362;123456npm config set registry https://registry.npm.taobao.org# &#x914D;&#x7F6E;&#x540E;&#x53EF;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x65B9;&#x5F0F;&#x6765;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x6210;&#x529F;npm config get registry# ornpm info express &#x901A;&#x8FC7;cnpm&#x4F7F;&#x7528;1npm install -g cnpm --registry=https://registry.npm.taobao.org docker&#x56FD;&#x5185;&#x8BBF;&#x95EE; Docker Hub &#x6709;&#x65F6;&#x4F1A;&#x9047;&#x5230;&#x56F0;&#x96BE;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x955C;&#x50CF;&#x52A0;&#x901F;&#x5668;&#x3002;&#x56FD;&#x5185;&#x5F88;&#x591A;&#x4E91;&#x670D;&#x52A1;&#x5546;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;&#x52A0;&#x901F;&#x5668;&#x670D;&#x52A1;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A; &#x963F;&#x91CC;&#x4E91;&#x52A0;&#x901F;&#x5668; DaoCloud &#x52A0;&#x901F;&#x5668; &#x66F4;&#x6362;&#x65B9;&#x5F0F;12345678sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-&apos;EOF&apos;{ &quot;registry-mirrors&quot;: [&quot;https://uss7pbj4.mirror.aliyuncs.com&quot;]}EOFsudo systemctl daemon-reloadsudo systemctl restart docker]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>docker</tag>
        <tag>yum</tag>
        <tag>apt</tag>
        <tag>pip</tag>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linux磁盘空间、inode、文件句柄占满等问题的排查、解决方案]]></title>
    <url>%2F2017%2F08%2F22%2Fulimit-inode%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;linux&#x670D;&#x52A1;&#x5668;&#x7EF4;&#x62A4;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x78B0;&#x5230;&#x4E00;&#x4E9B;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x7684;&#x95EE;&#x9898;&#x800C;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5904;&#x7406;&#xFF0C;&#x56E0;&#x6B64;&#x672C;&#x6587;&#x4EC5;&#x9488;&#x5BF9;&#x8FD9;&#x7C7B;&#x78C1;&#x76D8;&#x95EE;&#x9898;&#x505A;&#x4E00;&#x4E2A;&#x6392;&#x67E5;&#x3001;&#x5904;&#x7406;&#x3001;&#x5982;&#x4F55;&#x907F;&#x514D;&#x7684;&#x603B;&#x7ED3;&#x3002; &#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x88AB;&#x5360;&#x6EE1;1df -h &#x95EE;&#x9898;&#x53D1;&#x751F;&#x539F;&#x56E0; &#x6CA1;&#x6709;&#x78C1;&#x76D8;&#x76D1;&#x63A7;&#x4EE5;&#x53CA;&#x62A5;&#x8B66; &#x6CA1;&#x6709;&#x81EA;&#x52A8;&#x6E05;&#x9664;&#x65E5;&#x5FD7;&#x4EFB;&#x52A1; &#x4E1A;&#x52A1;&#x91CF;&#x7A81;&#x589E;&#x4E0A;&#x6DA8; &#x7B49;&#x5947;&#x8469;&#x95EE;&#x9898; &#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898; &#x7A0B;&#x5E8F;&#x56E0;&#x65E0;&#x6CD5;&#x5199;&#x5165;&#x5BFC;&#x81F4;&#x4E1A;&#x52A1;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE; &#x666E;&#x901A;&#x7528;&#x6237;&#x65E0;&#x6CD5;&#x767B;&#x9646;&#x7CFB;&#x7EDF; &#x670D;&#x52A1;&#x505C;&#x6B62;&#x540E;&#x65E0;&#x6CD5;&#x542F;&#x52A8; &#x7B49; &#x89E3;&#x51B3;&#x529E;&#x6CD5; &#x505A;&#x597D;&#x76D1;&#x63A7;&#x62A5;&#x8B66; &#x505A;&#x597D;&#x81EA;&#x52A8;&#x6E05;&#x7406;&#x65E5;&#x5FD7;&#x4EFB;&#x52A1; &#x6E05;&#x7406;&#x65E5;&#x5FD7;&#x4E4B;&#x540E;&#x7A7A;&#x95F4;&#x4E0D;&#x91CA;&#x653E;&#x5F53;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x88AB;&#x5360;&#x6EE1;&#x4E4B;&#x540E;&#xFF0C;&#x5220;&#x9664;&#x4E86;&#x67D0;&#x4E9B;&#x65E5;&#x5FD7;&#x5374;&#x53D1;&#x73B0;&#x7A7A;&#x95F4;&#x5E76;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#xFF0C;&#x6216;&#x8005;&#x91CA;&#x653E;&#x7684;&#x7A7A;&#x95F4;&#x6CA1;&#x6709;&#x5220;&#x6389;&#x7684;&#x65E5;&#x5FD7;&#x5927;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x5220;&#x6389;&#x7684;&#x6587;&#x4EF6;&#x6B63;&#x597D;&#x6709;&#x670D;&#x52A1;&#x5728;&#x8C03;&#x7528;&#xFF0C;&#x800C;&#x6B64;&#x65F6;&#x5220;&#x6389;&#x7684;&#x6587;&#x4EF6;&#x662F;&#x4E0D;&#x4F1A;&#x91CA;&#x653E;&#x7A7A;&#x95F4;&#x7684;&#x3002; &#x67E5;&#x770B;&#x5DF2;&#x7ECF;&#x5220;&#x9664;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#x7684;&#x6587;&#x4EF6; 1lsof | grep delete &#x786E;&#x8BA4;&#x4E86;&#x662F;&#x54EA;&#x4E2A;&#x670D;&#x52A1;&#x5728;&#x5360;&#x7528;&#x4E4B;&#x540E;&#x91CD;&#x542F;&#x76F8;&#x5E94;&#x670D;&#x52A1;&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x4E86;&#x3002; inode&#x6EE1;&#x4E86;1df -i &#x95EE;&#x9898;&#x53D1;&#x751F;&#x539F;&#x56E0; &#x751F;&#x6210;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x5C0F;&#x6587;&#x4EF6;&#x5360;&#x6EE1;&#x4E86;&#x78C1;&#x76D8;inode &#x6CA1;&#x6709;&#x78C1;&#x76D8;&#x76D1;&#x63A7;&#x4EE5;&#x53CA;&#x62A5;&#x8B66; &#x67D0;&#x4E9B;&#x5E94;&#x7528;&#x4EA7;&#x751F;&#x7F13;&#x5B58;&#x6216;&#x8005;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x5E76;&#x4E14;&#x91CF;&#x6BD4;&#x8F83;&#x5927; &#x9891;&#x7E41;&#x7684;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;&#xFF0C;&#x6CA1;&#x6709;&#x5173;&#x95ED;&#x90AE;&#x4EF6;&#x901A;&#x77E5;&#xFF0C;&#x90AE;&#x4EF6;&#x53D1;&#x9001;&#x5931;&#x8D25; &#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898;&#x540C;&#x4E0A; &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x6CA1;&#x6709;&#x60F3;&#x5230;&#x66F4;&#x52A0;&#x4FBF;&#x6377;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x5F88;&#x7B28;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x67E5;&#x627E;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;&#x5360;&#x7528;inode&#x8F83;&#x591A;&#xFF0C;&#x7136;&#x540E;&#x770B;&#x5230;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;&#x6587;&#x4EF6;&#x6570;&#x591A;&#x518D;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x5F80;&#x4E0B;&#x627E; 1find . |awk -F &quot;[/]&quot; &apos;{l[$2]++}END{for (i in l) print i,l[i]}&apos; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x90FD;&#x662F;crond&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x95EE;&#x9898;&#x6210;&#x56E0;&#xFF1A;crond&#x5728;&#x6267;&#x884C;&#x811A;&#x672C;&#x65F6;&#x4F1A;&#x5C06;&#x811A;&#x672C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x4EE5;&#x90AE;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#x53D1;&#x9001;&#x7ED9;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x7136;&#x8981;&#x8C03;&#x7528;sendmail&#xFF0C;&#x800C;sendmail&#x53C8;&#x4F1A;&#x8C03;&#x7528;postdrop&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x7684;postfix&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x90AE;&#x4EF6;&#x5C31;&#x4F1A;&#x53D1;&#x9001;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x5BFC;&#x81F4;&#x6301;&#x7EED;&#x5199;&#x5165;&#x65E5;&#x5FD7;&#x5230;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x9020;&#x6210;sendmail&#x3001;postdrop&#x3001;crond&#x8FDB;&#x7A0B;&#x5C31;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#xFF0C;&#x5F62;&#x6210;&#x5927;&#x91CF;&#x7684;&#x50F5;&#x5C38;&#x8FDB;&#x7A0B; &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;&#x5148;&#x628A;&#x50F5;&#x5C38;&#x8FDB;&#x7A0B;&#x90FD;&#x5E72;&#x6389;ps -ef | egrep &#x201C;sendmail|postdrop&#x201D; | grep -v grep |xargs kill&#xFF0C;&#x8BA9;&#x5185;&#x5B58;&#x964D;&#x4E0B;&#x6765; &#x4E3A;&#x9632;&#x4EE5;&#x540E;postfix&#x6302;&#x4E86;&#x518D;&#x51FA;&#x73B0;&#x7C7B;&#x4F3C;&#x95EE;&#x9898;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF0C;&#x5C06;crond&#x7684;&#x90AE;&#x4EF6;&#x901A;&#x77E5;&#x5173;&#x95ED;&#xFF1A; &#x5C06;/etc/crontab&#x548C;/etc/cron.d/0hourly&#x91CC;&#x7684;MAILTO=root&#x4FEE;&#x6539;&#x4E3A;MAILTO=&#x201D;&#x201D; crontab -e&#x7B2C;&#x4E00;&#x884C;&#x589E;&#x52A0;&#x4E00;&#x6BB5;MAILTO=&#x201D;&#x201D;]]></content>
      <categories>
        <category>linux</category>
        <category>inode</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[crond-sendmail]]></title>
    <url>%2F2017%2F08%2F22%2Fcrond-sendmail%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; &#x95EE;&#x9898;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x5185;&#x5B58;&#x63A5;&#x8FD1;&#x8017;&#x5C3D;&#x62A5;&#x8B66;&#xFF0C;ps -ef&#x67E5;&#x770B;&#x6709;3000&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x90FD;&#x662F;crond&#x3001;sendmail&#x3001;postdrop &#x800C; postdrop&#x662F;&#x7531;sendmail&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x800C;sendmail&#x53C8;&#x662F;&#x7531;crond&#x542F;&#x52A8;&#x7684;&#x3002; &#x95EE;&#x9898;&#x6210;&#x56E0;&#xFF1A;crond&#x5728;&#x6267;&#x884C;&#x811A;&#x672C;&#x65F6;&#x4F1A;&#x5C06;&#x811A;&#x672C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x4EE5;&#x90AE;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#x53D1;&#x9001;&#x7ED9;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x7136;&#x8981;&#x8C03;&#x7528;sendmail&#xFF0C;&#x800C;sendmail&#x53C8;&#x4F1A;&#x8C03;&#x7528;postdrop&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x7684;postfix&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x90AE;&#x4EF6;&#x5C31;&#x4F1A;&#x53D1;&#x9001;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x9020;&#x6210;sendmail&#x3001;postdrop&#x3001;crond&#x8FDB;&#x7A0B;&#x5C31;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#xFF0C;&#x5F62;&#x6210;&#x5927;&#x91CF;&#x7684;&#x50F5;&#x5C38;&#x8FDB;&#x7A0B; &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;&#x5148;&#x628A;&#x50F5;&#x5C38;&#x8FDB;&#x7A0B;&#x90FD;&#x5E72;&#x6389;ps -ef | egrep &#x201C;sendmail|postdrop&#x201D; | grep -v grep |xargs kill&#xFF0C;&#x8BA9;&#x5185;&#x5B58;&#x964D;&#x4E0B;&#x6765;&#xFF0C;&#x5176;&#x5B9E;&#x6211;&#x4E00;&#x5F00;&#x59CB;&#x5C06;postfix&#x670D;&#x52A1;&#x91CD;&#x542F;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x95EE;&#x9898;&#x5C31;&#x89E3;&#x51B3;&#x4E86;&#xFF0C;&#x89C2;&#x5BDF;&#x4E86;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x50F5;&#x5C38;&#x8FDB;&#x7A0B;&#x5E76;&#x6CA1;&#x6709;&#x518D;&#x6B21;&#x51FA;&#x73B0;&#x3002; &#x4E3A;&#x9632;&#x4EE5;&#x540E;postfix&#x6302;&#x4E86;&#x518D;&#x51FA;&#x73B0;&#x7C7B;&#x4F3C;&#x95EE;&#x9898;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF0C;&#x5C06;crond&#x7684;&#x90AE;&#x4EF6;&#x901A;&#x77E5;&#x5173;&#x95ED;&#xFF1A; &#x5C06;/etc/crontab&#x548C;/etc/cron.d/0hourly&#x91CC;&#x7684;MAILTO=root&#x4FEE;&#x6539;&#x4E3A;MAILTO=&#x201D;&#x201D; crontab -e&#x7B2C;&#x4E00;&#x884C;&#x589E;&#x52A0;&#x4E00;&#x6BB5;MAILTO=&#x201D;&#x201D;]]></content>
  </entry>
  <entry>
    <title><![CDATA[markdown小技巧]]></title>
    <url>%2F2017%2F07%2F28%2Fmarkdown-tools%2F</url>
    <content type="text"><![CDATA[markdown&#x5B9E;&#x73B0;&#x9875;&#x5185;&#x8DF3;&#x8F6C;&#x9996;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x8DF3;&#x8F6C;&#x8DF3;&#x8F6C;&#x6807;&#x7B7E; 1&lt;span id=&quot;jump&quot;&gt;Hello World&lt;/span&gt; &#x7136;&#x540E;&#x901A;&#x8FC7;&#x4E0B;&#x6807;&#x7B7E;&#x5B9A;&#x4E49;&#x8DF3;&#x8F6C; 1[&#x8981;&#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;](#jump)]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[etcd基本操作方式]]></title>
    <url>%2F2017%2F07%2F27%2Flearn-etcd%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x672C;&#x6587;&#x5185;&#x5BB9;&#x53D6;&#x81EA; &#x5B98;&#x65B9;&#x6F14;&#x793A;demo&#x3002; &#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x6DFB;&#x52A0;&#x4E86;&#x90E8;&#x5206;&#x4E2A;&#x4EBA;&#x7406;&#x89E3;&#x7684;&#x5185;&#x5BB9;&#x3002; etcd&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x8BF7;&#x79FB;&#x6B65; etcd-cluster &#x96C6;&#x7FA4;&#x90E8;&#x7F72; &#x672C;&#x6587;&#x5185;&#x5BB9;&#x76EE;&#x524D;&#x4E3A;api3&#x7684;&#x64CD;&#x4F5C; &#x914D;&#x7F6E;&#x5BA2;&#x6237;&#x7AEF;&#x73AF;&#x5883;&#x53D8;&#x91CF;1234567export ETCDCTL_API=3HOST_1=172.16.7.1HOST_2=172.16.7.2HOST_3=172.16.7.3ENDPOINTS=$HOST_1:2379,$HOST_2:2379,$HOST_3:2379etcdctl --endpoints=$ENDPOINTS member list Access etcd put command to write: 1etcdctl --endpoints=$ENDPOINTS put foo &quot;Hello World!&quot; get to read from etcd: 12etcdctl --endpoints=$ENDPOINTS get fooetcdctl --endpoints=$ENDPOINTS --write-out=&quot;json&quot; get foo Get by prefix 12345etcdctl --endpoints=$ENDPOINTS put web1 value1etcdctl --endpoints=$ENDPOINTS put web2 value2etcdctl --endpoints=$ENDPOINTS put web3 value3etcdctl --endpoints=$ENDPOINTS get web --prefix Delete 123456etcdctl --endpoints=$ENDPOINTS put key myvalueetcdctl --endpoints=$ENDPOINTS del keyetcdctl --endpoints=$ENDPOINTS put k1 value1etcdctl --endpoints=$ENDPOINTS put k2 value2etcdctl --endpoints=$ENDPOINTS del k --prefix Transactional writetxn to wrap multiple requests into one transaction: 1234567891011etcdctl --endpoints=$ENDPOINTS put user1 badetcdctl --endpoints=$ENDPOINTS txn --interactivecompares:value(&quot;user1&quot;) = &quot;bad&quot; success requests (get, put, delete):del user1 failure requests (get, put, delete):put user1 good Watchwatch to get notified of future changes: 123456etcdctl --endpoints=$ENDPOINTS watch stock1etcdctl --endpoints=$ENDPOINTS put stock1 1000etcdctl --endpoints=$ENDPOINTS watch stock --prefixetcdctl --endpoints=$ENDPOINTS put stock1 10etcdctl --endpoints=$ENDPOINTS put stock2 20 Leaselease to write with TTL: 12345678910etcdctl --endpoints=$ENDPOINTS lease grant 300# lease 2be7547fbc6a5afa granted with TTL(300s)etcdctl --endpoints=$ENDPOINTS put sample value --lease=2be7547fbc6a5afaetcdctl --endpoints=$ENDPOINTS get sampleetcdctl --endpoints=$ENDPOINTS lease keep-alive 2be7547fbc6a5afaetcdctl --endpoints=$ENDPOINTS lease revoke 2be7547fbc6a5afa# or after 300 secondsetcdctl --endpoints=$ENDPOINTS get sample Distributed lockslock for distributed lock: 1234etcdctl --endpoints=$ENDPOINTS lock mutex1# another client with the same name blocksetcdctl --endpoints=$ENDPOINTS lock mutex1 Electionselect for leader election: 1234etcdctl --endpoints=$ENDPOINTS elect one p1# another client with the same name blocksetcdctl --endpoints=$ENDPOINTS elect one p2 Cluster statusSpecify the initial cluster configuration for each machine: 123456789etcdctl --write-out=table --endpoints=$ENDPOINTS endpoint status+------------------+------------------+---------+---------+-----------+-----------+------------+| ENDPOINT | ID | VERSION | DB SIZE | IS LEADER | RAFT TERM | RAFT INDEX |+------------------+------------------+---------+---------+-----------+-----------+------------+| 10.240.0.17:2379 | 4917a7ab173fabe7 | 3.0.0 | 45 kB | true | 4 | 16726 || 10.240.0.18:2379 | 59796ba9cd1bcd72 | 3.0.0 | 45 kB | false | 4 | 16726 || 10.240.0.19:2379 | 94df724b66343e6c | 3.0.0 | 45 kB | false | 4 | 16726 |+------------------+------------------+---------+---------+-----------+-----------+------------+ 12345etcdctl --endpoints=$ENDPOINTS endpoint health10.240.0.17:2379 is healthy: successfully committed proposal: took = 3.345431ms10.240.0.19:2379 is healthy: successfully committed proposal: took = 3.767967ms10.240.0.18:2379 is healthy: successfully committed proposal: took = 4.025451ms Snapshotsnapshot to save point-in-time snapshot of etcd database: 123etcdctl --endpoints=$ENDPOINTS snapshot save my.dbSnapshot saved at my.db 1234567etcdctl --write-out=table --endpoints=$ENDPOINTS snapshot status my.db+---------+----------+------------+------------+| HASH | REVISION | TOTAL KEYS | TOTAL SIZE |+---------+----------+------------+------------+| c55e8b8 | 9 | 13 | 25 kB |+---------+----------+------------+------------+ Migratemigrate to transform etcd v2 to v3 data: 1234567891011121314151617# write key in etcd version 2 storeexport ETCDCTL_API=2etcdctl --endpoints=http://$ENDPOINT set foo bar# read key in etcd v2etcdctl --endpoints=$ENDPOINTS --output=&quot;json&quot; get foo# stop etcd node to migrate, one by one# migrate v2 dataexport ETCDCTL_API=3etcdctl --endpoints=$ENDPOINT migrate --data-dir=&quot;default.etcd&quot; --wal-dir=&quot;default.etcd/member/wal&quot;# restart etcd node after migrate, one by one# confirm that the key got migratedetcdctl --endpoints=$ENDPOINTS get /foo Membermember to add,remove,update membership: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546# For each machineTOKEN=my-etcd-token-1CLUSTER_STATE=newNAME_1=etcd-node-1NAME_2=etcd-node-2NAME_3=etcd-node-3HOST_1=10.240.0.13HOST_2=10.240.0.14HOST_3=10.240.0.15CLUSTER=${NAME_1}=http://${HOST_1}:2380,${NAME_2}=http://${HOST_2}:2380,${NAME_3}=http://${HOST_3}:2380# For node 1THIS_NAME=${NAME_1}THIS_IP=${HOST_1}etcd --data-dir=data.etcd --name ${THIS_NAME} \ --initial-advertise-peer-urls http://${THIS_IP}:2380 \ --listen-peer-urls http://${THIS_IP}:2380 \ --advertise-client-urls http://${THIS_IP}:2379 \ --listen-client-urls http://${THIS_IP}:2379 \ --initial-cluster ${CLUSTER} \ --initial-cluster-state ${CLUSTER_STATE} \ --initial-cluster-token ${TOKEN}# For node 2THIS_NAME=${NAME_2}THIS_IP=${HOST_2}etcd --data-dir=data.etcd --name ${THIS_NAME} \ --initial-advertise-peer-urls http://${THIS_IP}:2380 \ --listen-peer-urls http://${THIS_IP}:2380 \ --advertise-client-urls http://${THIS_IP}:2379 \ --listen-client-urls http://${THIS_IP}:2379 \ --initial-cluster ${CLUSTER} \ --initial-cluster-state ${CLUSTER_STATE} \ --initial-cluster-token ${TOKEN}# For node 3THIS_NAME=${NAME_3}THIS_IP=${HOST_3}etcd --data-dir=data.etcd --name ${THIS_NAME} \ --initial-advertise-peer-urls http://${THIS_IP}:2380 \ --listen-peer-urls http://${THIS_IP}:2380 \ --advertise-client-urls http://${THIS_IP}:2379 \ --listen-client-urls http://${THIS_IP}:2379 \ --initial-cluster ${CLUSTER} \ --initial-cluster-state ${CLUSTER_STATE} \ --initial-cluster-token ${TOKEN} Then replace a member with member remove and member add commands: 1234567891011121314151617181920212223# get member IDexport ETCDCTL_API=3HOST_1=10.240.0.13HOST_2=10.240.0.14HOST_3=10.240.0.15etcdctl --endpoints=${HOST_1}:2379,${HOST_2}:2379,${HOST_3}:2379 member list# remove the memberMEMBER_ID=278c654c9a6dfd3betcdctl --endpoints=${HOST_1}:2379,${HOST_2}:2379,${HOST_3}:2379 \ member remove ${MEMBER_ID}# add a new member (node 4)export ETCDCTL_API=3NAME_1=etcd-node-1NAME_2=etcd-node-2NAME_4=etcd-node-4HOST_1=10.240.0.13HOST_2=10.240.0.14HOST_4=10.240.0.16 # new memberetcdctl --endpoints=${HOST_1}:2379,${HOST_2}:2379 \ member add ${NAME_4} \ --peer-urls=http://${HOST_4}:2380 Next, start the new member with &#x2013;initial-cluster-state existing flag: 123456789101112131415161718192021222324# [WARNING] If the new member starts from the same disk space,# make sure to remove the data directory of the old member## restart with &apos;existing&apos; flagTOKEN=my-etcd-token-1CLUSTER_STATE=existingNAME_1=etcd-node-1NAME_2=etcd-node-2NAME_4=etcd-node-4HOST_1=10.240.0.13HOST_2=10.240.0.14HOST_4=10.240.0.16 # new memberCLUSTER=${NAME_1}=http://${HOST_1}:2380,${NAME_2}=http://${HOST_2}:2380,${NAME_4}=http://${HOST_4}:2380THIS_NAME=${NAME_4}THIS_IP=${HOST_4}etcd --data-dir=data.etcd --name ${THIS_NAME} \ --initial-advertise-peer-urls http://${THIS_IP}:2380 \ --listen-peer-urls http://${THIS_IP}:2380 \ --advertise-client-urls http://${THIS_IP}:2379 \ --listen-client-urls http://${THIS_IP}:2379 \ --initial-cluster ${CLUSTER} \ --initial-cluster-state ${CLUSTER_STATE} \ --initial-cluster-token ${TOKEN} Authauth,user,role for authentication: 123456789101112131415161718export ETCDCTL_API=3ENDPOINTS=localhost:2379etcdctl --endpoints=${ENDPOINTS} role add rootetcdctl --endpoints=${ENDPOINTS} role grant-permission root readwrite fooetcdctl --endpoints=${ENDPOINTS} role get rootetcdctl --endpoints=${ENDPOINTS} user add rootetcdctl --endpoints=${ENDPOINTS} user grant-role root rootetcdctl --endpoints=${ENDPOINTS} user get rootetcdctl --endpoints=${ENDPOINTS} auth enable# now all client requests go through authetcdctl --endpoints=${ENDPOINTS} --user=root:123 put foo baretcdctl --endpoints=${ENDPOINTS} get fooetcdctl --endpoints=${ENDPOINTS} --user=root:123 get fooetcdctl --endpoints=${ENDPOINTS} --user=root:123 get foo1]]></content>
      <categories>
        <category>db</category>
        <category>etcd</category>
      </categories>
      <tags>
        <tag>etcd</tag>
        <tag>db</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jumpserver Connection Reset By Peer 问题总结]]></title>
    <url>%2F2017%2F07%2F26%2Fjumpserver-problem%2F</url>
    <content type="text"><![CDATA[&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#x5173;&#x4E8E;Connection Reset By Peer&#x7684;&#x95EE;&#x9898;&#x51FA;&#x73B0;&#x539F;&#x56E0;&#x4EE5;&#x53CA;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x51FA;&#x73B0;&#x62A5;&#x9519;&#x4F1A;&#x6709;&#x4E24;&#x79CD;&#x60C5;&#x51B5; Connection Reset By Peer Connecting&#x2026;Connection Reset By Peer Connection Reset By Peer &#x51FA;&#x73B0;&#x539F;&#x56E0;&#x53CA;&#x89E3;&#x51B3;&#x529E;&#x6CD5; &#x4F7F;&#x7528;&#x7684;&#x662F;0.3.2&#x7248;&#x672C;&#x7684;&#x4EE3;&#x7801;&#xFF08;&#x672C;&#x8EAB;&#x4EE3;&#x7801;&#x6709;bug&#xFF09;&#xFF1B; &#x5E76;&#x4E14;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x7684;jumpserver&#x7AEF;&#x53E3;&#xFF0C;&#x6CA1;&#x6709;nginx&#x4EE3;&#x7406;&#xFF1B; &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x2013;&gt;&#x5C06;&#x4EE3;&#x7801;&#x5347;&#x7EA7;&#x5230;master&#x5206;&#x652F;&#x5373;&#x53EF;&#x3002; Connecting&#x2026;Connection Reset By Peer &#x51FA;&#x73B0;&#x539F;&#x56E0;&#x53CA;&#x89E3;&#x51B3;&#x529E;&#x6CD5; &#x4F7F;&#x7528;nginx&#x4EE3;&#x7406;&#x4E86;jumpserver&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x7684;&#x662F;http&#x4EE3;&#x7406;&#xFF1B; &#x4EE3;&#x7801;&#x7248;&#x672C;&#x65E0;&#x8BBA;&#x662F;0.3.2&#x8FD8;&#x662F;master&#x90FD;&#x4F1A;&#x51FA;&#x73B0;&#x6B64;&#x95EE;&#x9898;&#xFF1B; &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x2013;&gt;http&#x4EE3;&#x7406;&#x4FEE;&#x6539;&#x6210;tcp&#x4EE3;&#x7406;&#xFF1B; nginx 1.9.x&#x7248;&#x672C;&#x4EE5;&#x4E0A;&#xFF0C;&#x7F16;&#x8BD1;&#x65F6;&#x4F7F;&#x7528;&#x2013;with-stream&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x652F;&#x6301;tcp&#x4EE3;&#x7406;&#xFF1B; &#x7F3A;&#x70B9;&#x662F;&#x4F7F;&#x7528;tcp&#x4EE3;&#x7406;&#x4E4B;&#x540E;&#x65E0;&#x6CD5;&#x914D;&#x7F6E;server_name&#xFF1B; &#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#x52A0;&#x5230;http{}&#x5916;&#x3002; 12345678910111213stream { upstream backend{ hash $remote_addr consistent; server 127.0.0.1:8000 weight=10; } server{ listen 80; proxy_connect_timeout 20s; proxy_timeout 5m; proxy_pass backend; }} &#x662F;&#x5426;&#x6709;&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x9020;&#x6210;&#x6B64;&#x7C7B;&#x95EE;&#x9898;&#x6CA1;&#x6709;&#x6D4B;&#x8BD5;&#x8FC7;]]></content>
      <categories>
        <category>linux</category>
        <category>jumpserver</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>jumpserver</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[字符串逆序输出（python、shell）]]></title>
    <url>%2F2017%2F06%2F27%2Fpython-shell-eg%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5B57;&#x7B26;&#x4E32;&#x9006;&#x5E8F;&#x8F93;&#x51FA;&#x5B9E;&#x9645;&#x6765;&#x8BF4;&#x5904;&#x7406;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x672C;&#x6587;&#x662F;&#x9488;&#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x9006;&#x5E8F;&#x8F93;&#x51FA;&#x62D3;&#x5C55;&#x51FA;&#x4E00;&#x4E9B;&#x5B57;&#x7B26;&#x4E32;&#x5904;&#x7406;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#x672C;&#x6587;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x9006;&#x5E8F;&#x8F93;&#x51FA;&#x5305;&#x62EC;&#x7EAF;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x5217;&#x8868;&#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x3002; python12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364Python&#x5B57;&#x7B26;&#x4E32;&#x9006;&#x5E8F;&#x8F93;&#x51FA;1&#x3001;&#x6709;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x60F3;&#x8BA9;&#x5B57;&#x7B26;&#x4E32;&#x5012;&#x5E8F;&#x8F93;&#x51FA;&#xFF0C;&#x4E0B;&#x9762;&#x7ED9;&#x51FA;&#x51E0;&#x79CD;&#x65B9;&#x6CD5;&#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x7684;&#x65B9;&#x6CD5;[python] view plain copy print?&gt;&gt;&gt; strA = &quot;abcdegfgijlk&quot; &gt;&gt;&gt; strA[::-1] &apos;kljigfgedcba&apos; &#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x501F;&#x7EC4;&#x5217;&#x8868;&#x8FDB;&#x884C;&#x7FFB;&#x8F6C;[python] view plain copy print?#coding=utf-8 strA = raw_input(&quot;&#x8BF7;&#x8F93;&#x5165;&#x9700;&#x8981;&#x7FFB;&#x8F6C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;&quot;) order = [] for i in strA: order.append(i) order.reverse() #&#x5C06;&#x5217;&#x8868;&#x53CD;&#x8F6C; print &apos;&apos;.join(order) #&#x5C06;list&#x8F6C;&#x6362;&#x6210;&#x5B57;&#x7B26;&#x4E32; &#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A;[python] view plain copy print?&#x8BF7;&#x8F93;&#x5165;&#x9700;&#x8981;&#x7FFB;&#x8F6C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;abcdeggsdd ddsggedcba 2&#x3001;&#x5206;&#x522B;&#x8F93;&#x51FA;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x5947;&#x6570;&#x5750;&#x6807;&#x548C;&#x5076;&#x6570;&#x5750;&#x6807;&#x7684;&#x5B57;&#x7B26;&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x6839;&#x636E;&#x5E8F;&#x5217;&#x7684;&#x5207;&#x7247;&#x6765;&#x5B9E;&#x73B0;&#x3002;[python] view plain copy print?&gt;&gt;&gt; str_a = &quot;1a2b3c4d5e6f&quot; ***&#x8F93;&#x51FA;&#x5947;&#x6570;&#x4F4D;&#x7684;&#x5B57;&#x7B26;*** &gt;&gt;&gt; for i in str_a[::2]: ... print i, ... 1 2 3 4 5 6 ***&#x8F93;&#x51FA;&#x5076;&#x6570;&#x4F4D;&#x7684;&#x5B57;&#x7B26;*** &gt;&gt;&gt; for j in str_a[1::2]: ... print j, ... a b c d e f &#x5F53;&#x7136;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5C31;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#x4E86;&#x3002;[python] view plain copy print?#coding=utf-8 def oddEven(strA): odd = [] even = [] for i in range(len(strA)): if i % 2 == 0: even.append(strA[i]) else : odd.append(strA[i]) print &quot;&#x5076;&#x6570;&#x9879;&#xFF1A;&quot;, &apos;&apos;.join(even) print &quot;&#x5947;&#x6570;&#x9879;&#xFF1A;&quot;, &apos;&apos;.join(odd) strA = &quot;1a2b3c4d5e6f7g8h9j&quot; print &quot;&#x539F;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;&quot;, strA oddEven(strA) &#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A;[python] view plain copy print?&#x539F;&#x5B57;&#x7B26;&#x4E32;&#xFF1A; 1a2b3c4d5e6f7g8h9j &#x5076;&#x6570;&#x9879;&#xFF1A; 123456789 &#x5947;&#x6570;&#x9879;&#xFF1A; abcdefghj &#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;&#x5728;&#x6211;&#x4EEC;&#x5E73;&#x5E38;&#x7684;&#x7F16;&#x7A0B;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x907F;&#x514D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x5173;&#x952E;&#x5B57;&#x4F5C;&#x4E3A;&#x53D8;&#x91CF;&#x540D;&#xFF0C;&#x5C24;&#x5176;&#x662F;Python&#x8BED;&#x8A00;&#x4E2D;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#x90FD;&#x53EF;&#x4EE5;&#x8D4B;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x7ED9;&#x7684;&#x53D8;&#x91CF;&#x8D4B;&#x503C;&#x7ECF;&#x5E38;&#x4F1A;&#x9020;&#x6210;&#x5F88;&#x591A;&#x5947;&#x602A;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x5B9A;&#x8981;&#x517B;&#x6210;&#x597D;&#x7684;&#x7F16;&#x7A0B;&#x4E60;&#x60EF;&#x3002;&#x6700;&#x5178;&#x578B;&#x4E00;&#x4E2A;&#x5C31;&#x662F;&#x5173;&#x4E8E;isinstance()&#x51FD;&#x6570;&#x7684;&#x62A5;&#x9519;&#xFF0C;&#x4EE3;&#x7801;&#x5199;&#x7684;&#x662F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5C31;&#x662F;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x8BF4;&#x660E;&#x5728;&#x8FD9;&#x4EE3;&#x7801;&#x4E4B;&#x524D;str&#x80AF;&#x5B9A;&#x88AB;&#x5F53;&#x7740;&#x53D8;&#x91CF;&#x8D4B;&#x8FC7;&#x503C;&#x3002;[python] view plain copy print?&gt;&gt;&gt; a = &apos;123&apos; &gt;&gt;&gt; isinstance(a, str) Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt; TypeError: isinstance() arg 2 must be a class, type, or tuple of classes and types 1234567891011121314151617181920212223242526272829303132333435363738Python&#x5217;&#x8868;&#x6392;&#x5E8F; reverse&#x3001;sort&#x3001;sorted &#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x8BE6;&#x89E3;python&#x8BED;&#x8A00;&#x4E2D;&#x7684;&#x5217;&#x8868;&#x6392;&#x5E8F;&#x65B9;&#x6CD5;&#x6709;&#x4E09;&#x4E2A;&#xFF1A;reverse&#x53CD;&#x8F6C;/&#x5012;&#x5E8F;&#x6392;&#x5E8F;&#x3001;sort&#x6B63;&#x5E8F;&#x6392;&#x5E8F;&#x3001;sorted&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x5217;&#x8868;&#x3002;&#x5728;&#x66F4;&#x9AD8;&#x7EA7;python list&#x6392;&#x5E8F;&#x4E2D;&#xFF0C;&#x540E;&#x4E24;&#x4E2D;&#x65B9;&#x6CD5;&#x8FD8;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x6761;&#x4EF6;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;Python list&#x6392;&#x5E8F;reverse()&#x65B9;&#x6CD5;&#x5C06;&#x5217;&#x8868;&#x4E2D;&#x5143;&#x7D20;&#x53CD;&#x8F6C;&#x6392;&#x5E8F;&#xFF0C;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&gt;&gt;&gt; x = [1,5,2,3,4]&gt;&gt;&gt; x.reverse()&gt;&gt;&gt; x[4, 3, 2, 5, 1]reverse&#x5217;&#x8868;&#x53CD;&#x8F6C;&#x6392;&#x5E8F;&#xFF1A;&#x662F;&#x628A;&#x539F;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x987A;&#x5E8F;&#x4ECE;&#x5DE6;&#x81F3;&#x53F3;&#x7684;&#x91CD;&#x65B0;&#x5B58;&#x653E;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x5BF9;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x6574;&#x7406;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x5BF9;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6574;&#x7406;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;&#x5217;&#x8868;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x6392;&#x5E8F;&#x65B9;&#x5F0F;sort&#x6B63;&#x5E8F;&#x6392;&#x5E8F;&#x3002;sort()&#x6392;&#x5E8F;&#x65B9;&#x6CD5;&#x6B64;&#x51FD;&#x6570;&#x65B9;&#x6CD5;&#x5BF9;&#x5217;&#x8868;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x6B63;&#x5411;&#x6392;&#x5E8F;&#xFF0C;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x65B0;&#x5217;&#x8868;&#x4F1A;&#x8986;&#x76D6;&#x539F;&#x5217;&#x8868;&#xFF08;id&#x4E0D;&#x53D8;&#xFF09;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;sort&#x6392;&#x5E8F;&#x65B9;&#x6CD5;&#x662F;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x539F;&#x5217;&#x8868;list&#x6392;&#x5E8F;&#x65B9;&#x6CD5;&#x3002;&gt;&gt;&gt; a = [5,7,6,3,4,1,2]&gt;&gt;&gt; a.sort()&gt;&gt;&gt; a[1, 2, 3, 4, 5, 6, 7]&#x5728;&#x73A9;&#x86C7;&#x7F51;&#x8BB8;&#x591A;python&#x521D;&#x5B66;&#x8005;&#xFF0C;&#x5BF9;sort()&#x65B9;&#x6CD5;&#x6BD4;&#x8F83;&#x7CCA;&#x6D82;&#x3002;&#x6709;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x6392;&#x5E8F;&#x597D;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x800C;&#x53C8;&#x60F3;&#x4FDD;&#x5B58;&#x539F;&#x6709;&#x672A;&#x6392;&#x5E8F;&#x5217;&#x8868;&#xFF0C;&#x4ED6;&#x4EEC;&#x4F1A;&#x8FD9;&#x4E48;&#x64CD;&#x4F5C;&#xFF1A;&gt;&gt;&gt; a = [5,7,6,3,4,1,2]&gt;&gt;&gt; b = a.sort()&gt;&gt;&gt; print bNone&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x95EE;&#x9898;&#x51FA;&#x73B0;&#x4E86;&#xFF0C;&#x53D8;&#x91CF;b&#x5F97;&#x5230;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x503C;&#x3002;&#x90A3;&#x4E48;&#x60F3;&#x8981;&#x5F97;&#x5230;&#x6392;&#x5E8F;&#x597D;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x53C8;&#x60F3;&#x4FDD;&#x7559;&#x539F;&#x5217;&#x8868;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x5217;&#x8868;sorted()&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5E2E;&#x4F60;&#x5B9E;&#x73B0;&#x3002;sorted()&#x65B9;&#x6CD5;&#x5373;&#x53EF;&#x4EE5;&#x4FDD;&#x7559;&#x539F;&#x5217;&#x8868;&#xFF0C;&#x53C8;&#x80FD;&#x5F97;&#x5230;&#x5DF2;&#x7ECF;&#x6392;&#x5E8F;&#x597D;&#x7684;&#x5217;&#x8868;sorted()&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;&gt;&gt;&gt; a = [5,7,6,3,4,1,2]&gt;&gt;&gt; b = sorted(a)&gt;&gt;&gt; a[5, 7, 6, 3, 4, 1, 2]&gt;&gt;&gt; b[1, 2, 3, 4, 5, 6, 7]sorted()&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x5E8F;&#x5217;&#x4E2D;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x603B;&#x662F;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x5F62;&#x5F0F;&#xFF1A;&gt;&gt;&gt; sorted(&apos;iplaypython.com&apos;)[&apos;.&apos;, &apos;a&apos;, &apos;c&apos;, &apos;h&apos;, &apos;i&apos;, &apos;l&apos;, &apos;m&apos;, &apos;n&apos;, &apos;o&apos;, &apos;o&apos;, &apos;p&apos;, &apos;p&apos;, &apos;t&apos;, &apos;y&apos;, &apos;y&apos;] 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889shell &#x751F;&#x6210;&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x968F;&#x673A;&#x6570;&#x4E0E;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;1.&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x7684; $RANDOM &#x53D8;&#x91CF;[plain] view plain copyfdipzone@ubuntu:~$ echo $RANDOM 17617 $RANDOM &#x7684;&#x8303;&#x56F4;&#x662F; [0, 32767]&#x5982;&#x9700;&#x8981;&#x751F;&#x6210;&#x8D85;&#x8FC7;32767&#x7684;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x3002;&#x4F8B;&#xFF1A;&#x751F;&#x6210;400000~500000&#x7684;&#x968F;&#x673A;&#x6570;[plain] view plain copy#!/bin/bash function rand(){ min=$1 max=$(($2-$min+1)) num=$(($RANDOM+1000000000)) #&#x589E;&#x52A0;&#x4E00;&#x4E2A;10&#x4F4D;&#x7684;&#x6570;&#x518D;&#x6C42;&#x4F59; echo $(($num%$max+$min)) } rnd=$(rand 400000 500000) echo $rnd exit 0 2.&#x4F7F;&#x7528;date +%s%N&#x4F8B;&#xFF1A;&#x751F;&#x6210;1~50&#x7684;&#x968F;&#x673A;&#x6570;[plain] view plain copy#!/bin/bash function rand(){ min=$1 max=$(($2-$min+1)) num=$(date +%s%N) echo $(($num%$max+$min)) } rnd=$(rand 1 50) echo $rnd exit 0 3.&#x4F7F;&#x7528;/dev/random &#x548C; /dev/urandom/dev/random &#x5B58;&#x50A8;&#x7740;&#x7CFB;&#x7EDF;&#x5F53;&#x524D;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x7684;&#x5B9E;&#x65F6;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x963B;&#x585E;&#x7684;&#x968F;&#x673A;&#x6570;&#x53D1;&#x751F;&#x5668;&#xFF0C;&#x8BFB;&#x53D6;&#x6709;&#x65F6;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x3002;/dev/urandom &#x975E;&#x963B;&#x585E;&#x968F;&#x673A;&#x6570;&#x53D1;&#x751F;&#x5668;&#xFF0C;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x963B;&#x585E;&#x3002;&#x4F8B;&#xFF1A;&#x4F7F;&#x7528;/dev/urandom&#x751F;&#x6210;100~500&#x7684;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x4F7F;&#x7528;urandom&#x907F;&#x514D;&#x963B;&#x585E;&#x3002;[plain] view plain copy#!/bin/bash function rand(){ min=$1 max=$(($2-$min+1)) num=$(cat /dev/urandom | head -n 10 | cksum | awk -F &apos; &apos; &apos;{print $1}&apos;) echo $(($num%$max+$min)) } rnd=$(rand 100 500) echo $rnd exit 0 4.&#x4F7F;&#x7528;linux uuiduuid &#x5168;&#x79F0;&#x662F;&#x901A;&#x7528;&#x552F;&#x4E00;&#x8BC6;&#x522B;&#x7801;&#xFF0C;&#x683C;&#x5F0F;&#x5305;&#x542B;32&#x4E2A;16&#x8FDB;&#x5236;&#x6570;&#x5B57;&#xFF0C;&#x4EE5;&apos;-&apos;&#x8FDE;&#x63A5;&#x53F7;&#x5206;&#x4E3A;5&#x6BB5;&#x3002;&#x5F62;&#x5F0F;&#x4E3A;8-4-4-4-12 &#x7684;32&#x4E2A;&#x5B57;&#x7B26;&#x3002;[plain] view plain copyfdipzone@ubuntu:~/shell$ cat /proc/sys/kernel/random/uuid fd496199-372a-403e-8ec9-bf4c52cbd9cd &#x4F8B;&#xFF1A;&#x4F7F;&#x7528;linux uuid &#x751F;&#x6210;100~500&#x968F;&#x673A;&#x6570;[plain] view plain copy#!/bin/bash function rand(){ min=$1 max=$(($2-$min+1)) num=$(cat /proc/sys/kernel/random/uuid | cksum | awk -F &apos; &apos; &apos;{print $1}&apos;) echo $(($num%$max+$min)) } rnd=$(rand 100 500) echo $rnd exit 0 5.&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;&#x4F8B;&#xFF1A;&#x751F;&#x6210;10&#x4F4D;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;[plain] view plain copy#&#x4F7F;&#x7528;date &#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32; date +%s%N | md5sum | head -c 10 #&#x4F7F;&#x7528; /dev/urandom &#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32; cat /dev/urandom | head -n 10 | md5sum | head -c 10]]></content>
      <categories>
        <category>linux</category>
        <category>shell</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[什么是docker（ Build，Ship and Run ）]]></title>
    <url>%2F2017%2F06%2F26%2Flearn-docker%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x672C;&#x6587;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x4EC0;&#x4E48;&#x662F;docker&#x3001;docker&#x7684;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x800C;&#x5199;&#x3002;&#x672C;&#x6587;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x6765;&#x6E90;&#x4E8E;&#x300A;Docker &#x8FDB;&#x9636;&#x4E0E;&#x5B9E;&#x6218;&#x300B;&#x4E00;&#x4E66;&#x3002; &#x4EC0;&#x4E48;&#x662F;docker &#x5F00;&#x6E90;&#x5BB9;&#x5668;&#x5F15;&#x64CE; &gt; &#x7BA1;&#x7406;&#x5BB9;&#x5668;&#x3001;&#x955C;&#x50CF; &#x8F7B;&#x91CF;&#x7EA7;&#x865A;&#x62DF;&#x5316; &gt; &#x5BB9;&#x5668;&#x6280;&#x672F;&#x672C;&#x8EAB; &#x5728;&#x4E00;&#x4E9B;&#x65B9;&#x9762;&#xFF0C;&#x6027;&#x80FD;&#x548C;&#x7269;&#x7406;&#x673A;&#x76F8;&#x8FD1; &gt; &#x56E0;&#x4E3A;&#x4E0B;&#x9762;&#x4E24;&#x6761; &#x57FA;&#x4E8E;&#x5185;&#x6838;&#x7684;cgroup&#x3001;namespace&#x5BB9;&#x5668;&#x6280;&#x672F; &gt; &#x5904;&#x7406;&#x903B;&#x8F91;&#x4E0E;&#x5185;&#x6838;&#x6DF1;&#x5EA6;&#x878D;&#x5408; &#x901A;&#x8FC7;libcontainer&#x7BA1;&#x7406; &gt; &#x771F;&#x6B63;&#x610F;&#x4E49;&#x7684;&#x5BB9;&#x5668;&#x5F15;&#x64CE; docker&#x4FA7;&#x91CD;&#x4E8E;&#x4E0A;&#x5C42;&#x5904;&#x7406; &gt; &#x5BF9;&#x5C42;&#x7EA7;&#x955C;&#x50CF;&#x7684;&#x521B;&#x65B0; &gt; &#x63D0;&#x9AD8;&#x78C1;&#x76D8;&#x5229;&#x7528;&#x7387; docker&#x5BB9;&#x5668;&#x548C;&#x865A;&#x62DF;&#x673A;&#x7684;&#x533A;&#x522B; &#x5BB9;&#x5668;&#x548C;&#x865A;&#x62DF;&#x673A;&#x662F;&#x4E92;&#x8865;&#x7684; &#x865A;&#x62DF;&#x673A;&#x662F;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x5212;&#x5206;&#x7684;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#x65B9;&#x6848; &#x5BB9;&#x5668;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EA7;&#x522B;&#x7684;&#x865A;&#x62DF;&#x5316; &#x5BB9;&#x5668;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#xFF0C;&#x8FDB;&#x7A0B;&#x7EA7;&#x522B;&#x7684;&#x9694;&#x79BB;&#xFF0C;&#x8F7B;&#x91CF;&#x7EA7; &#x79D2;&#x7EA7;&#x3001;&#x751A;&#x81F3;&#x6BEB;&#x79D2;&#x7EA7;&#x542F;&#x52A8; docker&#x6838;&#x5FC3;&#x7EC4;&#x4EF6; docker &#x5BA2;&#x6237;&#x7AEF; docker daemon docker &#x5BB9;&#x5668; docker &#x955C;&#x50CF; docker registry &#xFF08;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF09; docker &#x5BA2;&#x6237;&#x7AEF; &#x5178;&#x578B;&#x7684;c/s&#x67B6;&#x6784; &#x5BA2;&#x6237;&#x7AEF;&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x5728;&#x4E00;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x4E2D;&#xFF08;&#x9488;&#x5BF9;linux&#xFF09; docker command&#x3001;restful api docker daemon &#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x6210;docker-server&#xFF08;docker-engine&#xFF09; docker&#x6838;&#x5FC3;&#x5F15;&#x64CE; &#x63A5;&#x53D7;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x7684;&#x8BF7;&#x6C42; docker &#x5BB9;&#x5668; docker&#x7684;&#x6838;&#x5FC3;&#x5185;&#x5BB9; &#x4EE5;&#x955C;&#x50CF;&#x4E3A;&#x57FA;&#x7840;&#xFF0C;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x3001;&#x9694;&#x79BB;&#x7684;&#x6267;&#x884C;&#x73AF;&#x5883; &#x73AF;&#x5883;&#x4E00;&#x81F4;&#x6027; Docker&#x5BB9;&#x5668;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x524D;&#x53F0;&#x8FDB;&#x7A0B; &#x5BB9;&#x5668;=cgroup+namespace+rootfs+&#x5BB9;&#x5668;&#x5F15;&#x64CE;&#xFF08;lxc&#xFF09; cgroup &#x8D44;&#x6E90;&#x63A7;&#x5236; namespace &#x8BBF;&#x95EE;&#x9694;&#x79BB; rootfs &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x9694;&#x79BB; &#x5BB9;&#x5668;&#x5F15;&#x64CE; &#x751F;&#x547D;&#x5468;&#x671F;&#x63A7;&#x5236; &#x76EE;&#x524D;&#x6240;&#x6709;linux&#x5BB9;&#x5668;&#x9879;&#x76EE;&#x90FD;&#x5305;&#x542B;&#x4EE5;&#x4E0A;&#x7EC4;&#x4EF6; &#x4EC0;&#x4E48;&#x662F;LXC LXC&#x7528;&#x6237;&#x6001;&#x5DE5;&#x5177; Linux Container&#xFF0C;&#x5373;&#x5185;&#x6838;&#x5BB9;&#x5668;&#x6280;&#x672F;&#x7684;&#x7B80;&#x79F0;&#xFF08;&#x901A;&#x5E38;&#x6307;&#x8FD9;&#x79CD;&#xFF09; docker &#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x505A;&#x4E86;&#x4EC0;&#x4E48; &#x8DE8;&#x4E3B;&#x673A;&#x90E8;&#x7F72; &gt; &#x955C;&#x50CF; &#x4EE5;&#x5E94;&#x7528;&#x4E3A;&#x4E2D;&#x5FC3; &gt; Dockerfile &#x81EA;&#x52A8;&#x6784;&#x5EFA; &gt; Dockerfile&#xFF0C;salt&#x3002;&#x3002;&#x3002; &#x7248;&#x672C;&#x7BA1;&#x7406; &gt; &#x7C7B;&#x4F3C;git&#x7684;tag &#x7EC4;&#x4EF6;&#x91CD;&#x7528; &gt; &#x955C;&#x50CF;&#x5C42;&#x7EA7; &#x5171;&#x4EAB; &gt; registry &#x5DE5;&#x5177;&#x5171;&#x4EAB;&#x94FE; &gt; &#x2026; &#x5BB9;&#x5668;&#x6280;&#x672F;&#xFF08;&#x5BB9;&#x5668;&#x865A;&#x62DF;&#x5316;&#xFF09; &#x53C8;&#x79F0;&#x4E3A;&#x5BB9;&#x5668;&#x865A;&#x62DF;&#x5316; &#x662F;&#x4E00;&#x79CD;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x865A;&#x62DF;&#x5316;&#x6280;&#x672F;&#xFF08;&#x4E0E;&#x5176;&#x4ED6;&#x865A;&#x62DF;&#x5316;&#x5DEE;&#x5F02;&#x6BD4;&#x8F83;&#x5927;&#xFF09; &#x8F7B;&#x91CF;&#x7EA7;&#x865A;&#x62DF;&#x5316;&#x6280;&#x672F; linux&#x5185;&#x6838;&#x652F;&#x6301; &#x4EC0;&#x4E48;&#x662F;&#x5BB9;&#x5668;&#x6280;&#x672F;&#xFF08;&#x666E;&#x904D;&#x8BA4;&#x53EF;&#x7684;&#x8BF4;&#x6CD5;&#xFF09; &#x9996;&#x5148;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x72EC;&#x7ACB;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883; &#x6700;&#x5C0F;&#x5316;&#x5176;&#x5BF9;&#x5916;&#x754C;&#x7684;&#x5F71;&#x54CD; namespace&#xFF08;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF09;&#xFF1A;&#x8BBF;&#x95EE;&#x9694;&#x79BB; cgroup&#xFF08;&#x63A7;&#x5236;&#x7EC4;&#xFF09;&#xFF1A;&#x8D44;&#x6E90;&#x63A7;&#x5236; &#x5BB9;&#x5668;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#x53F2; docker &#x955C;&#x50CF; &#x662F;&#x4E00;&#x4E2A;&#x8FD8;&#x6CA1;&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x7684;&#x201C;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x201D; &#x8F7B;&#x91CF;&#x7EA7;&#x3001;&#x53EF;&#x5B9A;&#x5236;&#x7684;rootfs &#x5C42;&#x7EA7;&#x7ED3;&#x6784;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x590D;&#x7528; &#x81EA;&#x5B9A;&#x4E49;&#x955C;&#x50CF;&#xFF08;DOCKERFILE&#xFF0C;COMMIT&#xFF09; docker registry &#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x670D;&#x52A1;&#x5668;&#x7EA7;&#x522B;&#x7684;&#x5E94;&#x7528;&#x5546;&#x5E97; docker &#x547D;&#x4EE4;12345678910111213141516docker infodocker imagesdocker search|pull img_namedocker ps [-a]docker rmi|rmdocker run [-it|-d] --name xxx img_name [cmd]docker exec -it con_name [cmd]docker start|stop con_namedocker logs [-ft]docker top|statsdocker inspect img_name|con_namedocker save|loaddocker build|commitdocker export|importdocker history imageid... build123456789101112131415161718# &#x67E5;&#x770B;&#x955C;&#x50CF;docker images [-a]# &#x641C;&#x7D22;&#x955C;&#x50CF;&#x3001;&#x4E0B;&#x8F7D;&#x955C;&#x50CF;docker search|pull img_name# &#x521B;&#x5EFA;&#x955C;&#x50CF;docker build|commit# &#x5BFC;&#x51FA;&#x3001;&#x5BFC;&#x5165;&#x955C;&#x50CF;docker save|load# &#x5BFC;&#x51FA;&#x5BB9;&#x5668;&#x3001;&#x5BFC;&#x5165;&#x6210;&#x955C;&#x50CF;docker export|import# &#x5220;&#x9664;&#x955C;&#x50CF;docker rmi# &#x6DF1;&#x5165;&#x955C;&#x50CF;docker inspect img_name# &#x67E5;&#x770B;&#x955C;&#x50CF;&#x6784;&#x5EFA;&#x5386;&#x53F2;docker history imageid# &#x67E5;&#x770B;&#x955C;&#x50CF;&#x5F00;&#x653E;&#x7AEF;&#x53E3;docker port sinaapp ship123456789# &#x4ECE;registry&#x641C;&#x7D22;&#x955C;&#x50CF;&#x3001;&#x4E0B;&#x8F7D;&#x955C;&#x50CF;docker search|pull img_name# &#x5BFC;&#x51FA;&#x3001;&#x5BFC;&#x5165;&#x955C;&#x50CF;docker save|load# &#x5BFC;&#x51FA;&#x5BB9;&#x5668;&#x3001;&#x5BFC;&#x5165;&#x6210;&#x955C;&#x50CF;docker export|import...DockerfileRegistry run123456789101112131415161718192021# &#x67E5;&#x770B;&#x5BB9;&#x5668;docker ps [-a]# &#x5220;&#x9664;&#x5BB9;&#x5668;docker rm# &#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;docker run [-it|-d] --name xxx img_name [cmd]# &#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#x5185;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4EFB;&#x52A1;docker exec -it con_name [cmd]# &#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x5BB9;&#x5668;docker start|stop con_name# &#x67E5;&#x770B;&#x5BB9;&#x5668;&#x65E5;&#x5FD7;docker logs [-ft] con_name# &#x67E5;&#x770B;&#x5BB9;&#x5668;&#x6027;&#x80FD;docker top|stats con_name# &#x6DF1;&#x5165;&#x5BB9;&#x5668;docker inspect con_name# &#x4ECE;&#x5BB9;&#x5668;&#x751F;&#x6210;&#x955C;&#x50CF;docker commit# &#x5BFC;&#x51FA;&#x5BB9;&#x5668;docker export... Dockerfile pull&#x57FA;&#x7840;&#x955C;&#x50CF; &#x901A;&#x8FC7;dockerfile&#x751F;&#x6210;&#x65B0;&#x7684;&#x955C;&#x50CF; push&#x65B0;&#x7684;&#x955C;&#x50CF;&#x5230;&#x4ED3;&#x5E93; &#x4ECE;&#x4ED3;&#x5E93;pull&#x65B0;&#x7684;&#x955C;&#x50CF; &#x901A;&#x8FC7;run&#x3001;compose&#x8FDB;&#x884C;&#x90E8;&#x7F72; 1234567891011121314151617# &#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;Dockerfile################## Version: 0.0.1FROM ubuntu:16.04MAINTAINER author &lt;email&gt;RUN apt update#RUN apt installedl nginx -yRUN [&quot;apt&quot;, &quot;install&quot;, &quot;-y&quot;, &quot;nginx&quot;]RUN echo &quot;Hi, I am in your container&quot; \ &gt; /usr/share/nginx/html/index.htmlEXPOSE 80################## &#x6784;&#x5EFA;&#x955C;&#x50CF;docker build -t &quot;author/nginx:v1&quot; .# &#x4F7F;&#x7528;&#x65B0;&#x955C;&#x50CF;&#x542F;&#x52A8;&#x5BB9;&#x5668;docker run -d -p 8080:80 --name myweb author/nginx:v1 nginx -g &quot;daemon off;&quot; CMD12345&#x6784;&#x5EFA;&#x955C;&#x50CF;&#x540E;&#xFF0C;&#x60C5;&#x52A8;&#x5BB9;&#x5668;&#x9ED8;&#x8BA4;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x521D;&#x59CB;&#x5316;&#x73AF;&#x5883;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;run&#x7684;&#x65F6;&#x5019;&#x88AB;&#x8986;&#x76D6;CMD&#x53EA;&#x80FD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#xFF0C;&#x5982;&#x679C;&#x591A;&#x4E2A;&#xFF0C;&#x4F1A;&#x8FD0;&#x884C;&#x6700;&#x540E;&#x4E00;&#x4E2A;CMD [&quot;/bin/ps&quot;]docker run -it ooppwwqq0/sa:v2 /bin/bash ENTRYPOINT123456&#x4E0E;CMD&#x547D;&#x4EE4;&#x6709;&#x4E9B;&#x50CF;&#xFF0C;&#x4F46;&#x662F;&#x9ED8;&#x8BA4;&#x4E0D;&#x80FD;&#x88AB;&#x8986;&#x76D6;&#x4E00;&#x822C;&#x4E0E;CMD&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x914D;&#x5408;docker run &#x4F20;&#x9012;&#x53C2;&#x6570;ENTRYPOINT [&quot;/usr/sbin/nginx&quot;]CMD [&quot;-h&quot;]&#x5982;&#x679C;&#x60F3;&#x8986;&#x76D6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;--entrypoint&#x6765;&#x8986;&#x76D6; WORKDIR123456789&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5207;&#x6362;&#x76EE;&#x5F55;&#xFF0C;&#x9650;&#x5B9A;&#x4E00;&#x4E9B;&#x6307;&#x4EE4;&#x5728;&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4E3A;&#x6700;&#x7EC8;&#x7684;&#x955C;&#x50CF;&#x8BBE;&#x7F6E;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;WORKDIR /opt/webapp/dbRUN touch filenameWORKDIR /opt/webappENTRYPOINT [&quot;pwd&quot;]&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-w&#x9009;&#x9879;&#x8986;&#x76D6;docker run -it -w /data/logs ubuntu pwd ENV1234&#x53EF;&#x4EE5;&#x5728;&#x955C;&#x50CF;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x5EF6;&#x7EED;&#x5230;&#x4EE5;&#x6B64;&#x955C;&#x50CF;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;-e&#x9009;&#x9879;&#x6765;&#x4F20;&#x9012;&#x73AF;&#x5883;&#x53D8;&#x91CF;ENV WEB_PATH /home/web WORKDIR $WEB_PATH USER1234&#x6307;&#x5B9A;&#x542F;&#x52A8;&#x7684;&#x955C;&#x50CF;&#x4F7F;&#x7528;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;rootUSER user:groupUSER uid:gidUSER user:gid VOLUME12345&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x6DFB;&#x52A0;&#x5377;&#xFF0C;&#x4E00;&#x4E2A;&#x5377;&#x53EF;&#x4EE5;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x7279;&#x5B9A;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5C06;&#x6570;&#x636E;&#x6216;&#x8005;&#x4EE3;&#x7801;&#x6DFB;&#x52A0;&#x5230;&#x955C;&#x50CF;&#x4E2D;&#x800C;&#x4E0D;&#x662F;&#x63D0;&#x4EA4;&#x5230;&#x955C;&#x50CF;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x5141;&#x8BB8;&#x591A;&#x4E2A;&#x5BB9;&#x5668;&#x5171;&#x4EAB;VOLUME [&quot;/opt/project&quot;, &quot;/data&quot;]&#x524D;&#x9762;&#x7684;&#x5BBF;&#x4E3B;&#x673A;&#x5730;&#x5740;&#x6302;&#x8F7D;&#x5230;&#x540E;&#x9762;&#x5BB9;&#x5668;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x540E;&#x9762;&#x4E0D;&#x5199;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x548C;&#x524D;&#x9762;&#x4E00;&#x6837;&#x7684;&#x8DEF;&#x5F84;&#x5E76;&#x6302;&#x8F7D;-v&#x9009;&#x9879;&#x5728;run&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x6307;&#x5B9A; ADD123456&#x7528;&#x6765;&#x5C06;&#x6784;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x590D;&#x5236;&#x5230;&#x955C;&#x50CF;&#x4E2D;ADD conf.php /opt/app/conf/conf.php&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;url&#xFF0C;&#x4E0D;&#x80FD;&#x5BF9;&#x6784;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;&#x5916;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;.Docker&#x901A;&#x8FC7;&#x76EE;&#x6807;&#x5730;&#x5740;&#x7684;&#x7ED3;&#x5C3E;&#x5B57;&#x7B26;&#x5224;&#x65AD;&#x6587;&#x4EF6;&#x6E90;&#x662F;&#x6587;&#x4EF6;&#x8FD8;&#x662F;&#x76EE;&#x5F55;&#xFF0C;&#x201C;/&#x201D;&#x7ED3;&#x5C3E;&#x5219;&#x6E90;&#x662F;&#x76EE;&#x5F55;&#xFF0C;&#x5426;&#x5219;&#x8BA4;&#x4E3A;&#x662F;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x6E90;&#x6587;&#x4EF6;&#x5728;&#x672C;&#x5730;&#x662F;&#x538B;&#x7F29;&#x5305;&#xFF0C;&#x5982;gzip&#x3001;bzip2&#x3001;xz&#xFF0C;ADD&#x53EF;&#x4EE5;&#x89E3;&#x538B;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55; COPY1234COPY&#x4E0E;ADD&#x6BD4;&#x8F83;&#x50CF;&#xFF0C;&#x4F46;&#x662F;COPY&#x4E0D;&#x4F1A;&#x505A;&#x89E3;&#x538B;&#x5DE5;&#x4F5C;&#xFF0C;&#x53EA;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x62F7;&#x8D1D;&#x3002;&#x539F;&#x8DEF;&#x5F84;&#x8981;&#x5728;&#x6784;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#xFF0C;&#x76EE;&#x6807;&#x8DEF;&#x5F84;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x76EE;&#x6807;&#x76EE;&#x5F55;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;mkdir -pCOPY conf.d/ /etc/apache/&#x5982;&#x679C;&#x539F;&#x8DEF;&#x5F84;&#x662F;&#x76EE;&#x5F55;&#xFF0C;&#x90A3;&#x4E2A;&#x6574;&#x4E2A;&#x76EE;&#x5F55;&#x90FD;&#x4F1A;&#x62F7;&#x8D1D;&#x5230;&#x76EE;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#x3002; ONBUILD12345ONBUILD&#x6307;&#x4EE4;&#x80FD;&#x4E3A;&#x955C;&#x50CF;&#x6DFB;&#x52A0;&#x89E6;&#x53D1;&#x5668;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x88AB;&#x5176;&#x4ED6;&#x955C;&#x50CF;&#x7528;&#x4F5C;&#x57FA;&#x7840;&#x955C;&#x50CF;&#x65F6;&#xFF0C;&#x8BE5;&#x955C;&#x50CF;&#x7684;&#x89E6;&#x53D1;&#x5668;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF08;&#x5982;&#x4F60;&#x7684;&#x955C;&#x50CF;&#x9700;&#x8981;&#x4ECE;&#x672A;&#x51C6;&#x5907;&#x597D;&#x7684;&#x4F4D;&#x7F6E;&#x6DFB;&#x52A0;&#x4EE3;&#x7801;&#xFF0C;&#x6216;&#x8005;&#x4F60;&#x9700;&#x8981;&#x6267;&#x884C;&#x7279;&#x5B9A;&#x4E8E;&#x6784;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x73AF;&#x5883;&#x7684;&#x6784;&#x5EFA;&#x811A;&#x672C;&#xFF09;&#x89E6;&#x53D1;&#x5668;&#x4F1A;&#x5728;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x63D2;&#x5165;&#x65B0;&#x6307;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x8FD9;&#x4E9B;&#x6307;&#x4EE4;&#x662F;&#x7D27;&#x8DDF;&#x5728;FROM&#x4E4B;&#x540E;&#x7684;&#xFF0C;&#x89E6;&#x53D1;&#x5668;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;&#x6307;&#x4EE4;&#x3002;ONBUILD ADD . /app/srcONBUILD RUN cd /app/src &amp;&amp; make docker &#x96C6;&#x7FA4; compose &#x670D;&#x52A1;&#x96C6;&#x7FA4; machine &#x7BA1;&#x7406;&#x96C6;&#x7FA4; openstack mesos swarm k8s rancher docker&#x7684;&#x4E09;&#x5927;&#x7F16;&#x6392;&#x5DE5;&#x5177; compose &#x7EC4;&#x88C5;&#x591A;&#x4E2A;&#x5BB9;&#x5668; machine &#x591A;&#x5E73;&#x53F0;&#x5B89;&#x88C5;docker swarm &#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x5DE5;&#x5177; docker-compose &#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x901A;&#x5E38;&#x662F;&#x7531;&#x591A;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF08;&#x5BB9;&#x5668;&#xFF09;&#x6784;&#x6210;&#x7684; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7531;&#x54EA;&#x4E9B;&#x5BB9;&#x5668;&#x7EC4;&#x6210; &#x5B9A;&#x4E49;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x8054; compose&#x5C06;yml&#x6587;&#x4EF6;&#x89E3;&#x6790;&#x6210;docker&#x547D;&#x4EE4;&#x53C2;&#x6570; &#x8C03;&#x7528;&#x76F8;&#x5E94;&#x7684;docker&#x63A5;&#x53E3; &#x662F;&#x5BF9;docker&#x547D;&#x4EE4;&#x7684;&#x5C01;&#x88C5; 12345678910111213141516171819202122232425262728293031323334353637# requirements.txtflaskredis# app.pyfrom flask import Flaskfrom redis import Redisapp = Flask(__name__)redis = Redis(host=&apos;redis&apos;, port=6379)@app.route(&apos;/&apos;)def hello(): count = redis.incr(&apos;hits&apos;) return &apos;Hello from Docker! I have been seen {} times.\n&apos;.format(count)if __name__ == &quot;__main__&quot;: app.run(host=&quot;0.0.0.0&quot;, debug=True)# DockerfileFROM python:3.4-alpineADD . /codeWORKDIR /codeRUN pip install -r requirements.txtCMD [&quot;python&quot;, &quot;app.py&quot;]# docker-compose.ymlversion: &apos;2&apos;services: web: build: . ports: - &quot;5000:5000&quot; volumes: - .:/code redis: image: &quot;redis:alpine&quot;]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVM安装部署]]></title>
    <url>%2F2017%2F06%2F17%2Fkvm-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;KVM&#x865A;&#x62DF;&#x5316;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x51C6;&#x5907; &#x5982;&#x679C;&#x662F;&#x5728;&#x7EBF;&#x4E0A;&#x670D;&#x52A1;&#x5668;&#x5B89;&#x88C5;&#x5E94;&#x6700;&#x5C0F;&#x5316;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#xFF1B; &#x5982;&#x679C;&#x9700;&#x8981;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x7BA1;&#x7406;&#xFF0C;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;X Window&#x4EE5;&#x53CA;vnc&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x7BA1;&#x7406;&#xFF1B; &#x5982;&#x679C;&#x5ACC;&#x9EBB;&#x70E6;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x865A;&#x62DF;&#x673A;&#x5B89;&#x88C5;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x88C5;&#x684C;&#x9762;&#xFF1B; &#x5B89;&#x88C5;&#x56FE;&#x5F62;&#x662F;&#x4E3A;&#x4E86;&#x7BA1;&#x7406;&#x7B80;&#x5355;&#xFF0C;kvm&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x547D;&#x4EE4;&#x884C;&#x7BA1;&#x7406;&#xFF1B; &#x9700;&#x8981;&#x670D;&#x52A1;&#x5668;BIOS&#x5F00;&#x542F;(Virtual Technolege)VT &#xFF08;Virtualization Tech [Enabled] &#xFF09;&#xFF1B; &#x5982;&#x679C;&#x662F;vmware&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x9700;&#x8981;&#x5728;cpu&#x5185;&#x5B58;&#x9009;&#x9879;&#x4E2D;&#x7684;&#x9AD8;&#x7EA7;&#x8BBE;&#x7F6E;&#x5F00;&#x542F;VT-x&#x652F;&#x6301;&#xFF08;&#x9ED8;&#x8BA4;&#x4E0D;&#x5F00;&#x542F;&#xFF09;&#xFF1B; &#x672C;&#x6587;&#x6682;&#x65F6;&#x4EE5;&#x6700;&#x5C0F;&#x5316;&#x5B89;&#x88C5;&#x7684;Centos7&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x90E8;&#x7F72;&#xFF0C;&#x540E;&#x7EED;&#x53EF;&#x80FD;&#x4F1A;&#x589E;&#x52A0;Centos6&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x88C5;&#xFF0C;&#x5176;&#x5B9E;&#x5927;&#x540C;&#x5C0F;&#x5F02;&#x3002; kvm&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x786E;&#x8BA4;&#x73AF;&#x5883; &#x786E;&#x8BA4;&#x670D;&#x52A1;&#x5668;&#x6709;VT(Virtual Technolege)&#xFF1B; KVM&#x9700;&#x8981;&#x6709;CPU&#x7684;&#x652F;&#x6301;(Intel vmx&#x6216;AMD svm),&#xFF1B; &#x5728;&#x5B89;&#x88C5;KVM&#x4E4B;&#x524D;, &#x9700;&#x8981;&#x68C0;&#x67E5;CPU&#x662F;&#x5426;&#x63D0;&#x4F9B;&#x4E86;&#x865A;&#x62DF;&#x6280;&#x672F;&#x7684;&#x652F;&#x6301;; &#x786E;&#x4FDD;BIOS&#x652F;&#x6301;kvm 1234567egrep &apos;^flags.*(vmx|svm)&apos; /proc/cpuinfoflags&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm ida arat epb pln pts dtherm tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid cqm xsaveopt cqm_llc cqm_occup_llclsmod| grep kvm kvm_intel&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;170181&#xA0; 0 kvm&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;554609&#xA0; 1 kvm_intel irqbypass&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 13503&#xA0; 1 kvm# kvm: &#x4F5C;&#x4E3A;&#x6838;&#x5FC3;&#x6A21;&#x5757;, &#x534F;&#x540C;QEMU&#x5B9E;&#x73B0;&#x6574;&#x4E2A;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x7684;&#x6B63;&#x5E38;&#x8FD0;&#x884C;.# kvm_intel: &#x4F5C;&#x4E3A;&#x5E73;&#x53F0;(Intel)&#x72EC;&#x7ACB;&#x6A21;&#x5757;, &#x6FC0;&#x6D3B;KVM&#x73AF;&#x5883;&#x7684;CPU&#x786C;&#x4EF6;&#x865A;&#x62DF;&#x5316;&#x652F;&#x6301;. &#x73AF;&#x5883;&#x90E8;&#x7F72;1234567# &#x5173;&#x95ED;selinuxsetenforce 0sed -i &apos;s/=enforcing/=disabled/g&apos; /etc/selinux/config# &#x505C;&#x7528;&#x9632;&#x706B;&#x5899;systemctl disable firewalld.servicesystemctl stop firewalld.service &#x5B89;&#x88C5;kvm1234567891011yum install qemu-kvm libvirt virt-install virt-manager -y# qemu-kvm:&#xA0;&#x4E3B;&#x8981;&#x5305;&#x542B;KVM&#x5185;&#x6838;&#x6A21;&#x5757;&#x548C;&#x57FA;&#x4E8E;KVM&#x91CD;&#x6784;&#x540E;&#x7684;QEMU&#x6A21;&#x62DF;&#x5668;. KVM&#x6A21;&#x5757;&#x4F5C;&#x4E3A;&#x6574;&#x4E2A;&#x865A;&#x62DF;&#x5316;&#x73AF;&#x5883;&#x7684;&#x6838;&#x5FC3;&#x5DE5;&#x4F5C;&#x5728;&#x7CFB;&#x7EDF;&#x7A7A;&#x95F4;, &#x8D1F;&#x8D23;CPU&#x548C;&#x5185;&#x5B58;&#x7684;&#x8C03;&#x5EA6;. QEMU&#x4F5C;&#x4E3A;&#x6A21;&#x62DF;&#x5668;&#x5DE5;&#x4F5C;&#x5728;&#x7528;&#x6237;&#x7A7A;&#x95F4;, &#x8D1F;&#x8D23;&#x865A;&#x62DF;&#x673A;I/O&#x6A21;&#x62DF;. # &#x4F9D;&#x8D56;&#x5305; quemu-img: &#xA0;&#x4E3B;&#x8981;&#x7528;&#x6765;QEMU&#x78C1;&#x76D8;&#x955C;&#x50CF;&#x7684;&#x7BA1;&#x7406;, &#x5982;&#x65B0;&#x5EFA;&#x4E00;&#x5757;&#x78C1;&#x76D8;&#x955C;&#x50CF;&#x7ED9;&#x865A;&#x62DF;&#x673A;. # libvirt:&#xA0;&#x63D0;&#x4F9B;Hypervisor&#x548C;&#x865A;&#x62DF;&#x673A;&#x7BA1;&#x7406;&#x7684;API. # &#x4F9D;&#x8D56;&#x5305; libvirt-client:&#xA0;KVM&#x5BA2;&#x6237;&#x7AEF;&#x547D;&#x4EE4;&#x884C;&#x7BA1;&#x7406;&#x5DE5;&#x5177;virsh, &#x8D1F;&#x8D23;&#x865A;&#x62DF;&#x673A;&#x7684;&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x548C;&#x7BA1;&#x7406;&#x7B49;.# libvirt-daemon:&#xA0;libvirtd&#x5B88;&#x62A4;&#x8FDB;, &#x4F5C;&#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x8DDF;Hypervisor&#x548C;&#x865A;&#x62DF;&#x673A;&#x4E4B;&#x95F4;&#x7684;&#x6865;&#x6881;.# libvirt-daemon-driver-xxx:&#xA0;&#x4ECE;&#x540D;&#x5B57;&#x6765;&#x770B;&#x5C5E;&#x4E8E;libvirtd&#x670D;&#x52A1;&#x7684;&#x9A71;&#x52A8;&#x6587;&#x4EF6;, &#x4F5C;&#x4E3A;libvirtd&#x670D;&#x52A1;&#x8DDF;Hypervisor&#x4E0D;&#x540C;&#x5BF9;&#x8C61;(&#x5982;qemu&#x6A21;&#x62DF;&#x5668;&#x3001;&#x7F51;&#x7EDC;&#x3001;&#x5B58;&#x50A8;&#x7B49;)&#x95F4;&#x7684;&#x63A5;&#x53E3;.# bridge-utils:&#xA0;&#x7F51;&#x6865;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x5305;, &#x8D1F;&#x8D23;&#x6865;&#x63A5;&#x7F51;&#x7EDC;&#x7684;&#x521B;&#x5EFA;&#x3001;&#x914D;&#x7F6E;&#x548C;&#x7BA1;&#x7406;&#x7B49;&#x5DE5;&#x4F5C;.# virt-install:&#xA0;&#x521B;&#x5EFA;&#x548C;&#x514B;&#x9686;&#x865A;&#x62DF;&#x673A;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#x5305;.# virt-manager:&#xA0;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x7684;KVM&#x7BA1;&#x7406;&#x5DE5;&#x5177;. &#x542F;&#x52A8;&#x670D;&#x52A1;&#x5E76;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;12345# &#x8BBE;&#x7F6E;KVM&#x5F00;&#x673A;&#x542F;&#x52A8;systemctl enable libvirtd# &#x542F;&#x52A8;KVM&#x670D;&#x52A1;systemctl start libvirtd &#x540E;&#x7EED;&#x914D;&#x7F6E;&#x914D;&#x7F6E;&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;, &#x6240;&#x6709;&#x865A;&#x62DF;&#x673A;&#x90FD;&#x53EA;&#x80FD;&#x5728;hosts&#x5185;&#x90E8;&#x4E92;&#x76F8;&#x901A;&#x4FE1;, &#x5982;&#x679C;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x5C40;&#x57DF;&#x7F51;&#x8BBF;&#x95EE;&#x865A;&#x62DF;&#x673A;, &#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6865;&#x63A5;&#x6A21;&#x5F0F; 1234567891011121314151617181920212223242526# &#x62F7;&#x8D1D;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6; cp /etc/sysconfig/network-scripts/ifcfg-em1&#xA0;/etc/sysconfig/network-scripts/ifcfg-br0 # &#x4FEE;&#x6539;&#x7684;&#x7F51;&#x5361;&#x4EE5;&#x53CA;&#x6865;&#x63A5;&#x7F51;&#x5361;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B; vim /etc/sysconfig/network-scripts/ifcfg-em1 TYPE=Ethernet BOOTPROTO=static ONBOOT=yes NAME=em1 DEVICE=em1 BRIDGE=br0 NM_CONTROLLED=no NM_CONTROLLED # NM_CONTROLLED&#x53C2;&#x6570;&#x8868;&#x793A;&#x8BE5;&#x7F51;&#x5361;&#x662F;&#x5426;&#x88AB;NetworkManager&#x670D;&#x52A1;&#x7BA1;&#x7406;, &#x8BBE;&#x7F6E;&#x4E3A;no&#x7684;&#x8BDD;&#x5C31;&#x662F;&#x4E0D;&#x63A5;&#x7BA1;.vim /etc/sysconfig/network-scripts/ifcfg-br0 TYPE=Bridge BOOTPROTO=static ONBOOT=yes NAME=br0 DEVICE=br0 IPADDR=192.168.0.11 NETMASK=255.255.255.0 GATEWAY=192.168.0.254 # &#x6CE8;&#x610F;: &#x6865;&#x63A5;&#x7F51;&#x5361;br0&#x4E2D;&#x7684;DEVICE&#x7684;&#x540D;&#x5B57;&#x4E00;&#x5B9A;&#x8981;&#x4E0E;&#x4EE5;&#x592A;&#x7F51;&#x5361;em1&#x4E2D;BRIDGE&#x5BF9;&#x5E94;. # &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5927;&#x5C0F;&#x5199;&#x6781;&#x5176;&#x654F;&#x611F;, &#x6240;&#x4EE5;&#x8BF7;&#x9075;&#x5B88;&#x4E0A;&#x8FF0;&#x914D;&#x7F6E;. &#x5F00;&#x542F;IP&#x8F6C;&#x53D1;123456vim&#xA0;/etc/sysctl.confnet.ipv4.ip_forward = 1sysctl -p ``` ### &#x91CD;&#x542F;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#xA0; &#xA0;&#xA0; ``` bashservice network restart &#x9A8C;&#x8BC1;&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x751F;&#x6548;1234# ip a em1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq master br0 state U P qlen 1000 &#xA0; &#xA0; link/ether 14:18:77:54:f5:73 brd ff:ff:ff:ff:ff:ff &#xA0; &#xA0; inet6 fe80::1618:77ff: fe54:f573/64 scope link &#xA0; &#xA0; &#xA0; &#xA0;valid_lft forever preferred_lft forever br0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP qlen 1000 &#xA0; &#xA0; link/ether 14:18:77:54:f5:73 brd ff:ff:ff:ff:ff:ff &#xA0; &#xA0; inet 192.168.0.11/24 brd 192.168.0.255 scope global br0 &#xA0; &#xA0; &#xA0; &#xA0;valid_lft forever preferred_lft forever &#xA0; &#xA0; inet6 fe80::1618:77ff: fe54:f573/64 scope link &#xA0; &#xA0; &#xA0; &#xA0;valid_lft forever preferred_lft forever #&#xA0;brctl show bridge name&#xA0; &#xA0; &#xA0;bridge id&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;STP enabled&#xA0; &#xA0; &#xA0;interfaces br0&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;8000. 14187754f573&#xA0; &#xA0; &#xA0; &#xA0;no&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; em1 virbr0&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 8000.525400899785&#xA0; &#xA0; &#xA0; &#xA0;yes&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;virbr0-nic # &#x5982;&#x679C;&#x60F3;&#x8BA9;br0&#x7684;&quot;STP enabled&quot;&#x4E5F;&#x663E;&#x793A;&#x4E3A;yes&#x7684;&#x8BDD;, &#x53EF;&#x4EE5;&#x5728;br0&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6700;&#x540E;&#x589E;&#x52A0;&#x4E00;&#x884C;: STP=yes # &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x662F;&#x67E5;&#x770B;&#x5DF2;&#x6709;&#x6865;&#x63A5;, &#x9519;&#x8BEF;&#x6865;&#x63A5;&#x4E3A;: bridge name&#xA0; &#xA0; &#xA0;bridge id&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;STP enabled&#xA0; &#xA0; &#xA0;interfaces br0&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;8000. 000000000000 &#xA0; &#xA0; &#xA0; no&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; em1 ``` # &#x5B89;&#x88C5;VNC&#x670D;&#x52A1; ## &#x684C;&#x9762;&#x73AF;&#x5883;&#x642D;&#x5EFA;``` bash yum -y groupinstall &quot;X Window System&quot;yum -y groupinstall &quot;GNOME Desktop&quot; &quot;Graphical Administration Tools&quot; &#x5B89;&#x88C5;VNC&#x670D;&#x52A1;yum -y install tigervnc-server # VNC&#x542F;&#x52A8;&#x540E;&#x751F;&#x6210;&#x7684;log&#x65E5;&#x5FD7;&#x4EE5;&#x53CA;pid&#x9ED8;&#x8BA4;&#x5B58;&#x653E;&#x5728;: /root/.vnc/&#x4E0B; &#x62F7;&#x8D1D;VNC&#x5C06;&#x8981;&#x542F;&#x52A8;&#x7684;&#x7A97;&#x53E3;, &#x5E76;&#x4F7F;&#x7528;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;``` bashcp /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@:1.service @:&#x540E;&#x9762;&#x7684;1&#x53EF;&#x4EE5;&#x53D8;&#x4E3A;VNC client&#x60F3;&#x8981;&#x8FDE;&#x63A5;&#x7684;&#x7A97;&#x53E3;&#x53F7;, VNC&#x7AEF;&#x53E3;&#x53F7;&#x4E3A;: 5900+&#x7A97;&#x53E3;&#x53F7;netstat -ntlp | grep vnc tcp 0 0 0.0.0.0:5901 0.0.0.0: LISTEN 4026/Xvnc tcp 0 0 0.0.0.0:6001 0.0.0.0: LISTEN 4026/Xvnc tcp 0 0 0.0.0.0:5801 0.0.0.0: LISTEN 4026/Xvnc tcp6 0 0 :::5901 ::: LISTEN 4026/Xvnc tcp6 0 0 :::6001 ::: LISTEN 4026/Xvnc tcp6 0 0 :::5801 ::: LISTEN 4026/Xvncps -ef | grep vnc root 4026 1 0 11:42 ? 00:00:00 /usr/bin/Xvnc :1 -desktop localhost.localdomain:1 (root) -httpd /usr/share/vnc/classes -auth / root/.Xauthority -geometry 1024x768 -rfbwait 30000 -rfbauth /root/.vnc/passwd -rfbport 5901 -fp catalogue:/etc/X11/fontpath.d -pn root 4037 1 0 11:42 ? 00:00:00 /usr/bin/vncconfig -iconic root 6640 2864 0 12:20 pts/0 00:00:00 grep &#x2013;color=auto vnc1234 ## &#x66F4;&#x6539;VNC&#x914D;&#x7F6E;&#x6587;&#x4EF6; ``` bashvim /etc/systemd/system/vncserver@:1.service #&#x5C06;&#x5982;&#x4E0B;&#x4E24;&#x884C;&#x547D;&#x4EE4;: ExecStart=/usr/sbin/runuser -l &lt;USER&gt; -c &quot;/usr/bin/vncserver %i&quot; PIDFile=/home/&lt;USER&gt;/.vnc/%H%i.pid #&#x66FF;&#x6362;&#x4E3A;: ExecStart=/sbin/runuser -l root -c &quot;/usr/bin/vncserver %i&quot; PIDFile=/root/.vnc/%H%i.pid &#x8BBE;&#x7F6E;VNC&#x767B;&#x5F55;&#x5BC6;&#x7801;``` bashvncpasswd &#x5982;&#x679C;&#x542F;&#x52A8;&#x65B9;&#x5F0F;&#x4E0D;&#x662F;root;&#x53EF;&#x4EE5;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-l&#x540E;&#x9762;&#x7684;&#x66F4;&#x6539;&#x4E3A;&#x5BF9;&#x5E94;&#x7684;&#x7528;&#x6237;&#x7136;&#x540E;vncpasswd &#x540E;&#x9762;&#x8DDF;&#x7528;&#x6237;&#x540D;, &#x8BBE;&#x7F6E;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;(&#x7C7B;&#x4F3C;&#x7CFB;&#x7EDF;&#x521B;&#x5EFA;&#x7528;&#x6237;passwd XXXX)1 ## &#x8BBE;&#x7F6E;VNC&#x670D;&#x52A1;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x5E76;&#x542F;&#x52A8;&#x670D;&#x52A1; ``` bash systemctl enable vncserver@:1.service systemctl start vncserver@:1.service &#x68C0;&#x67E5;VNC&#x670D;&#x52A1;&#x662F;&#x5426;&#x542F;&#x52A8;&#x6210;&#x529F;12netstat -ntlp | grep vnc tcp&#xA0; &#xA0; &#xA0; &#xA0; 0&#xA0; &#xA0; &#xA0; 0 0.0.0.0:5901&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 0.0.0.0:*&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;LISTEN&#xA0; &#xA0; &#xA0; 4026/Xvnc tcp&#xA0; &#xA0; &#xA0; &#xA0; 0&#xA0; &#xA0; &#xA0; 0 0.0.0.0:6001&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 0.0.0.0:*&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;LISTEN&#xA0; &#xA0; &#xA0; 4026/Xvnc tcp&#xA0; &#xA0; &#xA0; &#xA0; 0&#xA0; &#xA0; &#xA0; 0 0.0.0.0:5801&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 0.0.0.0:*&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;LISTEN&#xA0; &#xA0; &#xA0; 4026/Xvnc tcp6&#xA0; &#xA0; &#xA0; &#xA0;0&#xA0; &#xA0; &#xA0; 0 :::5901&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;:::*&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; LISTEN&#xA0; &#xA0; &#xA0; 4026/Xvnc tcp6&#xA0; &#xA0; &#xA0; &#xA0;0&#xA0; &#xA0; &#xA0; 0 :::6001&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;:::*&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; LISTEN&#xA0; &#xA0; &#xA0; 4026/Xvnc tcp6&#xA0; &#xA0; &#xA0; &#xA0;0&#xA0; &#xA0; &#xA0; 0 :::5801&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;:::*&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; LISTEN&#xA0; &#xA0; &#xA0; 4026/Xvnc &#xA0; &#xA0; &#xA0; ps -ef | grep vnc root&#xA0; &#xA0; &#xA0; &#xA0;4026&#xA0; &#xA0; &#xA0; 1&#xA0; 0 11:42 ?&#xA0; &#xA0; &#xA0; &#xA0; 00:00:00 /usr/bin/Xvnc :1 -desktop localhost.localdomain:1 (root) -httpd /usr/share/vnc/classes -auth /root/.Xauthority -geometry 1024x768 -rfbwait 30000 -rfbauth /root/.vnc/passwd -rfbport 5901 -fp catalogue:/etc/X11/fontpath.d -pn root&#xA0; &#xA0; &#xA0; &#xA0;4037&#xA0; &#xA0; &#xA0; 1&#xA0; 0 11:42 ?&#xA0; &#xA0; &#xA0; &#xA0; 00:00:00 /usr/bin/vncconfig -iconic root&#xA0; &#xA0; &#xA0; &#xA0;6640&#xA0; &#xA0;2864&#xA0; 0 12:20 pts/0&#xA0; &#xA0; 00:00:00 grep --color=auto vnc # &#x4E0B;&#x8F7D;Realvnc viewer&#x8F93;&#x5165;VNC&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x4EE5;&#x53CA;&#x7A97;&#x53E3;&#x53F7; ``` # KVM&#x6A21;&#x7248;&#x5236;&#x4F5C;&#x4E0E;&#x4F7F;&#x7528; ``` bash# &#x7528;KVM&#x521B;&#x5EFA;&#x4E00;&#x53F0;&#x865A;&#x62DF;&#x673A;&#x4F5C;&#x4E3A;&#x6A21;&#x7248;, &#x5B89;&#x88C5;&#x5B8C;&#x7CFB;&#x7EDF;&#x540E;, &#x5220;&#x9664;&#x7F51;&#x5361;&#x7684;rule, &#x5E76;&#x5173;&#x673A;. rm -rf&#xA0;/etc/udev/rules.d/70-persistent-net.rules KVM&#x76EE;&#x5F55;&#x4F4D;&#x7F6E;&#x4ECB;&#x7ECD;: &#x955C;&#x50CF;&#x4F4D;&#x7F6E;: /opt/disk ISO&#x4F4D;&#x7F6E;: /opt/images KVM&#x865A;&#x62DF;&#x673A;xml&#x6587;&#x4EF6;&#x751F;&#x6210;&#x4F4D;&#x7F6E;: /etc/libvirt/qemu/ KVM&#x811A;&#x672C;&#x5B58;&#x653E;&#x76EE;&#x5F55;: /opt/scripts``` bashkvm_template_install.sh#!/bin/bashVersion: 1.0Author: zsmDescribe: &#x5F53;KVM&#x624B;&#x52A8;&#x521B;&#x5EFA;&#x4E00;&#x53F0;&#x865A;&#x62DF;&#x673A;&#x4F5C;&#x4E3A;&#x6807;&#x51C6;&#x540E;, &#x53EF;&#x7528;&#x6B64;&#x811A;&#x672C;&#x628A;&#x8BE5;&#x865A;&#x62DF;&#x673A;&#x4F5C;&#x4E3A;&#x6A21;&#x7248;&#x8FDB;&#x884C;&#x865A;&#x62DF;&#x673A;&#x521B;&#x5EFA;.DISK_DIR=&#x201D;/opt/disk&#x201D;images_dir=&#x201D;/opt/images&#x201D;QEMU_DIR=&#x201D;/etc/libvirt/qemu&#x201D;COPY_HOST=$1CREATE_HOST=$2if [ -f $QEMU_DIR/${CREATE_HOST}.xml ]; then echo &#x201C;The CREATE_HOST NAME xml is exits!!! Please rename the CREATE_HOST xml&#x201D;else if [ -f $DISK_DIR/${CREATE_HOST}.qcow2 ]; thenecho &quot;The CREATE_HOST NAME disk is exits!!! Please rename the CREATE_HOST disk&quot; else####create disk image &#x901A;&#x8FC7;&#x6A21;&#x677F;&#xFF0C;&#x521B;&#x5EFA;&#x78C1;&#x76D8;&#xFF0C;&#x5E76;&#x4FEE;&#x6539;&#x540D;&#x5B57; qemu-img convert -c -O qcow2 $DISK_DIR/${COPY_HOST}.qcow2 $DISK_DIR/${CREATE_HOST}.qcow2 ####&#x62F7;&#x8D1D;&#x6A21;&#x677F;xml, &#x4FEE;&#x6539;&#x4E3B;&#x673A;&#x540D;, &#x4EE5;&#x53CA;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x540D; cp $QEMU_DIR/${COPY_HOST}.xml $QEMU_DIR/${CREATE_HOST}.xml sed -i &quot;s/$COPY_HOST/$CREATE_HOST/g&quot; $QEMU_DIR/${CREATE_HOST}.xml ####&#x4FEE;&#x6539;xml&#x6587;&#x4EF6;&#x78C1;&#x76D8;UUID UUID=`uuidgen` sed -i &quot;s/&lt;uuid&gt;.*&lt;\/uuid&gt;/&lt;uuid&gt;$UUID&lt;\/uuid&gt;/g&quot; $QEMU_DIR/${CREATE_HOST}.xml ####&#x4FEE;&#x6539;xml &#x6587;&#x4EF6;mac&#x5730;&#x5740; MAC=`echo -n 52:54:00; dd bs=1 count=3 if=/dev/random 2&gt;/dev/null |hexdump -v -e &apos;/1 &quot;:%02X&quot;&apos;` sed -i &quot;s/&lt;mac address=&apos;.*&apos;\/&gt;/&lt;mac address=\&apos;$MAC\&apos;\/&gt;/g&quot; $QEMU_DIR/${CREATE_HOST}.xml ####define virsh &#x5B9A;&#x4E49;&#x6B64;&#x865A;&#x62DF;&#x673A; virsh define $QEMU_DIR/${CREATE_HOST}.xml ####&#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A; virsh start $CREATE_HOST echo &quot;It&apos;s OK!!!!&quot; fifi 12345# &#x547D;&#x4EE4;&#x884C;&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x673A;&#x547D;&#x4EE4;``` bashvirt-install --name vm01 --boot network,cdrom,menu=on --ram 1024 --vcpus=1 --os-variant=rhel6 --accelerate --cdrom=/opt/iso/CentOS-6.4-x86_64-bin-DVD1.iso --disk path=/opt/kvmimg/vm01.img,size=5,bus=virtio --bridge=br0,model=virtio --autostart --vnc --vncport=5900 --vnclisten=0.0.0.0 &#x7269;&#x7406;&#x673A;&#x5B89;&#x88C5;Dell&#x786C;&#x4EF6;&#x76D1;&#x63A7;&#x5957;&#x4EF6;1DELL &#x5BBF;&#x4E3B;&#x673A; openmanager &#x5B89;&#x88C5; wget -q -O - http://linux.dell.com/repo/hardware/Linux_Repository_15.07.00/bootstrap.cgi | bash yum install -y srvadmin-all /opt/dell/srvadmin/sbin/srvadmin-services.sh restart]]></content>
      <categories>
        <category>linux</category>
        <category>kvm</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>kvm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[git学习简明教程]]></title>
    <url>%2F2017%2F06%2F15%2Flearn-git%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x672C;&#x6587;&#x5185;&#x5BB9;&#x7531;&#x5B66;&#x4E60;&#x5ED6;&#x96EA;&#x5CF0;&#x300A;Git&#x6559;&#x7A0B;&#x300B;&#x800C;&#x6765; &#x83B7;&#x53D6;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit-id 1234&#x83B7;&#x53D6;&#x5B8C;&#x6574;commit idgit rev-parse HEAD&#x83B7;&#x53D6;short commit idgit rev-parse --short HEAD &#x6839;&#x636E;commit-id&#x83B7;&#x53D6;&#x5206;&#x652F;&#x540D; 1git branch --contains &lt;commit-id&gt; Git merge&#x548C;git branch &#x5206;&#x652F;&#x4E0E;&#x5408;&#x5E76; &#x672C;&#x7AE0;&#x53D6;&#x81EA; Git &#x5206;&#x652F;&#x4E0E;&#x5408;&#x5E76; &#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x7684;&#x5BF9;&#x8C61;&#x6570;&#x636E; &#x591A;&#x6B21;&#x63D0;&#x4EA4;&#x540E;&#x5F62;&#x6210;&#x6307;&#x5411;&#x4E0A;&#x6B21;&#x7684;&#x6307;&#x9488; &#x5206;&#x652F;&#x662F;&#x6307;&#x5411;&#x4E00;&#x4E2A;commit&#x5BF9;&#x8C61;&#x7684;&#x4E00;&#x4E2A; &#x53EF;&#x53D8;&#x6307;&#x9488;master&#x662F;&#x5206;&#x652F;&#x7684;&#x9ED8;&#x8BA4;&#x540D;&#x5B57;&#xFF0C;&#x6307;&#x5411;&#x6700;&#x540E;&#x4E00;&#x6B21;commit&#x5BF9;&#x8C61;&#x7684;&#x6307;&#x9488;&#x521B;&#x5EFA;&#x5206;&#x652F;&#x5C31;&#x662F;&#x521B;&#x5EFA;&#x5206;&#x652F;&#x6307;&#x9488;head&#x6307;&#x9488;&#x6307;&#x5411;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55; &#x4E3A;&#x5206;&#x652F;&#x5408;&#x5E76;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x51FA;&#x6700;&#x4F73;&#x7684;&#x540C;&#x6E90;&#x5408;&#x5E76;&#x70B9; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374git clone url #&#x514B;&#x9686;&#x65B0;&#x7684;&#x7248;&#x672C;&#x5E93;git init git pull repo_name #&#x6709;&#x5173;&#x8054;&#x7684;&#x8FDC;&#x7A0B;&#x5E93;&#xFF0C;&#x62BD;&#x53D6;&#x5E76;&#x548C;&#x672C;&#x5730;&#x5408;&#x5E76;git fetch remote_repo_name #&#x62BD;&#x53D6;&#x5E76;&#x65B0;&#x5EFA;&#x5206;&#x652F; #&#x5728;&#x5F53;&#x524D;commit&#x5BF9;&#x8C61;&#x4E0A;&#x65B0;&#x5EFA;&#x5206;&#x652F; &#x6307;&#x9488;head#head&#x6307;&#x5411;&#x6B63;&#x5728;&#x5DE5;&#x4F5C;&#x4E2D;&#x7684;&#x672C;&#x5730;&#x5206;&#x652F;&#x7684;&#x6307;&#x9488;(&#x522B;&#x540D;)#&#x4E0D;&#x4F1A;&#x5207;&#x6362;&#x5230;&#x65B0;&#x5EFA;&#x7684;&#x5206;&#x652F;&#x4E0A;git branch branch1#&#x5207;&#x6362;&#x5206;&#x652F;&#x5C06;head&#x6307;&#x5411;branch1git checkout branch1 #&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x5361;#&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5206;&#x652F;&#x91CC;&#x53CD;&#x590D;&#x5207;&#x6362;&#xFF0C;&#x5E76;&#x5728;&#x65F6;&#x673A;&#x6210;&#x719F;&#x65F6;&#x628A;&#x4ED6;&#x4EEC;&#x5408;&#x5E76;&#x5230;&#x4E00;&#x8D77;#git&#x7684;&#x5206;&#x652F;&#x5B9E;&#x9645;&#x662F;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6240;&#x6307;&#x5411;&#x5BF9;&#x8C61;&#x6821;&#x9A8C;&#x548C;&#x7684;&#x6587;&#x4EF6;&#xFF08;40&#x4E2A;&#x5B57;&#x7B26;&#x957F;&#x5EA6;SHA-1&#x5B57;&#x4E32;&#xFF09;#&#x5206;&#x652F;&#x7684;&#x65B0;&#x5EFA;&#x548C;&#x5408;&#x5E76;#0&#x3001;&#x81EA;&#x5DF1;&#x5DE5;&#x4F5C;&#x5206;&#x652F;mybranch&#xFF0C;&#x5DE5;&#x4F5C;&#x7684;&#x597D;&#x597D;&#x7684; #1&#x3001;&#x7A81;&#x7136;&#x6709;&#x65B0;&#x9700;&#x6C42;&#xFF0C;&#x5148;&#x5207;&#x6362;&#x5230;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x5206;&#x652F;product&#xFF1B;git checkout product#2&#x3001;&#x4E3A;&#x65B0;&#x9700;&#x6C42;&#x65B0;&#x5EFA;&#x5206;&#x652F;branch_pack&#xFF0C;&#x5207;&#x5230;&#x5176;&#x4E2D;&#xFF0C;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x7F16;&#x7801;&#xFF0C;&#x76F4;&#x5230;&#x901A;&#x8FC7;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;# -b &#x65B0;&#x5EFA;&#x5206;&#x652F;&#x5E76;&#x5207;&#x6362;&#x5230;&#x5176;&#x4E0A;git checkout -b issueXXXX #3&#x3001;&#x5207;&#x6362;&#x5230;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x5206;&#x652F;product&#xFF0C;&#x5C06;2&#x4E2D;&#x7684;&#x5F00;&#x53D1;&#x5DE5;&#x4F5C;&#x5206;&#x652F;branch_pack&#x5408;&#x5E76;&#x8FDB;&#x6765;&#xFF0C;&#x7136;&#x540E;&#x63A8;&#x9001;&#x5230;&#x751F;&#x4EA7;&#x670D;&#x52A1;&#x5668;&#x4E0A;git checkout product# &#x5408;&#x5E76;git merge branch_pach#&#x51B2;&#x7A81;&#x89E3;&#x51B3;&#xFF0C;merge&#x5931;&#x8D25;&#x65F6;&#x5F88;&#x53EF;&#x80FD;&#x56E0;&#x5BF9;&#x540C;&#x4E00;&#x6587;&#x4EF6;&#x7684;&#x540C;&#x65F6;&#x66F4;&#x6539;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x624B;&#x52A8;&#x4EBA;&#x5DE5;&#x89E3;&#x51B3; &#x53D6;&#x820D;&#x4EE3;&#x7801;&#xFF0C;&#x786E;&#x8BA4;&#x51B2;&#x7A81;&#x89E3;&#x51B3;&#x540E;&#x9700;&#x8981;&#x628A;&#x51B2;&#x7A81;&#x6587;&#x4EF6; git add&#x5230;staged area&#xFF0C;&#x8FD0;&#x884C;git status&#x67E5;&#x770B;&#x6240;&#x6709;&#x72B6;&#x6001;&#x786E;&#x4FDD;&#x65E0;&#x8BEF;&#x540E;&#x518D;git commit&#x63D0;&#x4EA4;&#xFF0C;&#x6CE8;&#x91CA;&#x597D;&#x51B2;&#x7A81;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E48;&#x89E3;&#x51B3;git push &#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x540D; &#x672C;&#x5730;&#x4ED3;&#x5E93;&#x540D;#&#x5206;&#x652F;&#x5220;&#x9664;git branch -d branch_pach4&#x3001;&#x5207;&#x6362;&#x5230;mybranch&#x7EE7;&#x7EED;&#x81EA;&#x5DF1;&#x7684;&#x5DE5;&#x4F5C;git checkout mybranch #&#x5207;&#x6362;&#x5206;&#x652F;&#x6700;&#x597D;&#x6CA1;&#x6709;&#x5F85;&#x63D0;&#x4EA4;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5373;stage area&#x662F;&#x6E05;&#x6D01;&#x7684;#&#x67E5;&#x770B;&#x5404;&#x4E2A;&#x5206;&#x652F;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x63D0;&#x4EA4;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;git branch -vgit branch --merge/no-merged#&#x67E5;&#x770B;&#x54EA;&#x4E9B;&#x5206;&#x652F;&#x5DF2;&#x88AB;&#x5E76;&#x5165;&#x5F53;&#x524D;&#x5206;&#x652F;&#xFF08;&#x8BD1;&#x6CE8;&#xFF1A;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x54EA;&#x4E9B;&#x5206;&#x652F;&#x662F;&#x5F53;&#x524D;&#x5206;&#x652F;&#x7684;&#x76F4;&#x63A5;&#x4E0A;&#x6E38;#&#x7ED9;&#x5206;&#x652F;&#x751F;&#x6210;patch&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x7ED9;git format-patch #&#x628A;&#x672C;&#x5730;&#x540D;&#x4E3A;serverfix&#x7684;&#x5206;&#x652F;&#x63A8;&#x9001;&#x5230;&#x8FDC;&#x7A0B;origin&#x5E93;&#x7684;awesomebranch&#x5206;&#x652F;git push origin serverfix:awesomebranch #&#x8DDF;&#x8E2A;&#x8FDC;&#x7A0B;&#x5206;&#x652F; &#x4ECE;&#x8FDC;&#x7A0B;&#x5206;&#x652F;checkout&#x51FA;&#x7684;&#x672C;&#x5730;&#x5206;&#x652F;&#x6210;&#x4E3A; &#x8DDF;&#x8E2A;&#x5206;&#x652F;git checkout -b sf origin/serverfixgit checkout --track origin/serverfix #&#x5220;&#x9664;&#x8FDC;&#x7A0B;&#x5206;&#x652F;git push origin :serverfix git&#x4E24;&#x79CD;&#x5F00;&#x53D1;&#x5206;&#x652F;&#x65B9;&#x6CD5;&#x957F;&#x671F;&#x5206;&#x652F;&#xFF1A;&#x4E00;&#x4E2A;&#x4E3B;&#x5206;&#x652F;&#x4FDD;&#x6301;&#x7A33;&#x5B9A;&#x4EE3;&#x7801;&#xFF0C;&#x5176;&#x4F59;&#x591A;&#x4E2A;&#x5F00;&#x653E;&#x5206;&#x652F;&#x7279;&#x6027;topic&#x5206;&#x652F;&#xFF1A;&#x591A;&#x4E2A;&#x77ED;&#x671F;&#x5355;&#x4E00;&#x529F;&#x80FD;&#x7684;&#x5206;&#x652F;#&#x7ED9;&#x5F53;&#x524D;&#x6587;&#x4EF6; &#x6253;&#x7279;&#x5B9A;&#x7248;&#x672C;&#x6807;&#x7B7E;git tag -a beta0.1 -m &quot;some &#x6CE8;&#x91CA;&quot;#&#x56DE;&#x9000;&#x5230;&#x67D0;&#x4E2A;taggit tag beta0.1]]></content>
      <categories>
        <category>linux</category>
        <category>git</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[git-hooks(钩子)：自定义你的工作流]]></title>
    <url>%2F2017%2F06%2F14%2Fgit-hooks%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x672C;&#x6587;&#x8F6C;&#x81EA;Git&#x94A9;&#x5B50;&#xFF1A;&#x81EA;&#x5B9A;&#x4E49;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x6D41; &#x8FD9;&#x662F;&#x4E00;&#x7BC7;&#x5728;&#x539F;&#x6587;(BY atlassian)&#x57FA;&#x7840;&#x4E0A;&#x6F14;&#x7ECE;&#x7684;&#x8BD1;&#x6587;&#x3002;&#x9664;&#x975E;&#x53E6;&#x884C;&#x6CE8;&#x660E;&#xFF0C;&#x9875;&#x9762;&#x4E0A;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x91C7;&#x7528;&#x77E5;&#x8BC6;&#x5171;&#x4EAB;-&#x7F72;&#x540D;(CC BY 2.5 AU)&#x534F;&#x8BAE;&#x5171;&#x4EAB;&#x3002; Git&#x94A9;&#x5B50;&#x662F;&#x5728;Git&#x4ED3;&#x5E93;&#x4E2D;&#x7279;&#x5B9A;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x81EA;&#x52A8;&#x8FD0;&#x884C;&#x7684;&#x811A;&#x672C;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x8BA9;&#x4F60;&#x81EA;&#x5B9A;&#x4E49;Git&#x5185;&#x90E8;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x5728;&#x5F00;&#x53D1;&#x5468;&#x671F;&#x4E2D;&#x7684;&#x5173;&#x952E;&#x70B9;&#x89E6;&#x53D1;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x884C;&#x4E3A;&#x3002; Git&#x94A9;&#x5B50;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x5305;&#x62EC;&#x63A8;&#x884C;&#x63D0;&#x4EA4;&#x89C4;&#x8303;&#xFF0C;&#x6839;&#x636E;&#x4ED3;&#x5E93;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x9879;&#x76EE;&#x73AF;&#x5883;&#xFF0C;&#x548C;&#x63A5;&#x5165;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x5DE5;&#x4F5C;&#x6D41;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x56E0;&#x4E3A;&#x811A;&#x672C;&#x53EF;&#x4EE5;&#x5B8C;&#x5168;&#x5B9A;&#x5236;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7528;Git&#x94A9;&#x5B50;&#x6765;&#x81EA;&#x52A8;&#x5316;&#x6216;&#x8005;&#x4F18;&#x5316;&#x4F60;&#x5F00;&#x53D1;&#x5DE5;&#x4F5C;&#x6D41;&#x4E2D;&#x4EFB;&#x610F;&#x90E8;&#x5206;&#x3002; &#x5728;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5148;&#x7B80;&#x8981;&#x4ECB;&#x7ECD;Git&#x94A9;&#x5B50;&#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5BA1;&#x89C6;&#x4E00;&#x4E9B;&#x672C;&#x5730;&#x548C;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93;&#x4F7F;&#x7528;&#x6700;&#x6D41;&#x884C;&#x7684;&#x94A9;&#x5B50;&#x3002; &#x6982;&#x8FF0;Git&#x94A9;&#x5B50;&#x662F;&#x4ED3;&#x5E93;&#x4E2D;&#x7279;&#x5B9A;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;Git&#x81EA;&#x52A8;&#x8FD0;&#x884C;&#x7684;&#x666E;&#x901A;&#x811A;&#x672C;&#x3002;&#x56E0;&#x6B64;&#xFF0C;Git&#x94A9;&#x5B50;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x4E5F;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x3002; &#x94A9;&#x5B50;&#x5728;&#x672C;&#x5730;&#x6216;&#x670D;&#x52A1;&#x7AEF;&#x4ED3;&#x5E93;&#x90FD;&#x53EF;&#x4EE5;&#x90E8;&#x7F72;&#xFF0C;&#x4E14;&#x53EA;&#x4F1A;&#x5728;&#x4ED3;&#x5E93;&#x4E2D;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x88AB;&#x6267;&#x884C;&#x3002;&#x5728;&#x6587;&#x7AE0;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x4F1A;&#x5177;&#x4F53;&#x5730;&#x7814;&#x7A76;&#x5404;&#x79CD;&#x94A9;&#x5B50;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x6240;&#x8BB2;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x672C;&#x5730;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x94A9;&#x5B50;&#x90FD;&#x8D77;&#x4F5C;&#x7528;&#x3002; &#x5B89;&#x88C5;&#x94A9;&#x5B50;&#x94A9;&#x5B50;&#x5B58;&#x5728;&#x4E8E;&#x6BCF;&#x4E2A;Git&#x4ED3;&#x5E93;&#x7684;.git/hooks&#x76EE;&#x5F55;&#x4E2D;&#x3002;&#x5F53;&#x4F60;&#x521D;&#x59CB;&#x5316;&#x4ED3;&#x5E93;&#x65F6;&#xFF0C;Git&#x81EA;&#x52A8;&#x751F;&#x6210;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x548C;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x811A;&#x672C;&#x3002;&#x5F53;&#x4F60;&#x89C2;&#x5BDF;.git/hooks&#x65F6;&#xFF0C;&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#xFF1A; 12345applypatch-msg.sample pre-push.samplecommit-msg.sample pre-rebase.samplepost-update.sample prepare-commit-msg.samplepre-applypatch.sample update.samplepre-commit.sample &#x8FD9;&#x91CC;&#x5DF2;&#x7ECF;&#x5305;&#x542B;&#x4E86;&#x5927;&#x90E8;&#x5206;&#x53EF;&#x7528;&#x7684;&#x94A9;&#x5B50;&#x4E86;&#xFF0C;&#x4F46;&#x662F;.sample&#x62D3;&#x5C55;&#x540D;&#x9632;&#x6B62;&#x5B83;&#x4EEC;&#x9ED8;&#x8BA4;&#x88AB;&#x6267;&#x884C;&#x3002;&#x4E3A;&#x4E86;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;&#x94A9;&#x5B50;&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x53BB;&#x6389;.sample&#x62D3;&#x5C55;&#x540D;&#x3002;&#x6216;&#x8005;&#x4F60;&#x8981;&#x5199;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#x548C;&#x4E0A;&#x8FF0;&#x5339;&#x914D;&#x7684;&#x65B0;&#x6587;&#x4EF6;&#xFF0C;&#x53BB;&#x6389;.sample&#x62D3;&#x5C55;&#x540D;&#x3002; &#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x8BD5;&#x8BD5;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;prepare-commit-msg&#x94A9;&#x5B50;&#x3002;&#x53BB;&#x6389;&#x811A;&#x672C;&#x7684;.sample&#x62D3;&#x5C55;&#x540D;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x4E0A;&#x4E0B;&#x9762;&#x8FD9;&#x4E24;&#x884C;&#xFF1A; 123#!/bin/shecho &quot;# Please include a useful commit message!&quot; &gt; $1 &#x94A9;&#x5B50;&#x9700;&#x8981;&#x80FD;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x4F60;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5B83;&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x4E3A;&#x4E86;&#x786E;&#x4FDD;prepare-commit-msg&#x53EF;&#x6267;&#x884C;&#xFF0C;&#x8FD0;&#x884C;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#xFF1A; 1chmod +x prepare-commit-msg &#x63A5;&#x4E0B;&#x6765;&#x4F60;&#x6BCF;&#x6B21;&#x8FD0;&#x884C;git commit&#x65F6;&#xFF0C;&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x9ED8;&#x8BA4;&#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x90FD;&#x88AB;&#x66FF;&#x6362;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x4F1A;&#x5728;&#x201C;&#x51C6;&#x5907;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x201D;&#x4E00;&#x8282;&#x4E2D;&#x7EC6;&#x770B;&#x5B83;&#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x5B9A;&#x5236;Git&#x7684;&#x5185;&#x90E8;&#x529F;&#x80FD;&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x5750;&#x548C;&#x653E;&#x5BBD;&#x3002; &#x5185;&#x7F6E;&#x7684;&#x6837;&#x4F8B;&#x811A;&#x672C;&#x662F;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x53C2;&#x8003;&#x8D44;&#x6599;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x4E2A;&#x94A9;&#x5B50;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x90FD;&#x6709;&#x975E;&#x5E38;&#x8BE6;&#x7EC6;&#x7684;&#x8BF4;&#x660E;&#xFF08;&#x4E0D;&#x540C;&#x94A9;&#x5B50;&#x4E0D;&#x4E00;&#x6837;&#xFF09;&#x3002; &#x811A;&#x672C;&#x8BED;&#x8A00;&#x5185;&#x7F6E;&#x7684;&#x811A;&#x672C;&#x5927;&#x591A;&#x662F;shell&#x548C;PERL&#x8BED;&#x8A00;&#x7684;&#xFF0C;&#x4F46;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;&#x53EA;&#x8981;&#x5B83;&#x4EEC;&#x6700;&#x540E;&#x80FD;&#x7F16;&#x8BD1;&#x5230;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x3002;&#x6BCF;&#x6B21;&#x811A;&#x672C;&#x4E2D;&#x7684;#!/bin/sh&#x5B9A;&#x4E49;&#x4E86;&#x4F60;&#x7684;&#x6587;&#x4EF6;&#x5C06;&#x88AB;&#x5982;&#x4F55;&#x89E3;&#x91CA;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x65F6;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x5C06;path&#x6539;&#x4E3A;&#x4F60;&#x7684;&#x89E3;&#x91CA;&#x5668;&#x7684;&#x8DEF;&#x5F84;&#x3002; &#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;prepare-commit-msg&#x4E2D;&#x5199;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x7684;Python&#x811A;&#x672C;&#x3002;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x548C;&#x4E0A;&#x4E00;&#x8282;&#x7684;shell&#x811A;&#x672C;&#x505A;&#x7684;&#x4E8B;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x3002; 12345678910#!/usr/bin/env pythonimport sys, oscommit_msg_filepath = sys.argv[1]with open(commit_msg_filepath, &apos;w&apos;) as f: f.write(&quot;# Please include a useful commit message!&quot;)&#x6CE8;&#x610F;&#x7B2C;&#x4E00;&#x884C;&#x6539;&#x6210;&#x4E86;Python&#x89E3;&#x91CA;&#x5668;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x8FD9;&#x91CC;&#x7528;sys.argv[1]&#x800C;&#x4E0D;&#x662F;$1&#x6765;&#x83B7;&#x53D6;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF08;&#x8FD9;&#x4E2A;&#x4E5F;&#x540E;&#x9762;&#x518D;&#x8BB2;&#xFF09;&#x3002; &#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#xFF0C;&#x56E0;&#x4E3A;&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x4EFB;&#x4F55;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x8BED;&#x8A00;&#x6765;&#x7F16;&#x5199;Git&#x94A9;&#x5B50;&#x3002; &#x94A9;&#x5B50;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5BF9;&#x4E8E;&#x4EFB;&#x4F55;Git&#x4ED3;&#x5E93;&#x6765;&#x8BF4;&#x94A9;&#x5B50;&#x90FD;&#x662F;&#x672C;&#x5730;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x5B83;&#x4E0D;&#x4F1A;&#x968F;&#x7740;git clone&#x4E00;&#x8D77;&#x590D;&#x5236;&#x5230;&#x65B0;&#x7684;&#x4ED3;&#x5E93;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x56E0;&#x4E3A;&#x94A9;&#x5B50;&#x662F;&#x672C;&#x5730;&#x7684;&#xFF0C;&#x4EFB;&#x4F55;&#x80FD;&#x63A5;&#x89E6;&#x5F97;&#x5230;&#x4ED3;&#x5E93;&#x7684;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x3002; &#x5BF9;&#x4E8E;&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x6709;&#x5F88;&#x5927;&#x7684;&#x5F71;&#x54CD;&#x3002;&#x9996;&#x5148;&#xFF0C;&#x4F60;&#x8981;&#x786E;&#x4FDD;&#x4F60;&#x4EEC;&#x6210;&#x5458;&#x4E4B;&#x95F4;&#x7684;&#x94A9;&#x5B50;&#x90FD;&#x662F;&#x6700;&#x65B0;&#x7684;&#x3002;&#x5176;&#x6B21;&#xFF0C;&#x4F60;&#x4E5F;&#x4E0D;&#x80FD;&#x5F3A;&#x884C;&#x8BA9;&#x5176;&#x4ED6;&#x4EBA;&#x7528;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x65B9;&#x5F0F;&#x63D0;&#x4EA4;&#x2014;&#x2014;&#x4F60;&#x53EA;&#x80FD;&#x9F13;&#x52B1;&#x4ED6;&#x4EEC;&#x8FD9;&#x6837;&#x505A;&#x3002; &#x5728;&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x4E2D;&#x7EF4;&#x62A4;&#x94A9;&#x5B50;&#x662F;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;.git/hooks&#x76EE;&#x5F55;&#x4E0D;&#x968F;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x4E00;&#x8D77;&#x62F7;&#x8D1D;&#xFF0C;&#x4E5F;&#x4E0D;&#x53D7;&#x7248;&#x672C;&#x63A7;&#x5236;&#x5F71;&#x54CD;&#x3002;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#x628A;&#x4F60;&#x7684;&#x94A9;&#x5B50;&#x5B58;&#x5728;&#x9879;&#x76EE;&#x7684;&#x5B9E;&#x9645;&#x76EE;&#x5F55;&#x4E2D;&#xFF08;&#x5728;.git&#x5916;&#xFF09;&#x3002;&#x8FD9;&#x6837;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x50CF;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x4E00;&#x6837;&#x8FDB;&#x884C;&#x7248;&#x672C;&#x63A7;&#x5236;&#x3002;&#x4E3A;&#x4E86;&#x5B89;&#x88C5;&#x94A9;&#x5B50;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;.git/hooks&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#xFF0C;&#x6216;&#x8005;&#x7B80;&#x5355;&#x5730;&#x5728;&#x66F4;&#x65B0;&#x540E;&#x628A;&#x5B83;&#x4EEC;&#x590D;&#x5236;&#x5230;.git/hooks&#x76EE;&#x5F55;&#x4E0B;&#x3002; &#x4F5C;&#x4E3A;&#x5907;&#x9009;&#x65B9;&#x6848;&#xFF0C;Git&#x540C;&#x6837;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x6A21;&#x677F;&#x76EE;&#x5F55;&#x673A;&#x5236;&#x6765;&#x66F4;&#x7B80;&#x5355;&#x5730;&#x81EA;&#x52A8;&#x5B89;&#x88C5;&#x94A9;&#x5B50;&#x3002;&#x6BCF;&#x6B21;&#x4F60;&#x4F7F;&#x7528;git init&#x6216;git clone&#x65F6;&#xFF0C;&#x6A21;&#x677F;&#x76EE;&#x5F55;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x90FD;&#x4F1A;&#x88AB;&#x590D;&#x5236;&#x5230;.git&#x6587;&#x4EF6;&#x5939;&#x3002; &#x6240;&#x6709;&#x7684;&#x4E0B;&#x9762;&#x8BB2;&#x5230;&#x7684;&#x672C;&#x5730;&#x94A9;&#x5B50;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x66F4;&#x6539;&#x6216;&#x8005;&#x5F7B;&#x5E95;&#x5220;&#x9664;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x662F;&#x9879;&#x76EE;&#x7684;&#x53C2;&#x4E0E;&#x8005;&#x3002;&#x8FD9;&#x5B8C;&#x5168;&#x53D6;&#x51B3;&#x4E8E;&#x4F60;&#x7684;&#x56E2;&#x961F;&#x6210;&#x5458;&#x60F3;&#x4E0D;&#x60F3;&#x7528;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x3002;&#x6240;&#x4EE5;&#x8BB0;&#x4F4F;&#xFF0C;&#x6700;&#x597D;&#x628A;Git&#x94A9;&#x5B50;&#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x4E25;&#x683C;&#x5F3A;&#x5236;&#x7684;&#x5F00;&#x53D1;&#x89C4;&#x8303;&#x3002; &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x94A9;&#x5B50;&#x6765;&#x62D2;&#x7EDD;&#x6CA1;&#x6709;&#x9075;&#x5B88;&#x89C4;&#x8303;&#x7684;&#x63D0;&#x4EA4;&#x662F;&#x5B8C;&#x5168;&#x53EF;&#x884C;&#x7684;&#x3002;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x4F1A;&#x518D;&#x8BA8;&#x8BBA;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002; &#x672C;&#x5730;&#x94A9;&#x5B50;&#x672C;&#x5730;&#x94A9;&#x5B50;&#x53EA;&#x5F71;&#x54CD;&#x5B83;&#x4EEC;&#x6240;&#x5728;&#x7684;&#x4ED3;&#x5E93;&#x3002;&#x5F53;&#x4F60;&#x5728;&#x8BFB;&#x8FD9;&#x4E00;&#x8282;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BB0;&#x4F4F;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4ED6;&#x4EEC;&#x672C;&#x5730;&#x7684;&#x94A9;&#x5B50;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x8981;&#x7528;&#x5B83;&#x4EEC;&#x6765;&#x63A8;&#x884C;&#x5F3A;&#x5236;&#x7684;&#x63D0;&#x4EA4;&#x89C4;&#x8303;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x5B83;&#x4EEC;&#x786E;&#x5B9E;&#x53EF;&#x4EE5;&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x66F4;&#x6613;&#x4E8E;&#x63A5;&#x53D7;&#x8FD9;&#x4E9B;&#x89C4;&#x8303;&#x3002; &#x5728;&#x8FD9;&#x4E00;&#x8282;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x63A2;&#x8BA8;6&#x4E2A;&#x6700;&#x6709;&#x7528;&#x7684;&#x672C;&#x5730;&#x94A9;&#x5B50;&#xFF1A; pre-commit prepare-commit-msg commit-msg post-commit post-checkout pre-rebase &#x524D;&#x56DB;&#x4E2A;&#x94A9;&#x5B50;&#x8BA9;&#x4F60;&#x4ECB;&#x5165;&#x5B8C;&#x6574;&#x7684;&#x63D0;&#x4EA4;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x540E;&#x4E24;&#x4E2A;&#x5141;&#x8BB8;&#x4F60;&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5206;&#x522B;&#x4E3A;git checkout&#x548C;git rebase&#x7684;&#x5B89;&#x5168;&#x68C0;&#x67E5;&#x3002; &#x6240;&#x6709;&#x5E26;pre-&#x7684;&#x94A9;&#x5B50;&#x5141;&#x8BB8;&#x4F60;&#x4FEE;&#x6539;&#x5373;&#x5C06;&#x53D1;&#x751F;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x5E26;post-&#x7684;&#x94A9;&#x5B50;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x901A;&#x77E5;&#x3002; &#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x770B;&#x5230;&#x5904;&#x7406;&#x94A9;&#x5B50;&#x7684;&#x53C2;&#x6570;&#x548C;&#x7528;&#x5E95;&#x5C42;Git&#x547D;&#x4EE4;&#x83B7;&#x53D6;&#x4ED3;&#x5E93;&#x4FE1;&#x606F;&#x7684;&#x5B9E;&#x7528;&#x6280;&#x5DE7;&#x3002; pre-commitpre-commit&#x811A;&#x672C;&#x5728;&#x6BCF;&#x6B21;&#x4F60;&#x8FD0;&#x884C;git commit&#x547D;&#x4EE4;&#x65F6;&#xFF0C;Git&#x5411;&#x4F60;&#x8BE2;&#x95EE;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x6216;&#x8005;&#x751F;&#x4EA7;&#x63D0;&#x4EA4;&#x5BF9;&#x8C61;&#x65F6;&#x88AB;&#x6267;&#x884C;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x6765;&#x68C0;&#x67E5;&#x5373;&#x5C06;&#x88AB;&#x63D0;&#x4EA4;&#x7684;&#x4EE3;&#x7801;&#x5FEB;&#x7167;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x4E00;&#x4E9B;&#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;&#xFF0C;&#x4FDD;&#x8BC1;&#x8FD9;&#x4E2A;&#x63D0;&#x4EA4;&#x4E0D;&#x4F1A;&#x7834;&#x574F;&#x73B0;&#x6709;&#x7684;&#x529F;&#x80FD;&#x3002; pre-commit&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x975E;0&#x72B6;&#x6001;&#x9000;&#x51FA;&#x65F6;&#x5C06;&#x653E;&#x5F03;&#x6574;&#x4E2A;&#x63D0;&#x4EA4;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E2A;&#x7B80;&#x5316;&#x4E86;&#x7684;&#xFF08;&#x548C;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#xFF09;&#x5185;&#x7F6E;pre-commit&#x94A9;&#x5B50;&#x3002;&#x53EA;&#x8981;&#x68C0;&#x6D4B;&#x5230;&#x4E0D;&#x4E00;&#x81F4;&#x65F6;&#x811A;&#x672C;&#x5C31;&#x653E;&#x5F03;&#x8FD9;&#x4E2A;&#x63D0;&#x4EA4;&#xFF0C;&#x5C31;&#x50CF;git diff-index&#x547D;&#x4EE4;&#x5B9A;&#x4E49;&#x7684;&#x90A3;&#x6837;&#xFF08;&#x53EA;&#x8981;&#x8BCD;&#x5C3E;&#x6709;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x3001;&#x53EA;&#x6709;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x7684;&#x884C;&#x3001;&#x884C;&#x9996;&#x4E00;&#x4E2A;tab&#x540E;&#x7D27;&#x63A5;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#x5C31;&#x88AB;&#x8BA4;&#x4E3A;&#x9519;&#x8BEF;&#xFF09;&#x3002; 12345678910111213141516171819202122#!/bin/sh# &#x68C0;&#x67E5;&#x8FD9;&#x662F;&#x5426;&#x662F;&#x521D;&#x59CB;&#x63D0;&#x4EA4;if git rev-parse --verify HEAD &gt;/dev/null 2&gt;&amp;1then echo &quot;pre-commit: About to create a new commit...&quot; against=HEADelse echo &quot;pre-commit: About to create the first commit...&quot; against=4b825dc642cb6eb9a060e54bf8d69288fbee4904fi# &#x4F7F;&#x7528;git diff-index&#x6765;&#x68C0;&#x67E5;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x9519;&#x8BEF;echo &quot;pre-commit: Testing for whitespace errors...&quot;if ! git diff-index --check --cached $againstthen echo &quot;pre-commit: Aborting commit due to whitespace errors&quot; exit 1else echo &quot;pre-commit: No whitespace errors :)&quot; exit 0fi &#x4F7F;&#x7528;git diff-index&#x65F6;&#x6211;&#x4EEC;&#x8981;&#x6307;&#x51FA;&#x548C;&#x54EA;&#x6B21;&#x63D0;&#x4EA4;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x662F;HEAD&#xFF0C;&#x4F46;HEAD&#x5728;&#x521B;&#x5EFA;&#x7B2C;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x65F6;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x662F;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x6781;&#x7AEF;&#x60C5;&#x5F62;&#x3002;&#x6211;&#x4EEC;&#x901A;&#x8FC7;git rev-parse &#x2013;verify&#x6765;&#x68C0;&#x67E5;HEAD&#x662F;&#x5426;&#x662F;&#x4E00;&#x4E2A;&#x5408;&#x6CD5;&#x7684;&#x5F15;&#x7528;&#x3002;&gt;/dev/null 2&gt;&amp;1&#x8FD9;&#x90E8;&#x5206;&#x5C4F;&#x853D;&#x4E86;git rev-parse&#x4EFB;&#x4F55;&#x8F93;&#x51FA;&#x3002;HEAD&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x63D0;&#x4EA4;&#x5BF9;&#x8C61;&#x88AB;&#x50A8;&#x5B58;&#x5728;against&#x53D8;&#x91CF;&#x4E2D;&#x4F9B;git diff-index&#x4F7F;&#x7528;&#x3002;4b825d&#x2026;&#x8FD9;&#x4E2A;&#x54C8;&#x5E0C;&#x5B57;&#x4E32;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x7A7A;&#x767D;&#x63D0;&#x4EA4;&#x7684;ID&#x3002; git diff-index &#x2013;cached&#x547D;&#x4EE4;&#x5C06;&#x63D0;&#x4EA4;&#x548C;&#x7F13;&#x5B58;&#x533A;&#x6BD4;&#x8F83;&#x3002;&#x901A;&#x8FC7;&#x4F20;&#x5165;-check&#x9009;&#x9879;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x6C42;&#x5B83;&#x5728;&#x66F4;&#x6539;&#x5F15;&#x5165;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x9519;&#x8BEF;&#x65F6;&#x8B66;&#x544A;&#x6211;&#x4EEC;&#x3002;&#x5982;&#x679C;&#x5B83;&#x8FD9;&#x4E48;&#x505A;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x8FD4;&#x56DE;&#x72B6;&#x6001;1&#x6765;&#x653E;&#x5F03;&#x8FD9;&#x6B21;&#x63D0;&#x4EA4;&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;&#x72B6;&#x6001;0&#xFF0C;&#x63D0;&#x4EA4;&#x5DE5;&#x4F5C;&#x6D41;&#x6B63;&#x5E38;&#x8FDB;&#x884C;&#x3002; &#x8FD9;&#x53EA;&#x662F;pre-commit&#x7684;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x3002;&#x5B83;&#x6070;&#x597D;&#x4F7F;&#x7528;&#x4E86;&#x5DF2;&#x6709;&#x7684;Git&#x547D;&#x4EE4;&#x6765;&#x6839;&#x636E;&#x63D0;&#x4EA4;&#x5E26;&#x6765;&#x7684;&#x66F4;&#x6539;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x4F46;&#x4F60;&#x53EF;&#x4EE5;&#x5728;pre-commit&#x4E2D;&#x505A;&#x4EFB;&#x4F55;&#x4F60;&#x60F3;&#x505A;&#x7684;&#x4E8B;&#xFF0C;&#x6BD4;&#x5982;&#x6267;&#x884C;&#x5176;&#x5B83;&#x811A;&#x672C;&#x3001;&#x8FD0;&#x884C;&#x7B2C;&#x4E09;&#x65B9;&#x6D4B;&#x8BD5;&#x96C6;&#x3001;&#x7528;Lint&#x68C0;&#x67E5;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#x3002; prepare-commit-msgprepare-commit-msg&#x94A9;&#x5B50;&#x5728;pre-commit&#x94A9;&#x5B50;&#x5728;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x751F;&#x6210;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x4E4B;&#x540E;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x88AB;&#x7528;&#x6765;&#x65B9;&#x4FBF;&#x5730;&#x4FEE;&#x6539;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;squash&#x6216;merge&#x63D0;&#x4EA4;&#x3002; prepare-commit-msg&#x811A;&#x672C;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x4E0B;&#x5217;&#x4E09;&#x4E2A;&#xFF1A; &#x5305;&#x542B;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x539F;&#x5730;&#x66F4;&#x6539;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x3002;&#x63D0;&#x4EA4;&#x7C7B;&#x578B;&#x3002;&#x53EF;&#x4EE5;&#x662F;&#x4FE1;&#x606F;&#xFF08;-m&#x6216;-F&#x9009;&#x9879;&#xFF09;&#xFF0C;&#x6A21;&#x677F;&#xFF08;-t&#x9009;&#x9879;&#xFF09;&#xFF0C;merge&#xFF08;&#x5982;&#x679C;&#x662F;&#x4E2A;&#x5408;&#x5E76;&#x63D0;&#x4EA4;&#xFF09;&#x6216;squash&#xFF08;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x63D0;&#x4EA4;&#x63D2;&#x5165;&#x4E86;&#x5176;&#x4ED6;&#x63D0;&#x4EA4;&#xFF09;&#x3002;&#x76F8;&#x5173;&#x63D0;&#x4EA4;&#x7684;SHA1&#x54C8;&#x5E0C;&#x5B57;&#x4E32;&#x3002;&#x53EA;&#x6709;&#x5F53;-c&#xFF0C;-C&#xFF0C;&#x6216;&#x2013;amend&#x9009;&#x9879;&#x51FA;&#x73B0;&#x65F6;&#x624D;&#x9700;&#x8981;&#x3002;&#x548C;pre-commit&#x4E00;&#x6837;&#xFF0C;&#x4EE5;&#x975E;0&#x72B6;&#x6001;&#x9000;&#x51FA;&#x4F1A;&#x653E;&#x5F03;&#x63D0;&#x4EA4;&#x3002; &#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x770B;&#x8FC7;&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x7684;&#x7B80;&#x5355;&#x4F8B;&#x5B50;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x66F4;&#x6709;&#x7528;&#x7684;&#x811A;&#x672C;&#x3002;&#x4F7F;&#x7528;issue&#x8DDF;&#x8E2A;&#x5668;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x5728;&#x5355;&#x72EC;&#x7684;&#x5206;&#x652F;&#x4E0A;&#x5904;&#x7406;issue&#x3002;&#x5982;&#x679C;&#x4F60;&#x5728;&#x5206;&#x652F;&#x540D;&#x4E2D;&#x5305;&#x542B;&#x4E86;issue&#x7F16;&#x53F7;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;prepare-commit-msg&#x94A9;&#x5B50;&#x6765;&#x81EA;&#x52A8;&#x5730;&#x5C06;&#x5B83;&#x5305;&#x62EC;&#x5728;&#x90A3;&#x4E2A;&#x5206;&#x652F;&#x7684;&#x6BCF;&#x4E2A;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x4E2D;&#x3002; 1234567891011121314151617181920212223242526272829303132#!/usr/bin/env pythonimport sys, os, refrom subprocess import check_output# &#x6536;&#x96C6;&#x53C2;&#x6570;commit_msg_filepath = sys.argv[1]if len(sys.argv) &gt; 2: commit_type = sys.argv[2]else: commit_type = &apos;&apos;if len(sys.argv) &gt; 3: commit_hash = sys.argv[3]else: commit_hash = &apos;&apos;print &quot;prepare-commit-msg: File: %s\nType: %s\nHash: %s&quot; % (commit_msg_filepath, commit_type, commit_hash)# &#x68C0;&#x6D4B;&#x6211;&#x4EEC;&#x6240;&#x5728;&#x7684;&#x5206;&#x652F;branch = check_output([&apos;git&apos;, &apos;symbolic-ref&apos;, &apos;--short&apos;, &apos;HEAD&apos;]).strip()print &quot;prepare-commit-msg: On branch &apos;%s&apos;&quot; % branch# &#x7528;issue&#x7F16;&#x53F7;&#x751F;&#x6210;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;if branch.startswith(&apos;issue-&apos;): print &quot;prepare-commit-msg: Oh hey, it&apos;s an issue branch.&quot; result = re.match(&apos;issue-(.*)&apos;, branch) issue_number = result.group(1) with open(commit_msg_filepath, &apos;r+&apos;) as f: content = f.read() f.seek(0, 0) f.write(&quot;ISSUE-%s %s&quot; % (issue_number, content)) &#x9996;&#x5148;&#xFF0C;&#x4E0A;&#x9762;&#x7684;prepare-commit-msg&#x94A9;&#x5B50;&#x544A;&#x8BC9;&#x4F60;&#x5982;&#x4F55;&#x6536;&#x96C6;&#x4F20;&#x5165;&#x811A;&#x672C;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x5B83;&#x8C03;&#x7528;&#x4E86;git symbolic-ref &#x2013;short HEAD&#x6765;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;HEAD&#x7684;&#x5206;&#x652F;&#x540D;&#x3002;&#x5982;&#x679C;&#x5206;&#x652F;&#x540D;&#x4EE5;issue-&#x5F00;&#x5934;&#xFF0C;&#x5B83;&#x4F1A;&#x91CD;&#x5199;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x7B2C;&#x4E00;&#x884C;&#x52A0;&#x4E0A;issue&#x7F16;&#x53F7;&#x3002;&#x6BD4;&#x5982;&#x4F60;&#x7684;&#x5206;&#x652F;&#x540D;issue-224&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x5C06;&#x4F1A;&#x751F;&#x6210;&#xFF1A; 1234567ISSUE-224 # Please enter the commit message for your changes. Lines starting # with &apos;#&apos; will be ignored, and an empty message aborts the commit. # On branch issue-224 # Changes to be committed: # modified: test.txt &#x6709;&#x4E00;&#x70B9;&#x8981;&#x8BB0;&#x4F4F;&#x7684;&#x662F;&#x5373;&#x4F7F;&#x7528;&#x6237;&#x7528;-m&#x4F20;&#x5165;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#xFF0C;prepare-commit-msg&#x4E5F;&#x4F1A;&#x8FD0;&#x884C;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x4F1A;&#x81EA;&#x52A8;&#x63D2;&#x5165;ISSUE-[#]&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x800C;&#x7528;&#x6237;&#x65E0;&#x6CD5;&#x66F4;&#x6539;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x68C0;&#x67E5;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x5426;&#x662F;&#x63D0;&#x4EA4;&#x7C7B;&#x578B;&#x6765;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x60C5;&#x51B5;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;-m&#x9009;&#x9879;&#xFF0C;prepare-commit-msg&#x94A9;&#x5B50;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x4FEE;&#x6539;&#x751F;&#x6210;&#x540E;&#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x3002;&#x6240;&#x4EE5;&#x811A;&#x672C;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x63A8;&#x884C;&#x5F3A;&#x5236;&#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x89C4;&#x8303;&#x3002;&#x5982;&#x679C;&#x4F60;&#x8981;&#x8FD9;&#x4E48;&#x505A;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x4E0B;&#x4E00;&#x8282;&#x6240;&#x8BB2;&#x7684;commit-msg&#x94A9;&#x5B50;&#x3002; commit-msgcommit-msg&#x94A9;&#x5B50;&#x548C;prepare-commit-msg&#x94A9;&#x5B50;&#x5F88;&#x50CF;&#xFF0C;&#x4F46;&#x5B83;&#x4F1A;&#x5728;&#x7528;&#x6237;&#x8F93;&#x5165;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x4E4B;&#x540E;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x9002;&#x5408;&#x7528;&#x6765;&#x63D0;&#x9192;&#x5F00;&#x53D1;&#x8005;&#x4ED6;&#x4EEC;&#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x4E0D;&#x7B26;&#x5408;&#x4F60;&#x56E2;&#x961F;&#x7684;&#x89C4;&#x8303;&#x3002; &#x4F20;&#x5165;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x552F;&#x4E00;&#x7684;&#x53C2;&#x6570;&#x662F;&#x5305;&#x542B;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x5982;&#x679C;&#x5B83;&#x4E0D;&#x559C;&#x6B22;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5728;&#x539F;&#x5730;&#x4FEE;&#x6539;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF08;&#x548C;prepare-commit-msg&#x4E00;&#x6837;&#xFF09;&#xFF0C;&#x6216;&#x8005;&#x5B83;&#x4F1A;&#x4EE5;&#x975E;0&#x72B6;&#x6001;&#x9000;&#x51FA;&#xFF0C;&#x653E;&#x5F03;&#x8FD9;&#x4E2A;&#x63D0;&#x4EA4;&#x3002; &#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x786E;&#x8BA4;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x5220;&#x9664;prepare-commit-msg&#x811A;&#x672C;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;ISSUE-[#]&#x5B57;&#x7B26;&#x4E32;&#x3002; 123456789101112131415161718192021222324#!/usr/bin/env pythonimport sys, os, refrom subprocess import check_output# &#x6536;&#x96C6;&#x53C2;&#x6570;commit_msg_filepath = sys.argv[1]# &#x68C0;&#x6D4B;&#x6240;&#x5728;&#x7684;&#x5206;&#x652F;branch = check_output([&apos;git&apos;, &apos;symbolic-ref&apos;, &apos;--short&apos;, &apos;HEAD&apos;]).strip()print &quot;commit-msg: On branch &apos;%s&apos;&quot; % branch# &#x68C0;&#x6D4B;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#xFF0C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x662F;&#x4E00;&#x4E2A;issue&#x63D0;&#x4EA4;if branch.startswith(&apos;issue-&apos;): print &quot;commit-msg: Oh hey, it&apos;s an issue branch.&quot; result = re.match(&apos;issue-(.*)&apos;, branch) issue_number = result.group(1) required_message = &quot;ISSUE-%s&quot; % issue_number with open(commit_msg_filepath, &apos;r&apos;) as f: content = f.read() if not content.startswith(required_message): print &quot;commit-msg: ERROR! The commit message must start with &apos;%s&apos;&quot; % required_message sys.exit(1) &#x867D;&#x7136;&#x7528;&#x6237;&#x6BCF;&#x6B21;&#x521B;&#x5EFA;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x90FD;&#x4F1A;&#x8FD0;&#x884C;&#x3002;&#x4F46;&#x4F60;&#x8FD8;&#x662F;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#x505A;&#x68C0;&#x67E5;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x4E4B;&#x5916;&#x7684;&#x4E8B;&#x60C5;&#x3002;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x901A;&#x77E5;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x4E00;&#x4E2A;&#x5FEB;&#x7167;&#x5DF2;&#x7ECF;&#x88AB;&#x63D0;&#x4EA4;&#x4E86;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;post-commit&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x3002; post-commitpost-commit&#x94A9;&#x5B50;&#x5728;commit-msg&#x94A9;&#x5B50;&#x4E4B;&#x540E;&#x7ACB;&#x5373;&#x88AB;&#x8FD0;&#x884C; &#x3002;&#x5B83;&#x65E0;&#x6CD5;&#x66F4;&#x6539;git commit&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x901A;&#x77E5;&#x7528;&#x9014;&#x3002; &#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x800C;&#x4E14;&#x9000;&#x51FA;&#x72B6;&#x6001;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x63D0;&#x4EA4;&#x3002;&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570;post-commit&#x811A;&#x672C;&#x6765;&#x8BF4;&#xFF0C;&#x4F60;&#x53EA;&#x662F;&#x60F3;&#x8BBF;&#x95EE;&#x4F60;&#x521A;&#x521A;&#x521B;&#x5EFA;&#x7684;&#x63D0;&#x4EA4;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x7528;git rev-parse HEAD&#x6765;&#x83B7;&#x5F97;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x7684;SHA1&#x54C8;&#x5E0C;&#x5B57;&#x4E32;&#xFF0C;&#x6216;&#x8005;&#x4F60;&#x53EF;&#x4EE5;&#x7528;git log -l HEAD&#x83B7;&#x53D6;&#x5B8C;&#x6574;&#x7684;&#x4FE1;&#x606F;&#x3002; &#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x6BCF;&#x6B21;&#x63D0;&#x4EA4;&#x5FEB;&#x7167;&#x65F6;&#x5411;&#x8001;&#x677F;&#x53D1;&#x5C01;&#x90AE;&#x4EF6;&#xFF08;&#x4E5F;&#x8BB8;&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570;&#x5DE5;&#x4F5C;&#x6D41;&#x6765;&#x8BF4;&#x8FD9;&#x4E0D;&#x662F;&#x4E2A;&#x597D;&#x7684;&#x60F3;&#x6CD5;&#xFF09;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x52A0;&#x4E0A;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;post-commit&#x94A9;&#x5B50;&#x3002; 12345678910111213141516171819202122232425262728#!/usr/bin/env pythonimport smtplibfrom email.mime.text import MIMETextfrom subprocess import check_output# &#x83B7;&#x5F97;&#x65B0;&#x63D0;&#x4EA4;&#x7684;git log --stat&#x8F93;&#x51FA;log = check_output([&apos;git&apos;, &apos;log&apos;, &apos;-1&apos;, &apos;--stat&apos;, &apos;HEAD&apos;])# &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EAF;&#x6587;&#x672C;&#x7684;&#x90AE;&#x4EF6;&#x5185;&#x5BB9;msg = MIMEText(&quot;Look, I&apos;m actually doing some work:\n\n%s&quot; % log)msg[&apos;Subject&apos;] = &apos;Git post-commit hook notification&apos;msg[&apos;From&apos;] = &apos;mary@example.com&apos;msg[&apos;To&apos;] = &apos;boss@example.com&apos;# &#x53D1;&#x9001;&#x4FE1;&#x606F;SMTP_SERVER = &apos;smtp.example.com&apos;SMTP_PORT = 587session = smtplib.SMTP(SMTP_SERVER, SMTP_PORT)session.ehlo()session.starttls()session.ehlo()session.login(msg[&apos;From&apos;], &apos;secretPassword&apos;)session.sendmail(msg[&apos;From&apos;], msg[&apos;To&apos;], msg.as_string())session.quit() &#x4F60;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x7528;post-commit&#x6765;&#x89E6;&#x53D1;&#x672C;&#x5730;&#x7684;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F46;&#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#x4F60;&#x60F3;&#x7528;&#x7684;&#x662F;post-receive&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x3002;&#x5B83;&#x8FD0;&#x884C;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x800C;&#x4E0D;&#x662F;&#x7528;&#x6237;&#x7684;&#x672C;&#x5730;&#x673A;&#x5668;&#xFF0C;&#x5B83;&#x540C;&#x6837;&#x5728;&#x4EFB;&#x4F55;&#x5F00;&#x53D1;&#x8005;&#x63A8;&#x9001;&#x4EE3;&#x7801;&#x65F6;&#x8FD0;&#x884C;&#x3002;&#x90A3;&#x91CC;&#x66F4;&#x9002;&#x5408;&#x4F60;&#x8FDB;&#x884C;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x3002; post-checkoutpost-checkout&#x94A9;&#x5B50;&#x548C;post-commit&#x94A9;&#x5B50;&#x5F88;&#x50CF;&#xFF0C;&#x4F46;&#x5B83;&#x5728;&#x4F60;&#x7528;git checkout&#x67E5;&#x770B;&#x5F15;&#x7528;&#x7684;&#x65F6;&#x5019;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x662F;&#x7528;&#x6765;&#x6E05;&#x7406;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x4E2D;&#x53EF;&#x80FD;&#x4F1A;&#x4EE4;&#x4EBA;&#x56F0;&#x60D1;&#x7684;&#x751F;&#x6210;&#x6587;&#x4EF6;&#x3002; &#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x63A5;&#x53D7;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x7684;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x4E0D;&#x5F71;&#x54CD;git checkout&#x547D;&#x4EE4;&#x3002; HEAD&#x524D;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x7684;&#x5F15;&#x7528;&#x65B0;&#x7684;HEAD&#x7684;&#x5F15;&#x7528;1&#x6216;0&#xFF0C;&#x5206;&#x522B;&#x4EE3;&#x8868;&#x662F;&#x5206;&#x652F;checkout&#x8FD8;&#x662F;&#x6587;&#x4EF6;checkout&#x3002;Python&#x7A0B;&#x5E8F;&#x5458;&#x7ECF;&#x5E38;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x662F;&#x5207;&#x6362;&#x5206;&#x652F;&#x540E;&#x90A3;&#x4E9B;&#x4E4B;&#x524D;&#x751F;&#x6210;&#x7684;.pyc&#x6587;&#x4EF6;&#x3002;&#x89E3;&#x91CA;&#x5668;&#x6709;&#x65F6;&#x4F7F;&#x7528;.pyc&#x800C;&#x4E0D;&#x662F;.py&#x6587;&#x4EF6;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x6B67;&#x4E49;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x6B21;&#x7528;post-checkout&#x5207;&#x6362;&#x5230;&#x65B0;&#x7684;&#x5206;&#x652F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5220;&#x9664;&#x6240;&#x6709;.pyc&#x6587;&#x4EF6;&#x3002; 1234567891011121314151617181920#!/usr/bin/env pythonimport sys, os, refrom subprocess import check_output# &#x6536;&#x96C6;&#x53C2;&#x6570;previous_head = sys.argv[1]new_head = sys.argv[2]is_branch_checkout = sys.argv[3]if is_branch_checkout == &quot;0&quot;: print &quot;post-checkout: This is a file checkout. Nothing to do.&quot; sys.exit(0)print &quot;post-checkout: Deleting all &apos;.pyc&apos; files in working directory&quot;for root, dirs, files in os.walk(&apos;.&apos;): for filename in files: ext = os.path.splitext(filename)[1] if ext == &apos;.pyc&apos;: os.unlink(os.path.join(root, filename)) &#x94A9;&#x5B50;&#x811A;&#x672C;&#x5F53;&#x524D;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x603B;&#x662F;&#x4F4D;&#x4E8E;&#x4ED3;&#x5E93;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6240;&#x4EE5;os.walk(&#x2018;.&#x2019;)&#x8C03;&#x7528;&#x904D;&#x5386;&#x4E86;&#x4ED3;&#x5E93;&#x4E2D;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x68C0;&#x67E5;&#x5B83;&#x7684;&#x62D3;&#x5C55;&#x540D;&#xFF0C;&#x5982;&#x679C;&#x662F;.pyc&#x5C31;&#x5220;&#x9664;&#x5B83;&#x3002; &#x901A;&#x8FC7;post-checkout&#x94A9;&#x5B50;&#xFF0C;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4F60;&#x5207;&#x6362;&#x7684;&#x5206;&#x652F;&#x6765;&#x6765;&#x66F4;&#x6539;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x4EE3;&#x7801;&#x5E93;&#x5916;&#x9762;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6;&#x5206;&#x652F;&#x6765;&#x50A8;&#x5B58;&#x4F60;&#x6240;&#x6709;&#x7684;&#x63D2;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x63D2;&#x4EF6;&#x9700;&#x8981;&#x5F88;&#x591A;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x800C;&#x5176;&#x4ED6;&#x5206;&#x652F;&#x4E0D;&#x9700;&#x8981;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x53EA;&#x5728;&#x63D2;&#x4EF6;&#x5206;&#x652F;&#x4E0A;build&#x3002; pre-rebasepre-rebase&#x94A9;&#x5B50;&#x5728;git rebase&#x53D1;&#x751F;&#x66F4;&#x6539;&#x4E4B;&#x524D;&#x8FD0;&#x884C;&#xFF0C;&#x786E;&#x4FDD;&#x4E0D;&#x4F1A;&#x6709;&#x4EC0;&#x4E48;&#x7CDF;&#x7CD5;&#x7684;&#x4E8B;&#x60C5;&#x53D1;&#x751F;&#x3002; &#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;frok&#x4E4B;&#x524D;&#x7684;&#x4E0A;&#x6E38;&#x5206;&#x652F;&#xFF0C;&#x5C06;&#x8981;rebase&#x7684;&#x4E0B;&#x6E38;&#x5206;&#x652F;&#x3002;&#x5982;&#x679C;rebase&#x5F53;&#x524D;&#x5206;&#x652F;&#x5219;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;&#x7A7A;&#x3002;&#x4EE5;&#x975E;0&#x72B6;&#x6001;&#x9000;&#x51FA;&#x4F1A;&#x653E;&#x5F03;&#x8FD9;&#x6B21;rebase&#x3002; &#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5F7B;&#x5E95;&#x7981;&#x7528;rebase&#x64CD;&#x4F5C;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;pre-rebase&#x811A;&#x672C;&#xFF1A; 12345#!/bin/sh# &#x7981;&#x7528;&#x6240;&#x6709;rebaseecho &quot;pre-rebase: Rebasing is dangerous. Don&apos;t do it.&quot;exit 1 &#x6BCF;&#x6B21;&#x8FD0;&#x884C;git rebase&#xFF0C;&#x4F60;&#x90FD;&#x4F1A;&#x770B;&#x5230;&#x4E0B;&#x9762;&#x7684;&#x4FE1;&#x606F;&#xFF1A; 12pre-rebase: Rebasing is dangerous. Don&apos;t do it.The pre-rebase hook refused to rebase. &#x5185;&#x7F6E;&#x7684;pre-rebase.sample&#x811A;&#x672C;&#x662F;&#x4E00;&#x4E2A;&#x66F4;&#x590D;&#x6742;&#x7684;&#x4F8B;&#x5B50;&#x3002;&#x5B83;&#x5728;&#x4F55;&#x65F6;&#x963B;&#x6B62;rebase&#x8FD9;&#x65B9;&#x9762;&#x66F4;&#x52A0;&#x667A;&#x80FD;&#x3002;&#x5B83;&#x4F1A;&#x68C0;&#x67E5;&#x4F60;&#x5F53;&#x524D;&#x7684;&#x5206;&#x652F;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5408;&#x5E76;&#x5230;&#x4E86;&#x4E0B;&#x4E00;&#x4E2A;&#x5206;&#x652F;&#x4E2D;&#x53BB;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x4E3B;&#x5206;&#x652F;&#xFF09;&#x3002;&#x5982;&#x679C;&#x662F;&#x7684;&#x8BDD;&#xFF0C;rebase&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x95EE;&#x9898;&#xFF0C;&#x811A;&#x672C;&#x4F1A;&#x653E;&#x5F03;&#x8FD9;&#x6B21;rebase&#x3002; &#x670D;&#x52A1;&#x7AEF;&#x94A9;&#x5B50;&#x670D;&#x52A1;&#x7AEF;&#x94A9;&#x5B50;&#x548C;&#x672C;&#x5730;&#x94A9;&#x5B50;&#x51E0;&#x4E4E;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x5B83;&#x4EEC;&#x5B58;&#x5728;&#x4E8E;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4ED3;&#x5E93;&#x4E2D;&#xFF08;&#x6BD4;&#x5982;&#x8BF4;&#x4E2D;&#x5FC3;&#x4ED3;&#x5E93;&#xFF0C;&#x6216;&#x8005;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x516C;&#x5171;&#x4ED3;&#x5E93;&#xFF09;&#x3002;&#x5F53;&#x548C;&#x5B98;&#x65B9;&#x4ED3;&#x5E93;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x4E9B;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x62D2;&#x7EDD;&#x4E00;&#x4E9B;&#x4E0D;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x63D0;&#x4EA4;&#x3002; &#x8FD9;&#x8282;&#x4E2D;&#x6211;&#x4EEC;&#x8981;&#x8BA8;&#x8BBA;&#x4E0B;&#x9762;&#x4E09;&#x4E2A;&#x670D;&#x52A1;&#x7AEF;&#x94A9;&#x5B50;&#xFF1A; pre-receive update post-receive &#x8FD9;&#x4E9B;&#x94A9;&#x5B50;&#x90FD;&#x5141;&#x8BB8;&#x4F60;&#x5BF9;git push&#x7684;&#x4E0D;&#x540C;&#x9636;&#x6BB5;&#x505A;&#x51FA;&#x54CD;&#x5E94;&#x3002; &#x670D;&#x52A1;&#x7AEF;&#x94A9;&#x5B50;&#x7684;&#x8F93;&#x51FA;&#x4F1A;&#x4F20;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x7ED9;&#x5F00;&#x53D1;&#x8005;&#x53D1;&#x9001;&#x4FE1;&#x606F;&#x662F;&#x5F88;&#x5BB9;&#x6613;&#x7684;&#x3002;&#x4F46;&#x4F60;&#x8981;&#x8BB0;&#x4F4F;&#x8FD9;&#x4E9B;&#x811A;&#x672C;&#x5728;&#x7ED3;&#x675F;&#x5B8C;&#x4E4B;&#x524D;&#x90FD;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#x63A7;&#x5236;&#x53F0;&#x7684;&#x63A7;&#x5236;&#x6743;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x8981;&#x5C0F;&#x5FC3;&#x90A3;&#x4E9B;&#x957F;&#x65F6;&#x95F4;&#x8FD0;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x3002; pre-receivepre-receive&#x94A9;&#x5B50;&#x5728;&#x6709;&#x4EBA;&#x7528;git push&#x5411;&#x4ED3;&#x5E93;&#x63A8;&#x9001;&#x4EE3;&#x7801;&#x65F6;&#x88AB;&#x6267;&#x884C;&#x3002;&#x5B83;&#x53EA;&#x5B58;&#x5728;&#x4E8E;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x539F;&#x6765;&#x7684;&#x4ED3;&#x5E93;&#x4E2D;&#x3002; &#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x5728;&#x4EFB;&#x610F;&#x5F15;&#x7528;&#x88AB;&#x66F4;&#x65B0;&#x94B1;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x662F;&#x5F3A;&#x5236;&#x63A8;&#x884C;&#x5F00;&#x53D1;&#x89C4;&#x8303;&#x7684;&#x597D;&#x5730;&#x65B9;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x559C;&#x6B22;&#x63A8;&#x9001;&#x7684;&#x90A3;&#x4E2A;&#x4EBA;&#xFF08;&#x591A;&#x5927;&#x4EC7;= =&#xFF09;&#xFF0C;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x6216;&#x8005;&#x63D0;&#x4EA4;&#x7684;&#x66F4;&#x6539;&#xFF0C;&#x4F60;&#x90FD;&#x53EF;&#x4EE5;&#x62D2;&#x7EDD;&#x8FD9;&#x6B21;&#x63D0;&#x4EA4;&#x3002;&#x867D;&#x7136;&#x4F60;&#x4E0D;&#x80FD;&#x963B;&#x6B62;&#x5F00;&#x53D1;&#x8005;&#x5199;&#x51FA;&#x7CDF;&#x7CD5;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x4F60;&#x53EF;&#x4EE5;&#x7528;pre-receive&#x9632;&#x6B62;&#x8FD9;&#x4E9B;&#x4EE3;&#x7801;&#x6D41;&#x5165;&#x5B98;&#x65B9;&#x7684;&#x4EE3;&#x7801;&#x5E93;&#x3002; &#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x6BCF;&#x4E00;&#x4E2A;&#x63A8;&#x9001;&#x4E0A;&#x6765;&#x7684;&#x5F15;&#x7528;&#x90FD;&#x4F1A;&#x4EE5;&#x4E0B;&#x9762;&#x7684;&#x683C;&#x5F0F;&#x4F20;&#x5165;&#x811A;&#x672C;&#x7684;&#x5355;&#x72EC;&#x4E00;&#x884C;&#xFF1A; 1&lt;old-value&gt; &lt;new-value&gt; &lt;ref-name&gt; &#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x505A;&#x4E86;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x4E8B;&#xFF0C;&#x5C31;&#x662F;&#x8BFB;&#x53D6;&#x63A8;&#x9001;&#x4E0A;&#x6765;&#x7684;&#x5F15;&#x7528;&#x5E76;&#x4E14;&#x628A;&#x5B83;&#x4EEC;&#x6253;&#x5370;&#x51FA;&#x6765;&#x3002; 1234567891011#!/usr/bin/env pythonimport sysimport fileinput# &#x8BFB;&#x53D6;&#x7528;&#x6237;&#x8BD5;&#x56FE;&#x66F4;&#x65B0;&#x7684;&#x6240;&#x6709;&#x5F15;&#x7528;for line in fileinput.input(): print &quot;pre-receive: Trying to push ref: %s&quot; % line# &#x653E;&#x5F03;&#x63A8;&#x9001;# sys.exit(1) &#x8FD9;&#x548C;&#x5176;&#x5B83;&#x94A9;&#x5B50;&#x76F8;&#x6BD4;&#x7565;&#x5FAE;&#x6709;&#x4E9B;&#x4E0D;&#x540C;&#xFF0C;&#x56E0;&#x4E3A;&#x4FE1;&#x606F;&#x662F;&#x901A;&#x8FC7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x800C;&#x4E0D;&#x662F;&#x547D;&#x4EE4;&#x884C;&#x4F20;&#x5165;&#x7684;&#x3002;&#x5728;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93;&#x7684;.git/hooks&#x4E2D;&#x52A0;&#x4E0A;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x63A8;&#x9001;&#x5230;master&#x5206;&#x652F;&#xFF0C;&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x6253;&#x5370;&#x51FA;&#x6765;&#xFF1A; 1b6b36c697eb2d24302f89aa22d9170dfe609855b 85baa88c22b52ddd24d71f05db31f4e46d579095 refs/heads/master &#x4F60;&#x53EF;&#x4EE5;&#x7528;SHA1&#x54C8;&#x5E0C;&#x5B57;&#x4E32;&#xFF0C;&#x6216;&#x8005;&#x5E95;&#x5C42;&#x7684;Git&#x547D;&#x4EE4;&#xFF0C;&#x6765;&#x68C0;&#x67E5;&#x5C06;&#x8981;&#x5F15;&#x5165;&#x7684;&#x66F4;&#x6539;&#x3002;&#x4E00;&#x4E9B;&#x5E38;&#x89C1;&#x7684;&#x4F7F;&#x7528;&#x5305;&#x62EC;&#xFF1A; &#x62D2;&#x7EDD;&#x5C06;&#x4E0A;&#x6E38;&#x5206;&#x652F;rebase&#x7684;&#x66F4;&#x6539; &#x9632;&#x6B62;&#x9519;&#x7EFC;&#x590D;&#x6742;&#x7684;&#x5408;&#x5E76;&#xFF08;&#x975E;&#x5FEB;&#x901F;&#x5411;&#x524D;&#xFF0C;&#x4F1A;&#x9020;&#x6210;&#x9879;&#x76EE;&#x5386;&#x53F2;&#x975E;&#x7EBF;&#x6027;&#xFF09; &#x68C0;&#x67E5;&#x7528;&#x6237;&#x662F;&#x5426;&#x6709;&#x6B63;&#x786E;&#x7684;&#x6743;&#x9650;&#x6765;&#x505A;&#x8FD9;&#x4E9B;&#x66F4;&#x6539;&#xFF08;&#x5927;&#x591A;&#x7528;&#x4E8E;&#x4E2D;&#x5FC3;&#x5316;&#x7684;Git&#x5DE5;&#x4F5C;&#x6D41;&#x4E2D;&#xFF09; &#x5982;&#x679C;&#x591A;&#x4E2A;&#x5F15;&#x7528;&#x88AB;&#x63A8;&#x9001;&#xFF0C;&#x5728;pre-receive&#x4E2D;&#x8FD4;&#x56DE;&#x975E;0&#x72B6;&#x6001;&#xFF0C;&#x62D2;&#x7EDD;&#x6240;&#x6709;&#x63D0;&#x4EA4;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x4E00;&#x4E2A;&#x4E2A;&#x63A5;&#x53D7;&#x6216;&#x62D2;&#x7EDD;&#x5206;&#x652F;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x4F7F;&#x7528;update&#x94A9;&#x5B50; updateupdate&#x94A9;&#x5B50;&#x5728;pre-receive&#x4E4B;&#x540E;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x7528;&#x6CD5;&#x4E5F;&#x5DEE;&#x4E0D;&#x591A;&#x3002;&#x5B83;&#x4E5F;&#x662F;&#x5728;&#x5B9E;&#x9645;&#x66F4;&#x65B0;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x4F46;&#x5B83;&#x53EF;&#x4EE5;&#x5206;&#x522B;&#x88AB;&#x6BCF;&#x4E2A;&#x63A8;&#x9001;&#x4E0A;&#x6765;&#x7684;&#x5F15;&#x7528;&#x5206;&#x522B;&#x8C03;&#x7528;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5982;&#x679C;&#x7528;&#x6237;&#x5C1D;&#x8BD5;&#x63A8;&#x9001;&#x5230;4&#x4E2A;&#x5206;&#x652F;&#xFF0C;update&#x4F1A;&#x88AB;&#x6267;&#x884C;4&#x6B21;&#x3002;&#x548C;pre-receive&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x4E0D;&#x9700;&#x8981;&#x8BFB;&#x53D6;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF1A; &#x66F4;&#x65B0;&#x7684;&#x5F15;&#x7528;&#x540D;&#x79F0; &#x5F15;&#x7528;&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x65E7;&#x7684;&#x5BF9;&#x8C61;&#x540D;&#x79F0; &#x5F15;&#x7528;&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x540D;&#x79F0; &#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x548C;pre-receive&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x56E0;&#x4E3A;&#x6BCF;&#x6B21;&#x5F15;&#x7528;&#x90FD;&#x4F1A;&#x5206;&#x522B;&#x89E6;&#x53D1;&#x66F4;&#x65B0;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x62D2;&#x7EDD;&#x4E00;&#x4E9B;&#x5F15;&#x7528;&#x800C;&#x63A5;&#x53D7;&#x53E6;&#x4E00;&#x4E9B;&#x3002; 123456789101112#!/usr/bin/env pythonimport sysbranch = sys.argv[1]old_commit = sys.argv[2]new_commit = sys.argv[3]print &quot;Moving &apos;%s&apos; from %s to %s&quot; % (branch, old_commit, new_commit)# &#x53EA;&#x653E;&#x5F03;&#x5F53;&#x524D;&#x5206;&#x652F;&#x7684;&#x63A8;&#x9001;# sys.exit(1) &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x7B80;&#x5355;&#x5730;&#x8F93;&#x51FA;&#x4E86;&#x5206;&#x652F;&#x548C;&#x65B0;&#x65E7;&#x63D0;&#x4EA4;&#x7684;&#x54C8;&#x5E0C;&#x5B57;&#x4E32;&#x3002;&#x5F53;&#x4F60;&#x5411;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x63A8;&#x9001;&#x8D85;&#x8FC7;&#x4E00;&#x4E2A;&#x5206;&#x652F;&#x65F6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6BCF;&#x4E2A;&#x5206;&#x652F;&#x90FD;&#x6709;&#x8F93;&#x51FA;&#x3002; post-receivepost-receive&#x94A9;&#x5B50;&#x5728;&#x6210;&#x529F;&#x63A8;&#x9001;&#x540E;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x9002;&#x5408;&#x7528;&#x4E8E;&#x53D1;&#x9001;&#x901A;&#x77E5;&#x3002;&#x5BF9;&#x5F88;&#x591A;&#x5DE5;&#x4F5C;&#x6D41;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6BD4;post-commit&#x66F4;&#x597D;&#x7684;&#x53D1;&#x9001;&#x901A;&#x77E5;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x66F4;&#x6539;&#x5728;&#x516C;&#x5171;&#x7684;&#x670D;&#x52A1;&#x5668;&#x800C;&#x4E0D;&#x662F;&#x7528;&#x6237;&#x7684;&#x672C;&#x5730;&#x673A;&#x5668;&#x4E0A;&#x3002;&#x7ED9;&#x5176;&#x4ED6;&#x5F00;&#x53D1;&#x8005;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x6216;&#x8005;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x7CFB;&#x7EDF;&#x90FD;&#x662F;post-receive&#x5E38;&#x7528;&#x7684;&#x64CD;&#x4F5C;&#x3002; &#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x548C;pre-receive&#x4E00;&#x6837;&#x901A;&#x8FC7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x53D6;&#x3002; &#x603B;&#x7ED3;&#x5728;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5B66;&#x4E60;&#x4E86;&#x5982;&#x679C;&#x7528;Git&#x94A9;&#x5B50;&#x6765;&#x4FEE;&#x6539;&#x5185;&#x90E8;&#x884C;&#x4E3A;&#xFF0C;&#x5F53;&#x4ED3;&#x5E93;&#x4E2D;&#x7279;&#x5B9A;&#x7684;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x63A5;&#x53D7;&#x6D88;&#x606F;&#x3002;&#x94A9;&#x5B50;&#x662F;&#x5B58;&#x5728;&#x4E8E;git/hooks&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#x666E;&#x901A;&#x811A;&#x672C;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x5B89;&#x88C5;&#x548C;&#x5B9A;&#x5236;&#x3002; &#x6211;&#x4EEC;&#x8FD8;&#x770B;&#x4E86;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x672C;&#x5730;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x94A9;&#x5B50;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x4ECB;&#x5165;&#x5230;&#x6574;&#x4E2A;&#x5F00;&#x53D1;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E2D;&#x53BB;&#x3002;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x77E5;&#x9053;&#x4E86;&#x5982;&#x4F55;&#x5728;&#x521B;&#x5EFA;&#x63D0;&#x4EA4;&#x6216;&#x63A8;&#x9001;&#x7684;&#x6BCF;&#x4E2A;&#x9636;&#x6BB5;&#x6267;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6709;&#x4E86;&#x8FD9;&#x4E9B;&#x7B80;&#x5355;&#x7684;&#x811A;&#x672C;&#x77E5;&#x8BC6;&#xFF0C;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;Git&#x4ED3;&#x5E93;&#x4E3A;&#x6240;&#x6B32;&#x4E3A;&#x4E86; : )]]></content>
      <categories>
        <category>linux</category>
        <category>git</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[rsync参数解析]]></title>
    <url>%2F2017%2F06%2F12%2Frsync-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; Rsync&#x7684;&#x547D;&#x4EE4;&#x683C;&#x5F0F;&#x5728;&#x5BF9;rsync&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x7ED3;&#x675F;&#x4EE5;&#x540E;&#xFF0C;&#x4E0B;&#x4E00;&#x6B65;&#x5C31;&#x9700;&#x8981;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x51FA;rsync&#x547D;&#x4EE4;&#x6765;&#x5B9E;&#x73B0;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x6587;&#x4EF6;&#x5907;&#x4EFD;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x6765;&#x3002;rsync&#x662F;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5176;&#x547D;&#x4EE4;&#x4E5F;&#x6709;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x7279;&#x8272;&#x9009;&#x9879;&#xFF0C;&#x6211;&#x4EEC;&#x4E0B;&#x9762;&#x5C31;&#x5BF9;&#x5B83;&#x7684;&#x9009;&#x9879;&#x4E00;&#x4E00;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x8BF4;&#x660E;&#x3002; Rsync&#x7684;&#x547D;&#x4EE4;&#x683C;&#x5F0F;&#x53EF;&#x4EE5;&#x4E3A;&#x4EE5;&#x4E0B;&#x516D;&#x79CD;&#xFF1A; 123456rsync [OPTION]... SRC DESTrsync [OPTION]... SRC [USER@]HOST:DESTrsync [OPTION]... [USER@]HOST:SRC DESTrsync [OPTION]... [USER@]HOST::SRC DESTrsync [OPTION]... SRC [USER@]HOST::DESTrsync [OPTION]... rsync://[USER@]HOST[:PORT]/SRC [DEST] &#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x5BF9;&#x5E94;&#x4E8E;&#x4EE5;&#x4E0A;&#x516D;&#x79CD;&#x547D;&#x4EE4;&#x683C;&#x5F0F;&#xFF0C;rsync&#x6709;&#x516D;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#xFF1A; &#x62F7;&#x8D1D;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x3002;&#x5F53;SRC&#x548C;DES&#x8DEF;&#x5F84;&#x4FE1;&#x606F;&#x90FD;&#x4E0D;&#x5305;&#x542B;&#x6709;&#x5355;&#x4E2A;&#x5192;&#x53F7;&#x201D;:&#x201D;&#x5206;&#x9694;&#x7B26;&#x65F6;&#x5C31;&#x542F;&#x52A8;&#x8FD9;&#x79CD;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x3002;&#x5982;&#xFF1A;rsync -a /data /backup &#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;shell&#x7A0B;&#x5E8F;(&#x5982;rsh&#x3001;ssh)&#x6765;&#x5B9E;&#x73B0;&#x5C06;&#x672C;&#x5730;&#x673A;&#x5668;&#x7684;&#x5185;&#x5BB9;&#x62F7;&#x8D1D;&#x5230;&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x3002;&#x5F53;DST&#x8DEF;&#x5F84;&#x5730;&#x5740;&#x5305;&#x542B;&#x5355;&#x4E2A;&#x5192;&#x53F7;&#x201D;:&#x201D;&#x5206;&#x9694;&#x7B26;&#x65F6;&#x542F;&#x52A8;&#x8BE5;&#x6A21;&#x5F0F;&#x3002;&#x5982;&#xFF1A;rsync -avz *.c foo:src &#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;shell&#x7A0B;&#x5E8F;(&#x5982;rsh&#x3001;ssh)&#x6765;&#x5B9E;&#x73B0;&#x5C06;&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x7684;&#x5185;&#x5BB9;&#x62F7;&#x8D1D;&#x5230;&#x672C;&#x5730;&#x673A;&#x5668;&#x3002;&#x5F53;SRC&#x5730;&#x5740;&#x8DEF;&#x5F84;&#x5305;&#x542B;&#x5355;&#x4E2A;&#x5192;&#x53F7;&#x201D;:&#x201D;&#x5206;&#x9694;&#x7B26;&#x65F6;&#x542F;&#x52A8;&#x8BE5;&#x6A21;&#x5F0F;&#x3002;&#x5982;&#xFF1A;rsync -avz foo:src/bar /data &#x4ECE;&#x8FDC;&#x7A0B;rsync&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x5230;&#x672C;&#x5730;&#x673A;&#x3002;&#x5F53;SRC&#x8DEF;&#x5F84;&#x4FE1;&#x606F;&#x5305;&#x542B;&#x201D;::&#x201D;&#x5206;&#x9694;&#x7B26;&#x65F6;&#x542F;&#x52A8;&#x8BE5;&#x6A21;&#x5F0F;&#x3002;&#x5982;&#xFF1A;rsync -av root@172.16.78.192::www /databack &#x4ECE;&#x672C;&#x5730;&#x673A;&#x5668;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x5230;&#x8FDC;&#x7A0B;rsync&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x3002;&#x5F53;DST&#x8DEF;&#x5F84;&#x4FE1;&#x606F;&#x5305;&#x542B;&#x201D;::&#x201D;&#x5206;&#x9694;&#x7B26;&#x65F6;&#x542F;&#x52A8;&#x8BE5;&#x6A21;&#x5F0F;&#x3002;&#x5982;&#xFF1A;rsync -av /databack root@172.16.78.192::www &#x5217;&#x8FDC;&#x7A0B;&#x673A;&#x7684;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x3002;&#x8FD9;&#x7C7B;&#x4F3C;&#x4E8E;rsync&#x4F20;&#x8F93;&#xFF0C;&#x4E0D;&#x8FC7;&#x53EA;&#x8981;&#x5728;&#x547D;&#x4EE4;&#x4E2D;&#x7701;&#x7565;&#x6389;&#x672C;&#x5730;&#x673A;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#x3002;&#x5982;&#xFF1A;rsync -v rsync://172.16.78.192/www rsync&#x53C2;&#x6570;&#x89E3;&#x91CA;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061-v, --verbose &#x8BE6;&#x7EC6;&#x6A21;&#x5F0F;&#x8F93;&#x51FA;-q, --quiet &#x7CBE;&#x7B80;&#x8F93;&#x51FA;&#x6A21;&#x5F0F;-c, --checksum &#x6253;&#x5F00;&#x6821;&#x9A8C;&#x5F00;&#x5173;&#xFF0C;&#x5F3A;&#x5236;&#x5BF9;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x8FDB;&#x884C;&#x6821;&#x9A8C;-a, --archive &#x5F52;&#x6863;&#x6A21;&#x5F0F;&#xFF0C;&#x8868;&#x793A;&#x4EE5;&#x9012;&#x5F52;&#x65B9;&#x5F0F;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x5C5E;&#x6027;&#xFF0C;&#x7B49;&#x4E8E;-rlptgoD-r, --recursive &#x5BF9;&#x5B50;&#x76EE;&#x5F55;&#x4EE5;&#x9012;&#x5F52;&#x6A21;&#x5F0F;&#x5904;&#x7406;-R, --relative &#x4F7F;&#x7528;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x4FE1;&#x606F;-b, --backup &#x521B;&#x5EFA;&#x5907;&#x4EFD;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5BF9;&#x4E8E;&#x76EE;&#x7684;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x6709;&#x540C;&#x6837;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x65F6;&#xFF0C;&#x5C06;&#x8001;&#x7684;&#x6587;&#x4EF6;&#x91CD;&#x65B0;&#x547D;&#x540D;&#x4E3A;~filename&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;--suffix&#x9009;&#x9879;&#x6765;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x524D;&#x7F00;&#x3002;--backup-dir &#x5C06;&#x5907;&#x4EFD;&#x6587;&#x4EF6;(&#x5982;~filename)&#x5B58;&#x653E;&#x5728;&#x5728;&#x76EE;&#x5F55;&#x4E0B;&#x3002;-suffix=SUFFIX &#x5B9A;&#x4E49;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x524D;&#x7F00;-u, --update &#x4EC5;&#x4EC5;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8DF3;&#x8FC7;&#x6240;&#x6709;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E8E;DST&#xFF0C;&#x5E76;&#x4E14;&#x6587;&#x4EF6;&#x65F6;&#x95F4;&#x665A;&#x4E8E;&#x8981;&#x5907;&#x4EFD;&#x7684;&#x6587;&#x4EF6;&#x3002;(&#x4E0D;&#x8986;&#x76D6;&#x66F4;&#x65B0;&#x7684;&#x6587;&#x4EF6;)-l, --links &#x4FDD;&#x7559;&#x8F6F;&#x94FE;&#x7ED3;-L, --copy-links &#x60F3;&#x5BF9;&#x5F85;&#x5E38;&#x89C4;&#x6587;&#x4EF6;&#x4E00;&#x6837;&#x5904;&#x7406;&#x8F6F;&#x94FE;&#x7ED3;--copy-unsafe-links &#x4EC5;&#x4EC5;&#x62F7;&#x8D1D;&#x6307;&#x5411;SRC&#x8DEF;&#x5F84;&#x76EE;&#x5F55;&#x6811;&#x4EE5;&#x5916;&#x7684;&#x94FE;&#x7ED3;--safe-links &#x5FFD;&#x7565;&#x6307;&#x5411;SRC&#x8DEF;&#x5F84;&#x76EE;&#x5F55;&#x6811;&#x4EE5;&#x5916;&#x7684;&#x94FE;&#x7ED3;-H, --hard-links &#x4FDD;&#x7559;&#x786C;&#x94FE;&#x7ED3;-p, --perms &#x4FDD;&#x6301;&#x6587;&#x4EF6;&#x6743;&#x9650;-o, --owner &#x4FDD;&#x6301;&#x6587;&#x4EF6;&#x5C5E;&#x4E3B;&#x4FE1;&#x606F;-g, --group &#x4FDD;&#x6301;&#x6587;&#x4EF6;&#x5C5E;&#x7EC4;&#x4FE1;&#x606F;-D, --devices &#x4FDD;&#x6301;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#x4FE1;&#x606F;-t, --times &#x4FDD;&#x6301;&#x6587;&#x4EF6;&#x65F6;&#x95F4;&#x4FE1;&#x606F;-S, --sparse &#x5BF9;&#x7A00;&#x758F;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x7279;&#x6B8A;&#x5904;&#x7406;&#x4EE5;&#x8282;&#x7701;DST&#x7684;&#x7A7A;&#x95F4;-n, --dry-run&#x73B0;&#x5B9E;&#x54EA;&#x4E9B;&#x6587;&#x4EF6;&#x5C06;&#x88AB;&#x4F20;&#x8F93;-W, --whole-file &#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x68C0;&#x6D4B;-x, --one-file-system &#x4E0D;&#x8981;&#x8DE8;&#x8D8A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x8FB9;&#x754C;-B, --block-size=SIZE &#x68C0;&#x9A8C;&#x7B97;&#x6CD5;&#x4F7F;&#x7528;&#x7684;&#x5757;&#x5C3A;&#x5BF8;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;700&#x5B57;&#x8282;-e, --rsh=COMMAND &#x6307;&#x5B9A;&#x4F7F;&#x7528;rsh&#x3001;ssh&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x540C;&#x6B65;--rsync-path=PATH &#x6307;&#x5B9A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;rsync&#x547D;&#x4EE4;&#x6240;&#x5728;&#x8DEF;&#x5F84;&#x4FE1;&#x606F;-C, --cvs-exclude &#x4F7F;&#x7528;&#x548C;CVS&#x4E00;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x81EA;&#x52A8;&#x5FFD;&#x7565;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x6765;&#x6392;&#x9664;&#x90A3;&#x4E9B;&#x4E0D;&#x5E0C;&#x671B;&#x4F20;&#x8F93;&#x7684;&#x6587;&#x4EF6;--existing &#x4EC5;&#x4EC5;&#x66F4;&#x65B0;&#x90A3;&#x4E9B;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E8E;DST&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x5907;&#x4EFD;&#x90A3;&#x4E9B;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;--delete &#x5220;&#x9664;&#x90A3;&#x4E9B;DST&#x4E2D;SRC&#x6CA1;&#x6709;&#x7684;&#x6587;&#x4EF6;--delete-excluded &#x540C;&#x6837;&#x5220;&#x9664;&#x63A5;&#x6536;&#x7AEF;&#x90A3;&#x4E9B;&#x88AB;&#x8BE5;&#x9009;&#x9879;&#x6307;&#x5B9A;&#x6392;&#x9664;&#x7684;&#x6587;&#x4EF6;--delete-after &#x4F20;&#x8F93;&#x7ED3;&#x675F;&#x4EE5;&#x540E;&#x518D;&#x5220;&#x9664;--ignore-errors &#x53CA;&#x65F6;&#x51FA;&#x73B0;IO&#x9519;&#x8BEF;&#x4E5F;&#x8FDB;&#x884C;&#x5220;&#x9664;--max-delete=NUM &#x6700;&#x591A;&#x5220;&#x9664;NUM&#x4E2A;&#x6587;&#x4EF6;--partial &#x4FDD;&#x7559;&#x90A3;&#x4E9B;&#x56E0;&#x6545;&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x4F20;&#x8F93;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4EE5;&#x662F;&#x52A0;&#x5FEB;&#x968F;&#x540E;&#x7684;&#x518D;&#x6B21;&#x4F20;&#x8F93;--force &#x5F3A;&#x5236;&#x5220;&#x9664;&#x76EE;&#x5F55;&#xFF0C;&#x5373;&#x4F7F;&#x4E0D;&#x4E3A;&#x7A7A;--numeric-ids &#x4E0D;&#x5C06;&#x6570;&#x5B57;&#x7684;&#x7528;&#x6237;&#x548C;&#x7EC4;ID&#x5339;&#x914D;&#x4E3A;&#x7528;&#x6237;&#x540D;&#x548C;&#x7EC4;&#x540D;--timeout=TIME IP&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x79D2;-I, --ignore-times &#x4E0D;&#x8DF3;&#x8FC7;&#x90A3;&#x4E9B;&#x6709;&#x540C;&#x6837;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x957F;&#x5EA6;&#x7684;&#x6587;&#x4EF6;--size-only &#x5F53;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x8981;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x4EC5;&#x4EC5;&#x5BDF;&#x770B;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x800C;&#x4E0D;&#x8003;&#x8651;&#x6587;&#x4EF6;&#x65F6;&#x95F4;--modify-window=NUM &#x51B3;&#x5B9A;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x65F6;&#x95F4;&#x76F8;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x7A97;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0-T --temp-dir=DIR &#x5728;DIR&#x4E2D;&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x6587;&#x4EF6;--compare-dest=DIR &#x540C;&#x6837;&#x6BD4;&#x8F83;DIR&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x9700;&#x8981;&#x5907;&#x4EFD;-P &#x7B49;&#x540C;&#x4E8E; --partial--progress &#x663E;&#x793A;&#x5907;&#x4EFD;&#x8FC7;&#x7A0B;-z, --compress &#x5BF9;&#x5907;&#x4EFD;&#x7684;&#x6587;&#x4EF6;&#x5728;&#x4F20;&#x8F93;&#x65F6;&#x8FDB;&#x884C;&#x538B;&#x7F29;&#x5904;&#x7406;--exclude=PATTERN &#x6307;&#x5B9A;&#x6392;&#x9664;&#x4E0D;&#x9700;&#x8981;&#x4F20;&#x8F93;&#x7684;&#x6587;&#x4EF6;&#x6A21;&#x5F0F;--include=PATTERN &#x6307;&#x5B9A;&#x4E0D;&#x6392;&#x9664;&#x800C;&#x9700;&#x8981;&#x4F20;&#x8F93;&#x7684;&#x6587;&#x4EF6;&#x6A21;&#x5F0F;--exclude-from=FILE &#x6392;&#x9664;FILE&#x4E2D;&#x6307;&#x5B9A;&#x6A21;&#x5F0F;&#x7684;&#x6587;&#x4EF6;--include-from=FILE &#x4E0D;&#x6392;&#x9664;FILE&#x6307;&#x5B9A;&#x6A21;&#x5F0F;&#x5339;&#x914D;&#x7684;&#x6587;&#x4EF6;--version &#x6253;&#x5370;&#x7248;&#x672C;&#x4FE1;&#x606F;--address &#x7ED1;&#x5B9A;&#x5230;&#x7279;&#x5B9A;&#x7684;&#x5730;&#x5740;--config=FILE &#x6307;&#x5B9A;&#x5176;&#x4ED6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;rsyncd.conf&#x6587;&#x4EF6;--port=PORT &#x6307;&#x5B9A;&#x5176;&#x4ED6;&#x7684;rsync&#x670D;&#x52A1;&#x7AEF;&#x53E3;--blocking-io &#x5BF9;&#x8FDC;&#x7A0B;shell&#x4F7F;&#x7528;&#x963B;&#x585E;IO-stats &#x7ED9;&#x51FA;&#x67D0;&#x4E9B;&#x6587;&#x4EF6;&#x7684;&#x4F20;&#x8F93;&#x72B6;&#x6001;--progress &#x5728;&#x4F20;&#x8F93;&#x65F6;&#x73B0;&#x5B9E;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;--log-format=formAT &#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x683C;&#x5F0F;--password-file=FILE &#x4ECE;FILE&#x4E2D;&#x5F97;&#x5230;&#x5BC6;&#x7801;--bwlimit=KBPS &#x9650;&#x5236;I/O&#x5E26;&#x5BBD;&#xFF0C;KBytes per second-h, --help &#x663E;&#x793A;&#x5E2E;&#x52A9;&#x4FE1;&#x606F; &#x5B89;&#x88C5;&#x914D;&#x7F6E;1yum install -y rsync &#x914D;&#x7F6E;12345678910111213141516171819202122232425echo -e &quot;uid = rootgid = rootport = 873max connections = 64read only = nouse chroot = notimeout = 600hosts allow = *hosts deny = *log file = /data/logs/rsync/rsyncd.logpidfile = /var/run/rsyncd.pidlock file = /var/run/rsyncd.locksecrets file = /etc/rsync.passmotd file = /etc/rsyncd.Motdauth users = rsync[services]path = /data/home/servicescomment = rsyncftpignore errorslist = no&quot; &gt; /etc/rsyncd.confecho &quot;rsync:rsync@123&quot; &gt; /etc/rsync.passchmod 600 /etc/rsync.passrsync --daemon --config=/etc/rsyncd.conf &#x5BA2;&#x6237;&#x7AEF;&#x6D4B;&#x8BD5;12345678910yum install -y rsyncecho &quot;rsync@123&quot; &gt; /etc/rsync.passchmod 600 /etc/rsync.passmkdir /data/ftptouch /data/ftp/testrsync -avz --delete --progress \--password-file=/etc/rsync.pass \--exclude=*.log* \rsync@123.57.35.230::services \/data/home/services]]></content>
      <categories>
        <category>linux</category>
        <category>rsync</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>rsync</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linux-ulimit]]></title>
    <url>%2F2017%2F05%2F26%2Flinux-ulimit%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002;http://blog.chinaunix.net/uid-22159621-id-3491068.html file-maxhttp://blog.sina.com.cn/s/blog_4f9e8fa70101kprk.html&#x597D;&#x6587;&#xFF0C;&#x94FE;&#x63A5;http://home.lupaworld.com/home-space-uid-56821-do-blog-id-232810.html &#x4E00;&#x822C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;ulimit&#x547D;&#x4EE4;&#x6216;&#x7F16;&#x8F91;/etc/security/limits.conf&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x7684;&#x65B9;&#x5F0F;&#x4F7F;&#x4E4B;&#x751F;&#x6548; &#x901A;&#x8FC7;ulimit&#x6BD4;&#x8F83;&#x76F4;&#x63A5;,&#x4F46;&#x53EA;&#x5728;&#x5F53;&#x524D;&#x7684;session&#x6709;&#x6548;,limits.conf&#x4E2D;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x7528;&#x6237;&#x548C;&#x9650;&#x5236;&#x9879;&#x4F7F;&#x7528;&#x6237;&#x5728;&#x4E0B;&#x6B21;&#x767B;&#x5F55;&#x4E2D;&#x751F;&#x6548;. &#x5BF9;&#x4E8E;limits.conf&#x7684;&#x8BBE;&#x5B9A;&#x662F;&#x901A;&#x8FC7;pam_limits.so&#x7684;&#x52A0;&#x8F7D;&#x751F;&#x6548;&#x7684;,&#x6BD4;&#x5982;/etc/pam.d/sshd,&#x8FD9;&#x6837;&#x901A;&#x8FC7;ssh&#x767B;&#x5F55;&#x65F6;&#x4F1A;&#x52A0;&#x8F7D;limit.&#x53C8;&#x6216;&#x8005;&#x5728;/etc/pam.d/login&#x52A0;&#x8F7D;&#x751F;&#x6548;. &#x4E0B;&#x9762;&#x5C06;&#x5BF9;&#x5404;&#x79CD;&#x9650;&#x5236;&#x8FDB;&#x884C;&#x5206;&#x6790; core file size (blocks, -c) 0data seg size (kbytes, -d) unlimitedscheduling priority (-e) 20 afile size (blocks, -f) unlimited apending signals (-i) 16382max locked memory (kbytes, -l) 64 amax memory size (kbytes, -m) unlimited aopen files (-n) 1024 apipe size (512 bytes, -p) 8POSIX message queues (bytes, -q) 819200real-time priority (-r) 0stack size (kbytes, -s) 8192cpu time (seconds, -t) unlimitedmax user processes (-u) unlimitedvirtual memory (kbytes, -v) unlimitedfile locks (-x) unlimited &#x4E00;)&#x9650;&#x5236;&#x8FDB;&#x7A0B;&#x4EA7;&#x751F;&#x7684;&#x6587;&#x4EF6;&#x5927;&#x5C0F;(file size) &#x5148;&#x6765;&#x8BF4;&#x8BF4;ulimit&#x7684;&#x786C;&#x9650;&#x5236;&#x548C;&#x8F6F;&#x9650;&#x5236;&#x786C;&#x9650;&#x5236;&#x7528;-H&#x53C2;&#x6570;,&#x8F6F;&#x9650;&#x5236;&#x7528;-S&#x53C2;&#x6570;.ulimit -a&#x770B;&#x5230;&#x7684;&#x662F;&#x8F6F;&#x9650;&#x5236;,&#x901A;&#x8FC7;ulimit -a -H&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x786C;&#x9650;&#x5236;.&#x5982;&#x679C;ulimit&#x4E0D;&#x9650;&#x5B9A;&#x4F7F;&#x7528;-H&#x6216;-S,&#x6B64;&#x65F6;&#x5B83;&#x4F1A;&#x540C;&#x65F6;&#x628A;&#x4E24;&#x7C7B;&#x9650;&#x5236;&#x90FD;&#x6539;&#x6389;&#x7684;.&#x8F6F;&#x9650;&#x5236;&#x53EF;&#x4EE5;&#x9650;&#x5236;&#x7528;&#x6237;/&#x7EC4;&#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x4F7F;&#x7528;,&#x786C;&#x9650;&#x5236;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x63A7;&#x5236;&#x8F6F;&#x9650;&#x5236;.&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x548C;&#x666E;&#x901A;&#x7528;&#x6237;&#x90FD;&#x53EF;&#x4EE5;&#x6269;&#x5927;&#x786C;&#x9650;&#x5236;,&#x4F46;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x7F29;&#x5C0F;&#x786C;&#x9650;&#x5236;,&#x666E;&#x901A;&#x7528;&#x6237;&#x5219;&#x4E0D;&#x80FD;&#x7F29;&#x5C0F;&#x786C;&#x9650;&#x5236;.&#x786C;&#x9650;&#x5236;&#x8BBE;&#x5B9A;&#x540E;,&#x8BBE;&#x5B9A;&#x8F6F;&#x9650;&#x5236;&#x65F6;&#x53EA;&#x80FD;&#x662F;&#x5C0F;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;&#x786C;&#x9650;&#x5236;. &#x4E0B;&#x9762;&#x7684;&#x6D4B;&#x8BD5;&#x5E94;&#x7528;&#x4E8E;&#x786C;&#x9650;&#x5236;&#x548C;&#x8F6F;&#x9650;&#x5236;. 1)&#x8F6F;&#x9650;&#x5236;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;&#x786C;&#x9650;&#x5236;&#x5728;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x4E0B;,&#x540C;&#x65F6;&#x4FEE;&#x6539;&#x786C;/&#x8F6F;&#x9650;&#x5236;,&#x4F7F;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#x53EA;&#x80FD;&#x5EFA;100KB&#x7684;&#x6587;&#x4EF6;ulimit -f 100 &#x67E5;&#x770B;&#x5F53;&#x524D;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x7684;&#x786C;&#x9650;&#x5236;&#x4E3A;100KBulimit -H -f100 &#x6B64;&#x65F6;&#x9650;&#x5236;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#x7684;&#x8F6F;&#x9650;&#x5236;&#x4E3A;1000KB,&#x51FA;&#x73B0;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x7684;&#x62A5;&#x9519;ulimit -S -f 1000-bash: ulimit: file size: cannot modify limit: Invalid argument 2)&#x786C;&#x9650;&#x5236;&#x4E0D;&#x80FD;&#x5C0F;&#x4E8E;&#x8F6F;&#x9650;&#x5236;&#x5728;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x4E0B;,&#x7528;&#x6237;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7684;&#x8F6F;&#x9650;&#x5236;,&#x6B64;&#x65F6;&#x4E3A;unlmiitedulimit -S -funlimited &#x6B64;&#x65F6;&#x4FEE;&#x6539;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x7684;&#x786C;&#x9650;&#x5236;&#x4E3A;1000KB,&#x51FA;&#x73B0;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x7684;&#x62A5;&#x9519;,&#x8BF4;&#x660E;&#x786C;&#x9650;&#x5236;&#x4E0D;&#x80FD;&#x5C0F;&#x4E8E;&#x8F6F;&#x9650;&#x5236;ulimit -H -f 1000-bash: ulimit: file size: cannot modify limit: Invalid argument &#x5982;&#x679C;&#x6211;&#x4EEC;&#x628A;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x7684;&#x8F6F;&#x9650;&#x5236;&#x6539;&#x4E3A;900KB,&#x6B64;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x5B83;&#x7684;&#x786C;&#x9650;&#x5236;&#x4E86;ulimit -S -f 900ulimit -H -f 1000 3)&#x666E;&#x901A;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x7F29;&#x5C0F;&#x786C;&#x9650;&#x5236;,&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x6269;&#x5927;&#x786C;&#x9650;&#x5236; &#x7528;&#x666E;&#x901A;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x7CFB;&#x7EDF;su - test &#x67E5;&#x770B;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x7684;&#x786C;&#x9650;&#x5236;ulimit -H -funlimited &#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x7F29;&#x5C0F;&#x8BE5;&#x786C;&#x9650;&#x5236;ulimit -H -f 1000 &#x4F46;&#x4E0D;&#x80FD;&#x6269;&#x5927;&#x8BE5;&#x786C;&#x9650;&#x5236;ulimit -H -f 10000 4)&#x786C;&#x9650;&#x5236;&#x63A7;&#x5236;&#x8F6F;&#x9650;&#x5236;,&#x8F6F;&#x9650;&#x5236;&#x6765;&#x9650;&#x5236;&#x7528;&#x6237;&#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x4F7F;&#x7528; &#x7528;&#x8F6F;&#x9650;&#x5236;&#x9650;&#x5236;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x4E3A;1000KBulimit -S -f 1000 &#x7528;&#x786C;&#x9650;&#x5236;&#x9650;&#x5236;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x4E3A;2000KBulimit -H -f 2000 &#x521B;&#x5EFA;3MB&#x5927;&#x5C0F;&#x7684;&#x6587;&#x4EF6;dd if=/dev/zero of=/tmp/test bs=3M count=1File size limit exceeded &#x67E5;&#x770B;/tmp/test&#x7684;&#x5927;&#x5C0F;&#x4E3A;1000KB,&#x8BF4;&#x660E;&#x8F6F;&#x9650;&#x5236;&#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x63A7;&#x5236;&#x662F;&#x8D77;&#x51B3;&#x5B9A;&#x6027;&#x4F5C;&#x7528;&#x7684;.ls -lh /tmp/test-rw-r&#x2013;r&#x2013; 1 root root 1000K 2010-10-15 23:04 /tmp/test file size&#x5355;&#x4F4D;&#x662F;KB. &#x4E8C;)&#x5173;&#x4E8E;&#x8FDB;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x9650;&#x5236;(scheduling priority)&#x8FD9;&#x91CC;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x6307;NICE&#x503C;&#x8FD9;&#x4E2A;&#x503C;&#x53EA;&#x5BF9;&#x666E;&#x901A;&#x7528;&#x6237;&#x8D77;&#x4F5C;&#x7528;,&#x5BF9;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;,&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x7531;&#x4E8E;CAP_SYS_NICE&#x9020;&#x6210;&#x7684;.&#x4F8B;&#x5982;&#x8C03;&#x6574;&#x666E;&#x901A;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;nice&#x503C;&#x4E3A;-10&#x5230;20&#x4E4B;&#x95F4;.&#x786C;&#x9650;&#x5236;nice&#x7684;&#x9650;&#x5236;&#x4E3A;-15&#x5230;20&#x4E4B;&#x95F4;.ulimit -H -e 35 &#x8F6F;&#x9650;&#x5236;nice&#x7684;&#x9650;&#x5236;&#x4E3A;-10&#x5230;20&#x4E4B;&#x95F4;ulimit -S -e 30 &#x7528;nice&#x547D;&#x4EE4;,&#x4F7F;&#x6267;&#x884C;ls&#x7684;nice&#x503C;&#x4E3A;-10nice -n -10 ls /tmpssh-BossiP2810 ssh-KITFTp2620 ssh-vIQDXV3333 &#x7528;nice&#x547D;&#x4EE4;,&#x4F7F;&#x6267;&#x884C;ls&#x7684;nice&#x503C;&#x4E3A;-11,&#x6B64;&#x65F6;&#x8D85;&#x8FC7;&#x4E86;ulimit&#x5BF9;nice&#x7684;&#x8F6F;&#x9650;&#x5236;,&#x51FA;&#x73B0;&#x4E86;&#x5F02;&#x5E38;.nice -n -11 ls /tmpnice: cannot set niceness: Permission denied &#x4E09;)&#x5185;&#x5B58;&#x9501;&#x5B9A;&#x503C;&#x7684;&#x9650;&#x5236;(max locked memory)&#x8FD9;&#x4E2A;&#x503C;&#x53EA;&#x5BF9;&#x666E;&#x901A;&#x7528;&#x6237;&#x8D77;&#x4F5C;&#x7528;,&#x5BF9;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;,&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x7531;&#x4E8E;CAP_IPC_LOCK&#x9020;&#x6210;&#x7684;.linux&#x5BF9;&#x5185;&#x5B58;&#x662F;&#x5206;&#x9875;&#x7BA1;&#x7406;&#x7684;,&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6709;&#x4E0D;&#x9700;&#x8981;&#x65F6;,&#x5728;&#x7269;&#x7406;&#x5185;&#x5B58;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x6362;&#x5230;&#x4EA4;&#x6362;&#x533A;&#x6216;&#x78C1;&#x76D8;&#x4E0A;.&#x6709;&#x9700;&#x8981;&#x65F6;&#x4F1A;&#x88AB;&#x4EA4;&#x6362;&#x5230;&#x7269;&#x7406;&#x5185;&#x5B58;,&#x800C;&#x5C06;&#x6570;&#x636E;&#x9501;&#x5B9A;&#x5230;&#x7269;&#x7406;&#x5185;&#x5B58;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x6570;&#x636E;&#x7684;&#x6362;&#x5165;/&#x6362;&#x51FA;.&#x91C7;&#x7528;&#x9501;&#x5B9A;&#x5185;&#x5B58;&#x6709;&#x4E24;&#x4E2A;&#x7406;&#x7531;:1)&#x7531;&#x4E8E;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x4E0A;&#x9700;&#x8981;,&#x6BD4;&#x5982;oracle&#x7B49;&#x8F6F;&#x4EF6;,&#x5C31;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x9501;&#x5B9A;&#x5230;&#x7269;&#x7406;&#x5185;&#x5B58;.2)&#x4E3B;&#x8981;&#x662F;&#x5B89;&#x5168;&#x4E0A;&#x7684;&#x9700;&#x8981;,&#x6BD4;&#x5982;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x7B49;&#x7B49;,&#x88AB;&#x4EA4;&#x6362;&#x5230;swap&#x6216;&#x78C1;&#x76D8;,&#x6709;&#x6CC4;&#x5BC6;&#x7684;&#x53EF;&#x80FD;,&#x6240;&#x4EE5;&#x4E00;&#x76F4;&#x5C06;&#x5176;&#x9501;&#x5B9A;&#x5230;&#x7269;&#x7406;&#x5185;&#x5B58;. &#x9501;&#x5B9A;&#x5185;&#x5B58;&#x7684;&#x52A8;&#x4F5C;&#x7531;mlock()&#x51FD;&#x6570;&#x6765;&#x5B8C;&#x6210;mlock&#x7684;&#x539F;&#x578B;&#x5982;&#x4E0B;:int mlock(const void *addr,size_t len); &#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;&#x5982;&#x4E0B;: #include #include int main(int argc, char* argv[]){ int array[2048]; if (mlock((const void *)array, sizeof(array)) == -1) { perror(&quot;mlock: &quot;); return -1; } printf(&quot;success to lock stack mem at: %p, len=%zd\n&quot;, array, sizeof(array)); if (munlock((const void *)array, sizeof(array)) == -1) { perror(&quot;munlock: &quot;); return -1; } printf(&quot;success to unlock stack mem at: %p, len=%zd\n&quot;, array, sizeof(array)); return 0; } gcc mlock_test.c -o mlock_test &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;,&#x9501;&#x5B9A;2KB&#x7684;&#x6570;&#x636E;&#x5230;&#x7269;&#x7406;&#x5185;&#x5B58;&#x4E2D;,&#x6211;&#x4EEC;&#x8C03;&#x6574;ulimit&#x7684;max locked memory.ulimit -H -l 4ulimit -S -l 1./mlock_testmlock: : Cannot allocate memory &#x6211;&#x4EEC;&#x653E;&#x5927;max locked memory&#x7684;&#x9650;&#x5236;&#x5230;4KB,&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x4E86;.ulimit -S -l 4./mlock_testsuccess to lock stack mem at: 0x7fff1f039500, len=2048success to unlock stack mem at: 0x7fff1f039500, len=2048 &#x6CE8;&#x610F;:&#x5982;&#x679C;&#x8C03;&#x6574;&#x5230;3KB&#x4E5F;&#x4E0D;&#x80FD;&#x6267;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;,&#x539F;&#x56E0;&#x662F;&#x9664;&#x4E86;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5916;,&#x6211;&#x4EEC;&#x8FD8;&#x4F1A;&#x7528;&#x5176;&#x5B83;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;. &#x56DB;)&#x8FDB;&#x7A0B;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x7684;&#x9650;&#x5236;(open files) &#x8FD9;&#x4E2A;&#x503C;&#x9488;&#x5BF9;&#x6240;&#x6709;&#x7528;&#x6237;,&#x8868;&#x793A;&#x53EF;&#x4EE5;&#x5728;&#x8FDB;&#x7A0B;&#x4E2D;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x6570;. &#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x5C06;open files&#x7684;&#x503C;&#x6539;&#x4E3A;3ulimit -n 3 &#x6B64;&#x65F6;&#x6253;&#x5F00;/etc/passwd&#x6587;&#x4EF6;&#x65F6;&#x5931;&#x8D25;&#x4E86;.cat /etc/passwd-bash: start_pipeline: pgrp pipe: Too many open files-bash: /bin/cat: Too many open files &#x4E94;)&#x4FE1;&#x53F7;&#x53EF;&#x4EE5;&#x88AB;&#x6302;&#x8D77;&#x7684;&#x6700;&#x5927;&#x6570;(pending signals) &#x8FD9;&#x4E2A;&#x503C;&#x9488;&#x5BF9;&#x6240;&#x6709;&#x7528;&#x6237;,&#x8868;&#x793A;&#x53EF;&#x4EE5;&#x88AB;&#x6302;&#x8D77;/&#x963B;&#x585E;&#x7684;&#x6700;&#x5927;&#x4FE1;&#x53F7;&#x6570;&#x91CF; &#x6211;&#x4EEC;&#x7528;&#x4EE5;&#x4E0B;&#x7684;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;,&#x6E90;&#x7A0B;&#x5E8F;&#x5982;&#x4E0B;: #include #include #include #include #include volatile int done = 0; void handler (int sig){ const char *str = &#x201C;handled&#x2026;\n&#x201D;; write (1, str, strlen(str)); done = 1;} void child(void){ int i; for (i = 0; i &lt; 3; i++){ kill(getppid(), SIGRTMIN); printf(&#x201C;child - BANG!\n&#x201D;); } exit (0);} int main (int argc, char *argv[]){ signal (SIGRTMIN, handler); sigset_t newset, oldset; sigfillset(&amp;newset); sigprocmask(SIG_BLOCK, &amp;newset, &amp;oldset); pid_t pid = fork(); if (pid == 0) child(); printf(&#x201C;parent sleeping \n&#x201D;); int r = sleep(3); printf(&#x201C;woke up! r=%d\n&#x201D;, r); sigprocmask(SIG_SETMASK, &amp;oldset, NULL); while (!done){ }; printf(&#x201C;exiting\n&#x201D;); exit(0);} &#x7F16;&#x8BD1;&#x6E90;&#x7A0B;&#x5E8F;:gcc test.c -o test &#x6267;&#x884C;&#x7A0B;&#x5E8F;test,&#x8FD9;&#x65F6;&#x5B50;&#x7A0B;&#x5E8F;&#x53D1;&#x9001;&#x4E86;&#x4E09;&#x6B21;SIGRTMIN&#x4FE1;&#x53F7;,&#x7236;&#x7A0B;&#x5E8F;&#x5728;&#x8FC7;3&#x79D2;&#x540E;,&#x63A5;&#x6536;&#x5E76;&#x5904;&#x7406;&#x8BE5;&#x4FE1;&#x53F7;../testparent sleepingchild - BANG!child - BANG!child - BANG!woke up! r=0handled&#x2026;handled&#x2026;handled&#x2026;exiting &#x6CE8;&#x610F;:&#x8FD9;&#x91CC;&#x6709;&#x91C7;&#x7528;&#x7684;&#x662F;&#x53D1;&#x9001;&#x5B9E;&#x65F6;&#x4FE1;&#x53F7;(SIGRTMIN),&#x5982;:kill(getppid(), SIGRTMIN);&#x5982;&#x679C;&#x4E0D;&#x662F;&#x5B9E;&#x65F6;&#x4FE1;&#x53F7;,&#x5219;&#x53EA;&#x80FD;&#x63A5;&#x6536;&#x4E00;&#x6B21;. &#x5982;&#x679C;&#x6211;&#x4EEC;&#x5C06;pending signals&#x503C;&#x6539;&#x4E3A;2,&#x8FD9;&#x91CC;&#x5C06;&#x53EA;&#x80FD;&#x4FDD;&#x8BC1;&#x6302;&#x8D77;&#x4E24;&#x4E2A;&#x4FE1;&#x53F7;,&#x7B2C;&#x4E09;&#x4E2A;&#x4FE1;&#x53F7;&#x5C06;&#x88AB;&#x5FFD;&#x7565;.&#x5982;&#x4E0B;:ulimit -i 2./testparent sleepingchild - BANG!child - BANG!child - BANG!woke up! r=0handled&#x2026;handled&#x2026;exiting &#x516D;)&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4F7F;&#x7528;POSIX&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x6700;&#x5927;&#x503C;,&#x5355;&#x4F4D;&#x4E3A;bytes.(POSIX message queues) &#x6211;&#x4EEC;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5BF9;POSIX&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x9650;&#x5236;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;,&#x5982;&#x4E0B;: #include #include #include #include #include #include #include struct message{ char mtext[128];}; int send_msg(int qid, int pri, const char text[]){ int r = mq_send(qid, text, strlen(text) + 1,pri); if (r == -1){ perror(&#x201C;mq_send&#x201D;); } return r;} void producer(mqd_t qid){ send_msg(qid, 1, &#x201C;This is my first message.&#x201D;); send_msg(qid, 1, &#x201C;This is my second message.&#x201D;); send_msg(qid, 3, &#x201C;No more messages.&#x201D;);} void consumer(mqd_t qid){ struct mq_attr mattr; do{ u_int pri; struct message msg; ssize_t len; len = mq_receive(qid, (char *)&amp;msg, sizeof(msg), &amp;pri); if (len == -1){ perror(&#x201C;mq_receive&#x201D;); break; } printf(&#x201C;got pri %d &#x2018;%s&#x2019; len=%d\n&#x201D;, pri, msg.mtext, len); int r = mq_getattr(qid, &amp;mattr); if (r == -1){ perror(&#x201C;mq_getattr&#x201D;); break; } }while(mattr.mq_curmsgs);} intmain (int argc, char *argv[]){ struct mq_attr mattr = { .mq_maxmsg = 10, .mq_msgsize = sizeof(struct message) }; mqd_t mqid = mq_open(&#x201C;/myq&#x201D;, O_CREAT|O_RDWR, S_IREAD|S_IWRITE, &amp;mattr); if (mqid == (mqd_t) -1){ perror(&#x201C;mq_open&#x201D;); exit (1); } pid_t pid = fork(); if (pid == 0){ producer(mqid); mq_close(mqid); exit(0); } else { int status; wait(&amp;status); consumer(mqid); mq_close(mqid); } mq_unlink(&#x201C;/myq&#x201D;); return 0;} &#x7F16;&#x8BD1;:gcc test.c -o test &#x9650;&#x5236;POSIX&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x6700;&#x5927;&#x503C;&#x4E3A;1000&#x4E2A;&#x5B57;&#x8282;ulimit -q 1000 &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x6267;&#x884C;test&#x7A0B;&#x5E8F;./testmq_open: Cannot allocate memory &#x7A0B;&#x5E8F;&#x62A5;&#x544A;&#x65E0;&#x6CD5;&#x5206;&#x914D;&#x5185;&#x5B58;. &#x7528;strace&#x6765;&#x8DDF;&#x8E2A;test&#x7684;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;,&#x5728;&#x4E0B;&#x9762;&#x4E00;&#x6761;&#x8BED;&#x53E5;&#x65F6;&#x62A5;&#x9519;.mq_open(&#x201C;myq&#x201D;, O_RDWR|O_CREAT, 0600, {mq_maxmsg=10, mq_msgsize=128}) = -1 ENOMEM (Cannot allocate memory) {mq_maxmsg=10, mq_msgsize=128}&#x5373;128*10=1280&#x4E2A;&#x5B57;&#x8282;,&#x8BF4;&#x660E;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;&#x4E86;1000&#x4E2A;&#x5B57;&#x8282;&#x7684;POSIX&#x6D88;&#x606F;&#x961F;&#x5217;&#x9650;&#x5236;. &#x6211;&#x4EEC;&#x5C06;POSIX&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x6700;&#x5927;&#x503C;&#x8C03;&#x6574;&#x4E3A;1360&#x65F6;,&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;.ulimit -q 1360./testgot pri 3 &#x2018;No more messages.&#x2019; len=18got pri 1 &#x2018;This is my first message.&#x2019; len=26got pri 1 &#x2018;This is my second message.&#x2019; len=27 &#x4E03;)&#x7A0B;&#x5E8F;&#x5360;&#x7528;CPU&#x7684;&#x65F6;&#x95F4;,&#x5355;&#x4F4D;&#x662F;&#x79D2;(cpu time) &#x6211;&#x4EEC;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5BF9;&#x7A0B;&#x5E8F;&#x5360;&#x7528;CPU&#x65F6;&#x95F4;&#x7684;&#x9650;&#x5236;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; &#x6E90;&#x7A0B;&#x5E8F;&#x5982;&#x4E0B;&#xFF1A; includeincludeint main (void) { double pi=M_PI; double pisqrt; long i; while(1){ pisqrt=sqrt(pi); } return 0;} &#x7F16;&#x8BD1;:gcc test.c -o test -lm &#x8FD0;&#x884C;&#x7A0B;&#x5E8F;test,&#x7A0B;&#x5E8F;&#x4F1A;&#x4E00;&#x76F4;&#x5FAA;&#x73AF;&#x4E0B;&#x53BB;,&#x53EA;&#x6709;&#x901A;&#x8FC7;CTRL+C&#x4E2D;&#x65AD;../test^C &#x7528;ulimit&#x5C06;&#x7A0B;&#x5E8F;&#x5360;&#x7528;CPU&#x7684;&#x65F6;&#x95F4;&#x6539;&#x4E3A;2&#x79D2;,&#x518D;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;.ulimit -t 2./testKilled &#x7A0B;&#x5E8F;&#x6700;&#x540E;&#x88AB;kill&#x6389;&#x4E86;. &#x516B;)&#x9650;&#x5236;&#x7A0B;&#x5E8F;&#x5B9E;&#x65F6;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8303;&#x56F4;,&#x53EA;&#x9488;&#x5BF9;&#x666E;&#x901A;&#x7528;&#x6237;.(real-time priority) &#x6211;&#x4EEC;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5BF9;&#x7A0B;&#x5E8F;&#x5B9E;&#x65F6;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8303;&#x56F4;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; &#x6E90;&#x7A0B;&#x5E8F;&#x5982;&#x4E0B;: includeint main (void) { int i; for (i=0;i&lt;6;i++) { printf (&#x201C;%d\n&#x201D;,i); sleep(1); } return 0;} &#x7F16;&#x8BD1;:gcc test.c -o test &#x5207;&#x6362;&#x5230;&#x666E;&#x901A;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;su - ckhitler &#x7528;&#x5B9E;&#x65F6;&#x4F18;&#x5148;&#x7EA7;20&#x8FD0;&#x884C;test&#x7A0B;&#x5E8F;chrt -f 20 ./testchrt: failed to set pid 0&#x2019;s policy: Operation not permitted &#x6211;&#x4EEC;&#x7528;root&#x5C06;ulimit&#x7684;&#x5B9E;&#x65F6;&#x4F18;&#x5148;&#x7EA7;&#x8C03;&#x6574;&#x4E3A;20.&#x518D;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;.su - rootulimit -r 20 &#x5207;&#x6362;&#x5230;&#x666E;&#x901A;&#x7528;&#x6237;,&#x7528;&#x5B9E;&#x65F6;&#x4F18;&#x5148;&#x7EA7;20&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;,&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E86;.su - ckhitlerchrt -r 20 ./test012345 &#x4EE5;&#x5B9E;&#x65F6;&#x4F18;&#x5148;&#x7EA7;50&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;,&#x8FD8;&#x662F;&#x62A5;&#x9519;,&#x8BF4;&#x660E;ulimit&#x7684;&#x9650;&#x5236;&#x8D77;&#x4E86;&#x4F5C;&#x7528;.chrt -r 50 ./testchrt: failed to set pid 0&#x2019;s policy: Operation not permitted &#x4E5D;)&#x9650;&#x5236;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;fork&#x7684;&#x8FDB;&#x7A0B;&#x6570;,&#x53EA;&#x5BF9;&#x666E;&#x901A;&#x7528;&#x6237;&#x6709;&#x6548;(max user processes) &#x6211;&#x4EEC;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5BF9;&#x7A0B;&#x5E8F;&#x7684;fork&#x8FDB;&#x7A0B;&#x6570;&#x7684;&#x8303;&#x56F4;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; &#x6E90;&#x7A0B;&#x5E8F;&#x5982;&#x4E0B;: #include #includeint main(void){ pid_t pid; int count=0; while (count&lt;3){ pid=fork(); count++; printf(&#x201C;count= %d\n&#x201D;,count); } return 0;} &#x7F16;&#x8BD1;:gcc test.c -o testcount= 1count= 2count= 3count= 2count= 3count= 1count= 3count= 2count= 3count= 3count= 3count= 2count= 3count= 3 &#x7A0B;&#x5E8F;fork&#x7684;&#x8FDB;&#x7A0B;&#x6570;&#x6210;&#x500D;&#x7684;&#x589E;&#x52A0;,&#x8FD9;&#x91CC;&#x662F;14&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x8F93;&#x51FA;.&#x9664;&#x81EA;&#x8EAB;&#x5916;,&#x5176;&#x5B83;13&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x662F;test&#x7A0B;&#x5E8F;fork&#x51FA;&#x6765;&#x7684;.&#x6211;&#x4EEC;&#x5C06;fork&#x7684;&#x9650;&#x5B9A;&#x5230;12,&#x5982;&#x4E0B;:ulimit -u 12&#x518D;&#x6B21;&#x6267;&#x884C;test&#x7A0B;&#x5E8F;,&#x8FD9;&#x91CC;&#x53EA;&#x6709;12&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x8F93;&#x51FA;../testcount= 1count= 2count= 3count= 1count= 2count= 3count= 2count= 3count= 3count= 2count= 3count= 3count= 3 &#x5341;)&#x9650;&#x5236;core&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;(core file size) &#x6211;&#x4EEC;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5BF9;&#x7A0B;&#x5E8F;&#x751F;&#x6210;core&#x7684;&#x5927;&#x5C0F;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; &#x6E90;&#x4EE3;&#x7801;: #include static void sub(void); int main(void){ sub(); return 0;} static void sub(void){ int p = NULL; printf(&#x201C;%d&#x201D;, p);} &#x7F16;&#x8BD1;:gcc -g test.c -o test &#x8FD0;&#x884C;&#x7A0B;&#x5E8F;test,&#x51FA;&#x73B0;&#x6BB5;&#x9519;&#x8BEF;../testSegmentation fault (core dumped) &#x5982;&#x679C;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x6CA1;&#x6709;core&#x6587;&#x4EF6;,&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x8C03;&#x6574;ulimit&#x5BF9;core&#x7684;&#x5927;&#x5C0F;&#x8FDB;&#x884C;&#x9650;&#x5236;,&#x5982;&#x679C;core&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x5728;&#x8FD9;&#x91CC;&#x6307;&#x5B9A;&#x4E3A;0,&#x5C06;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;core&#x6587;&#x4EF6;.&#x8FD9;&#x91CC;&#x8BBE;&#x5B9A;core&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x4E3A;10&#x4E2A;blocks.&#x6CE8;:&#x4E00;&#x4E2A;blocks&#x5728;&#x8FD9;&#x91CC;&#x4E3A;1024&#x4E2A;&#x5B57;&#x8282;. ulimit -c 10&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;./testSegmentation fault (core dumped) &#x67E5;&#x770B;core&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;ls -lh core-rw&#x2014;&#x2014;- 1 root root 12K 2011-03-08 13:54 core &#x6211;&#x4EEC;&#x8BBE;&#x5B9A;10&#x4E2A;blocks&#x5E94;&#x8BE5;&#x662F;10*1024&#x4E5F;&#x4E0D;&#x662F;10KB,&#x4E3A;&#x4EC0;&#x4E48;&#x5B83;&#x662F;12KB&#x5462;,&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x9012;&#x589E;&#x662F;4KB.&#x5982;&#x679C;&#x8C03;&#x6574;&#x5230;14&#x4E2A;blocks&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6700;&#x5927;&#x4EA7;&#x751F;16KB&#x7684;core&#x6587;&#x4EF6;. &#x5341;&#x4E00;)&#x9650;&#x5236;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x6BB5;&#x7684;&#x5927;&#x5C0F;(data seg size) &#x4E00;&#x822C;&#x6765;&#x8BF4;&#x8FD9;&#x4E2A;&#x9650;&#x5236;&#x4F1A;&#x5F71;&#x54CD;&#x7A0B;&#x5E8F;&#x8C03;&#x7528;brk(&#x7CFB;&#x7EDF;&#x8C03;&#x7528;)&#x548C;sbrk(&#x5E93;&#x51FD;&#x6570;)&#x8C03;&#x7528;malloc&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x73B0;vm&#x4E0D;&#x591F;&#x4E86;&#x5C31;&#x4F1A;&#x7528;brk&#x53BB;&#x5185;&#x6838;&#x7533;&#x8BF7;. &#x9650;&#x5236;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6700;&#x5927;&#x4E3A;1KB&#x7684;&#x6570;&#x636E;&#x6BB5; ulimit -d 1 &#x7528;norff&#x6253;&#x5F00;/etc/passwd&#x6587;&#x4EF6;nroff /etc/passwdSegmentation fault &#x53EF;&#x4EE5;&#x7528;strace&#x6765;&#x8DDF;&#x8E2A;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;.strace nroff /etc/passwd &#x6253;&#x5370;&#x51FA;&#x5982;&#x4E0B;&#x7684;&#x7ED3;&#x679C;,&#x8BC1;&#x660E;&#x7A0B;&#x5E8F;&#x5728;&#x5206;&#x914D;&#x5185;&#x5B58;&#x65F6;&#x4E0D;&#x591F;&#x7528;&#x65F6;,&#x8C03;&#x7528;brk&#x7533;&#x8BF7;&#x65B0;&#x7684;&#x5185;&#x5B58;,&#x800C;&#x7531;&#x4E8E;ulimit&#x7684;&#x9650;&#x5236;,&#x5BFC;&#x81F4;&#x7533;&#x8BF7;&#x5931;&#x8D25;.munmap(0x7fc2abf00000, 104420) = 0rt_sigprocmask(SIG_BLOCK, NULL, [], 8) = 0open(&#x201C;/dev/tty&#x201D;, O_RDWR|O_NONBLOCK) = 3close(3) = 0brk(0) = 0xf5b000brk(0xf5c000) = 0xf5b000brk(0xf5c000) = 0xf5b000brk(0xf5c000) = 0xf5b000&#x2014; SIGSEGV (Segmentation fault) @ 0 (0) &#x2014;+++ killed by SIGSEGV +++Segmentation fault &#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x7528;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;&#x5BF9;data segment&#x7684;&#x9650;&#x5236;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;.&#x6E90;&#x7A0B;&#x5E8F;&#x5982;&#x4E0B;: #includeint main(){ int start,end; start = sbrk(0); (char *)malloc(32*1024); end = sbrk(0); printf(&quot;hello I used %d vmemory\n&quot;,end - start); return 0; } gcc test.c -o test ./testhello I used 0 vmemory &#x901A;&#x8FC7;ulimit&#x5C06;&#x9650;&#x5236;&#x6539;&#x4E3A;170KB&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;./testhello I used 167936 vmemory &#x5341;&#x4E8C;)&#x9650;&#x5236;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x5806;&#x6808;&#x6BB5;&#x7684;&#x5927;&#x5C0F; &#x6211;&#x4EEC;&#x7528;ulimit&#x5C06;&#x5806;&#x6808;&#x6BB5;&#x7684;&#x5927;&#x5C0F;&#x8C03;&#x6574;&#x4E3A;16,&#x5373;16*1024.ulimit -s 16 &#x518D;&#x8FD0;&#x884C;&#x547D;&#x4EE4;:ls -l /etc/Segmentation fault (core dumped) &#x8FD9;&#x65F6;&#x7528;strace&#x8DDF;&#x8E2A;&#x547D;&#x4EE4;&#x7684;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;strace ls -l /etc/ &#x53D1;&#x73B0;&#x5B83;&#x8C03;&#x7528;getrlimit,&#x8FD9;&#x91CC;&#x7684;&#x9650;&#x5236;&#x662F;161024,&#x4E0D;&#x591F;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x7528;&#x5230;&#x7684;&#x5806;&#x6808;.getrlimit(RLIMIT_STACK, {rlim_cur=161024, rlim_max=16*1024}) = 0 &#x6CE8;:&#x5728;2.6.32&#x7CFB;&#x7EDF;&#x4E0A;ls -l /etc/&#x5E76;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5806;&#x6808;&#x4E0D;&#x591F;&#x7528;&#x7684;&#x60C5;&#x51B5;,&#x8FD9;&#x65F6;&#x53EF;&#x4EE5;&#x7528;expect&#x6765;&#x89E6;&#x53D1;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;. &#x5982;:expectTcl_Init failed: out of stack space (infinite loop?) &#x5341;&#x4E09;)&#x9650;&#x5236;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x5185;&#x5B58;&#x7684;&#x5927;&#x5C0F; &#x6211;&#x4EEC;&#x7528;ulimit&#x5C06;&#x865A;&#x62DF;&#x5185;&#x5B58;&#x8C03;&#x6574;&#x4E3A;8192KBulimit -v 8192 &#x8FD0;&#x884C;lslsls: error while loading shared libraries: libc.so.6: failed to map segment from shared object: Cannot allocate memoryls&#x5728;&#x52A0;&#x8F7D;libc.so.6&#x52A8;&#x6001;&#x5E93;&#x7684;&#x65F6;&#x5019;&#x62A5;&#x4E86;&#x9519;,&#x63D0;&#x793A;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;. &#x7528;strace&#x8DDF;&#x8E2A;ls&#x7684;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;,&#x770B;&#x5230;&#x4E0B;&#x9762;&#x7684;&#x8F93;&#x51FA;,&#x8BF4;&#x660E;&#x5728;&#x505A;mmap&#x6620;&#x5C04;&#x51FA;&#x5185;&#x5B58;&#x65F6;,&#x51FA;&#x73B0;&#x5185;&#x5B58;&#x4E0D;&#x591F;&#x7528;.mmap(NULL, 3680296, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = -1 ENOMEM (Cannot allocate memory)close(3) = 0writev(2, [{&#x201C;ls&#x201D;, 2}, {&#x201C;: &#x201C;, 2}, {&#x201C;error while loading shared libra&#x201D;&#x2026;, 36}, {&#x201C;: &#x201C;, 2}, {&#x201C;libc.so.6&#x201D;, 9}, {&#x201C;: &#x201C;, 2}, {&#x201C;failed to map segment from share&#x201D;&#x2026;, 40}, {&#x201C;: &#x201C;, 2}, {&#x201C;Cannot allocate memory&#x201D;, 22}, {&#x201C;\n&#x201D;, 1}], 10ls: error while loading shared libraries: libc.so.6: failed to map segment from shared object: Cannot allocate memory &#x5341;&#x56DB;)&#x5269;&#x4E0B;&#x7684;&#x4E09;&#x79CD;ulimit&#x9650;&#x5236;&#x8BF4;&#x660E;(file locks/max memory size/pipe size) &#x6587;&#x4EF6;&#x9501;&#x7684;&#x9650;&#x5236;&#x53EA;&#x5728;2.4&#x5185;&#x6838;&#x4E4B;&#x524D;&#x6709;&#x7528;.&#x9A7B;&#x7559;&#x5185;&#x5B58;&#x7684;&#x9650;&#x5236;&#x5728;&#x5F88;&#x591A;&#x7CFB;&#x7EDF;&#x91CC;&#x4E5F;&#x6CA1;&#x6709;&#x4F5C;&#x7528;.&#x7BA1;&#x9053;&#x7684;&#x7F13;&#x5B58;&#x4E0D;&#x80FD;&#x6539;&#x53D8;,&#x53EA;&#x80FD;&#x662F;8*512(bytes),&#x4E5F;&#x5C31;&#x662F;4096&#x4E2A;&#x5B57;&#x8282;.]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python-format-str]]></title>
    <url>%2F2017%2F05%2F09%2Fpython-format-str%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;python &#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x5316;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x5316;Python&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x5316;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;:%&#x683C;&#x5F0F;&#x7B26;&#x65B9;&#x5F0F;&#xFF0C;format&#x65B9;&#x5F0F; %&#x683C;&#x5F0F;&#x7B26;%[(name)][flags][width].[precision]typecode (name) &#x53EF;&#x9009;&#xFF0C;&#x7528;&#x4E8E;&#x9009;&#x62E9;&#x6307;&#x5B9A;&#x7684;keyflags &#x53EF;&#x9009;&#xFF0C;&#x53EF;&#x4F9B;&#x9009;&#x62E9;&#x7684;&#x503C;&#x6709;: &#x53F3;&#x5BF9;&#x9F50;&#xFF1B;&#x6B63;&#x6570;&#x524D;&#x52A0;&#x6B63;&#x597D;&#xFF0C;&#x8D1F;&#x6570;&#x524D;&#x52A0;&#x8D1F;&#x53F7;&#xFF1B; &#x5DE6;&#x5BF9;&#x9F50;&#xFF1B;&#x6B63;&#x6570;&#x524D;&#x65E0;&#x7B26;&#x53F7;&#xFF0C;&#x8D1F;&#x6570;&#x524D;&#x52A0;&#x8D1F;&#x53F7;&#xFF1B;&#x7A7A;&#x683C; &#x53F3;&#x5BF9;&#x9F50;&#xFF1B;&#x6B63;&#x6570;&#x524D;&#x52A0;&#x7A7A;&#x683C;&#xFF0C;&#x8D1F;&#x6570;&#x524D;&#x52A0;&#x8D1F;&#x53F7;&#xFF1B;0 &#x53F3;&#x5BF9;&#x9F50;&#xFF1B;&#x6B63;&#x6570;&#x524D;&#x65E0;&#x7B26;&#x53F7;&#xFF0C;&#x8D1F;&#x6570;&#x524D;&#x52A0;&#x8D1F;&#x53F7;&#xFF1B;&#x7528;0&#x586B;&#x5145;&#x7A7A;&#x767D;&#x5904;width &#x53EF;&#x9009;&#xFF0C;&#x5360;&#x6709;&#x5BBD;&#x5EA6;.precision &#x53EF;&#x9009;&#xFF0C;&#x5C0F;&#x6570;&#x70B9;&#x540E;&#x4FDD;&#x7559;&#x7684;&#x4F4D;&#x6570;typecode &#x5FC5;&#x9009;s&#xFF0C;&#x83B7;&#x53D6;&#x4F20;&#x5165;&#x5BF9;&#x8C61;&#x7684;str&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;r&#xFF0C;&#x83B7;&#x53D6;&#x4F20;&#x5165;&#x5BF9;&#x8C61;&#x7684;repr&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;c&#xFF0C;&#x6574;&#x6570;&#xFF1A;&#x5C06;&#x6570;&#x5B57;&#x8F6C;&#x6362;&#x6210;&#x5176;unicode&#x5BF9;&#x5E94;&#x7684;&#x503C;&#xFF0C;10&#x8FDB;&#x5236;&#x8303;&#x56F4;&#x4E3A; 0 &lt;= i &lt;= 1114111&#xFF08;py27&#x5219;&#x53EA;&#x652F;&#x6301;0-255&#xFF09;&#xFF1B;&#x5B57;&#x7B26;&#xFF1A;&#x5C06;&#x5B57;&#x7B26;&#x6DFB;&#x52A0;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;o&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x8F6C;&#x6362;&#x6210; &#x516B; &#x8FDB;&#x5236;&#x8868;&#x793A;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;x&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x8868;&#x793A;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;d&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210; &#x5341; &#x8FDB;&#x5236;&#x8868;&#x793A;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;e&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x5C0F;&#x5199;e&#xFF09;E&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x5927;&#x5199;E&#xFF09;f&#xFF0C; &#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x6D6E;&#x70B9;&#x6570;&#x8868;&#x793A;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x9ED8;&#x8BA4;&#x4FDD;&#x7559;&#x5C0F;&#x6570;&#x70B9;&#x540E;6&#x4F4D;&#xFF09;F&#xFF0C;&#x540C;&#x4E0A;g&#xFF0C;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210; &#x6D6E;&#x70B9;&#x578B;&#x6216;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#x8868;&#x793A;&#xFF08;&#x8D85;&#x8FC7;6&#x4F4D;&#x6570;&#x7528;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF09;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x5982;&#x679C;&#x662F;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x5219;&#x662F;e&#xFF1B;&#xFF09;G&#xFF0C;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210; &#x6D6E;&#x70B9;&#x578B;&#x6216;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#x8868;&#x793A;&#xFF08;&#x8D85;&#x8FC7;6&#x4F4D;&#x6570;&#x7528;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF09;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x5982;&#x679C;&#x662F;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x5219;&#x662F;E&#xFF1B;&#xFF09;%&#xFF0C;&#x5F53;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x5B58;&#x5728;&#x683C;&#x5F0F;&#x5316;&#x6807;&#x5FD7;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x7528; %%&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x767E;&#x5206;&#x53F7;&#x6CE8;&#xFF1A;Python&#x4E2D;&#x767E;&#x5206;&#x53F7;&#x683C;&#x5F0F;&#x5316;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x81EA;&#x52A8;&#x5C06;&#x6574;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x4E8C;&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7684;&#x65B9;&#x5F0F; (name) &#x53EF;&#x9009;&#xFF0C;&#x7528;&#x4E8E;&#x9009;&#x62E9;&#x6307;&#x5B9A;&#x7684;key a = &#x201C;%(name)s&#x2014;&#x2013;%(age)d &#x201C;%{&#x2018;name&#x2019;:&#x2019;xx&#x2019;,&#x2019;age&#x2019;:20}print(a) &#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; xx&#x2014;&#x2013;20flags &#x53EF;&#x9009;&#xFF0C;&#x53EF;&#x4F9B;&#x9009;&#x62E9;&#x7684;&#x503C;&#x6709;&#xFF1A; &#x53F3;&#x5BF9;&#x9F50;&#xFF1B;&#x6B63;&#x6570;&#x524D;&#x52A0;&#x6B63;&#x597D;&#xFF0C;&#x8D1F;&#x6570;&#x524D;&#x52A0;&#x8D1F;&#x53F7;&#xFF1B; &#x5DE6;&#x5BF9;&#x9F50;&#xFF1B;&#x6B63;&#x6570;&#x524D;&#x65E0;&#x7B26;&#x53F7;&#xFF0C;&#x8D1F;&#x6570;&#x524D;&#x52A0;&#x8D1F;&#x53F7;&#xFF1B;&#x7A7A;&#x683C; &#x53F3;&#x5BF9;&#x9F50;&#xFF1B;&#x6B63;&#x6570;&#x524D;&#x52A0;&#x7A7A;&#x683C;&#xFF0C;&#x8D1F;&#x6570;&#x524D;&#x52A0;&#x8D1F;&#x53F7;&#xFF1B;0 &#x53F3;&#x5BF9;&#x9F50;&#xFF1B;&#x6B63;&#x6570;&#x524D;&#x65E0;&#x7B26;&#x53F7;&#xFF0C;&#x8D1F;&#x6570;&#x524D;&#x52A0;&#x8D1F;&#x53F7;&#xFF1B;&#x7528;0&#x586B;&#x5145;&#x7A7A;&#x767D;&#x5904;width &#x53EF;&#x9009;&#xFF0C;&#x5360;&#x6709;&#x5BBD;&#x5EA6; name&#x5360;10&#x4F4D;&#xFF0C;+,&#x53F3;&#x5BF9;&#x9F50;&#xFF0C;age&#x5360;10&#x4F4D;&#xFF0C;-&#xFF0C;&#x5DE6;&#x5BF9;&#x9F50; b = &#x201C;%(name)+10s&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;%(age)-10d&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x201C;%{&#x2018;name&#x2019;:&#x2019;xx&#x2019;,&#x2019;age&#x2019;:20}print(b)&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; xx&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;20 &#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014; &#x7A7A;&#x683C;&#xFF0C;&#x53F3;&#x5BF9;&#x9F50; 0&#xFF0C;&#x7528;0&#x586B;&#x5145;&#x7A7A;&#x767D;&#x5904; c = &#x201C;&#x2014;&#x2014;%(year) d**%(age)010d &#x201C;%{&#x2018;year&#x2019;:2016,&#x2019;age&#x2019;:-20}print(c)&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; &#x2014;&#x2014; 2016**-000000020.precision &#x53EF;&#x9009;&#xFF0C;&#x5C0F;&#x6570;&#x70B9;&#x540E;&#x4FDD;&#x7559;&#x7684;&#x4F4D;&#x6570; &#x53EA;&#x4FDD;&#x7559;&#x4E24;&#x4F4D;&#x5C0F;&#x6570; d = &#x2018;&#x2014;&#x2014;&#x2013;%(p).2f&#x2019;%{&#x2018;p&#x2019;:1.23456}d1 = &#x2018;&#x2014;&#x2014;&#x2013;%(p)f&#x2019;%{&#x2018;p&#x2019;:1.23456}print(d)print(d1)&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; &#x2014;&#x2014;&#x2013;1.23&#x2014;&#x2014;&#x2013;1.234560typecode &#x5FC5;&#x9009; c&#xFF0C;&#x6574;&#x6570;&#xFF1A;&#x5C06;&#x6570;&#x5B57;&#x8F6C;&#x6362;&#x6210;&#x5176;unicode&#x5BF9;&#x5E94;&#x7684;&#x503C;&#xFF0C;10&#x8FDB;&#x5236;&#x8303;&#x56F4;&#x4E3A; 0 &lt;= i &lt;= 1114111&#xFF08;py27&#x5219;&#x53EA;&#x652F;&#x6301;0-255&#xFF09;&#xFF1B;&#x5B57;&#x7B26;&#xFF1A;&#x5C06;&#x5B57;&#x7B26;&#x6DFB;&#x52A0;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;o&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x8F6C;&#x6362;&#x6210; &#x516B; &#x8FDB;&#x5236;&#x8868;&#x793A;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;x&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x8868;&#x793A;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;e =&#x2019;%c%o*%x&#x2019;%(65,15,15)print(e)&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; A17*fe&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x5C0F;&#x5199;e&#xFF09;E&#xFF0C;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x5927;&#x5199;E&#xFF09;f = &#x2018;&#x2014;&#x2013;%(num)e&#x2014;&#x2014;%(num)E&#x2019;%{&#x2018;num&#x2019;:1000000000}print(f)&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; &#x2014;&#x2013;1.000000e+09&#x2014;&#x2014;1.000000E+09g&#xFF0C;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210; &#x6D6E;&#x70B9;&#x578B;&#x6216;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#x8868;&#x793A;&#xFF08;&#x8D85;&#x8FC7;6&#x4F4D;&#x6570;&#x7528;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF09;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x5982;&#x679C;&#x662F;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x5219;&#x662F;e&#xFF1B;&#xFF09;G&#xFF0C;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x5C06;&#x6574;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x8F6C;&#x6362;&#x6210; &#x6D6E;&#x70B9;&#x578B;&#x6216;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#x8868;&#x793A;&#xFF08;&#x8D85;&#x8FC7;6&#x4F4D;&#x6570;&#x7528;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF09;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x683C;&#x5F0F;&#x5316;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF08;&#x5982;&#x679C;&#x662F;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x5219;&#x662F;E&#xFF1B;&#xFF09;g = &#x2018;&#x2014;&#x2013;%(num)g&#x2014;&#x2014;%(num1)G&#x2019;%{&#x2018;num&#x2019;:1000000000,&#x2019;num1&#x2019;:100}print(g)&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; &#x2014;&#x2013;1e+09&#x2014;&#x2014;100%&#xFF0C;&#x5F53;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x5B58;&#x5728;&#x683C;&#x5F0F;&#x5316;&#x6807;&#x5FD7;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x7528; %%&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x767E;&#x5206;&#x53F7;(&#x7C7B;&#x4F3C;&#x4E8E;&#x8F6C;&#x610F;&#x6548;&#x679C;)s = &#x2018;aaa %&#x2019;print(s)s1 = &#x2018;aaa %s %%&#x2019;%(&#x2018;bbb&#x2019;)print(s1)&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; aaa %aaa bbb %format&#x65B9;&#x5F0F;[[fill]align][sign][#][0][width][,][.precision][type] fill &#x3010;&#x53EF;&#x9009;&#x3011;&#x7A7A;&#x767D;&#x5904;&#x586B;&#x5145;&#x7684;&#x5B57;&#x7B26;align &#x3010;&#x53EF;&#x9009;&#x3011;&#x5BF9;&#x9F50;&#x65B9;&#x5F0F;&#xFF08;&#x9700;&#x914D;&#x5408;width&#x4F7F;&#x7528;&#xFF09;&lt;&#xFF0C;&#x5185;&#x5BB9;&#x5DE6;&#x5BF9;&#x9F50; &#xFF0C;&#x5185;&#x5BB9;&#x53F3;&#x5BF9;&#x9F50;(&#x9ED8;&#x8BA4;)&#xFF1D;&#xFF0C;&#x5185;&#x5BB9;&#x53F3;&#x5BF9;&#x9F50;&#xFF0C;&#x5C06;&#x7B26;&#x53F7;&#x653E;&#x7F6E;&#x5728;&#x586B;&#x5145;&#x5B57;&#x7B26;&#x7684;&#x5DE6;&#x4FA7;&#xFF0C;&#x4E14;&#x53EA;&#x5BF9;&#x6570;&#x5B57;&#x7C7B;&#x578B;&#x6709;&#x6548;&#x3002; &#x5373;&#x4F7F;&#xFF1A;&#x7B26;&#x53F7;+&#x586B;&#x5145;&#x7269;+&#x6570;&#x5B57;^&#xFF0C;&#x5185;&#x5BB9;&#x5C45;&#x4E2D;sign &#x3010;&#x53EF;&#x9009;&#x3011;&#x6709;&#x65E0;&#x7B26;&#x53F7;&#x6570;&#x5B57;+&#xFF0C;&#x6B63;&#x53F7;&#x52A0;&#x6B63;&#xFF0C;&#x8D1F;&#x53F7;&#x52A0;&#x8D1F;&#xFF1B; -&#xFF0C;&#x6B63;&#x53F7;&#x4E0D;&#x53D8;&#xFF0C;&#x8D1F;&#x53F7;&#x52A0;&#x8D1F;&#xFF1B;&#x7A7A;&#x683C; &#xFF0C;&#x6B63;&#x53F7;&#x7A7A;&#x683C;&#xFF0C;&#x8D1F;&#x53F7;&#x52A0;&#x8D1F;&#xFF1B; &#x3010;&#x53EF;&#x9009;&#x3011;&#x5BF9;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x3001;&#x516B;&#x8FDB;&#x5236;&#x3001;&#x5341;&#x516D;&#x8FDB;&#x5236;&#xFF0C;&#x5982;&#x679C;&#x52A0;&#x4E0A;#&#xFF0C;&#x4F1A;&#x663E;&#x793A; 0b/0o/0x&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x663E;&#x793A;&#xFF0C; &#x3010;&#x53EF;&#x9009;&#x3011;&#x4E3A;&#x6570;&#x5B57;&#x6DFB;&#x52A0;&#x5206;&#x9694;&#x7B26;&#xFF0C;&#x5982;&#xFF1A;1,000,000width &#x3010;&#x53EF;&#x9009;&#x3011;&#x683C;&#x5F0F;&#x5316;&#x4F4D;&#x6240;&#x5360;&#x5BBD;&#x5EA6;.precision &#x3010;&#x53EF;&#x9009;&#x3011;&#x5C0F;&#x6570;&#x4F4D;&#x4FDD;&#x7559;&#x7CBE;&#x5EA6;type &#x3010;&#x53EF;&#x9009;&#x3011;&#x683C;&#x5F0F;&#x5316;&#x7C7B;&#x578B;&#x4F20;&#x5165;&#x201D; &#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B; &#x201C;&#x7684;&#x53C2;&#x6570;s&#xFF0C;&#x683C;&#x5F0F;&#x5316;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x6570;&#x636E;&#x7A7A;&#x767D;&#xFF0C;&#x672A;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x662F;None&#xFF0C;&#x540C;s&#x4F20;&#x5165;&#x201C; &#x6574;&#x6570;&#x7C7B;&#x578B; &#x201D;&#x7684;&#x53C2;&#x6570;b&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x6210;2&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;c&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x4E3A;&#x5176;&#x5BF9;&#x5E94;&#x7684;unicode&#x5B57;&#x7B26;d&#xFF0C;&#x5341;&#x8FDB;&#x5236;&#x6574;&#x6570;o&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x6210;8&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF1B;x&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x6210;16&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF08;&#x5C0F;&#x5199;x&#xFF09;X&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x6210;16&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF08;&#x5927;&#x5199;X&#xFF09;&#x4F20;&#x5165;&#x201C; &#x6D6E;&#x70B9;&#x578B;&#x6216;&#x5C0F;&#x6570;&#x7C7B;&#x578B; &#x201D;&#x7684;&#x53C2;&#x6570;e&#xFF0C; &#x8F6C;&#x6362;&#x4E3A;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF08;&#x5C0F;&#x5199;e&#xFF09;&#x8868;&#x793A;&#xFF0C;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF1B;E&#xFF0C; &#x8F6C;&#x6362;&#x4E3A;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#xFF08;&#x5927;&#x5199;E&#xFF09;&#x8868;&#x793A;&#xFF0C;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;;f &#xFF0C; &#x8F6C;&#x6362;&#x4E3A;&#x6D6E;&#x70B9;&#x578B;&#xFF08;&#x9ED8;&#x8BA4;&#x5C0F;&#x6570;&#x70B9;&#x540E;&#x4FDD;&#x7559;6&#x4F4D;&#xFF09;&#x8868;&#x793A;&#xFF0C;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF1B;F&#xFF0C; &#x8F6C;&#x6362;&#x4E3A;&#x6D6E;&#x70B9;&#x578B;&#xFF08;&#x9ED8;&#x8BA4;&#x5C0F;&#x6570;&#x70B9;&#x540E;&#x4FDD;&#x7559;6&#x4F4D;&#xFF09;&#x8868;&#x793A;&#xFF0C;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF1B;g&#xFF0C; &#x81EA;&#x52A8;&#x5728;e&#x548C;f&#x4E2D;&#x5207;&#x6362;G&#xFF0C; &#x81EA;&#x52A8;&#x5728;E&#x548C;F&#x4E2D;&#x5207;&#x6362;%&#xFF0C;&#x663E;&#x793A;&#x767E;&#x5206;&#x6BD4;&#xFF08;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x5C0F;&#x6570;&#x70B9;&#x540E;6&#x4F4D;&#xFF09; fill &#x3010;&#x53EF;&#x9009;&#x3011;&#x7A7A;&#x767D;&#x5904;&#x586B;&#x5145;&#x7684;&#x5B57;&#x7B26; align &#x3010;&#x53EF;&#x9009;&#x3011;&#x5BF9;&#x9F50;&#x65B9;&#x5F0F;&#xFF08;&#x9700;&#x914D;&#x5408;width&#x4F7F;&#x7528;&#xFF09; &lt;&#xFF0C;&#x5185;&#x5BB9;&#x5DE6;&#x5BF9;&#x9F50; &#xFF0C;&#x5185;&#x5BB9;&#x53F3;&#x5BF9;&#x9F50;(&#x9ED8;&#x8BA4;)&#xFF1D;&#xFF0C;&#x5185;&#x5BB9;&#x53F3;&#x5BF9;&#x9F50;&#xFF0C;&#x5C06;&#x7B26;&#x53F7;&#x653E;&#x7F6E;&#x5728;&#x586B;&#x5145;&#x5B57;&#x7B26;&#x7684;&#x5DE6;&#x4FA7;&#xFF0C;&#x4E14;&#x53EA;&#x5BF9;&#x6570;&#x5B57;&#x7C7B;&#x578B;&#x6709;&#x6548;&#x3002; &#x5373;&#x4F7F;&#xFF1A;&#x7B26;&#x53F7;+&#x586B;&#x5145;&#x7269;+&#x6570;&#x5B57;^&#xFF0C;&#x5185;&#x5BB9;&#x5C45;&#x4E2D;width &#x3010;&#x53EF;&#x9009;&#x3011;&#x683C;&#x5F0F;&#x5316;&#x4F4D;&#x6240;&#x5360;&#x5BBD;&#x5EA6; &#x590D;&#x5236;&#x4EE3;&#x7801;s1 =&#x2019;&#x2014;{:^20s}&#x2014;-&#x2018;.format(&#x2018;welcome&#x2019;)print(s1)s2 =&#x2019;&#x2014;{:&gt;20s}&#x2014;-&#x2018;.format(&#x2018;welcome&#x2019;)print(s2)s3 =&#x2019;&#x2014;{:*&lt;20s}&#x2014;-&#x2018;.format(&#x2018;welcome&#x2019;)print(s3)&#x590D;&#x5236;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; &#x2014;**welcome*&#x2014;-&#x2014;*welcome&#x2014;-&#x2014;welcome*&#x2014;- &#x3010;&#x53EF;&#x9009;&#x3011;&#x5BF9;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x3001;&#x516B;&#x8FDB;&#x5236;&#x3001;&#x5341;&#x516D;&#x8FDB;&#x5236;&#xFF0C;&#x5982;&#x679C;&#x52A0;&#x4E0A;#&#xFF0C;&#x4F1A;&#x663E;&#x793A; 0b/0o/0x&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x663E;&#x793A;b&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x6210;2&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;c&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x4E3A;&#x5176;&#x5BF9;&#x5E94;&#x7684;unicode&#x5B57;&#x7B26;d&#xFF0C;&#x5341;&#x8FDB;&#x5236;&#x6574;&#x6570;o&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x6210;8&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF1B;x&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x6210;16&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF08;&#x5C0F;&#x5199;x&#xFF09;X&#xFF0C;&#x5C06;10&#x8FDB;&#x5236;&#x6574;&#x6570;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x6210;16&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7136;&#x540E;&#x683C;&#x5F0F;&#x5316;&#xFF08;&#x5927;&#x5199;X&#xFF09;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x8868;&#x793A; &#x590D;&#x5236;&#x4EE3;&#x7801;a1 = &#x201C;numbers: {:b},{:o},{:d},{:x},{:X}, {:%},{:c}&#x201D;.format(15, 15, 15, 15, 15, 15.87623,65)a2 = &#x201C;numbers: {0:b},{0:o},{0:d},{0:x},{0:X}, {0:%},{1:c}&#x201D;.format(15,65)a3 = &#x201C;numbers: {num:b},{num:o},{num:d},{num:x},{num:X}, {num:%},{cc:c}&#x201D;.format(num=15,cc=65)print(a1)print(a2)print(a3)&#x590D;&#x5236;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; numbers: 1111,17,15,f,F, 1587.623000%,Anumbers: 1111,17,15,f,F, 1500.000000%,Anumbers: 1111,17,15,f,F, 1500.000000%,A &#xFF0C; &#x3010;&#x53EF;&#x9009;&#x3011;&#x4E3A;&#x6570;&#x5B57;&#x6DFB;&#x52A0;&#x5206;&#x9694;&#x7B26;&#xFF0C;&#x5982;&#xFF1A;1,000,000 .precision &#x3010;&#x53EF;&#x9009;&#x3011;&#x5C0F;&#x6570;&#x4F4D;&#x4FDD;&#x7559;&#x7CBE;&#x5EA6; n = &#x2018;&#x2014;{:,d}&#x2014;-&#x2018;.format(10000000)n1 = &#x2018;&#x2014;{:.2f}&#x2014;-&#x2018;.format(1.2345)print(n)print(n1)&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; &#x2014;10,000,000&#x2014;-&#x2014;1.23&#x2014;- format&#x5E38;&#x7528;&#x683C;&#x5F0F;&#x5316; &#x590D;&#x5236;&#x4EE3;&#x7801;tp1 = &#x201C;i am {}, age {}, {}&#x201D;.format(&#x201C;seven&#x201D;, 18, &#x2018;alex&#x2019;)tp2 = &#x201C;i am {}, age {}, {}&#x201D;.format([&#x201C;seven&#x201D;, 18, &#x2018;alex&#x2019;])tp3 = &#x201C;i am {0}, age {1}, really {0}&#x201D;.format(&#x201C;seven&#x201D;, 18)tp4 = &#x201C;i am {0}, age {1}, really {0}&#x201D;.format([&#x201C;seven&#x201D;, 18])tp5 = &#x201C;i am {name}, age {age}, really {name}&#x201D;.format(name=&#x201D;seven&#x201D;, age=18)tp6 = &#x201C;i am {name}, age {age}, really {name}&#x201D;.format({&#x201C;name&#x201D;: &#x201C;seven&#x201D;, &#x201C;age&#x201D;: 18})tp7 = &#x201C;i am {0[0]}, age {0[1]}, really {0[2]}&#x201D;.format([1, 2, 3], [11, 22, 33])tp8 = &#x201C;i am {:s}, age {:d}, money {:f}&#x201D;.format(&#x201C;seven&#x201D;, 18, 88888.1)tp9 = &#x201C;i am {:s}, age {:d}&#x201D;.format(*[&#x201C;seven&#x201D;, 18])tp10 = &#x201C;i am {name:s}, age {age:d}&#x201D;.format(name=&#x201D;seven&#x201D;, age=18)tp11 = &#x201C;i am {name:s}, age {age:d}&#x201D;.format({&#x201C;name&#x201D;: &#x201C;seven&#x201D;, &#x201C;age&#x201D;: 18})print(tp1)print(tp2)print(tp3)print(tp4)print(tp5)print(tp6)print(tp7)print(tp8)print(tp9)print(tp10)print(tp11)&#x590D;&#x5236;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A; &#x590D;&#x5236;&#x4EE3;&#x7801;i am seven, age 18, alexi am seven, age 18, alexi am seven, age 18, really seveni am seven, age 18, really seveni am seven, age 18, really seveni am seven, age 18, really seveni am 1, age 2, really 3i am seven, age 18, money 88888.100000i am seven, age 18i am seven, age 18i am seven, age 18&#x590D;&#x5236;&#x4EE3;&#x7801;]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[supervisor安装配置以及使用说明]]></title>
    <url>%2F2017%2F04%2F20%2Fsupervisor%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x4EC0;&#x4E48;&#x662F;supervisor ? supervisor&#x662F;&#x7528;python&#x5199;&#x7684;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x7528;&#x6765;&#x542F;&#x52A8;&#xFF0C;&#x91CD;&#x542F;&#xFF0C;&#x5173;&#x95ED;&#x8FDB;&#x7A0B;&#x3002; supervisor&#x7B80;&#x5355;&#x8BF4;&#x660E;&#x7B80;&#x5355;&#x4E3A;&#x5565;&#x7B80;&#x5355;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x54B1;&#x4EEC;&#x901A;&#x5E38;&#x7BA1;&#x7406;linux&#x8FDB;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x90FD;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x5B9E;&#x73B0;&#x8FDB;&#x7A0B;start/stop/restart/reload&#x529F;&#x80FD;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x7136;&#x540E;&#x4E22;&#x5230;/etc/init.d/&#x4E0B;&#x9762;&#x3002;&#x8FD9;&#x4E48;&#x505A;&#x6709;&#x5F88;&#x591A;&#x4E0D;&#x597D;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x7B2C;&#x4E00;&#x6211;&#x4EEC;&#x8981;&#x7F16;&#x5199;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x8FD9;&#x5C31;&#x5F88;&#x8017;&#x65F6;&#x8017;&#x529B;&#x4E86;&#x3002;&#x7B2C;&#x4E8C;&#xFF0C;&#x5F53;&#x8FD9;&#x4E2A;&#x8FDB;&#x7A0B;&#x6302;&#x6389;&#x7684;&#x65F6;&#x5019;&#xFF0C;linux&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x91CD;&#x542F;&#x5B83;&#x7684;&#xFF0C;&#x60F3;&#x8981;&#x81EA;&#x52A8;&#x91CD;&#x542F;&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x8981;&#x81EA;&#x5DF1;&#x5199;&#x4E00;&#x4E2A;&#x76D1;&#x63A7;&#x91CD;&#x542F;&#x811A;&#x672C;&#x3002;&#x800C;&#xFF0C;supervisor&#x5219;&#x53EF;&#x4EE5;&#x5B8C;&#x7F8E;&#x7684;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x3002;&#x597D;&#xFF0C;&#x600E;&#x4E48;&#x89E3;&#x51B3;&#x7684;&#x5462;&#xFF0C;&#x5176;&#x5B9E;supervisor&#x7BA1;&#x7406;&#x8FDB;&#x7A0B;&#xFF0C;&#x5C31;&#x662F;&#x901A;&#x8FC7;fork/exec&#x7684;&#x65B9;&#x5F0F;&#x628A;&#x8FD9;&#x4E9B;&#x88AB;&#x7BA1;&#x7406;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5F53;&#x4F5C;supervisor&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x6765;&#x542F;&#x52A8;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x5728;supervisor&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x628A;&#x8981;&#x7BA1;&#x7406;&#x7684;&#x8FDB;&#x7A0B;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x5199;&#x8FDB;&#x53BB;&#x5C31;OK&#x4E86;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x7701;&#x4E0B;&#x4E86;&#x6211;&#x4EEC;&#x5982;&#x540C;linux&#x7BA1;&#x7406;&#x8FDB;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x81EA;&#x5DF1;&#x5199;&#x63A7;&#x5236;&#x811A;&#x672C;&#x7684;&#x9EBB;&#x70E6;&#x4E86;&#x3002;&#x7B2C;&#x4E8C;&#xFF0C;&#x88AB;&#x7BA1;&#x7406;&#x8FDB;&#x7A0B;&#x4F5C;&#x4E3A;supervisor&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x6302;&#x6389;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x51C6;&#x786E;&#x83B7;&#x53D6;&#x5B50;&#x8FDB;&#x7A0B;&#x6302;&#x6389;&#x7684;&#x4FE1;&#x606F;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x7136;&#x4E5F;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x6302;&#x6389;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x91CD;&#x542F;&#x4E86;&#xFF0C;&#x5F53;&#x7136;&#x91CD;&#x542F;&#x8FD8;&#x662F;&#x4E0D;&#x91CD;&#x542F;&#xFF0C;&#x4E5F;&#x8981;&#x770B;&#x4F60;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x6709;&#x6728;&#x6709;&#x8BBE;&#x7F6E;autostart=true&#x4E86;&#xFF0C;&#x8FD9;&#x662F;&#x540E;&#x8BDD;&#x3002; &#x7CBE;&#x786E;&#x4E3A;&#x5565;&#x8BF4;&#x7CBE;&#x786E;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;linux&#x5BF9;&#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#x7684;&#x53CD;&#x9988;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x4E0D;&#x592A;&#x51C6;&#x786E;&#x3002;&#x4E3A;&#x5565;&#x4E0D;&#x51C6;&#x786E;&#xFF1F;&#x8FD9;&#x4E2A;&#x697C;&#x4E3B;&#x4E5F;&#x4E0D;&#x77E5;&#x9053;&#x554A;&#xFF0C;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x662F;&#x8FD9;&#x4E48;&#x8BF4;&#x7684;&#xFF0C;&#x77E5;&#x9053;&#x7684;&#x544A;&#x8BC9;&#x697C;&#x4E3B;&#x4E00;&#x4E0B;&#x5427;&#xFF0C;&#x611F;&#x6FC0;&#x4E0D;&#x5C3D;&#x3002;&#x800C;supervisor&#x76D1;&#x63A7;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#x65E0;&#x7591;&#x662F;&#x51C6;&#x786E;&#x7684;&#x3002; &#x8FDB;&#x7A0B;&#x7EC4;supervisor&#x53EF;&#x4EE5;&#x5BF9;&#x8FDB;&#x7A0B;&#x7EC4;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x54B1;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x9700;&#x8981;&#x7BA1;&#x7406;&#x7684;&#x8FDB;&#x7A0B;&#x5199;&#x5230;&#x4E00;&#x4E2A;&#x7EC4;&#x91CC;&#x9762;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x628A;&#x8FD9;&#x4E2A;&#x7EC4;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x5982;&#x542F;&#x52A8;&#xFF0C;&#x505C;&#x6B62;&#xFF0C;&#x91CD;&#x542F;&#x7B49;&#x7B49;&#x64CD;&#x4F5C;&#x3002;&#x800C;linux&#x7CFB;&#x7EDF;&#x5219;&#x662F;&#x6CA1;&#x6709;&#x8FD9;&#x79CD;&#x529F;&#x80FD;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x505C;&#x6B62;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x53EA;&#x80FD;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x53BB;&#x505C;&#x6B62;&#xFF0C;&#x8981;&#x4E48;&#x5C31;&#x81EA;&#x5DF1;&#x5199;&#x4E2A;&#x811A;&#x672C;&#x53BB;&#x6279;&#x91CF;&#x505C;&#x6B62;&#x3002; &#x96C6;&#x4E2D;&#x5F0F;&#x7BA1;&#x7406;supervisor&#x7BA1;&#x7406;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FDB;&#x7A0B;&#x7EC4;&#x4FE1;&#x606F;&#xFF0C;&#x5168;&#x90E8;&#x90FD;&#x5199;&#x5728;&#x4E00;&#x4E2A;ini&#x683C;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#x91CC;&#x5C31;OK&#x4E86;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x6211;&#x4EEC;&#x7BA1;&#x7406;supervisor&#x7684;&#x65F6;&#x5019;&#x7684;&#x53EF;&#x4EE5;&#x5728;&#x672C;&#x5730;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8FDC;&#x7A0B;&#x7BA1;&#x7406;&#xFF0C;&#x800C;&#x4E14;supervisor&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;web&#x754C;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;web&#x754C;&#x9762;&#x4E0A;&#x76D1;&#x63A7;&#xFF0C;&#x7BA1;&#x7406;&#x8FDB;&#x7A0B;&#x3002; &#x5F53;&#x7136;&#x4E86;&#xFF0C;&#x672C;&#x5730;&#xFF0C;&#x8FDC;&#x7A0B;&#x548C;web&#x7BA1;&#x7406;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x8C03;&#x7528;supervisor&#x7684;xml_rpc&#x63A5;&#x53E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E5F;&#x662F;&#x540E;&#x8BDD;&#x3002; &#x6709;&#x6548;&#x6027;&#x5F53;supervisor&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x6302;&#x6389;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F1A;&#x76F4;&#x63A5;&#x7ED9;supervisor&#x53D1;&#x4FE1;&#x53F7;&#x3002;&#x800C;&#x5176;&#x4ED6;&#x7684;&#x4E00;&#x4E9B;&#x7C7B;&#x4F3C;supervisor&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5219;&#x662F;&#x901A;&#x8FC7;&#x8FDB;&#x7A0B;&#x7684;pid&#x6587;&#x4EF6;&#xFF0C;&#x6765;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x7684;&#xFF0C;&#x7136;&#x540E;&#x5B9A;&#x671F;&#x8F6E;&#x8BE2;&#x6765;&#x91CD;&#x542F;&#x5931;&#x8D25;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x663E;&#x7136;supervisor&#x66F4;&#x52A0;&#x9AD8;&#x6548;&#x3002;&#x3002;&#x3002;&#x81F3;&#x4E8E;&#x662F;&#x54EA;&#x4E9B;&#x7C7B;&#x4F3C;supervisor&#x5DE5;&#x5177;&#xFF0C;&#x8FD9;&#x4E2A;&#x697C;&#x4E3B;&#x5C31;&#x4E0D;&#x592A;&#x6E05;&#x695A;&#x4E86;&#xFF0C;&#x697C;&#x4E3B;&#x8FD8;&#x542C;&#x8BF4;&#x8FC7;god,director&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x7528;&#x8FC7;&#x3002;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x73A9;&#x73A9; &#x53EF;&#x6269;&#x5C55;&#x6027;supervisor&#x662F;&#x4E2A;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#xFF0C;&#x725B;&#x903C;&#x70B9;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x53BB;&#x6539;&#x8F6F;&#x4EF6;&#x3002;&#x4E0D;&#x8FC7;&#x54B1;&#x4EEC;&#x5927;&#x591A;&#x6570;&#x4EBA;&#x8FD8;&#x662F;&#x8001;&#x8001;&#x5B9E;&#x5B9E;&#x7814;&#x7A76;supervisot&#x63D0;&#x4F9B;&#x7684;&#x63A5;&#x53E3;&#x5427;&#xFF0C;supervisor&#x4E3B;&#x8981;&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x4E2A;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x529F;&#x80FD;&#x3002;&#x4E00;&#x4E2A;&#x662F;event&#x673A;&#x5236;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x697C;&#x4E3B;&#x8FD9;&#x4E24;&#x5929;&#x5E72;&#x7684;&#x6D3B;&#x8981;&#x7528;&#x5230;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x518D;&#x4E00;&#x4E2A;&#x662F;xml_rpc,supervisor&#x7684;web&#x7BA1;&#x7406;&#x7AEF;&#x548C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x8981;&#x7528;&#x5230;&#x5B83;&#x4E86;&#x3002; &#x6743;&#x9650;linux&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x76D1;&#x542C;&#x5728;1024&#x7AEF;&#x53E3;&#x4E4B;&#x4E0B;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x6237;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x662F;&#x4E0D;&#x80FD;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#x7684;&#x3002;&#x60F3;&#x8981;&#x63A7;&#x5236;&#x7684;&#x8BDD;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x6709;root&#x6743;&#x9650;&#x3002;&#x800C;supervisor&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;supervisord&#x6216;&#x8005;&#x6BCF;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x975E;root&#x7684;user&#xFF0C;&#x8FD9;&#x4E2A;user&#x5C31;&#x53EF;&#x4EE5;&#x7BA1;&#x7406;&#x5B83;&#x5BF9;&#x5E94;&#x7684;&#x8FDB;&#x7A0B;&#x4E86;&#x3002; &#x7EC4;&#x4EF6;&#x6784;&#x6210;supervisordsupervisord&#x662F;supervisor&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x7A0B;&#x5E8F;&#x3002; &#x5E72;&#x7684;&#x6D3B;&#xFF1A;&#x542F;&#x52A8;supervisor&#x7A0B;&#x5E8F;&#x81EA;&#x8EAB;&#xFF0C;&#x542F;&#x52A8;supervisor&#x7BA1;&#x7406;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x54CD;&#x5E94;&#x6765;&#x81EA;clients&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x91CD;&#x542F;&#x95EA;&#x9000;&#x6216;&#x5F02;&#x5E38;&#x9000;&#x51FA;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x628A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;stderr&#x6216;stdout&#x8BB0;&#x5F55;&#x5230;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x751F;&#x6210;&#x548C;&#x5904;&#x7406;Event supervisorctl&#x8FD9;&#x4E1C;&#x897F;&#x8FD8;&#x662F;&#x6709;&#x70B9;&#x7528;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x8BF4;supervisord&#x662F;supervisor&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x7A0B;&#x5E8F;&#xFF0C;&#x90A3;&#x4E48;supervisorctl&#x5C31;&#x662F;client&#x7AEF;&#x7A0B;&#x5E8F;&#x4E86;&#x3002;supervisorctl&#x6709;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;shell&#x7684;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x5B83;&#x6765;&#x67E5;&#x770B;&#x5B50;&#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#xFF0C;&#x542F;&#x52A8;/&#x505C;&#x6B62;/&#x91CD;&#x542F;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x83B7;&#x53D6;running&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5217;&#x8868;&#x7B49;&#x7B49;&#x3002;&#x3002;&#x3002;&#x6700;&#x725B;&#x903C;&#x7684;&#x4E00;&#x70B9;&#x662F;&#xFF0C;supervisorctl&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x8FDE;&#x63A5;&#x5230;&#x672C;&#x673A;&#x4E0A;&#x7684;supervisord&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x8FDE;&#x63A5;&#x5230;&#x8FDC;&#x7A0B;&#x7684;supervisord&#xFF0C;&#x5F53;&#x7136;&#x5728;&#x672C;&#x673A;&#x4E0A;&#x9762;&#x662F;&#x901A;&#x8FC7;UNIX socket&#x8FDE;&#x63A5;&#x7684;&#xFF0C;&#x8FDC;&#x7A0B;&#x662F;&#x901A;&#x8FC7;TCP socket&#x8FDE;&#x63A5;&#x7684;&#x3002;supervisorctl&#x548C;supervisord&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x662F;&#x901A;&#x8FC7;xml_rpc&#x5B8C;&#x6210;&#x7684;&#x3002; &#x76F8;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x5728;[supervisorctl]&#x5757;&#x91CC;&#x9762; Web ServerWeb Server&#x4E3B;&#x8981;&#x53EF;&#x4EE5;&#x5728;&#x754C;&#x9762;&#x4E0A;&#x7BA1;&#x7406;&#x8FDB;&#x7A0B;&#xFF0C;Web Server&#x5176;&#x5B9E;&#x662F;&#x901A;&#x8FC7;XML_RPC&#x6765;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x5411;supervisor&#x8BF7;&#x6C42;&#x6570;&#x636E;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x63A7;&#x5236;supervisor&#x53CA;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;&#x914D;&#x7F6E;&#x5728;[inet_http_server]&#x5757;&#x91CC;&#x9762; XML_RPC&#x63A5;&#x53E3;&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x4E0A;&#x9762;&#x7684;supervisorctl&#x548C;Web Server&#x5C31;&#x662F;&#x5B83;&#x5F04;&#x7684; supervisor&#x7684;&#x5B89;&#x88C5;1pip install supervisor &#x751F;&#x6210;&#x914D;&#x7F6E;&#x6587;&#x4EF6;echo_supervisord_conf &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x751F;&#x6210;&#x9ED8;&#x8BA4;&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 12mkdir /etc/supervisor/conf.d/echo_supervisord_conf &gt; /etc/supervisor/supervisord.conf &#x521B;&#x5EFA;&#x542F;&#x52A8;&#x6587;&#x4EF6;init12curl http://c.isme.pub/2017/04/20/supervisor/supervisord.init -o /etc/init.d/supervisordchmod +x /etc/init.d/supervisord systemd&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3; &#x53BB;&#x6389;&#x4E86;&#x90E8;&#x5206;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x5185;&#x5BB9; socket&#x76D1;&#x542C;1234567891011121314151617[unix_http_server]# UNIX socket&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;supervisorctl&#x7528;XML_RPC&#x548C;supervisord&#x901A;&#x4FE1;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x5B83;&#x8FDB;&#x884C;&#x7684;&#x3002;# &#x4E0D;&#x8BBE;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;none&#x3002;&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;supervisorctl&#x4E5F;&#x5C31;&#x4E0D;&#x80FD;&#x7528;&#x4E86;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;file=/tmp/supervisor.sock ; (the path to the socket file)# &#x4E0A;&#x9762;socket &#x6587;&#x4EF6;&#x7684; mode&#xFF0C;&#x9ED8;&#x8BA4;&#x662F; 0700# &#x4E0D;&#x8BBE;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0700&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;chmod=0700 ; socket file mode (default 0700)# &#x4FEE;&#x6539;&#x4E0A;&#x9762;&#x7684;socket&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x7EC4;&#x4E3A;user:group# &#x4E0D;&#x8BBE;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x542F;&#x52A8;supervisord&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x53CA;&#x5C5E;&#x7EC4;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;chown=nobody:nogroup ; socket file uid:gid owner# &#x4F7F;&#x7528;supervisorctl&#x8FDE;&#x63A5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BA4;&#x8BC1;&#x7684;&#x7528;&#x6237;# &#x4E0D;&#x8BBE;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x7528;&#x6237;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;username=user ; (default is no username (open server))&#x548C;&#x4E0A;&#x9762;&#x7684;&#x7528;&#x6237;&#x540D;&#x5BF9;&#x5E94;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x660E;&#x7801;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;SHA&#x52A0;&#x5BC6;# &#x5982;&#xFF1A;{SHA}82ab876d1387bfafe46cc1c8a2ef074eae50cb1d# &#x9ED8;&#x8BA4;&#x4E0D;&#x8BBE;&#x7F6E;&#x3002;&#x3002;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;password=123 ; (default is no password (open server)) tcp&#x76D1;&#x542C;123456789# &#x4FA6;&#x542C;&#x5728;TCP&#x4E0A;&#x7684;socket&#xFF0C;WebServer&#x548C;&#x8FDC;&#x7A0B;&#x7684;supervisorctl&#x90FD;&#x8981;&#x7528;&#x5230;&#x4ED6;# &#x4E0D;&#x8BBE;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x4E0D;&#x5F00;&#x542F;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;[inet_http_server] ; inet (TCP) server disabled by default# &#x76D1;&#x542C;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;&#xFF0C;&#x4FA6;&#x542C;&#x6240;&#x6709;IP&#x7528;:9001&#x6216;*:9001&#x3002;&#x5982;&#x679C;&#x5F00;&#x653E;&#x5230;&#x516C;&#x7F51;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x5B89;&#x5168;&#x6027;# &#x53EA;&#x8981;&#x4E0A;&#x9762;&#x7684;[inet_http_server]&#x5F00;&#x542F;&#x4E86;&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x5B83;;port=127.0.0.1:9001 ; (ip_address:port specifier, *:port for all iface)# &#x540C;&#x4E0A;;username=user ; (default is no username (open server));password=123 ; (default is no password (open server)) &#x670D;&#x52A1;&#x7AEF;&#x914D;&#x7F6E;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667# &#x5B9A;&#x4E49;supervisord&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x7A0B;&#x7684;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#x7684;# &#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#xFF0C;&#x4E0D;&#x8BBE;&#x7F6E;&#xFF0C;supervisor&#x5C31;&#x4E0D;&#x80FD;&#x5DE5;&#x4F5C;&#x4E86;[supervisord]# supervisord &#x4E3B;&#x8FDB;&#x7A0B;&#x7684;&#x65E5;&#x5FD7;&#x8DEF;&#x5F84;# &#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;$CWD/supervisord.log&#xFF0C;$CWD&#x662F;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x3002;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;logfile=/tmp/supervisord.log ; (main log file;default $CWD/supervisord.log)# &#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x8D85;&#x51FA;&#x4F1A; rotate&#xFF0C;&#x9ED8;&#x8BA4; 50MB# &#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;0&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;50M&#xFF0C;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x3002;logfile_maxbytes=50MB ; (max main logfile bytes b4 rotation;default 50MB)# &#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4FDD;&#x7559;&#x7684;&#x6570;&#x91CF;&#xFF0C;supervisor&#x5728;&#x542F;&#x52A8;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;10&#x4E2A;buckup&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x4E8E;logrotate# &#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;0&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x91CF;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4E3A;10&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;logfile_backups=10 ; (num of main logfile rotation backups;default 10)# &#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#xFF0C;&#x9ED8;&#x8BA4; info&#xFF0C;&#x5176;&#x5B83;: critical,error,warn,info,debug,trace,orblather&#x7B49;loglevel=info ; (log level;default info; others: debug,warn,trace)# supervisord&#x7684;pid&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x3002;# &#x9ED8;&#x8BA4;&#x4E3A;$CWD/supervisord.pid&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;pidfile=/tmp/supervisord.pid ; (supervisord pidfile;default supervisord.pid)# &#x662F;&#x5426;&#x5728;&#x524D;&#x53F0;&#x542F;&#x52A8;&#xFF0C;&#x5982;&#x679C;&#x662F;true&#xFF0C;supervisord&#x8FDB;&#x7A0B;&#x5C06;&#x5728;&#x524D;&#x53F0;&#x8FD0;&#x884C;# &#x9ED8;&#x8BA4;&#x4E3A;false&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x540E;&#x53F0;&#x4EE5;daemon&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;nodaemon=false ; (start in foreground if true;default false)# &#x53EF;&#x4EE5;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x6700;&#x5C0F;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4; 1024&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;# &#x8FD9;&#x4E2A;&#x662F;&#x6700;&#x5C11;&#x7CFB;&#x7EDF;&#x7A7A;&#x95F2;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x4F4E;&#x4E8E;&#x8FD9;&#x4E2A;&#x503C;supervisor&#x5C06;&#x4E0D;&#x4F1A;&#x542F;&#x52A8;&#x3002;# &#x7CFB;&#x7EDF;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5728;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;cat/proc/sys/fs/file-maxminfds=1024 ; (min. avail startup file descriptors;default 1024)# &#x6700;&#x5C0F;&#x53EF;&#x7528;&#x7684;&#x8FDB;&#x7A0B;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x4F4E;&#x4E8E;&#x8FD9;&#x4E2A;&#x503C;supervisor&#x4E5F;&#x5C06;&#x4E0D;&#x4F1A;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x3002;# ulimit -u&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;linux&#x4E0B;&#x9762;&#x7528;&#x6237;&#x7684;&#x6700;&#x5927;&#x8FDB;&#x7A0B;&#x6570;# &#x9ED8;&#x8BA4;&#x4E3A;200&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;minprocs=200 ; (min. avail process descriptors;default 200)# &#x8FDB;&#x7A0B;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7684;&#x63A9;&#x7801;# &#x9ED8;&#x8BA4;&#x4E3A;022&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x9879;;umask=022 ; (process file creation umask;default 022)# &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x975E;root&#x7528;&#x6237;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x4EE5;root&#x7528;&#x6237;&#x542F;&#x52A8;supervisord&#x4E4B;&#x540E;&#x3002;# &#x6211;&#x8FD9;&#x91CC;&#x9762;&#x8BBE;&#x7F6E;&#x7684;&#x8FD9;&#x4E2A;&#x7528;&#x6237;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;supervisord&#x8FDB;&#x884C;&#x7BA1;&#x7406;# &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x662F;&#x4E0D;&#x8BBE;&#x7F6E;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x9879;;user=chrism ; (default is current user, required if root)# &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x662F;supervisord&#x7684;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x7ED9;XML_RPC&#x7528;&#x7684;&#x3002;&#x5F53;&#x4F60;&#x6709;&#x591A;&#x4E2A;# supervisor&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x800C;&#x4E14;&#x60F3;&#x8C03;&#x7528;XML_RPC&#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4E3A;&#x6BCF;&#x4E2A;supervisor&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x4E86;# &#x9ED8;&#x8BA4;&#x662F;supervisord&#x3002;&#x975E;&#x5FC5;&#x9700;&#x8BBE;&#x7F6E;;identifier=supervisor ; (supervisord identifier, default is &apos;supervisor&apos;)# &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x5F53;supervisord&#x4F5C;&#x4E3A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x8BDD;# &#x542F;&#x52A8;supervisord&#x8FDB;&#x7A0B;&#x4E4B;&#x524D;&#xFF0C;&#x4F1A;&#x5148;&#x5207;&#x6362;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;# &#x9ED8;&#x8BA4;&#x4E0D;&#x8BBE;&#x7F6E;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;directory=/tmp ; (default is not to cd during start)# &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5F53;&#x4E3A;false&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5728;supervisord&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x628A;&#x4EE5;&#x524D;&#x5B50;&#x8FDB;&#x7A0B;# &#x4EA7;&#x751F;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;(&#x8DEF;&#x5F84;&#x4E3A;AUTO&#x7684;&#x60C5;&#x51B5;&#x4E0B;)&#x6E05;&#x9664;&#x6389;&#x3002;&#x6709;&#x65F6;&#x5019;&#x54B1;&#x4EEC;&#x60F3;&#x8981;&#x770B;&#x5386;&#x53F2;&#x65E5;&#x5FD7;&#xFF0C;&#x5F53;# &#x7136;&#x4E0D;&#x60F3;&#x65E5;&#x5FD7;&#x88AB;&#x6E05;&#x9664;&#x4E86;&#x3002;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;true# &#x9ED8;&#x8BA4;&#x662F;false&#xFF0C;&#x6709;&#x8C03;&#x8BD5;&#x9700;&#x6C42;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;true&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;nocleanup=true ; (don&apos;t clean up tempfiles at start;default false)# &#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x65E5;&#x5FD7;&#x8DEF;&#x5F84;&#x4E3A;AUTO&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x8DEF;&#x5F84;&#x3002;# &#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;&#x662F;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#xFF0C;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x7684;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x770B;&#x770B;&#x5C31;OK&#x4E86;&#xFF0C;&#x5904;&#x7406;&#x7684;&#x4E1C;&#x897F;&#x5C31;&#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;# python -c &quot;import tempfile;print tempfile.gettempdir()&quot;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;childlogdir=/tmp ; (&apos;AUTO&apos; child log dir, default $TEMP)# &#x8FD9;&#x4E2A;&#x662F;&#x7528;&#x6765;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#xFF0C;supervisord&#x5728;linux&#x4E2D;&#x542F;&#x52A8;&#x9ED8;&#x8BA4;&#x7EE7;&#x627F;&#x4E86;linux&#x7684;# &#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;supervisord&#x8FDB;&#x7A0B;&#x7279;&#x6709;&#x7684;&#x5176;&#x4ED6;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;# supervisord&#x542F;&#x52A8;&#x5B50;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x62F7;&#x8D1D;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x5185;&#x5BB9;&#x3002;&#x6240;&#x4EE5;&#x8BBE;&#x7F6E;&#x7684;# &#x8FD9;&#x4E9B;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E5F;&#x4F1A;&#x88AB;&#x5B50;&#x8FDB;&#x7A0B;&#x7EE7;&#x627F;&#x3002;# &#x5C0F;&#x4F8B;&#x5B50;&#xFF1A;environment=name=&quot;haha&quot;,age=&quot;hehe&quot;# &#x9ED8;&#x8BA4;&#x4E3A;&#x4E0D;&#x8BBE;&#x7F6E;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;environment=KEY=&quot;value&quot; ; (key value pairs to add to environment)# &#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;true&#xFF0C;&#x4F1A;&#x6E05;&#x9664;&#x5B50;&#x8FDB;&#x7A0B;&#x65E5;&#x5FD7;&#x4E2D;&#x7684;&#x6240;&#x6709;ANSI&#x5E8F;&#x5217;&#x3002;# &#x4EC0;&#x4E48;&#x662F;ANSI&#x5E8F;&#x5217;&#x5462;&#xFF1F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7684;\n,\t&#x8FD9;&#x4E9B;&#x4E1C;&#x897F;&#x3002;# &#x9ED8;&#x8BA4;&#x4E3A;false&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;strip_ansi=false ; (strip ansi escape codes in logs; def. false)[rpcinterface:supervisor]# &#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x662F;&#x7ED9;XML_RPC&#x7528;&#x7684;&#xFF0C;&#x5F53;&#x7136;&#x4F60;&#x5982;&#x679C;&#x60F3;&#x4F7F;&#x7528;supervisord&#x6216;&#x8005;webserver&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5FC5;&#x987B;&#x8981;&#x5F00;&#x542F;&#x7684;supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface &#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;123456789101112131415161718# &#x4E3B;&#x8981;&#x662F;&#x9488;&#x5BF9;supervisorctl&#x7684;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;[supervisorctl]# supervisorctl&#x672C;&#x5730;&#x8FDE;&#x63A5;supervisord&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x672C;&#x5730;UNIXsocket&#x8DEF;&#x5F84;# &#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x662F;&#x548C;&#x524D;&#x9762;&#x7684;[unix_http_server]&#x5BF9;&#x5E94;&#x7684;# &#x9ED8;&#x8BA4;&#x503C;&#x5C31;&#x662F;unix:///tmp/supervisor.sock&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;serverurl=unix:///tmp/supervisor.sock ; use a unix:// URL for a unix socket# supervisorctl&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;supervisord&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7528;&#x5230;&#x7684;TCPsocket&#x8DEF;&#x5F84;# &#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x548C;&#x524D;&#x9762;&#x7684;[inet_http_server]&#x5BF9;&#x5E94;# &#x9ED8;&#x8BA4;&#x5C31;&#x662F;http://127.0.0.1:9001&#x3002;&#x975E;&#x5FC5;&#x987B;&#x9879;;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket# &#x540C;&#x4E0A;;username=chris ; should be same as http_username if set;password=123 ; should be same as http_password if set# &#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x5BC6;&#x7801;&#x65F6;&#x5019;&#x7684;&#x63D0;&#x793A;&#x7B26;&#xFF0C;&#x9ED8;&#x8BA4;supervisor&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;prompt=mysupervisor ; cmd line prompt (default &quot;supervisor&quot;)# &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x548C;shell&#x4E2D;&#x7684;history&#x7C7B;&#x4F3C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x4E0A;&#x4E0B;&#x952E;&#x6765;&#x67E5;&#x627E;&#x524D;&#x9762;&#x6267;&#x884C;&#x8FC7;&#x7684;&#x547D;&#x4EE4;# &#x9ED8;&#x8BA4;&#x662F;nofile&#x7684;&#x3002;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x6709;&#x8FD9;&#x79CD;&#x529F;&#x80FD;&#xFF0C;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;history_file=~/.sc_history ; use readline history if available &#x52A0;&#x8F7D;&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;1234;[include]# &#x52A0;&#x8F7D;&#x5176;&#x4ED6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x662F; *.conf &#x6216; *.ini# &#x5F53;&#x6211;&#x4EEC;&#x8981;&#x7BA1;&#x7406;&#x7684;&#x8FDB;&#x7A0B;&#x5F88;&#x591A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x5199;&#x5230;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7136;&#x540E;include&#x8FDB;&#x6765;;files = relative/directory/*.ini &#x8FDB;&#x7A0B;Program&#x914D;&#x7F6E;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990# &#x8981;&#x7BA1;&#x7406;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x7A0B;&#x5E8F;&#x540D;&#xFF0C;&quot;:&quot;&#x540E;&#x9762;&#x7684;&#x662F;&#x540D;&#x5B57;&#xFF0C;&#x6700;&#x597D;&#x522B;&#x4E71;&#x5199;&#xFF0C;&#x548C;&#x5B9E;&#x9645;&#x8FDB;&#x7A0B;&#x6709;&#x70B9;&#x5173;&#x8054;&#x6700;&#x597D;&#x3002;# &#x8FD9;&#x6837;&#x7684;program&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#xFF0C;&#x4E00;&#x4E2A;program&#x5C31;&#x662F;&#x8981;&#x88AB;&#x7BA1;&#x7406;&#x7684;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;;[program:theprogramname]# &#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x524D;&#x53F0;&#x8FD0;&#x884C;&#xFF08;&#x975E;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF09;&#x53EF;&#x4EE5;&#x5E26;&#x53C2;&#x6570;&#x3002;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x7684;&#x9879;;command=/bin/cat ; the program (relative uses PATH, can take args)# &#x5B9A;&#x4E49;&#x8FDB;&#x7A0B;&#x540D;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4E0B;&#x9762;&#x7684;numprocs&#x53C2;&#x6570;&#x4E3A;1&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4E0D;&#x7528;&#x7BA1;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E86;# &#x9ED8;&#x8BA4;&#x503C;%(program_name)s&#x4E5F;&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x7684;&#x90A3;&#x4E2A;program&#x5192;&#x53F7;&#x540E;&#x9762;&#x7684;&#x540D;&#x5B57;&#xFF0C;# &#x5982;&#x679C;numprocs&#x4E3A;&#x591A;&#x4E2A;&#x7684;&#x7684;&#x65F6;&#x5019;&#x663E;&#x793A;&#x6BCF;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x4F8B;&#x5B50;&#xFF1A;%(program_name)s_%(process_num)02d;process_name=%(program_name)s ; process_name expr (default %(program_name)s)# &#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x4E2A;&#x6570;&#xFF0C;&#x5F53;&#x4E0D;&#x4E3A;1&#x65F6;&#xFF0C;&#x5C31;&#x662F;&#x8FDB;&#x7A0B;&#x6C60;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6CE8;&#x610F;process_name&#x7684;&#x8BBE;&#x7F6E;# &#x9ED8;&#x8BA4;&#x4E3A;1&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;numprocs=1 ; number of processes copies to start (def 1)# &#x7A0B;&#x5E8F;&#x7684;&#x542F;&#x52A8;&#x76EE;&#x5F55;&#xFF08;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF09;&#xFF0C;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x524D;&#xFF0C;&#x4F1A;&#x5148;&#x5207;&#x6362;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;# &#x6709;&#x65F6;&#x5019;&#x7A0B;&#x5E8F;&#x4F1A;&#x6839;&#x636E;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x9ED8;&#x8BA4;&#x4E0D;&#x8BBE;&#x7F6E;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;directory=/tmp ; directory to cwd to before exec (def no cwd)# &#x8FDB;&#x7A0B;&#x63A9;&#x7801;&#xFF0C;&#x9ED8;&#x8BA4;none&#xFF0C;&#x975E;&#x5FC5;&#x987B;;umask=022 ; umask for process (default None)# &#x5B50;&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x5173;&#x95ED;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x4F4E;&#x7684;&#xFF0C;&#x6700;&#x5148;&#x542F;&#x52A8;&#xFF0C;&#x5173;&#x95ED;&#x7684;&#x65F6;&#x5019;&#x6700;&#x540E;&#x5173;&#x95ED;# &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;999&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;priority=999 ; the relative start priority (default 999)# &#x5982;&#x679C;&#x662F;true&#x7684;&#x8BDD;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x5728;supervisord&#x542F;&#x52A8;&#x540E;&#x88AB;&#x81EA;&#x52A8;&#x542F;&#x52A8;# &#x9ED8;&#x8BA4;&#x5C31;&#x662F;true&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;autostart=true ; start at supervisord start (default: true)# &#x542F;&#x52A8; 1 &#x79D2;&#x540E;&#x6CA1;&#x6709;&#x5F02;&#x5E38;&#x9000;&#x51FA;&#xFF0C;&#x5C31;&#x5F53;&#x4F5C;&#x5DF2;&#x7ECF;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x4E86;# &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;1&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;startsecs=1 ; # of secs prog must stay up to be running (def. 1)# &#x542F;&#x52A8;&#x5931;&#x8D25;&#x81EA;&#x52A8;&#x91CD;&#x8BD5;&#x6B21;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F; 3&#xFF0C;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;# &#x5F53;&#x8D85;&#x8FC7;3&#x6B21;&#x540E;&#xFF0C;supervisor&#x5C06;&#x628A;&#x6B64;&#x8FDB;&#x7A0B;&#x7684;&#x72B6;&#x6001;&#x7F6E;&#x4E3A;FAIL;startretries=3 ; max # of serial start failures when starting (default 3)# &#x8FD9;&#x4E2A;&#x662F;&#x8BBE;&#x7F6E;&#x5B50;&#x8FDB;&#x7A0B;&#x6302;&#x6389;&#x540E;&#x81EA;&#x52A8;&#x91CD;&#x542F;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6709;&#x4E09;&#x4E2A;&#x9009;&#x9879;&#xFF0C;false,unexpected&#x548C;true&#x3002;# &#x5982;&#x679C;&#x4E3A;false&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x65E0;&#x8BBA;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x90FD;&#x4E0D;&#x4F1A;&#x88AB;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#xFF0C;# &#x5982;&#x679C;&#x4E3A;unexpected&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x8FDB;&#x7A0B;&#x7684;&#x9000;&#x51FA;&#x7801;&#x4E0D;&#x5728;&#x4E0B;&#x9762;&#x7684;exitcodes&#x91CC;&#x9762;&#x5B9A;&#x4E49;&#x7684;&#x9000;&#x51FA;&#x7801;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x624D;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x91CD;&#x542F;&#x3002;# &#x5F53;&#x4E3A;true&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EA;&#x8981;&#x5B50;&#x8FDB;&#x7A0B;&#x6302;&#x6389;&#xFF0C;&#x5C06;&#x4F1A;&#x88AB;&#x65E0;&#x6761;&#x4EF6;&#x7684;&#x91CD;&#x542F;;autorestart=unexpected ; when to restart if exited after running (def: unexpected)# &#x6CE8;&#x610F;&#x548C;&#x4E0A;&#x9762;&#x7684;&#x7684;autorestart=unexpected&#x5BF9;&#x5E94;&#x3002;exitcodes&#x91CC;&#x9762;&#x7684;&#x5B9A;&#x4E49;&#x7684;# &#x9000;&#x51FA;&#x7801;&#x662F;expected&#x7684;&#x3002;;exitcodes=0,2 ; &apos;expected&apos; exit codes used with autorestart (default 0,2)# &#x8FDB;&#x7A0B;&#x505C;&#x6B62;&#x4FE1;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;TERM,HUP,INT,QUIT,KILL,USR1,orUSR2&#x7B49;&#x4FE1;&#x53F7;# &#x9ED8;&#x8BA4;&#x4E3A;TERM&#x3002;&#x5F53;&#x7528;&#x8BBE;&#x5B9A;&#x7684;&#x4FE1;&#x53F7;&#x53BB;&#x5E72;&#x6389;&#x8FDB;&#x7A0B;&#xFF0C;&#x9000;&#x51FA;&#x7801;&#x4F1A;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;expected# &#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;stopsignal=QUIT ; signal used to kill process (default TERM)# &#x5F53;&#x6211;&#x4EEC;&#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;stopsignal&#x4FE1;&#x53F7;&#x540E;&#xFF0C;&#x5230;&#x7CFB;&#x7EDF;&#x8FD4;&#x56DE;&#x4FE1;&#x606F;# &#x7ED9;supervisord&#xFF0C;&#x6240;&#x7B49;&#x5F85;&#x7684;&#x6700;&#x5927;&#x65F6;&#x95F4;&#x3002;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#xFF0C;supervisord&#x4F1A;&#x5411;&#x8BE5;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x5F3A;&#x5236;kill&#x7684;&#x4FE1;&#x53F7;&#x3002;# &#x9ED8;&#x8BA4;&#x4E3A;10&#x79D2;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10)# &#x4E3B;&#x8981;&#x7528;&#x4E8E;&#xFF0C;supervisord&#x7BA1;&#x7406;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x672C;&#x8EAB;&#x8FD8;&#x6709;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;# &#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5982;&#x679C;&#x4EC5;&#x4EC5;&#x5E72;&#x6389;supervisord&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x8BDD;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x53D8;&#x6210;&#x5B64;&#x513F;&#x8FDB;&#x7A0B;&#x3002;# &#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x53EF;&#x4E2A;&#x9009;&#x9879;&#xFF0C;&#x628A;&#x6574;&#x4E2A;&#x8BE5;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x6574;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;&#x90FD;&#x5E72;&#x6389;&#x3002;# &#x8BBE;&#x7F6E;&#x4E3A;true&#x7684;&#x8BDD;&#xFF0C;&#x4E00;&#x822C;killasgroup&#x4E5F;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;true&#x3002;# &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x53D1;&#x9001;&#x7684;&#x662F;stop&#x4FE1;&#x53F7;# &#x9ED8;&#x8BA4;&#x4E3A;false&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x3002;&#x3002;;stopasgroup=false ; send stop signal to the UNIX process group (default false)# &#x548C;&#x4E0A;&#x9762;&#x7684;stopasgroup&#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x8FC7;&#x53D1;&#x9001;&#x7684;&#x662F;kill&#x4FE1;&#x53F7;;killasgroup=false ; SIGKILL the UNIX process group (def false)# &#x5982;&#x679C;supervisord&#x662F;root&#x542F;&#x52A8;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;&#x975E;root&#x7528;&#x6237;# &#x53EF;&#x4EE5;&#x7528;&#x6765;&#x7BA1;&#x7406;&#x8BE5;program# &#x9ED8;&#x8BA4;&#x4E0D;&#x8BBE;&#x7F6E;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x9879;;user=chrism ; setuid to this UNIX account to run the program# &#x5982;&#x679C;&#x4E3A;true&#xFF0C;&#x5219;stderr&#x7684;&#x65E5;&#x5FD7;&#x4F1A;&#x88AB;&#x5199;&#x5165;stdout&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;# &#x9ED8;&#x8BA4;&#x4E3A;false&#xFF0C;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;redirect_stderr=true ; redirect proc stderr to stdout (default false)# &#x5B50;&#x8FDB;&#x7A0B;&#x7684;stdout&#x7684;&#x65E5;&#x5FD7;&#x8DEF;&#x5F84;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#xFF0C;AUTO&#xFF0C;none&#x7B49;&#x4E09;&#x4E2A;&#x9009;&#x9879;&#x3002;# &#x8BBE;&#x7F6E;&#x4E3A;none&#x7684;&#x8BDD;&#xFF0C;&#x5C06;&#x6CA1;&#x6709;&#x65E5;&#x5FD7;&#x4EA7;&#x751F;&#x3002;&#x8BBE;&#x7F6E;&#x4E3A;AUTO&#x7684;&#x8BDD;&#xFF0C;&#x5C06;&#x968F;&#x673A;&#x627E;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x751F;&#x6210;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;# &#x800C;&#x4E14;&#x5F53;supervisord&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4EE5;&#x524D;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x6E05;&#x7A7A;&#x3002;# &#x5F53;redirect_stderr=true&#x7684;&#x65F6;&#x5019;&#xFF0C;sterr&#x4E5F;&#x4F1A;&#x5199;&#x8FDB;&#x8FD9;&#x4E2A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO# &#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x5927;&#x5C0F;&#xFF0C;&#x548C;[supervisord]&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x6837;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;50;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB)# &#x548C;[supervisord]&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x6837;&#x3002;&#x9ED8;&#x8BA4;10;stdout_logfile_backups=10 ; # of stdout logfile backups (default 10)# &#x8BBE;&#x5B9A;capture&#x7BA1;&#x9053;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5F53;&#x503C;&#x4E0D;&#x4E3A;0&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x4ECE;stdout# &#x53D1;&#x9001;&#x4FE1;&#x606F;&#xFF0C;&#x800C;supervisor&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x53D1;&#x9001;&#x76F8;&#x5E94;&#x7684;event&#x3002;# &#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x4E3A;0&#x7684;&#x65F6;&#x5019;&#x8868;&#x8FBE;&#x5173;&#x95ED;&#x7BA1;&#x9053;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x9879;;stdout_capture_maxbytes=1MB ; number of bytes in &apos;capturemode&apos; (default 0)# &#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;ture&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x7531;stdout&#x5411;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x4E2D;&#x5199;&#x65E5;&#x5FD7;&#x7684;&#x65F6;&#x5019;# &#x5C06;&#x89E6;&#x53D1;supervisord&#x53D1;&#x9001;PROCESS_LOG_STDOUT&#x7C7B;&#x578B;&#x7684;event# &#x9ED8;&#x8BA4;&#x4E3A;false&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;stdout_events_enabled=false ; emit events on stdout writes (default false)# &#x8BBE;&#x7F6E;stderr&#x5199;&#x7684;&#x65E5;&#x5FD7;&#x8DEF;&#x5F84;&#xFF0C;&#x5F53;redirect_stderr=true&#x3002;&#x8FD9;&#x4E2A;&#x5C31;&#x4E0D;&#x7528;&#x8BBE;&#x7F6E;&#x4E86;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E86;&#x4E5F;&#x662F;&#x767D;&#x642D;&#x3002;# &#x56E0;&#x4E3A;&#x5B83;&#x4F1A;&#x88AB;&#x5199;&#x5165;stdout_logfile&#x7684;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;# &#x9ED8;&#x8BA4;&#x4E3A;AUTO&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x968F;&#x4FBF;&#x627E;&#x4E2A;&#x5730;&#x5B58;&#xFF0C;supervisord&#x91CD;&#x542F;&#x88AB;&#x6E05;&#x7A7A;&#x3002;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO# &#x4EE5;&#x4E0B;&#x540C;&#x4E0A;;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB);stderr_logfile_backups=10 ; # of stderr logfile backups (default 10);stderr_capture_maxbytes=1MB ; number of bytes in &apos;capturemode&apos; (default 0);stderr_events_enabled=false ; emit events on stderr writes (default false)# &#x8FD9;&#x4E2A;&#x662F;&#x8BE5;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x548C;&#x522B;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E0D;&#x5171;&#x4EAB;&#x7684;;environment=A=&quot;1&quot;,B=&quot;2&quot; ; process environment additions (def no adds);serverurl=AUTO ; override serverurl computation (childutils) &#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#x914D;&#x7F6E;123456789101112131415161718192021222324252627282930313233343536# event&#x5176;&#x5B9E;&#x548C;program&#x7684;&#x5730;&#x4F4D;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x4E5F;&#x662F;suopervisor&#x542F;&#x52A8;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;# &#x4E0D;&#x8FC7;&#x5B83;&#x5E72;&#x7684;&#x6D3B;&#x662F;&#x76D1;&#x542C;supervisord&#x53D1;&#x9001;&#x7684;event&#x3002;&#x4ED6;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x53EB;listener&#x4E86;&#x3002;# &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;listener&#x91CC;&#x9762;&#x505A;&#x4E00;&#x7CFB;&#x5217;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x5982;&#x62A5;&#x8B66;&#x7B49;&#x7B49;&#xFF0C;&#x4E0E;&#x4E0A;&#x9762;&#x91CD;&#x590D;&#x9879;&#x4E0D;&#x518D;&#x5355;&#x72EC;&#x89E3;&#x91CA;;[eventlistener:theeventlistenername];command=/bin/eventlistener ; the program (relative uses PATH, can take args);process_name=%(program_name)s ; process_name expr (default %(program_name)s);numprocs=1 ; number of processes copies to start (def 1)# event&#x4E8B;&#x4EF6;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x53EA;&#x6709;&#x5199;&#x5728;&#x8FD9;&#x4E2A;&#x5730;&#x65B9;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;&#x3002;&#x624D;&#x4F1A;&#x88AB;&#x53D1;&#x9001;;events=EVENT ; event notif. types to subscribe to (req&apos;d)# event&#x961F;&#x5217;&#x7F13;&#x5B58;&#x5927;&#x5C0F;&#xFF0C;&#x5F53;buffer&#x8D85;&#x8FC7;10&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6700;&#x65E7;&#x7684;event&#x5C06;&#x4F1A;&#x88AB;&#x6E05;&#x9664;&#xFF0C;&#x5E76;&#x628A;&#x65B0;&#x7684;event&#x653E;&#x8FDB;&#x53BB;&#x3002;# &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;10&#x3002;&#x975E;&#x5FC5;&#x987B;&#x9009;&#x9879;;buffer_size=10 ; event buffer queue size (default 10);directory=/tmp ; directory to cwd to before exec (def no cwd);umask=022 ; umask for process (default None);priority=-1 ; the relative start priority (default -1);autostart=true ; start at supervisord start (default: true);startsecs=1 ; # of secs prog must stay up to be running (def. 1);startretries=3 ; max # of serial start failures when starting (default 3);autorestart=unexpected ; autorestart if exited after running (def: unexpected);exitcodes=0,2 ; &apos;expected&apos; exit codes used with autorestart (default 0,2);stopsignal=QUIT ; signal used to kill process (default TERM);stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10);stopasgroup=false ; send stop signal to the UNIX process group (default false);killasgroup=false ; SIGKILL the UNIX process group (def false);user=chrism ; setuid to this UNIX account to run the program;redirect_stderr=false ; redirect_stderr=true is not allowed for eventlisteners;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB);stdout_logfile_backups=10 ; # of stdout logfile backups (default 10);stdout_events_enabled=false ; emit events on stdout writes (default false);stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB);stderr_logfile_backups=10 ; # of stderr logfile backups (default 10);stderr_events_enabled=false ; emit events on stderr writes (default false);environment=A=&quot;1&quot;,B=&quot;2&quot; ; process environment additions;serverurl=AUTO ; override serverurl computation (childutils) &#x8FDB;&#x7A0B;&#x5206;&#x7EC4;1234567891011# &#x7ED9;programs&#x5206;&#x7EC4;&#xFF0C;&#x5212;&#x5206;&#x5230;&#x7EC4;&#x91CC;&#x9762;&#x7684;program&#x3002;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x7528;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x53BB;&#x64CD;&#x4F5C;&#x4E86;# &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;&#x7EC4;&#x540D;&#x8FDB;&#x884C;&#x7EDF;&#x4E00;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6CE8;&#x610F;&#xFF1A;program&#x88AB;&#x5212;&#x5206;&#x5230;&#x7EC4;&#x91CC;&#x9762;&#x4E4B;&#x540E;# &#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x539F;&#x6765;&#x7684;&#x914D;&#x7F6E;&#x4ECE;supervisor&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x6D88;&#x5931;&#x4E86;&#x3002;# supervisor&#x53EA;&#x4F1A;&#x5BF9;&#x7EC4;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x800C;&#x4E0D;&#x518D;&#x5BF9;&#x7EC4;&#x91CC;&#x9762;&#x7684;&#x5355;&#x4E2A;program&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x4E86;;[group:thegroupname]# &#x7EC4;&#x6210;&#x5458;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x5206;&#x5F00;# &#x8FD9;&#x4E2A;&#x662F;&#x4E2A;&#x5FC5;&#x987B;&#x7684;&#x8BBE;&#x7F6E;&#x9879;;programs=progname1,progname2 ; each refers to &apos;x&apos; in [program:x] definitions# &#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x76F8;&#x5BF9;&#x4E8E;&#x7EC4;&#x548C;&#x7EC4;&#x4E4B;&#x95F4;&#x7684;# &#x9ED8;&#x8BA4;999&#x3002;&#x975E;&#x5FC5;&#x987B;&#x9009;&#x9879;;priority=999 ; the relative start priority (default 999) &#x542F;&#x52A8;&#x670D;&#x52A1;12#supervisord -c /etc/supervisord.conf/etc/init.d/supervisord start &#x5BA2;&#x6237;&#x7AEF;&#x7BA1;&#x7406;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;supervisord&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5BA2;&#x6237;&#x7AEF;&#x7BA1;&#x7406;&#x5DE5;&#x5177;supervisorctl&#xFF0C;&#x6765;&#x7BA1;&#x7406;&#x8FDB;&#x7A0B;&#x3002; 12345678supervisorctl statussupervisorctl stop usercentersupervisorctl start usercentersupervisorctl restart usercentersupervisorctl [stop|start|restart] allsupervisorctl [stop|start|restart] pro:*supervisorctl rereadsupervisorctl update &#x4E2A;&#x4EBA;&#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556mkdir -p /etc/supervisor/conf.d/cat /etc/supervisor/supervisord.conf###############[unix_http_server]file=/var/run/supervisor.sock ; (the path to the socket file)chmod=0700 ; sockef file mode (default 0700)[supervisord]logfile=/data/logs/supervisor/supervisord.log ; (main log file;default $CWD/supervisord.log)pidfile=/var/run/supervisord.pid ; (supervisord pidfile;default supervisord.pid)childlogdir=/data/logs/supervisor ; (&apos;AUTO&apos; child log dir, default $TEMP)logfile_maxbytes=50MB ; (max main logfile bytes b4 rotation;default 50MB)logfile_backups=10 ; (num of main logfile rotation backups;default 10)loglevel=info ; (log level;default info; others: debug,warn,trace)nodaemon=false ; (start in foreground if true;default false)minfds=1024 ; (min. avail startup file descriptors;default 1024)[rpcinterface:supervisor]supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface[supervisorctl]serverurl=unix:///var/run/supervisor.sock ; use a unix:// URL for a unix socket[include]files = /etc/supervisor/conf.d/*.conf#++++++++++++++++++++++#cat /etc/supervisor/conf.d/deva.conf###############[program:deva]environment=LANG=&quot;en_US.utf8&quot;, LC_ALL=&quot;en_US.UTF-8&quot;, LC_LANG=&quot;en_US.UTF-8&quot;directory = /data/web_data/xxx/command = python app.pyuser = wwwautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/deva.logstderr_logfile = /data/logs/supervisor/deva_err.log#++++++++++++++++++++++#cat /etc/supervisor/conf.d/userList.conf###############[program:userList]environment=LANG=&quot;en_US.utf8&quot;, LC_ALL=&quot;en_US.UTF-8&quot;, LC_LANG=&quot;en_US.UTF-8&quot;directory = /data/web_data/xxx/handlers/tools/command = python UserList.pyuser = wwwnumprocs=3numprocs_start=1process_name=%(program_name)s_%(process_num)02dautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/userList.logstderr_logfile = /data/logs/supervisor/userList_err.log]]></content>
      <categories>
        <category>linux</category>
        <category>supervisor</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>supervisor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一些简单常用的shell、awk、sed实例]]></title>
    <url>%2F2017%2F04%2F18%2Fshell-awk-sed%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x5C06;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x5B9E;&#x7528;&#x7684;shell&#x547D;&#x4EE4;&#x3001;&#x811A;&#x672C;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x547D;&#x4EE4;&#x7EC4;&#x5408;&#x3002; &#x7528;ping&#x6765;&#x505A;&#x94FE;&#x8DEF;&#x76D1;&#x63A7;12345cat ping.sh ping xxx.xxx.xxx.xxx -i 2 | awk &apos;{ print $0&quot;\t&quot; strftime(&quot;%D-%H:%M:%S&quot;,systime()) } &apos; &#x7C7B;&#x4F3C;ping &#x6216;&#x8005;tail -f &#x8FD9;&#x79CD;&#x52A8;&#x6001;&#x8F93;&#x51FA;&#x505A;&#x8FC7;&#x8FC7;&#x6EE4;&#x4E4B;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x56E0;&#x4E3A;&#x6709;buffer &#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#x53BB;&#x9664;bufferunbuffer sh ping.sh &gt;&gt; ping.log &amp; &#x591A;&#x4E2A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5408;&#x5E76;&#x5904;&#x7406;&#x4EE5;&#x53CA;&#x65E5;&#x5FD7;&#x5206;&#x6790;1234567891011121314# &#x53EF;&#x4EE5;&#x7528;cat&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x5904;&#x7406;cat log1 log2 log3 |sort -k 4 -t &quot; &quot;# &#x53EF;&#x4EE5;&#x7528;sort &#x8BB2;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x5408;&#x5E76;&#x4E4B;&#x540E;&#x518D;&#x5904;&#x7406;sort -m log1 log2 -o log_all# &#x7EDF;&#x8BA1;&#x65E5;&#x5FD7;&#x4E0D;&#x901A;&#x65F6;&#x95F4;&#x6BB5;&#x7684;&#x8BBF;&#x95EE;&#x91CF;grep &apos; 15:[0-2][0-9]&apos; haproxy.log | awk &apos;{print $3}&apos; | sed &apos;s/:[0-9]*//&apos; | awk &apos;{++S[$NF]} END {for (a in S) print a, S[a]}&apos;grep &apos;2015:15:[0-2][0-9]&apos; haproxy.log | awk -F&apos;:&apos; &apos;{print $7}&apos; | awk &apos;{++S[$NF]} END {for (a in S) print a, S[a]}&apos;# &#x7EDF;&#x8BA1;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x91CF;grep &quot;android&amp;version_number=2.2.0&quot; 4.log | grep member_id | sed &apos;s/.*member_id%22%3A%22//&apos; | awk -F&apos;%&apos; &apos;{print $1}&apos; | sort -n |uniq -c |sort | wc -l &#x7AEF;&#x53E3;&#x5B58;&#x6D3B;&#x3001;&#x7AEF;&#x53E3;&#x626B;&#x63CF;123456789101112# &#x53EF;&#x4EE5;&#x4F7F;&#x7528;nping&#x6765;&#x68C0;&#x67E5;&#x67D0;&#x4E2A;ip&#x7684;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;&#x7684;&#x5B58;&#x6D3B;&#x72B6;&#x6001;yum install nmapnping 172.18.4.233 --tcp -p 22# &#x7528;zmap&#x6765;&#x68C0;&#x67E5;&#x67D0;&#x4E2A;&#x7F51;&#x6BB5;&#x54EA;&#x4E9B;&#x5F00;&#x542F;&#x4E86;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;zmap -p 22 10.0.0.0/8 -o b.txt# &#x7528;nc&#x4FE9;&#x68C0;&#x67E5;&#x67D0;&#x4E2A;ip&#x5F00;&#x542F;&#x4E86;&#x54EA;&#x4E9B;&#x7AEF;&#x53E3;nc -z -v -n 192.168.9.2 20-25# ping&#x6574;&#x4E2A;&#x7F51;&#x6BB5;fping 10.0.0.0/24 -g -a &#x67E5;&#x770B;&#x672C;&#x673A;&#x5F00;&#x653E;&#x7AEF;&#x53E3;&#x3001;&#x7EDF;&#x8BA1;tcp&#x8FDE;&#x63A5;&#x6570;12345678910111213141516171819# &#x67E5;&#x770B;&#x672C;&#x673A;&#x5F00;&#x653E;&#x7AEF;&#x53E3;netstat -antp ss -ant# &#x67E5;&#x770B;&#x672C;&#x673A;tcp&#x8FDE;&#x63A5;netstat -antulpss -ntlpss -ntrlp # &#x7EDF;&#x8BA1;tcp&#x8FDE;&#x63A5;&#x6570;netstat -n | awk &apos;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&#x2019;ss -ant | awk &apos;{++S[$1]} END {for(a in S) print a, S[a]}&#x2019;# &#x5176;&#x4ED6;&#x76F8;&#x5173;&#x547D;&#x4EE4;netstat -atpn | perl -nE &apos;BEGIN{our %stat;};chomp;next if (not /^tcp.*\s+([A-Z]+[A-Z0-9_]+)\s+.*/);if (not exists $stat{$1}){$stat{$1}=1;} else {$stat{$1}++;}END{foreach $k (sort keys %stat) {say &quot;$k: $stat{$k}&quot;;}}&#x2019;ss -ant | grep ESTAB | awk &apos;{print $5}&apos; | sed &apos;s/:.*//&apos; | awk &apos;{++S[$1]} END {for(a in S) print a, S[a]}&apos;ss -tan &apos;sport = :80&apos; | awk &apos;{print $(NF)&quot; &quot;$(NF-1)}&apos; | sed &apos;s/:[^ ]*//g&apos; | sort | uniq -c sed12345678# sed&#x4FEE;&#x6539;&#x4E3B;&#x673A;&#x540D;sed &quot;s/WEBMB/WEB`ifconfig | grep &quot;10.0.0&quot; |awk &apos;{print $2}&apos; | sed &apos;s/.*\.//&apos;`/&quot; -i /etc/sysconfig/networksed &quot;s/WEBMB/WEB`ifconfig | grep &quot;10.0.0&quot; |awk &apos;{print $2}&apos; | sed &apos;s/.*\.//&apos;`/&quot; /etc/hosts -ihostname WEB`ifconfig | grep &quot;10.0.0&quot; |awk &apos;{print $2}&apos; | sed &apos;s/.*\.//&apos;`sed -i &quot;/HOST/s/=.*/`hostname`/&quot; /etc/sysconfig/networkhostname `hostname`.lifec.me tcpdump&#x6293;&#x5305;tcpdump&#x6293;&#x5305;&#x4F1A;&#x6709;&#x5355;&#x72EC;&#x7684;&#x6587;&#x7AE0;&#x6765;&#x505A;&#x8BB0;&#x5F55; 12345tcpdump -i eth0 tcpdump -i eth0 tcp and tcp[13]==2 -nn and port 6379tcpdump -i eth1 -tnn dst port 4730 -c 1000 | awk -F&quot;.&quot; &apos;{print $1&quot;.&quot;$2&quot;.&quot;$3&quot;.&quot;$4}&apos; | sort | uniq -c | sort -nr |head -20 &#x53CD;&#x8F6C;1echo &quot;abcdef&quot; | sed &apos;/\n/!G;s/\(.\)\(.*\n\)/&amp;\2\1/;//D;s/.//&apos; &#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;awk&#x95EE;&#x9898;12345# &#x9898;&#x76EE; &#x8981;&#x6C42;&#x5C06;&#x4E0B;&#x5217;&#x5185;&#x5BB9;&#x4E2D;&#x7B2C;&#x4E00;&#x5217;&#x662F;a=${num}&#x7684; num+1a=1 x=1b=2 v=1a=4 t=121c=6 a=12 12345awk &apos;$1~/a=[0-9]/{split($1,a,&quot;=&quot;);a[2]+=1;$1=a[1]&quot;=&quot;a[2]}1&apos;# &#x53E6;&#x4E00;&#x9053;&#x9898;&#x7684; &#x9898;&#x76EE;&#x6CA1;&#x4E86;awk -F&apos;&lt;td&gt;|&lt;/td&gt;&apos; &apos;{if(NF%2==0){S[NR-1]=S[NR-1]&quot;\t&quot;$3}else{S[NR]=$1}}END{for(a in S){print S[a]}}&#x2019; a awk&#x5904;&#x7406;&#x6587;&#x672C;123456789101112131415161718192021222324252627282930313233343536373839404142434445# ques 1# cat a.ini[zk]10.100.0.110.100.0.2[es]10.0.5.5awk &apos;{if($1~/\[(.*)\]/){split($1,a,&quot;[&quot;);split(a[2],b,&quot;]&quot;);t=b[1];c[b[1]]=&quot;&quot;}else{t=b[1];c[b[1]]=c[b[1]]$1&quot;,&quot;}}END{for(i in c){print i,c[i]}}&apos; a.inizk 10.100.0.1,10.100.0.2,es 10.0.5.5,################################# cat a.py#!/usr/bin/env python# -*- coding: utf-8 -*-from __future__ import print_functionimport redef getConf(file_name): myjson = {} with open(file_name,&quot;r&quot;) as cfg: for i in cfg: i = i.strip() matchObj = re.match(r&apos;\[(.*)\]&apos;,i,re.M|re.I) if matchObj: keys = matchObj.group(1) myjson[keys] = [] continue myjson[keys].append(i) return myjsondef main(): file_name = [&quot;a.ini&quot;,] for files in file_name: print(&quot;## file_name : %s&quot; %files) config = getConf(files) #print(config) for k in config: print(k + &quot;:&quot; + &quot;,&quot;.join(config[k]))if __name__ == &quot;__main__&quot;: main() awk &#x884C;&#x8F6C;&#x5217;123456789101112131415161718192021cat aa b c d e1 2 3 4 5! @ # $ %awk &apos;{for(i=1;i&lt;=NF;i++)a[NR,i]=$i}END{for(j=1;j&lt;=NF;j++)for(k=1;k&lt;=NR;k++)print a[k,j]}&apos; aa1!b2@c3#d4$e5% 1awk -vc=10 -vd=20 &apos;/3/{e++;f=1}{if(e==1&amp;&amp;f==1){print &quot;if port&quot;c&gt;FILENAME}else if(e==2&amp;&amp;f==1){print &quot;if port&quot;d&gt;FILENAME}else{print $0&gt;FILENAME};f=0}&apos; a &#x67E5;&#x770B;etc&#x76EE;&#x5F55;inode&#x4F7F;&#x7528;&#x91CF;1find /etc/ -exec stat -c &quot;%n %i&quot; {} \;|awk -F &quot;[/ ]&quot; &apos;{if(! a[$1-$NF]++) l[$1]++}END{for (i in l) print i,l[i]}&apos; iperf&#x6D4B;&#x8BD5;&#x7F51;&#x901F;1234# server&#x7AEF;&#x5F00;&#x542F;iperf -s# client&#x7AEF;&#x6253;&#x6D41;&#x91CF;iperf -c 172.16.18.131 -i 1 -p5001 &#x4E00;&#x4E2A;awk&#x6570;&#x636E;&#x5904;&#x7406;&#x6E90;&#x6587;&#x4EF6; 1234567891011121314152 192.168.174.2 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 192.168.174.2 &quot;GET /favicon.ico HTTP/1.1&quot;1 192.168.174.21 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 192.168.174.1 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 192.168.174.1 &quot;GET /favicon.ico HTTP/1.1&quot;1 192.168.174.19 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 192.168.174.19 &quot;GET /favicon.ico HTTP/1.1&quot;1 192.168.174.17 &quot;GET /favicon.ico HTTP/1.1&quot;1 192.168.174.16 &quot;GET /favicon.ico HTTP/1.1&quot;1 192.168.174.15 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 192.168.174.14 &quot;GET /favicon.ico HTTP/1.1&quot;1 192.168.174.13 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 192.168.174.13 &quot;GET /favicon.ico HTTP/1.1&quot;1 192.168.174.12 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 192.168.174.10 &quot;GET /favicon.ico HTTP/1.1&quot; &#x76EE;&#x6807; 1234567891011121314152 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot; &quot;GET /favicon.ico HTTP/1.1&quot;1 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot; &quot;GET /favicon.ico HTTP/1.1&quot;1 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot; &quot;GET /favicon.ico HTTP/1.1&quot;1 &quot;GET /favicon.ico HTTP/1.1&quot;1 &quot;GET /favicon.ico HTTP/1.1&quot;1 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 &quot;GET /favicon.ico HTTP/1.1&quot;1 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot; &quot;GET /favicon.ico HTTP/1.1&quot;1 &quot;GET /group1/M00/00/00/wKiuj1qWeyGAJWsuAAAACXh6ifo038.txt HTTP/1.1&quot;1 &quot;GET /favicon.ico HTTP/1.1&quot; 1awk &apos;{if($2==ip){$1=&quot; &quot;}ip=$2;$2=&quot;&quot;}1&apos; 1.txt]]></content>
      <categories>
        <category>linux</category>
        <category>shell</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用tmux？]]></title>
    <url>%2F2017%2F04%2F14%2Ftmux%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;tmux? &#x6211;&#x4E5F;&#x4E0D;&#x77E5;&#x9053; tmux&#x6BD4;screen&#x6709;&#x66F4;&#x591A;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x80FD;&#x591F;&#x4FDD;&#x6301;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x73AF;&#x5883;&#x8FDE;&#x7EED;&#x6027;&#x3002;&#x4F8B;&#x5982;tmux&#x89E3;&#x51B3;&#x5982;&#x4E0B;&#x7684;&#x95EE;&#x9898;&#xFF1A; 1&#xFF09;&#x4E0B;&#x73ED;&#x540E;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x65AD;&#x5F00;ssh&#x6216;&#x5173;&#x95ED;&#x7535;&#x8111;&#xFF0C;&#x4F60;&#x7684;ssh&#x8FDE;&#x63A5;&#x5C06;&#x4E22;&#x5931;&#xFF1B;2&#xFF09;&#x5728;&#x516C;&#x53F8;&#x6253;&#x5F00;&#x7684;ssh&#xFF0C;&#x5728;&#x5BB6;&#x91CC;&#x4E5F;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#xFF1B; https://blog.csdn.net/simple_the_best/article/details/51360778https://blog.csdn.net/robertbaker/article/details/42172203https://www.cnblogs.com/chjbbs/p/5689011.html tmux&#x67B6;&#x6784;&#x56FE; tmux&#x4F7F;&#x7528;C/S&#x6A21;&#x578B;&#x6784;&#x5EFA;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x5355;&#x5143;&#x6A21;&#x5757;&#x4E00;&#x4E2A;tmux&#x547D;&#x4EE4;&#x6267;&#x884C;&#x540E;&#x542F;&#x52A8;&#x4E00;&#x4E2A;tmux&#x670D;&#x52A1;&#x4E00;&#x4E2A;tmux&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x591A;&#x4E2A;session&#xFF0C;&#x4E00;&#x4E2A;session&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x662F;tmux&#x7BA1;&#x7406;&#x4E0B;&#x7684;&#x4F2A;&#x7EC8;&#x7AEF;&#x7684;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4E00;&#x4E2A;session&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x591A;&#x4E2A;window&#x4E0E;&#x4E4B;&#x5173;&#x8054;&#xFF0C;&#x6BCF;&#x4E2A;window&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x4F2A;&#x7EC8;&#x7AEF;&#xFF0C;&#x4F1A;&#x5360;&#x636E;&#x6574;&#x4E2A;&#x5C4F;&#x5E55;&#x4E00;&#x4E2A;window&#x53EF;&#x4EE5;&#x88AB;&#x5206;&#x5272;&#x6210;&#x591A;&#x4E2A;pane tmux&#x7684;&#x914D;&#x7F6E;~/.tmux.conf &#xFF08;&#x4EE5;&#x4E0B;&#x4E3B;&#x8981;&#x7684;&#x4F5C;&#x7528;&#xFF1A;&#x4FEE;&#x6539;tmux&#x547D;&#x4EE4;&#x6FC0;&#x6D3B;&#x6309;&#x952E;&#x4E3A;ctrl+a&#xFF0C;&#xFF09; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879set-option -g base-index 1set-option -g display-time 5000set-option -g repeat-time 1000set-option -g status-keys viset-option -g status-right &quot;#(date +%H:%M&apos; &apos;)&quot;set-option -g status-right-length 10#set-option -g status-utf8 on#set-window-option -g utf8 on# &#x89E3;&#x9664;&#x9ED8;&#x8BA4;&#x524D;&#x7F00;unbind-key C-b#unbind C-b# &#x8BBE;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x524D;&#x7F00;bind-key C-a send-prefixset-option -g prefix C-a#set -g prefix C-a# &#x91C7;&#x7528;vim&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;set-window-option -g mode-keys vi#setw -g mode-keys vi# &#x7A97;&#x53E3;&#x5E8F;&#x53F7;&#x4ECE;1&#x5F00;&#x59CB;&#x8BA1;&#x6570;#set -g base-index 1set-window-option -g pane-base-index 1set-window-option -g main-pane-width 100 # &#x8BBE;&#x7F6E;&#x4E3B;Pane&#x5BBD;&#x5EA6;set-window-option -g main-pane-height 80 # &#x8BBE;&#x7F6E;&#x4E3B;Pane&#x9AD8;&#x5EA6;# &#x5F00;&#x542F;&#x9F20;&#x6807;&#x6A21;&#x5F0F;set-option -g mouse on# &#x901A;&#x8FC7;&#x524D;&#x7F00;+KJHL&#x5FEB;&#x901F;&#x5207;&#x6362;pane#upbind-key k select-pane -U#downbind-key j select-pane -D#leftbind-key h select-pane -L#rightbind-key l select-pane -R# panes &#x5206;&#x5272;&#x7EBF;&#x989C;&#x8272;set -g pane-border-bg colour236set -g pane-border-fg colour236set -g pane-active-border-bg colour232set -g pane-active-border-fg colour232bind-key z kill-sessionbind-key h select-layout even-horizontalbind-key v select-layout even-vertical# invoke reattach-to-user-namespace every time a new window/pane opens#set-option -g default-command &quot;reattach-to-user-namespace -l zsh&quot;# start selecting text typing &apos;v&apos; key (once you are in copy mode)#bind-key -t vi-copy v begin-selection# copy selected text to the system&apos;s clipboard#bind-key -t vi-copy y copy-pipe &quot;reattach-to-user-namespace pbcopy&quot;# if exists(&apos;$TMUX&apos;) # set term=screen-256color# endif# &#x72B6;&#x6001;&#x680F;# &#x989C;&#x8272;set -g status-bg blackset -g status-fg white# &#x5BF9;&#x9F50;&#x65B9;&#x5F0F;set-option -g status-justify centre# &#x5DE6;&#x4E0B;&#x89D2;set-option -g status-left &apos;#[bg=black,fg=green][#[fg=cyan]#S#[fg=green]]&apos;set-option -g status-left-length 20# &#x7A97;&#x53E3;&#x5217;&#x8868;setw -g automatic-rename onset-window-option -g window-status-format &apos;#[dim]#I:#[default]#W#[fg=grey,dim]&apos;set-window-option -g window-status-current-format &apos;#[fg=cyan,bold]#I#[fg=blue]:#[fg=cyan]#W#[fg=dim]&apos;# &#x53F3;&#x4E0B;&#x89D2;set -g status-right &apos;#[fg=green][#[fg=cyan]%Y-%m-%d#[fg=green]]&apos; tmux&#x7684;&#x4F7F;&#x7528;&#x95EE;&#x9898;&#x4F7F;&#x7528;putty&#x8FDE;&#x63A5;&#x5230;&#x8FDC;&#x7A0B;&#x7684;&#x673A;&#x5668;&#x662F;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;windows-&gt;Translation-&gt;Remote characters set &#x4E3A;UTF-8, &#x5426;&#x5219;tmux&#x7684;windows&#x4E2D;pane&#x7684;&#x95F4;&#x9694;&#x7EBF;&#x663E;&#x793A;&#x6709;&#x95EE;&#x9898;&#x3002; &#x5728;&#x4FEE;&#x6539;tmux&#x7684;conf&#x540E;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x542F;tmux&#x670D;&#x52A1;&#xFF0C; &#x6B64;&#x65F6;&#x9700;&#x8981;ctrl+c / : kill-server&#x3002; &#x5728;&#x591A;&#x4E2A;panes&#x7684;&#x65F6;&#x5019;&#x62F7;&#x8D1D;&#x7C98;&#x8D34;&#x662F;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x9700;&#x8981;ctrl+c / [ &#x8FDB;&#x5165;&#x590D;&#x5236;&#x6A21;&#x5F0F;&#x3002; tmux&#x7684;&#x5E38;&#x7528;&#x6309;&#x952E;12345678910111213tmux #&#x5F00;&#x542F;tmuxtmux ls #&#x5217;&#x51FA;&#x4F1A;&#x8BDD; tmux attach -t session #&#x8FDB;&#x5165;&#x67D0;&#x4E2A;&#x4F1A;&#x8BDD; tmux -r &#x8FDE;&#x63A5;&#x4E0A;&#x6B21;&#x65AD;&#x5F00;&#x7684;sessionC-c d &#x4E34;&#x65F6;&#x65AD;&#x5F00;session &#x65AD;&#x5F00;&#x4EE5;&#x540E;,&#x8FD8;&#x53EF;&#x4EE5;&#x8FDE;&#x4E0A;&#x7684;&#x54DF;:) C-c c &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;windowC-c &#x6570;&#x5B57; &#x76F4;&#x63A5;&#x8DF3;&#x5230;&#x4F60;&#x6309;&#x7684;&#x6570;&#x5B57;&#x6240;&#x5728;&#x7684;window C-c &quot; &#x5728;&#x4E0B;&#x8FB9;&#x5206;&#x5272;&#x51FA;&#x6765;&#x4E00;&#x4E2A;pane C-c % &#x5728;&#x53F3;&#x8FB9;&#x5206;&#x5272;&#x51FA;&#x6765;&#x4E00;&#x4E2A;paneC-c o &#x5728;&#x591A;&#x4E2A;panes&#x4E2D;&#x5207;&#x6362; C-c x &#x5173;&#x95ED;&#x5F53;&#x524D;&#x5149;&#x6807;&#x5904;&#x7684;pane &#x66F4;&#x591A;&#x7684;&#x5FEB;&#x6377;&#x952E;123456789101112131415161718192021222324252627282930313233343536373839Ctrl+c #&#x6FC0;&#x6D3B;&#x63A7;&#x5236;&#x53F0;&#xFF1B;&#x6B64;&#x65F6;&#x4EE5;&#x4E0B;&#x6309;&#x952E;&#x751F;&#x6548; &#x7CFB;&#x7EDF;&#x64CD;&#x4F5C; ? #&#x5217;&#x51FA;&#x6240;&#x6709;&#x5FEB;&#x6377;&#x952E;&#xFF1B;&#x6309;q&#x8FD4;&#x56DE; d #&#x8131;&#x79BB;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#xFF1B;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x6682;&#x65F6;&#x8FD4;&#x56DE;Shell&#x754C;&#x9762;&#xFF0C;&#x8F93;&#x5165;tmux attach&#x80FD;&#x591F;&#x91CD;&#x65B0;&#x8FDB;&#x5165;&#x4E4B;&#x524D;&#x7684;&#x4F1A;&#x8BDD; D #&#x9009;&#x62E9;&#x8981;&#x8131;&#x79BB;&#x7684;&#x4F1A;&#x8BDD;&#xFF1B;&#x5728;&#x540C;&#x65F6;&#x5F00;&#x542F;&#x4E86;&#x591A;&#x4E2A;&#x4F1A;&#x8BDD;&#x65F6;&#x4F7F;&#x7528; Ctrl+z #&#x6302;&#x8D77;&#x5F53;&#x524D;&#x4F1A;&#x8BDD; r #&#x5F3A;&#x5236;&#x91CD;&#x7ED8;&#x672A;&#x8131;&#x79BB;&#x7684;&#x4F1A;&#x8BDD; s #&#x9009;&#x62E9;&#x5E76;&#x5207;&#x6362;&#x4F1A;&#x8BDD;&#xFF1B;&#x5728;&#x540C;&#x65F6;&#x5F00;&#x542F;&#x4E86;&#x591A;&#x4E2A;&#x4F1A;&#x8BDD;&#x65F6;&#x4F7F;&#x7528; : #&#x8FDB;&#x5165;&#x547D;&#x4EE4;&#x884C;&#x6A21;&#x5F0F;&#xFF1B;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x8F93;&#x5165;&#x652F;&#x6301;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x4F8B;&#x5982;kill-server&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x670D;&#x52A1;&#x5668; [ #&#x8FDB;&#x5165;&#x590D;&#x5236;&#x6A21;&#x5F0F;&#xFF1B;&#x6B64;&#x65F6;&#x7684;&#x64CD;&#x4F5C;&#x4E0E;vi/emacs&#x76F8;&#x540C;&#xFF0C;&#x6309;q/Esc&#x9000;&#x51FA; ~ #&#x5217;&#x51FA;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x7F13;&#x5B58;&#xFF1B;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x4E4B;&#x524D;tmux&#x8FD4;&#x56DE;&#x7684;&#x5404;&#x79CD;&#x63D0;&#x793A;&#x4FE1;&#x606F; &#x7A97;&#x53E3;&#x64CD;&#x4F5C; c #&#x521B;&#x5EFA;&#x65B0;&#x7A97;&#x53E3; &amp; #&#x5173;&#x95ED;&#x5F53;&#x524D;&#x7A97;&#x53E3; &#x6570;&#x5B57;&#x952E; #&#x5207;&#x6362;&#x81F3;&#x6307;&#x5B9A;&#x7A97;&#x53E3; p #&#x5207;&#x6362;&#x81F3;&#x4E0A;&#x4E00;&#x7A97;&#x53E3; n #&#x5207;&#x6362;&#x81F3;&#x4E0B;&#x4E00;&#x7A97;&#x53E3; l #&#x5728;&#x524D;&#x540E;&#x4E24;&#x4E2A;&#x7A97;&#x53E3;&#x95F4;&#x4E92;&#x76F8;&#x5207;&#x6362; w #&#x901A;&#x8FC7;&#x7A97;&#x53E3;&#x5217;&#x8868;&#x5207;&#x6362;&#x7A97;&#x53E3; , #&#x91CD;&#x547D;&#x540D;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#xFF1B;&#x8FD9;&#x6837;&#x4FBF;&#x4E8E;&#x8BC6;&#x522B; . #&#x4FEE;&#x6539;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x7F16;&#x53F7;&#xFF1B;&#x76F8;&#x5F53;&#x4E8E;&#x7A97;&#x53E3;&#x91CD;&#x65B0;&#x6392;&#x5E8F; f #&#x5728;&#x6240;&#x6709;&#x7A97;&#x53E3;&#x4E2D;&#x67E5;&#x627E;&#x6307;&#x5B9A;&#x6587;&#x672C; &#x9762;&#x677F;&#x64CD;&#x4F5C; &#x201D; #&#x5C06;&#x5F53;&#x524D;&#x9762;&#x677F;&#x5E73;&#x5206;&#x4E3A;&#x4E0A;&#x4E0B;&#x4E24;&#x5757; % #&#x5C06;&#x5F53;&#x524D;&#x9762;&#x677F;&#x5E73;&#x5206;&#x4E3A;&#x5DE6;&#x53F3;&#x4E24;&#x5757; x #&#x5173;&#x95ED;&#x5F53;&#x524D;&#x9762;&#x677F; ! #&#x5C06;&#x5F53;&#x524D;&#x9762;&#x677F;&#x7F6E;&#x4E8E;&#x65B0;&#x7A97;&#x53E3;&#xFF1B;&#x5373;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#xFF0C;&#x5176;&#x4E2D;&#x4EC5;&#x5305;&#x542B;&#x5F53;&#x524D;&#x9762;&#x677F; Ctrl+&#x65B9;&#x5411;&#x952E; #&#x4EE5;1&#x4E2A;&#x5355;&#x5143;&#x683C;&#x4E3A;&#x5355;&#x4F4D;&#x79FB;&#x52A8;&#x8FB9;&#x7F18;&#x4EE5;&#x8C03;&#x6574;&#x5F53;&#x524D;&#x9762;&#x677F;&#x5927;&#x5C0F; Alt+&#x65B9;&#x5411;&#x952E; #&#x4EE5;5&#x4E2A;&#x5355;&#x5143;&#x683C;&#x4E3A;&#x5355;&#x4F4D;&#x79FB;&#x52A8;&#x8FB9;&#x7F18;&#x4EE5;&#x8C03;&#x6574;&#x5F53;&#x524D;&#x9762;&#x677F;&#x5927;&#x5C0F; Space #&#x5728;&#x9884;&#x7F6E;&#x7684;&#x9762;&#x677F;&#x5E03;&#x5C40;&#x4E2D;&#x5FAA;&#x73AF;&#x5207;&#x6362;&#xFF1B;&#x4F9D;&#x6B21;&#x5305;&#x62EC;even-horizontal&#x3001;even-vertical&#x3001;main-horizontal&#x3001;main-vertical&#x3001;tiled q #&#x663E;&#x793A;&#x9762;&#x677F;&#x7F16;&#x53F7; o #&#x5728;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x4E2D;&#x9009;&#x62E9;&#x4E0B;&#x4E00;&#x9762;&#x677F; &#x65B9;&#x5411;&#x952E; #&#x79FB;&#x52A8;&#x5149;&#x6807;&#x4EE5;&#x9009;&#x62E9;&#x9762;&#x677F; { #&#x5411;&#x524D;&#x7F6E;&#x6362;&#x5F53;&#x524D;&#x9762;&#x677F; } #&#x5411;&#x540E;&#x7F6E;&#x6362;&#x5F53;&#x524D;&#x9762;&#x677F; Alt+o #&#x9006;&#x65F6;&#x9488;&#x65CB;&#x8F6C;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x7684;&#x9762;&#x677F; Ctrl+o #&#x987A;&#x65F6;&#x9488;&#x65CB;&#x8F6C;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x7684;&#x9762;&#x677F; Ctrl-b t &#x5F88;&#x9177;&#x7684;&#x4E00;&#x4E2A;&#x65F6;&#x949F;&#x3002; tmux &#x6279;&#x91CF;&#x64CD;&#x4F5C;&#x9762;&#x677F;&#x524D;&#x7F6E;&#x952E;&#x540E;&#xFF0C;&#x952E;&#x5165;&#x201C;:&#x201D;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#xFF1A; 123set synchronize-panesset synchronize-panes onset synchronize-panes off &#x6765;&#x63A7;&#x5236;&#x662F;&#x5426;&#x6279;&#x91CF;&#x63A7;&#x5236;&#x5F53;&#x524D;&#x7A97;&#x53E3;&#x6240;&#x6709;&#x7684;&#x9762;&#x677F;&#x3002; tmuxinatorhttps://github.com/tmuxinator/tmuxinator config1234567891011121314name: sampleroot: ~/windows: - stats: - ssh stats@example.com - tail -f /var/log/stats.log - logs: layout: main-vertical panes: - logs: - ssh logs@example.com - cd /var/logs - tail -f development.log commands123456789tmuxinator start [project] -n [name] -p [project-config]tmuxinator copy [existing] [new]tmuxinator listtmuxinator delete [project]tmuxinator implodetmuxinator doctortmuxinator helptmuxinator debug [project]tmuxinator version]]></content>
      <categories>
        <category>linux</category>
        <category>tmux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>tmux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python算法实例]]></title>
    <url>%2F2017%2F04%2F14%2Fcode-sort%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x6700;&#x8FD1;&#x7B80;&#x5355;&#x770B;&#x4E86;&#x4E00;&#x4E9B;&#x5173;&#x4E8E;&#x7B97;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#xFF0C;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x6765;&#x6E90;&#x4E8E;&#x7F51;&#x7EDC;&#x3002; http://www.cnblogs.com/0zcl/p/6664809.html http://www.cnblogs.com/0zcl/p/6680652.html &#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x65F6;&#x95F4;&#x9891;&#x5EA6;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x6267;&#x884C;&#x6240;&#x8017;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x4ECE;&#x7406;&#x8BBA;&#x4E0A;&#x662F;&#x4E0D;&#x80FD;&#x7B97;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x5FC5;&#x987B;&#x4E0A;&#x673A;&#x8FD0;&#x884C;&#x6D4B;&#x8BD5;&#x624D;&#x80FD;&#x77E5;&#x9053;&#x3002;&#x4F46;&#x6211;&#x4EEC;&#x4E0D;&#x53EF;&#x80FD;&#x4E5F;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x5BF9;&#x6BCF;&#x4E2A;&#x7B97;&#x6CD5;&#x90FD;&#x4E0A;&#x673A;&#x6D4B;&#x8BD5;&#xFF0C;&#x53EA;&#x9700;&#x77E5;&#x9053;&#x54EA;&#x4E2A;&#x7B97;&#x6CD5;&#x82B1;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#x591A;&#xFF0C;&#x54EA;&#x4E2A;&#x7B97;&#x6CD5;&#x82B1;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#x5C11;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x5E76;&#x4E14;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x82B1;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#x4E0E;&#x7B97;&#x6CD5;&#x4E2D;&#x8BED;&#x53E5;&#x7684;&#x6267;&#x884C;&#x6B21;&#x6570;&#x6210;&#x6B63;&#x6BD4;&#x4F8B;&#xFF0C;&#x54EA;&#x4E2A;&#x7B97;&#x6CD5;&#x4E2D;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x6B21;&#x6570;&#x591A;&#xFF0C;&#x5B83;&#x82B1;&#x8D39;&#x65F6;&#x95F4;&#x5C31;&#x591A;&#x3002;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x4E2D;&#x7684;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x6B21;&#x6570;&#x79F0;&#x4E3A;&#x8BED;&#x53E5;&#x9891;&#x5EA6;&#x6216;&#x65F6;&#x95F4;&#x9891;&#x5EA6;&#x3002;&#x8BB0;&#x4E3A;T(n)&#x3002; &#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x5728;&#x521A;&#x624D;&#x63D0;&#x5230;&#x7684;&#x65F6;&#x95F4;&#x9891;&#x5EA6;&#x4E2D;&#xFF0C;n&#x79F0;&#x4E3A;&#x95EE;&#x9898;&#x7684;&#x89C4;&#x6A21;&#xFF0C;&#x5F53;n&#x4E0D;&#x65AD;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x65F6;&#x95F4;&#x9891;&#x5EA6;T(n)&#x4E5F;&#x4F1A;&#x4E0D;&#x65AD;&#x53D8;&#x5316;&#x3002;&#x4F46;&#x6709;&#x65F6;&#x6211;&#x4EEC;&#x60F3;&#x77E5;&#x9053;&#x5B83;&#x53D8;&#x5316;&#x65F6;&#x5448;&#x73B0;&#x4EC0;&#x4E48;&#x89C4;&#x5F8B;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x5F15;&#x5165;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x6982;&#x5FF5;&#x3002; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7B97;&#x6CD5;&#x4E2D;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x91CD;&#x590D;&#x6267;&#x884C;&#x7684;&#x6B21;&#x6570;&#x662F;&#x95EE;&#x9898;&#x89C4;&#x6A21;n&#x7684;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x7528;T(n)&#x8868;&#x793A;&#xFF0C;&#x82E5;&#x6709;&#x67D0;&#x4E2A;&#x8F85;&#x52A9;&#x51FD;&#x6570;f(n),&#x4F7F;&#x5F97;&#x5F53;n&#x8D8B;&#x8FD1;&#x4E8E;&#x65E0;&#x7A77;&#x5927;&#x65F6;&#xFF0C;T(n)/f(n)&#x7684;&#x6781;&#x9650;&#x503C;&#x4E3A;&#x4E0D;&#x7B49;&#x4E8E;&#x96F6;&#x7684;&#x5E38;&#x6570;&#xFF0C;&#x5219;&#x79F0;f(n)&#x662F;T(n)&#x7684;&#x540C;&#x6570;&#x91CF;&#x7EA7;&#x51FD;&#x6570;&#x3002;&#x8BB0;&#x4F5C;T(n)=O(f(n)),&#x79F0;O(f(n)) &#x4E3A;&#x7B97;&#x6CD5;&#x7684;&#x6E10;&#x8FDB;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x7B80;&#x79F0;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x3002; &#x6307;&#x6570;&#x65F6;&#x95F4;&#x6307;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x6C42;&#x89E3;&#x6240;&#x9700;&#x8981;&#x7684;&#x8BA1;&#x7B97;&#x65F6;&#x95F4;m(n)&#xFF0C;&#x4F9D;&#x8F93;&#x5165;&#x6570;&#x636E;&#x7684;&#x5927;&#x5C0F;&#x800C;&#x5448;&#x6307;&#x6570;&#x6210;&#x957F;&#xFF08;&#x5373;&#x8F93;&#x5165;&#x6570;&#x636E;&#x7684;&#x6570;&#x91CF;&#x4F9D;&#x7EBF;&#x6027;&#x6210;&#x957F;&#xFF0C;&#x6240;&#x82B1;&#x7684;&#x65F6;&#x95F4;&#x5C06;&#x4F1A;&#x4EE5;&#x6307;&#x6570;&#x6210;&#x957F;&#xFF09; 12345for (i=1; i&lt;=n; i++) x++;for (i=1; i&lt;=n; i++) for (j=1; j&lt;=n; j++) x++; &#x7B2C;&#x4E00;&#x4E2A;for&#x5FAA;&#x73AF;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;&#x39F;(n)&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;for&#x5FAA;&#x73AF;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;&#x39F;(n2)&#xFF0C;&#x5219;&#x6574;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;&#x39F;(n+n2)=&#x39F;(n2)&#x3002; &#x5E38;&#x6570;&#x65F6;&#x95F4;&#x82E5;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x4E0A;&#x754C;&#x4E0E;&#x8F93;&#x5165;&#x5927;&#x5C0F;&#x65E0;&#x5173;&#xFF0C;&#x5219;&#x79F0;&#x5176;&#x5177;&#x6709;&#x5E38;&#x6570;&#x65F6;&#x95F4;&#xFF0C;&#x8BB0;&#x4F5C;&#x65F6;&#x95F4;&#x3002;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x8BBF;&#x95EE;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x5355;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x56E0;&#x4E3A;&#x8BBF;&#x95EE;&#x5B83;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x627E;&#x5230;&#x65E0;&#x5E8F;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6700;&#x5C0F;&#x5143;&#x7D20;&#x5219;&#x4E0D;&#x662F;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x9700;&#x8981;&#x904D;&#x5386;&#x6240;&#x6709;&#x5143;&#x7D20;&#x6765;&#x627E;&#x51FA;&#x6700;&#x5C0F;&#x503C;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x9879;&#x7EBF;&#x6027;&#x65F6;&#x95F4;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6216;&#x79F0;&#x65F6;&#x95F4;&#x3002;&#x4F46;&#x5982;&#x679C;&#x9884;&#x5148;&#x77E5;&#x9053;&#x5143;&#x7D20;&#x7684;&#x6570;&#x91CF;&#x5E76;&#x5047;&#x8BBE;&#x6570;&#x91CF;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x5219;&#x8BE5;&#x64CD;&#x4F5C;&#x4E5F;&#x53EF;&#x88AB;&#x79F0;&#x4E3A;&#x5177;&#x6709;&#x5E38;&#x6570;&#x65F6;&#x95F4;&#x3002; &#x5BF9;&#x6570;&#x65F6;&#x95F4;&#x82E5;&#x7B97;&#x6CD5;&#x7684;T(n) = O(log n)&#xFF0C;&#x5219;&#x79F0;&#x5176;&#x5177;&#x6709;&#x5BF9;&#x6570;&#x65F6;&#x95F4; &#x5E38;&#x89C1;&#x7684;&#x5177;&#x6709;&#x5BF9;&#x6570;&#x65F6;&#x95F4;&#x7684;&#x7B97;&#x6CD5;&#x6709;&#x4E8C;&#x53C9;&#x6811;&#x7684;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#x548C;&#x4E8C;&#x5206;&#x641C;&#x7D22;&#x3002; &#x5BF9;&#x6570;&#x65F6;&#x95F4;&#x7684;&#x7B97;&#x6CD5;&#x662F;&#x975E;&#x5E38;&#x6709;&#x6548;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#xFF0C;&#x5176;&#x6240;&#x9700;&#x8981;&#x7684;&#x989D;&#x5916;&#x8BA1;&#x7B97;&#x65F6;&#x95F4;&#x4F1A;&#x53D8;&#x5C0F;&#x3002; &#x9012;&#x5F52;&#x5730;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x780D;&#x534A;&#x5E76;&#x4E14;&#x8F93;&#x51FA;&#x662F;&#x8FD9;&#x4E2A;&#x7C7B;&#x522B;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x4F8B;&#x5B50;&#x3002;&#x5B83;&#x9700;&#x8981;O&#xFF08;log n&#xFF09;&#x7684;&#x65F6;&#x95F4;&#x56E0;&#x4E3A;&#x6BCF;&#x6B21;&#x8F93;&#x51FA;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x90FD;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x780D;&#x534A;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x589E;&#x52A0;&#x8F93;&#x51FA;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x52A0;&#x500D;&#x3002; &#x7EBF;&#x6027;&#x65F6;&#x95F4;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(n)&#xFF0C;&#x5219;&#x79F0;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x5177;&#x6709;&#x7EBF;&#x6027;&#x65F6;&#x95F4;&#xFF0C;&#x6216;O(n)&#x65F6;&#x95F4;&#x3002;&#x975E;&#x6B63;&#x5F0F;&#x5730;&#x8BF4;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5BF9;&#x4E8E;&#x8DB3;&#x591F;&#x5927;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x589E;&#x52A0;&#x7684;&#x5927;&#x5C0F;&#x4E0E;&#x8F93;&#x5165;&#x6210;&#x7EBF;&#x6027;&#x5173;&#x7CFB;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x5217;&#x8868;&#x6240;&#x6709;&#x5143;&#x7D20;&#x7684;&#x548C;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#x4E0E;&#x5217;&#x8868;&#x7684;&#x957F;&#x5EA6;&#x6210;&#x6B63;&#x6BD4;&#x3002; &#x5192;&#x6CE1;&#x7B97;&#x6CD5;&#x57FA;&#x672C;&#x601D;&#x60F3;&#x5728;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x4E00;&#x7EC4;&#x6570;&#x4E2D;&#xFF0C;&#x5BF9;&#x5F53;&#x524D;&#x8FD8;&#x672A;&#x6392;&#x597D;&#x5E8F;&#x7684;&#x8303;&#x56F4;&#x5185;&#x7684;&#x5168;&#x90E8;&#x6570;&#xFF0C;&#x81EA;&#x4E0A;&#x800C;&#x4E0B;&#x5BF9;&#x76F8;&#x90BB;&#x7684;&#x4E24;&#x4E2A;&#x6570;&#x4F9D;&#x6B21;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x548C;&#x8C03;&#x6574;&#xFF0C;&#x8BA9;&#x8F83;&#x5927;&#x7684;&#x6570;&#x5F80;&#x4E0B;&#x6C89;&#xFF0C;&#x8F83;&#x5C0F;&#x7684;&#x5F80;&#x4E0A;&#x5192;&#x3002;&#x5373;&#xFF1A;&#x6BCF;&#x5F53;&#x4E24;&#x76F8;&#x90BB;&#x7684;&#x6570;&#x6BD4;&#x8F83;&#x540E;&#x53D1;&#x73B0;&#x5B83;&#x4EEC;&#x7684;&#x6392;&#x5E8F;&#x4E0E;&#x6392;&#x5E8F;&#x8981;&#x6C42;&#x76F8;&#x53CD;&#x65F6;&#xFF0C;&#x5C31;&#x5C06;&#x5B83;&#x4EEC;&#x4E92;&#x6362;&#x3002; &#x5192;&#x6CE1;&#x6392;&#x5E8F;&#x7684;&#x793A;&#x4F8B;&#xFF1A; &#x7B97;&#x6CD5;&#x5B9E;&#x73B0;1234567891011121314151617def bubble(array): for i in range(len(array)-1): for j in range(len(array)-1-i): if array[j] &gt; array[j+1]: # &#x5982;&#x679C;&#x524D;&#x4E00;&#x4E2A;&#x5927;&#x4E8E;&#x540E;&#x4E00;&#x4E2A;&#xFF0C;&#x5219;&#x4EA4;&#x6362; temp = array[j] array[j] = array[j+1] array[j+1] = tempif __name__ == &quot;__main__&quot;: array = [265, 494, 302, 160, 370, 219, 247, 287, 354, 405, 469, 82, 345, 319, 83, 258, 497, 423, 291, 304] print(&quot;-------&gt;&#x6392;&#x5E8F;&#x524D;&lt;-------&quot;) print(array) bubble(array) print(&quot;-------&gt;&#x6392;&#x5E8F;&#x540E;&lt;-------&quot;) print(array) &#x8F93;&#x51FA;: 1234-------&gt;&#x6392;&#x5E8F;&#x524D;&lt;-------[265, 494, 302, 160, 370, 219, 247, 287, 354, 405, 469, 82, 345, 319, 83, 258, 497, 423, 291, 304]-------&gt;&#x6392;&#x5E8F;&#x540E;&lt;-------[82, 83, 160, 219, 247, 258, 265, 287, 291, 302, 304, 319, 345, 354, 370, 405, 423, 469, 494, 497] &#x8BB2;&#x89E3;&#x4EE5;&#x968F;&#x673A;&#x4EA7;&#x751F;&#x7684;&#x4E94;&#x4E2A;&#x6570;&#x4E3A;&#x4F8B;:&#x3000;li=[354,405,469,82,345] &#x5192;&#x6CE1;&#x6392;&#x5E8F;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;? &#x9996;&#x5148;&#x5148;&#x6765;&#x4E2A;&#x5927;&#x5FAA;&#x73AF;&#xFF0C;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#x627E;&#x51FA;&#x6700;&#x5927;&#x7684;&#x6570;&#xFF0C;&#x653E;&#x5728;&#x5217;&#x8868;&#x7684;&#x6700;&#x540E;&#x9762;&#x3002;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x627E;&#x51FA;&#x6700;&#x5927;&#x6570;469&#xFF0C;&#x5C06;469&#x653E;&#x5728;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#xFF0C;&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5217;&#x8868;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x80AF;&#x5B9A;&#x662F;&#x6700;&#x5927;&#x7684;&#xFF0C;&#x6545;&#x8FD8;&#x9700;&#x8981;&#x518D;&#x6BD4;&#x8F83;&#x524D;&#x9762;4&#x4E2A;&#x6570;&#xFF0C;&#x627E;&#x51FA;4&#x4E2A;&#x6570;&#x4E2D;&#x6700;&#x5927;&#x7684;&#x6570;405&#xFF0C;&#x653E;&#x5728;&#x5217;&#x8868;&#x5012;&#x6570;&#x7B2C;&#x4E8C;&#x4E2A;&#x2026;&#x2026; 5&#x4E2A;&#x6570;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x9700;&#x8981;&#x591A;&#x5C11;&#x6B21;&#x7684;&#x5927;&#x5FAA;&#x73AF;??&#x3000;&#x5F53;&#x7136;&#x662F;4&#x6B21;&#x5566;!&#x540C;&#x7406;&#xFF0C;&#x82E5;&#x6709;n&#x4E2A;&#x6570;&#xFF0C;&#x9700;n-1&#x6B21;&#x5927;&#x5FAA;&#x73AF;&#x3002; &#x73B0;&#x5728;&#x4F60;&#x4F1A;&#x95EE;&#x6211;: &#x7B2C;&#x4E00;&#x6B21;&#x627E;&#x51FA;&#x6700;&#x5927;&#x6570;469&#xFF0C;&#x5C06;469&#x653E;&#x5728;&#x6700;&#x540E;&#x4E00;&#x4E2A;??&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;?? &#x55EF;&#xFF0C;&#xFF08;&#x5728;&#x5927;&#x5FAA;&#x73AF;&#x91CC;&#xFF09;&#x7528;&#x4E00;&#x4E2A;&#x5C0F;&#x5FAA;&#x73AF;&#x8FDB;&#x884C;&#x4E24;&#x6570;&#x6BD4;&#x8F83;&#xFF0C;&#x9996;&#x5148;354&#x4E0E;405&#x6BD4;&#x8F83;&#xFF0C;&#x82E5;&#x524D;&#x8005;&#x8F83;&#x5927;&#xFF0C;&#x9700;&#x8981;&#x4EA4;&#x6362;&#x6570;&#xFF1B;&#x53CD;&#x4E4B;&#x4E0D;&#x7528;&#x4EA4;&#x6362;&#x3002;&#x5F53;469&#x4E0E;82&#x6BD4;&#x8F83;&#x65F6;&#xFF0C;&#x9700;&#x4EA4;&#x6362;&#xFF0C;&#x6545;&#x5217;&#x8868;&#x5012;&#x6570;&#x7B2C;&#x4E8C;&#x4E2A;&#x4E3A;469&#xFF1B;469&#x4E0E;345&#x6BD4;&#x8F83;&#xFF0C;&#x9700;&#x4EA4;&#x6362;&#xFF0C;&#x6B64;&#x65F6;&#x6700;&#x5927;&#x6570;469&#x4F4D;&#x4E8E;&#x5217;&#x8868;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5566;! &#x96BE;&#x70B9;&#x6765;&#x4E86;&#xFF0C;&#x5C0F;&#x5FAA;&#x73AF;&#x9700;&#x8981;&#x591A;&#x5C11;&#x6B21;?? &#x8FDB;&#x884C;&#x4E24;&#x6570;&#x6BD4;&#x8F83;&#xFF0C;&#x4ECE;&#x5217;&#x8868;&#x5934;&#x6BD4;&#x8F83;&#x81F3;&#x5217;&#x8868;&#x5C3E;&#xFF0C;&#x6B64;&#x65F6;&#x9700;len(array)-1&#x6B21;!! &#x4F46;&#x662F;&#xFF0C;&#x55EF;&#xFF0C;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#x5427;: &#x5F53;&#x5927;&#x5FAA;&#x73AF;i&#x4E3A;3&#x65F6;&#xFF0C;&#x8BF4;&#x660E;&#x6B64;&#x65F6;&#x5217;&#x8868;&#x7684;&#x6700;&#x540E;3&#x4E2A;&#x6570;&#x5DF2;&#x7ECF;&#x6392;&#x597D;&#x5E8F;&#x4E86;&#xFF0C;&#x4E0D;&#x5FC5;&#x8FDB;&#x884C;&#x4E24;&#x6570;&#x6BD4;&#x8F83;&#xFF0C;&#x6545;&#x5C0F;&#x5FAA;&#x73AF;&#x9700;len(array)-1-3.&#x3000;&#x5373;len(array)-1-i &#x5192;&#x6CE1;&#x6392;&#x5E8F;&#x590D;&#x6742;&#x5EA6;123&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;: &#x6700;&#x597D;&#x60C5;&#x51B5;O(n), &#x6700;&#x574F;&#x60C5;&#x51B5;O(n^2), &#x5E73;&#x5747;&#x60C5;&#x51B5;O(n^2)&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;: O(1)&#x7A33;&#x5B9A;&#x6027;: &#x7A33;&#x5B9A; &#x7B80;&#x5355;&#x9009;&#x62E9;&#x6392;&#x5E8F;&#x7684;&#x793A;&#x4F8B;&#xFF1A; &#x9009;&#x62E9;&#x6392;&#x5E8F;The selection sort works as follows: you look through the entire array for the smallest element, once you find it you swap it (the smallest element) with the first element of the array. Then you look for the smallest element in the remaining array (an array without the first element) and swap it with the second element. Then you look for the smallest element in the remaining array (an array without first and second elements) and swap it with the third element, and so on. Here is an example &#x57FA;&#x672C;&#x601D;&#x60F3;&#x5728;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x4E00;&#x7EC4;&#x6570;&#x4E2D;&#xFF0C;&#x9009;&#x51FA;&#x6700;&#x5C0F;&#xFF08;&#x6216;&#x8005;&#x6700;&#x5927;&#xFF09;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x4E0E;&#x7B2C;1&#x4E2A;&#x4F4D;&#x7F6E;&#x7684;&#x6570;&#x4EA4;&#x6362;&#xFF1B;&#x7136;&#x540E;&#x5728;&#x5269;&#x4E0B;&#x7684;&#x6570;&#x5F53;&#x4E2D;&#x518D;&#x627E;&#x6700;&#x5C0F;&#xFF08;&#x6216;&#x8005;&#x6700;&#x5927;&#xFF09;&#x7684;&#x4E0E;&#x7B2C;2&#x4E2A;&#x4F4D;&#x7F6E;&#x7684;&#x6570;&#x4EA4;&#x6362;&#xFF0C;&#x4F9D;&#x6B21;&#x7C7B;&#x63A8;&#xFF0C;&#x76F4;&#x5230;&#x7B2C;n-1&#x4E2A;&#x5143;&#x7D20;&#xFF08;&#x5012;&#x6570;&#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#xFF09;&#x548C;&#x7B2C;n&#x4E2A;&#x5143;&#x7D20;&#xFF08;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6570;&#xFF09;&#x6BD4;&#x8F83;&#x4E3A;&#x6B62;&#x3002; &#x7B80;&#x5355;&#x9009;&#x62E9;&#x6392;&#x5E8F;&#x7684;&#x793A;&#x4F8B; &#x7B97;&#x6CD5;&#x5B9E;&#x73B0;123456789101112131415def select_sort(array): for i in range(len(array)-1): # &#x627E;&#x51FA;&#x6700;&#x5C0F;&#x7684;&#x6570;&#x653E;&#x4E0E;array[i]&#x4EA4;&#x6362; for j in range(i+1, len(array)): if array[i] &gt; array[j]: temp = array[i] array[i] = array[j] array[j] = tempif __name__ == &quot;__main__&quot;: array = [265, 494, 302, 160, 370, 219, 247, 287, 354, 405, 469, 82, 345, 319, 83, 258, 497, 423, 291, 304] print(array) select_sort(array) print(array) &#x9009;&#x62E9;&#x6392;&#x5E8F;&#x590D;&#x6742;&#x5EA6;:1234567&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;: &#x6700;&#x597D;&#x60C5;&#x51B5;O(n^2), &#x6700;&#x574F;&#x60C5;&#x51B5;O(n^2), &#x5E73;&#x5747;&#x60C5;&#x51B5;O(n^2)&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;: O(1)&#x7A33;&#x5B9A;&#x6027;: &#x4E0D;&#x7A33;&#x5B9A;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;&#x5E8F;&#x5217;5 8 5 2 9&#xFF0C; &#x6211;&#x4EEC;&#x77E5;&#x9053;&#x7B2C;&#x4E00;&#x8D9F;&#x9009;&#x62E9;&#x7B2C;1&#x4E2A;&#x5143;&#x7D20;5&#x4F1A;&#x4E0E;2&#x8FDB;&#x884C;&#x4EA4;&#x6362;&#xFF0C;&#x90A3;&#x4E48;&#x539F;&#x5E8F;&#x5217;&#x4E2D;&#x4E24;&#x4E2A;5&#x7684;&#x76F8;&#x5BF9;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x4E5F;&#x5C31;&#x88AB;&#x7834;&#x574F;&#x4E86;&#x3002; &#x6392;&#x5E8F;&#x6548;&#x679C;&#xFF1A; &#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x63D2;&#x5165;&#x6392;&#x5E8F;(Insertion Sort)&#x7684;&#x57FA;&#x672C;&#x601D;&#x60F3;&#x662F;&#xFF1A;&#x5C06;&#x5217;&#x8868;&#x5206;&#x4E3A;2&#x90E8;&#x5206;&#xFF0C;&#x5DE6;&#x8FB9;&#x4E3A;&#x6392;&#x5E8F;&#x597D;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x53F3;&#x8FB9;&#x4E3A;&#x672A;&#x6392;&#x5E8F;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x5FAA;&#x73AF;&#x6574;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x6BCF;&#x6B21;&#x5C06;&#x4E00;&#x4E2A;&#x5F85;&#x6392;&#x5E8F;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x6309;&#x5176;&#x5173;&#x952E;&#x5B57;&#x5927;&#x5C0F;&#x63D2;&#x5165;&#x5230;&#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x6392;&#x597D;&#x5E8F;&#x7684;&#x5B50;&#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x9002;&#x5F53;&#x4F4D;&#x7F6E;&#xFF0C;&#x76F4;&#x5230;&#x5168;&#x90E8;&#x8BB0;&#x5F55;&#x63D2;&#x5165;&#x5B8C;&#x6210;&#x4E3A;&#x6B62;&#x3002; &#x63D2;&#x5165;&#x6392;&#x5E8F;&#x975E;&#x5E38;&#x7C7B;&#x4F3C;&#x4E8E;&#x6574;&#x6251;&#x514B;&#x724C;&#x3002; &#x5728;&#x5F00;&#x59CB;&#x6478;&#x724C;&#x65F6;&#xFF0C;&#x5DE6;&#x624B;&#x662F;&#x7A7A;&#x7684;&#xFF0C;&#x724C;&#x9762;&#x671D;&#x4E0B;&#x653E;&#x5728;&#x684C;&#x4E0A;&#x3002;&#x63A5;&#x7740;&#xFF0C;&#x4E00;&#x6B21;&#x4ECE;&#x684C;&#x4E0A;&#x6478;&#x8D77;&#x4E00;&#x5F20;&#x724C;&#xFF0C;&#x5E76;&#x5C06;&#x5B83;&#x63D2;&#x5165;&#x5230;&#x5DE6;&#x624B;&#x4E00;&#x628A;&#x724C;&#x4E2D;&#x7684;&#x6B63;&#x786E;&#x4F4D;&#x7F6E;&#x4E0A;&#x3002;&#x4E3A;&#x4E86;&#x627E;&#x5230;&#x8FD9;&#x5F20;&#x724C;&#x7684;&#x6B63;&#x786E;&#x4F4D;&#x7F6E;&#xFF0C;&#x8981;&#x5C06;&#x5B83;&#x4E0E;&#x624B;&#x4E2D;&#x5DF2;&#x6709;&#x7684;&#x724C;&#x4ECE;&#x53F3;&#x5230;&#x5DE6;&#x5730;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;&#x65E0;&#x8BBA;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#xFF0C;&#x5DE6;&#x624B;&#x4E2D;&#x7684;&#x724C;&#x90FD;&#x662F;&#x6392;&#x597D;&#x5E8F;&#x7684;&#x3002; &#x4E5F;&#x8BB8;&#x4F60;&#x6CA1;&#x6709;&#x610F;&#x8BC6;&#x5230;&#xFF0C;&#x4F46;&#x5176;&#x5B9E;&#x4F60;&#x7684;&#x601D;&#x8003;&#x8FC7;&#x7A0B;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;&#x73B0;&#x5728;&#x6293;&#x5230;&#x4E00;&#x5F20;7&#xFF0C;&#x628A;&#x5B83;&#x548C;&#x624B;&#x91CC;&#x7684;&#x724C;&#x4ECE;&#x53F3;&#x5230;&#x5DE6;&#x4F9D;&#x6B21;&#x6BD4;&#x8F83;&#xFF0C;7&#x6BD4;10&#x5C0F;&#xFF0C;&#x5E94;&#x8BE5;&#x518D;&#x5F80;&#x5DE6;&#x63D2;&#xFF0C;7&#x6BD4;5&#x5927;&#xFF0C;&#x597D;&#xFF0C;&#x5C31;&#x63D2;&#x8FD9;&#x91CC;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x6BD4;&#x8F83;&#x4E86;10&#x548C;5&#x5C31;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;7&#x7684;&#x4F4D;&#x7F6E;&#xFF1F;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;&#x518D;&#x6BD4;&#x8F83;&#x5DE6;&#x8FB9;&#x7684;4&#x548C;2&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x524D;&#x63D0;&#xFF1A;&#x624B;&#x91CC;&#x7684;&#x724C;&#x5DF2;&#x7ECF;&#x662F;&#x6392;&#x597D;&#x5E8F;&#x7684;&#x3002;&#x73B0;&#x5728;&#x6211;&#x63D2;&#x4E86;7&#x4E4B;&#x540E;&#xFF0C;&#x624B;&#x91CC;&#x7684;&#x724C;&#x4ECD;&#x7136;&#x662F;&#x6392;&#x597D;&#x5E8F;&#x7684;&#xFF0C;&#x4E0B;&#x6B21;&#x518D;&#x6293;&#x5230;&#x7684;&#x724C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x63D2;&#x5165;&#x3002;&#x7F16;&#x7A0B;&#x5BF9;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x4E5F;&#x662F;&#x540C;&#x6837;&#x9053;&#x7406;&#xFF0C;&#x4F46;&#x548C;&#x63D2;&#x5165;&#x6251;&#x514B;&#x724C;&#x6709;&#x4E00;&#x70B9;&#x4E0D;&#x540C;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x5728;&#x4E24;&#x4E2A;&#x76F8;&#x90BB;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E4B;&#x95F4;&#x518D;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x5355;&#x5143;&#xFF0C;&#x56E0;&#x6B64;&#x8981;&#x5C06;&#x63D2;&#x5165;&#x70B9;&#x4E4B;&#x540E;&#x7684;&#x6570;&#x636E;&#x4F9D;&#x6B21;&#x5F80;&#x540E;&#x79FB;&#x52A8;&#x4E00;&#x4E2A;&#x5355;&#x5143;&#x3002; &#x7B97;&#x6CD5;&#x5B9E;&#x73B0;12345678910111213141516171819202122232425import timedef insertion_sort(array): for i in range(1, len(array)): # &#x5BF9;&#x7B2C;i&#x4E2A;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#xFF0C;i&#x524D;&#x9762;&#x662F;&#x5DF2;&#x7ECF;&#x6392;&#x5E8F;&#x597D;&#x7684;&#x5143;&#x7D20; position = i # &#x8981;&#x63D2;&#x5165;&#x6570;&#x7684;&#x4E0B;&#x6807; current_val = array[position] # &#x628A;&#x5F53;&#x524D;&#x503C;&#x5B58;&#x4E0B;&#x6765; # &#x5982;&#x679C;&#x524D;&#x4E00;&#x4E2A;&#x6570;&#x5927;&#x4E8E;&#x8981;&#x63D2;&#x5165;&#x6570;&#xFF0C;&#x5219;&#x5C06;&#x524D;&#x4E00;&#x4E2A;&#x6570;&#x5F80;&#x540E;&#x79FB;&#xFF0C;&#x6BD4;&#x5982;5,8,12,7;&#x8981;&#x5C06;7&#x63D2;&#x5165;&#xFF0C;&#x5148;&#x628A;7&#x4FDD;&#x5B58;&#x4E0B;&#x6765;&#xFF0C;&#x6BD4;&#x8F83;12&#x4E0E;7&#xFF0C;&#x5C06;12&#x5F80;&#x540E;&#x79FB; while position &gt; 0 and current_val &lt; array[position-1]: array[position] = array[position-1] position -= 1 else: # &#x5F53;position&#x4E3A;&#xFF10;&#x6216;&#x524D;&#x4E00;&#x4E2A;&#x6570;&#x6BD4;&#x5F85;&#x63D2;&#x5165;&#x8FD8;&#x5C0F;&#x65F6; array[position] = current_valif __name__ == &quot;__main__&quot;: array = [92, 77, 67, 8, 6, 84, 55, 85, 43, 67] print(array) time_start = time.time() insertion_sort(array) time_end = time.time() print(&quot;time: %s&quot; % (time_end-time_start)) print(array) &#x8F93;&#x51FA;: 123[92, 77, 67, 8, 6, 84, 55, 85, 43, 67]time: 0.0[6, 8, 43, 55, 67, 67, 77, 84, 85, 92] &#x5982;&#x679C;&#x78B0;&#x89C1;&#x4E00;&#x4E2A;&#x548C;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x76F8;&#x7B49;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x628A;&#x60F3;&#x63D2;&#x5165;&#x7684;&#x5143;&#x7D20;&#x653E;&#x5728;&#x76F8;&#x7B49;&#x5143;&#x7D20;&#x7684;&#x540E;&#x9762;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x76F8;&#x7B49;&#x5143;&#x7D20;&#x7684;&#x524D;&#x540E;&#x987A;&#x5E8F;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#xFF0C;&#x4ECE;&#x539F;&#x65E0;&#x5E8F;&#x5E8F;&#x5217;&#x51FA;&#x53BB;&#x7684;&#x987A;&#x5E8F;&#x5C31;&#x662F;&#x6392;&#x597D;&#x5E8F;&#x540E;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x6240;&#x4EE5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x662F;&#x7A33;&#x5B9A;&#x7684;&#x3002; &#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x590D;&#x6742;&#x5EA6;123&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;: &#x6700;&#x597D;&#x60C5;&#x51B5;O(n), &#x6700;&#x574F;&#x60C5;&#x51B5;O(n^2), &#x5E73;&#x5747;&#x60C5;&#x51B5;O(n^2)&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;: O(1)&#x7A33;&#x5B9A;&#x6027;: &#x7A33;&#x5B9A; &#x4E2A;&#x4EBA;&#x611F;&#x89C9;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x96BE;&#x5EA6;&#x662F;&#x9009;&#x62E9;/&#x5192;&#x6CE1;&#x7B97;&#x6CD5;&#x662F;&#x4E24;&#x500D;&#x2026;&#x2026; &#x5FEB;&#x901F;&#x6392;&#x5E8F; &#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x793A;&#x4F8B; &#x7B97;&#x6CD5;&#x5B9E;&#x73B0;1234567891011121314151617181920212223242526272829303132333435363738def quick_sort(array, left, right): &apos;&apos;&apos; :param array: :param left: &#x5217;&#x8868;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x7D22;&#x5F15; :param right: &#x5217;&#x8868;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15; :return: &apos;&apos;&apos; if left &gt;= right: return low = left high = right key = array[low] # &#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5373;&#x57FA;&#x51C6;&#x5143;&#x7D20; while low &lt; high: # &#x53EA;&#x8981;&#x5DE6;&#x53F3;&#x672A;&#x9047;&#x89C1; while low &lt; high and array[high] &gt; key: # &#x627E;&#x5230;&#x5217;&#x8868;&#x53F3;&#x8FB9;&#x6BD4;key&#x5927;&#x7684;&#x503C; &#x4E3A;&#x6B62; high -= 1 # &#x6B64;&#x65F6;&#x76F4;&#x63A5; &#x628A;key&#x8DDF; &#x6BD4;&#x5B83;&#x5927;&#x7684;array[high]&#x8FDB;&#x884C;&#x4EA4;&#x6362; array[low] = array[high] array[high] = key while low &lt; high and array[low] &lt;= key: # &#x627E;&#x5230;key&#x5DE6;&#x8FB9;&#x6BD4;key&#x5927;&#x7684;&#x503C;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3A;&#x4F55;&#x662F;&lt;=&#x800C;&#x4E0D;&#x662F;&lt;&#x5462;&#xFF1F;&#x4F60;&#x8981;&#x601D;&#x8003;&#x3002;&#x3002;&#x3002; low += 1 # &#x627E;&#x5230;&#x4E86;&#x5DE6;&#x8FB9;&#x6BD4;k&#x5927;&#x7684;&#x503C; ,&#x628A;array[high](&#x6B64;&#x65F6;&#x5E94;&#x8BE5;&#x521A;&#x5B58;&#x6210;&#x4E86;key) &#x8DDF;&#x8FD9;&#x4E2A;&#x6BD4;key&#x5927;&#x7684;array[low]&#x8FDB;&#x884C;&#x8C03;&#x6362; array[high] = array[low] array[low] = key quick_sort(array, left, low-1) # &#x6700;&#x540E;&#x7528;&#x540C;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x5BF9;&#x5206;&#x51FA;&#x6765;&#x7684;&#x5DE6;&#x8FB9;&#x7684;&#x5C0F;&#x7EC4;&#x8FDB;&#x884C;&#x540C;&#x4E0A;&#x7684;&#x505A;&#x6CD5; quick_sort(array,low+1, right) # &#x7528;&#x540C;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x5BF9;&#x5206;&#x51FA;&#x6765;&#x7684;&#x53F3;&#x8FB9;&#x7684;&#x5C0F;&#x7EC4;&#x8FDB;&#x884C;&#x540C;&#x4E0A;&#x7684;&#x505A;&#x6CD5;if __name__ == &apos;__main__&apos;: array = [8,4,1, 14, 6, 2, 3, 9,5, 13, 7,1, 8,10, 12] print(&quot;-------&#x6392;&#x5E8F;&#x524D;-------&quot;) print(array) quick_sort(array, 0, len(array)-1) print(&quot;-------&#x6392;&#x5E8F;&#x540E;-------&quot;) print(array) &#x8F93;&#x51FA;: 1234-------&#x6392;&#x5E8F;&#x524D;-------[8, 4, 1, 14, 6, 2, 3, 9, 5, 13, 7, 1, 8, 10, 12]-------&#x6392;&#x5E8F;&#x540E;-------[1, 1, 2, 3, 4, 5, 6, 7, 8, 8, 9, 10, 12, 13, 14] 22&#x884C;&#x90A3;&#x91CC;&#x5982;&#x679C;&#x4E0D;&#x52A0;&#xFF1D;&#x53F7;&#xFF0C;&#x5F53;&#x6392;&#x5E8F;64&#xFF0C;77&#xFF0C;64&#x662F;&#x4F1A;&#x6B7B;&#x5FAA;&#x73AF;&#xFF0C;&#x6B64;&#x65F6;key=64,&#x3000;&#x6700;&#x540E;&#x7684;64&#x4E0E;&#x5F00;&#x59CB;&#x7684;64&#x4EA4;&#x6362;&#xFF0C;&#x5F00;&#x59CB;&#x7684;64&#x4E0E;&#x672C;&#x6700;&#x540E;&#x7684;64&#x4EA4;&#x6362;&#x2026;&#x2026;&#x3000;&#x65E0;&#x7A77;&#x65E0;&#x5C3D; &#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x590D;&#x6742;&#x5EA6;:12345&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;: &#x6700;&#x597D;&#x60C5;&#x51B5;O(nlogn), &#x6700;&#x574F;&#x60C5;&#x51B5;O(n^2), &#x5E73;&#x5747;&#x60C5;&#x51B5;O(nlogn)&#x4E0B;&#x9762;&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x662F;&#x770B;&#x522B;&#x4EBA;&#x535A;&#x5BA2;&#x7684;&#xFF0C;&#x6211;&#x4E5F;&#x4E0D;&#x5927;&#x61C2;&#x4E86;&#x2026;&#x2026;&#x6539;&#x5929;&#x518D;&#x7814;&#x7A76;&#x4E0B;&#x3002;&#x6700;&#x4F18;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;&#xFF1A;O(logn)&#xFF1B;&#x6BCF;&#x4E00;&#x6B21;&#x90FD;&#x5E73;&#x5206;&#x6570;&#x7EC4;&#x7684;&#x60C5;&#x51B5;&#x6700;&#x5DEE;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;&#xFF1A;O( n )&#xFF1B;&#x9000;&#x5316;&#x4E3A;&#x5192;&#x6CE1;&#x6392;&#x5E8F;&#x7684;&#x60C5;&#x51B5;&#x7A33;&#x5B9A;&#x6027;:&#x4E0D;&#x7A33;&#x5B9A; &#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x6548;&#x679C; &#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x89C2;&#x5BDF;&#x4E00;&#x4E0B;&#x201D;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x201C;&#xFF1A;&#x5176;&#x5B9E;&#x4E0D;&#x96BE;&#x53D1;&#x73B0;&#x5979;&#x6709;&#x4E2A;&#x7F3A;&#x70B9;&#xFF1A; &#x5982;&#x679C;&#x5F53;&#x6570;&#x636E;&#x662F;&#x201D;5, 4, 3, 2, 1&#x201C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x5C06;&#x201C;&#x65E0;&#x5E8F;&#x5757;&#x201D;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x63D2;&#x5165;&#x5230;&#x201C;&#x6709;&#x5E8F;&#x5757;&#x201D;&#x65F6;&#xFF0C;&#x4F30;&#x8BA1;&#x4FFA;&#x4EEC;&#x8981;&#x5D29;&#x76D8;&#xFF0C; &#x6BCF;&#x6B21;&#x63D2;&#x5165;&#x90FD;&#x8981;&#x79FB;&#x52A8;&#x4F4D;&#x7F6E;&#xFF0C;&#x6B64;&#x65F6;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x7684;&#x6548;&#x7387;&#x53EF;&#x60F3;&#x800C;&#x77E5;&#x3002; shell&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x5F31;&#x70B9;&#x8FDB;&#x884C;&#x4E86;&#x7B97;&#x6CD5;&#x6539;&#x8FDB;&#xFF0C;&#x878D;&#x5165;&#x4E86;&#x4E00;&#x79CD;&#x53EB;&#x505A;&#x201C;&#x7F29;&#x5C0F;&#x589E;&#x91CF;&#x6392;&#x5E8F;&#x6CD5;&#x201D;&#x7684;&#x601D;&#x60F3;&#xFF0C;&#x5176;&#x5B9E;&#x4E5F;&#x86EE;&#x7B80;&#x5355;&#x7684;&#xFF0C;&#x4E0D;&#x8FC7;&#x6709;&#x70B9;&#x6CE8;&#x610F;&#x7684;&#x5C31;&#x662F;&#xFF1A; &#x589E;&#x91CF;&#x4E0D;&#x662F;&#x4E71;&#x53D6;&#xFF0C;&#x800C;&#x662F;&#x6709;&#x89C4;&#x5F8B;&#x53EF;&#x5FAA;&#x7684;&#x3002; &#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x65F6;&#x6548;&#x5206;&#x6790;&#x5F88;&#x96BE;&#xFF0C;&#x5173;&#x952E;&#x7801;&#x7684;&#x6BD4;&#x8F83;&#x6B21;&#x6570;&#x4E0E;&#x8BB0;&#x5F55;&#x79FB;&#x52A8;&#x6B21;&#x6570;&#x4F9D;&#x8D56;&#x4E8E;&#x589E;&#x91CF;&#x56E0;&#x5B50;&#x5E8F;&#x5217;d&#x7684;&#x9009;&#x53D6;&#xFF0C;&#x7279;&#x5B9A;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x51C6;&#x786E;&#x4F30;&#x7B97;&#x51FA;&#x5173;&#x952E;&#x7801;&#x7684;&#x6BD4;&#x8F83;&#x6B21;&#x6570;&#x548C;&#x8BB0;&#x5F55;&#x7684;&#x79FB;&#x52A8;&#x6B21;&#x6570;&#x3002;&#x76EE;&#x524D;&#x8FD8;&#x6CA1;&#x6709;&#x4EBA;&#x7ED9;&#x51FA;&#x9009;&#x53D6;&#x6700;&#x597D;&#x7684;&#x589E;&#x91CF;&#x56E0;&#x5B50;&#x5E8F;&#x5217;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x589E;&#x91CF;&#x56E0;&#x5B50;&#x5E8F;&#x5217;&#x53EF;&#x4EE5;&#x6709;&#x5404;&#x79CD;&#x53D6;&#x6CD5;&#xFF0C;&#x6709;&#x53D6;&#x5947;&#x6570;&#x7684;&#xFF0C;&#x4E5F;&#x6709;&#x53D6;&#x8D28;&#x6570;&#x7684;&#xFF0C;&#x4F46;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF1A;&#x589E;&#x91CF;&#x56E0;&#x5B50;&#x4E2D;&#x9664;1 &#x5916;&#x6CA1;&#x6709;&#x516C;&#x56E0;&#x5B50;&#xFF0C;&#x4E14;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x589E;&#x91CF;&#x56E0;&#x5B50;&#x5FC5;&#x987B;&#x4E3A;1&#x3002;&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x65B9;&#x6CD5;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x7A33;&#x5B9A;&#x7684;&#x6392;&#x5E8F;&#x65B9;&#x6CD5;&#x3002; &#x9996;&#x5148;&#x8981;&#x660E;&#x786E;&#x4E00;&#x4E0B;&#x589E;&#x91CF;&#x7684;&#x53D6;&#x6CD5;(&#x8FD9;&#x91CC;&#x56FE;&#x7247;&#x662F;copy&#x522B;&#x4EBA;&#x535A;&#x5BA2;&#x7684;&#xFF0C;&#x589E;&#x91CF;&#x662F;&#x5947;&#x6570;&#xFF0C;&#x6211;&#x4E0B;&#x9762;&#x7684;&#x7F16;&#x7A0B;&#x7528;&#x7684;&#x662F;&#x5076;&#x6570;)&#xFF1A; 12345&#x7B2C;&#x4E00;&#x6B21;&#x589E;&#x91CF;&#x7684;&#x53D6;&#x6CD5;&#x4E3A;&#xFF1A; d=count/2;&#x7B2C;&#x4E8C;&#x6B21;&#x589E;&#x91CF;&#x7684;&#x53D6;&#x6CD5;&#x4E3A;: d=(count/2)/2;&#x6700;&#x540E;&#x4E00;&#x76F4;&#x5230;: d=1; &#x597D;&#xFF0C;&#x6CE8;&#x610F;&#x770B;&#x56FE;&#x4E86;&#xFF0C;&#x7B2C;&#x4E00;&#x8D9F;&#x7684;&#x589E;&#x91CF;d1=5, &#x5C06;10&#x4E2A;&#x5F85;&#x6392;&#x8BB0;&#x5F55;&#x5206;&#x4E3A;5&#x4E2A;&#x5B50;&#x5E8F;&#x5217;&#xFF0C;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x7ED3;&#x679C;&#x4E3A;(13, 27, 49, 55, 04, 49, 38, 65, 97, 76) &#x7B2C;&#x4E8C;&#x8D9F;&#x7684;&#x589E;&#x91CF;d2=3, &#x5C06;10&#x4E2A;&#x5F85;&#x6392;&#x8BB0;&#x5F55;&#x5206;&#x4E3A;3&#x4E2A;&#x5B50;&#x5E8F;&#x5217;&#xFF0C;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x7ED3;&#x679C;&#x4E3A;(13, 04, 49, 38, 27, 49, 55, 65, 97, 76) &#x7B2C;&#x4E09;&#x8D9F;&#x7684;&#x589E;&#x91CF;d3=1, &#x5BF9;&#x6574;&#x4E2A;&#x5E8F;&#x5217;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x6700;&#x540E;&#x7ED3;&#x679C;&#x4E3A;(04, 13, 27, 38, 49, 49, 55, 65, 76, 97) &#x91CD;&#x70B9;&#x6765;&#x4E86;&#x3002;&#x5F53;&#x589E;&#x91CF;&#x51CF;&#x5C0F;&#x5230;1&#x65F6;&#xFF0C;&#x6B64;&#x65F6;&#x5E8F;&#x5217;&#x5DF2;&#x57FA;&#x672C;&#x6709;&#x5E8F;&#xFF0C;&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x7684;&#x6700;&#x540E;&#x4E00;&#x8D9F;&#x5C31;&#x662F;&#x63A5;&#x8FD1;&#x6700;&#x597D;&#x60C5;&#x51B5;&#x7684;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x3002;&#x53EF;&#x5C06;&#x524D;&#x9762;&#x5404;&#x8D9F;&#x7684;&#x201D;&#x5B8F;&#x89C2;&#x201D;&#x8C03;&#x6574;&#x770B;&#x6210;&#x662F;&#x6700;&#x540E;&#x4E00;&#x8D9F;&#x7684;&#x9884;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x53EA;&#x505A;&#x4E00;&#x6B21;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x6548;&#x7387;&#x66F4;&#x9AD8;&#x3002; 1234567891011121314151617181920212223242526272829303132333435def ShellInsetSort(array, len_array, dk): # &#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F; for i in range(dk, len_array): # &#x4ECE;&#x4E0B;&#x6807;&#x4E3A;dk&#x7684;&#x6570;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#x6392;&#x5E8F; position = i current_val = array[position] # &#x8981;&#x63D2;&#x5165;&#x7684;&#x6570; index = i j = int(index / dk) # index&#x4E0E;dk&#x7684;&#x5546; index = index - j * dk # while True: # &#x627E;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x5728;&#x589E;&#x91CF;&#x4E3A;dk&#x4E2D;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x7684;&#x4E0B;&#x6807;index&#x5FC5;&#x7136; 0&lt;=index&lt;dk # index = index - dk # if 0&lt;=index and index &lt;dk: # break # position&gt;index,&#x8981;&#x63D2;&#x5165;&#x7684;&#x6570;&#x7684;&#x4E0B;&#x6807;&#x5FC5;&#x987B;&#x5F97;&#x5927;&#x4E8E;&#x7B2C;&#x4E00;&#x4E2A;&#x4E0B;&#x6807; while position &gt; index and current_val &lt; array[position-dk]: array[position] = array[position-dk] # &#x5F80;&#x540E;&#x79FB;&#x52A8; position = position-dk else: array[position] = current_valdef ShellSort(array, len_array): # &#x5E0C;&#x5C14;&#x6392;&#x5E8F; dk = int(len_array/2) # &#x589E;&#x91CF; while(dk &gt;= 1): ShellInsetSort(array, len_array, dk) print(&quot;&gt;&gt;:&quot;,array) dk = int(dk/2)if __name__ == &quot;__main__&quot;: array = [49, 38, 65, 97, 76, 13, 27, 49, 55, 4] print(&quot;&gt;:&quot;, array) ShellSort(array, len(array)) &#x8F93;&#x51FA;: 12345&gt;: [49, 38, 65, 97, 76, 13, 27, 49, 55, 4]&gt;&gt;: [13, 27, 49, 55, 4, 49, 38, 65, 97, 76]&gt;&gt;: [4, 27, 13, 49, 38, 55, 49, 65, 97, 76]&gt;&gt;: [4, 13, 27, 38, 49, 49, 55, 65, 76, 97]&#x9996;&#x5148;&#x4F60;&#x5F97;&#x5148;&#x4F1A;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x4E0D;&#x4F1A;&#x4F60;&#x5FC5;&#x7136;&#x770B;&#x4E0D;&#x61C2;&#x3002; &#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x5373;&#x662F;&#x5BF9;&#x4E0A;&#x56FE;&#x4E09;&#x4E2A;&#x9EC4;&#x8272;&#x6846;&#x4E2D;&#x7684;&#x6570;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;13&#xFF0C;55&#xFF0C;38&#xFF0C;76 &#x76F4;&#x63A5;&#x770B;55&#xFF0C;55&lt;13, &#x4E0D;&#x7528;&#x79FB;&#x52A8;&#x3002;&#x63A5;&#x7740;&#x770B;38&#xFF0C;38&lt;55&#xFF0C;&#x90A3;&#x4E48;55&#x540E;&#x79FB;&#xFF0C;&#x6570;&#x636E;&#x53D8;&#x4E3A;[13&#xFF0C;55&#xFF0C;55&#xFF0C;76]&#xFF0C;&#x63A5;&#x7740;&#x6BD4;&#x8F83;13&lt;38, &#x90A3;&#x4E48;38&#x66FF;&#x6362;55&#xFF0C;&#x53D8;&#x6210;[13&#xFF0C;38&#xFF0C;55&#xFF0C;76]&#x3002;&#x5176;&#x5B83;&#x540C;&#x7406;&#xFF0C;&#x7565;&#x3002; &#x8FD9;&#x91CC;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x7B2C;&#x4E8C;&#x4E2A;&#x9EC4;&#x8272;&#x6846;[27&#xFF0C;4&#xFF0C;65]&#xFF0C;4&lt;27, &#x90A3;27&#x5F80;&#x540E;&#x79FB;&#xFF0C;&#x63A5;&#x7740;4&#x5C31;&#x66FF;&#x6362;&#x7B2C;&#x4E00;&#x4E2A;&#xFF0C;&#x6570;&#x636E;&#x53D8;&#x6210;[4&#xFF0C;27&#xFF0C;65]&#xFF0C;&#x4F46;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x600E;&#x4E48;&#x77E5;&#x9053;4&#x5C31;&#x662F;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x554A;?? &#x6211;&#x7684;&#x505A;&#x6CD5;&#x662F;&#xFF0C;&#x5148;&#x627E;&#x51FA;[27&#xFF0C;4&#xFF0C;65]&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;27&#x7684;&#x4E0B;&#x6807;&#x4E3A;1&#x3002;&#x5F53;&#x8981;&#x63D2;&#x5165;&#x7684;&#x6570;&#x7684;&#x4E0B;&#x6807;&#x5927;&#x4E8E;&#x7B2C;&#x4E00;&#x4E2A;&#x4E0B;&#x6807;1&#x65F6;&#xFF0C;&#x624D;&#x53EF;&#x4EE5;&#x5F80;&#x540E;&#x79FB;&#xFF0C;&#x524D;&#x4E00;&#x4E2A;&#x6570;&#x4E0D;&#x53EF;&#x4EE5;&#x5F80;&#x540E;&#x79FB;&#x6709;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x524D;&#x9762;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E;&#x8981;&#x63D2;&#x5165;&#x7684;&#x6570;&#xFF0C;&#x90A3;&#x4F60;&#x53EA;&#x80FD;&#x63D2;&#x5728;&#x5B83;&#x540E;&#x9762;&#x3002;&#x53E6;&#x4E00;&#x79CD;&#xFF0C;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x5F53;&#x8981;&#x63D2;&#x5165;&#x6570;&#x6BD4;&#x524D;&#x9762;&#x6240;&#x6709;&#x6570;&#x90FD;&#x5C0F;&#x65F6;&#xFF0C;&#x90A3;&#x63D2;&#x5165;&#x6570;&#x80AF;&#x5B9A;&#x662F;&#x653E;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#xFF0C;&#x6B64;&#x65F6;&#x8981;&#x63D2;&#x5165;&#x6570;&#x7684;&#x4E0B;&#x6807;&#xFF1D;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x7684;&#x4E0B;&#x6807;&#x3002;(&#x8FD9;&#x6BB5;&#x8BDD;&#xFF0C;&#x611F;&#x89C9;&#x521D;&#x5B66;&#x8005;&#x5E94;&#x8BE5;&#x4E0D;&#x5927;&#x61C2;&#x2026;&#x2026;) &#x4E3A;&#x4E86;&#x627E;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x6700;&#x5F00;&#x59CB;&#x60F3;&#x7684;&#x662F;&#x7528;&#x5FAA;&#x73AF;&#xFF0C;&#x4E00;&#x76F4;&#x5230;&#x6700;&#x524D;&#x9762;: 1234while True: # &#x627E;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x5728;&#x589E;&#x91CF;&#x4E3A;dk&#x4E2D;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x7684;&#x4E0B;&#x6807;index&#x5FC5;&#x7136; 0&lt;=index&lt;dk index = index - dk if 0&lt;=index and index &lt;dk: break &#x5728;Debug&#x65F6;&#xFF0C;&#x53D1;&#x73B0;&#x7528;&#x5FAA;&#x73AF;&#x592A;&#x6D6A;&#x8D39;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F53;&#x589E;&#x91CF;d=1&#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x4E3A;&#x4E86;&#x63D2;&#x5165;&#x5217;&#x8868;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6570;&#xFF0C;&#x5F97;&#x5FAA;&#x73AF;&#x51CF;1&#xFF0C;&#x76F4;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x540E;&#x6765;&#x6211;&#x5B66;&#x806A;&#x660E;&#x4E86;&#xFF0C;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;: 12j = int(index / dk) # index&#x4E0E;dk&#x7684;&#x5546;index = index - j * dk &#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;123&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x662F;&#x6240;&#x53D6;&#x589E;&#x91CF;&#x5E8F;&#x5217;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5C1A;&#x96BE;&#x51C6;&#x786E;&#x5206;&#x6790;&#x3002;&#x6709;&#x6587;&#x732E;&#x6307;&#x51FA;&#xFF0C;&#x5F53;&#x589E;&#x91CF;&#x5E8F;&#x5217;&#x4E3A;d[k]=2^(t-k+1)&#x65F6;&#xFF0C;&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(n^1.5), &#x5176;&#x4E2D;t&#x4E3A;&#x6392;&#x5E8F;&#x8D9F;&#x6570;&#x3002;&#x7A33;&#x5B9A;&#x6027;: &#x4E0D;&#x7A33;&#x5B9A; &#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#x6548;&#x679C;]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[代码注释模板]]></title>
    <url>%2F2017%2F04%2F14%2Fcode-banner%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x4E4B;&#x524D;&#x4ECE;&#x7F51;&#x4E0A;&#x770B;&#x5230;&#x4E86;&#x4E00;&#x4E9B;&#x6709;&#x610F;&#x601D;&#x7684;&#x4EE3;&#x7801;&#x6CE8;&#x91CA;&#xFF0C;&#x6240;&#x4EE5;&#x7279;&#x610F;&#x6536;&#x96C6;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x76EE;&#x524D;&#x6CE8;&#x91CA;&#x4E3B;&#x8981;&#x4E3A;php&#x7BC7;&#xFF0C;&#x6709;&#x65F6;&#x95F4;&#x7684;&#x8BDD;&#x4F1A;&#x8F6C;&#x6210;&#x5176;&#x4ED6;&#x4EE3;&#x7801;&#x53EF;&#x7528;&#x7684;&#x7248;&#x672C;&#x3002; &#x4EE5;&#x4E0B;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x8F6C;&#x81EA; 12&#x4F5C;&#x8005;&#xFF1A;&#x6B27;&#x9633;&#x9E4F; &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x4E0E;&#x4EBA;&#x5206;&#x4EAB;&#x662F;&#x8FDB;&#x6B65;&#x7684;&#x6E90;&#x6CC9;&#xFF01; &#x8F6C;&#x8F7D;&#x8BF7;&#x4FDD;&#x7559;&#x539F;&#x6587;&#x5730;&#x5740;&#xFF1A;http://blog.csdn.net/ouyang_peng PHP&#x795E;&#x517D;&#x7BC7;1234567891011121314151617181920212223/** * * &#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x795E;&#x517D;&#x51FA;&#x6CA1;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501; * &#x3000;&#x3000;&#x3000;&#x250F;&#x2513;&#x3000;&#x3000;&#x3000;&#x250F;&#x2513; * &#x3000;&#x3000;&#x250F;&#x251B;&#x253B;&#x2501;&#x2501;&#x2501;&#x251B;&#x253B;&#x2513; * &#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2501;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x2503;&#x3000;&#x2533;&#x251B;&#x3000;&#x2517;&#x2533;&#x3000;&#x2503; * &#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x253B;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x2517;&#x2501;&#x2513;&#x3000;&#x3000;&#x3000;&#x250F;&#x2501;&#x251B;Code is far away from bug with the animal protecting * &#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503; &#x795E;&#x517D;&#x4FDD;&#x4F51;,&#x4EE3;&#x7801;&#x65E0;bug * &#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2517;&#x2501;&#x2501;&#x2501;&#x2513; * &#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2523;&#x2513; * &#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x250F;&#x251B; * &#x3000;&#x3000;&#x3000;&#x3000;&#x2517;&#x2513;&#x2513;&#x250F;&#x2501;&#x2533;&#x2513;&#x250F;&#x251B; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x252B;&#x252B;&#x3000;&#x2503;&#x252B;&#x252B; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2517;&#x253B;&#x251B;&#x3000;&#x2517;&#x253B;&#x251B; * * &#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x611F;&#x89C9;&#x840C;&#x840C;&#x54D2;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501; */ 1234567891011121314151617181920212223/** * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x250F;&#x2513;&#x3000;&#x3000;&#x3000;&#x250F;&#x2513; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x250F;&#x251B;&#x253B;&#x2501;&#x2501;&#x2501;&#x251B;&#x253B;&#x2513; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; &#x3000; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2501;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#xFF1E;&#x3000;&#x3000;&#x3000;&#xFF1C;&#x3000;&#x2503; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;...&#x3000;&#x2312;&#x3000;...&#x3000;&#x2503; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2517;&#x2501;&#x2513;&#x3000;&#x3000;&#x3000;&#x250F;&#x2501;&#x251B; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;Code is far away from bug with the animal protecting&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503; &#x795E;&#x517D;&#x4FDD;&#x4F51;,&#x4EE3;&#x7801;&#x65E0;bug * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503; &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2517;&#x2501;&#x2501;&#x2501;&#x2513; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2523;&#x2513; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x250F;&#x251B; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2517;&#x2513;&#x2513;&#x250F;&#x2501;&#x2533;&#x2513;&#x250F;&#x251B; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x252B;&#x252B;&#x3000;&#x2503;&#x252B;&#x252B; * &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2517;&#x253B;&#x251B;&#x3000;&#x2517;&#x253B;&#x251B; */ 1234567891011121314151617181920212223/** *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x250F;&#x2513;&#x3000;&#x3000;&#x3000;&#x250F;&#x2513;+ + *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x250F;&#x251B;&#x253B;&#x2501;&#x2501;&#x2501;&#x251B;&#x253B;&#x2513; + + *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; &#x3000; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2501;&#x3000;&#x3000;&#x3000;&#x2503; ++ + + + *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; &#x2588;&#x2588;&#x2588;&#x2588;&#x2501;&#x2588;&#x2588;&#x2588;&#x2588; &#x2503;+ *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; + *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x253B;&#x3000;&#x3000;&#x3000;&#x2503; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; + + *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2517;&#x2501;&#x2513;&#x3000;&#x3000;&#x3000;&#x250F;&#x2501;&#x251B; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503; + + + + *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x3000;Code is far away from bug with the animal protecting&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503; + &#x3000;&#x3000;&#x3000;&#x3000;&#x795E;&#x517D;&#x4FDD;&#x4F51;,&#x4EE3;&#x7801;&#x65E0;bug&#x3000;&#x3000; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000;&#x3000;+&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x3000; &#x3000;&#x3000;&#x2517;&#x2501;&#x2501;&#x2501;&#x2513; + + *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2523;&#x2513; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503; &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x250F;&#x251B; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2517;&#x2513;&#x2513;&#x250F;&#x2501;&#x2533;&#x2513;&#x250F;&#x251B; + + + + *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2503;&#x252B;&#x252B;&#x3000;&#x2503;&#x252B;&#x252B; *&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2517;&#x253B;&#x251B;&#x3000;&#x2517;&#x253B;&#x251B;+ + + + */ 1234567891011121314151617// &#x250F;&#x2513;&#x3000; &#x250F;&#x2513;// &#x250F;&#x251B;&#x253B;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x251B;&#x253B;&#x2513;// &#x2503;&#x3000;&#x3000;&#x3000; &#x2503;// &#x2503; &#x2501;&#x3000; &#x2503;// &#x2503; &#x2533;&#x251B;&#x3000;&#x2517;&#x2533; &#x2503;// &#x2503;&#x3000;&#x3000;&#x3000; &#x2503;// &#x2503; &#x3000;&#x253B;&#x3000; &#x2503;// &#x2503;&#x3000;&#x3000;&#x3000; &#x2503;// &#x2517;&#x2501;&#x2513;&#x3000;&#x3000;&#x3000;&#x250F;&#x2501;&#x251B;// &#x2503;&#x3000;&#x3000;&#x3000;&#x2503; &#x795E;&#x517D;&#x4FDD;&#x4F51;// &#x2503;&#x3000;&#x3000;&#x3000;&#x2503; &#x4EE3;&#x7801;&#x65E0;BUG&#xFF01;// &#x2503;&#x3000;&#x3000;&#x3000;&#x2517;&#x2501;&#x2501;&#x2501;&#x2513;// &#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x2523;&#x2513;// &#x2503;&#x3000;&#x3000;&#x3000;&#x3000; &#x250F;&#x251B;// &#x2517;&#x2513;&#x2513;&#x250F;&#x2501;&#x2501;&#x2501;&#x2533;&#x2513;&#x250F;&#x251B;// &#x2503;&#x252B;&#x252B; &#x3000;&#x2503;&#x252B;&#x252B;// &#x2517;&#x253B;&#x251B; &#x3000;&#x2517;&#x253B;&#x251B; 1234567891011121314151617//// &#x250F;&#x251B; &#x253B;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x251B; &#x253B;&#x2513;// &#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; &#x2503;// &#x2503;&#x3000;&#x3000;&#x3000;&#x2501;&#x3000;&#x3000;&#x3000;&#x2503;// &#x2503;&#x3000;&#x2533;&#x251B;&#x3000; &#x2517;&#x2533;&#x3000;&#x2503;// &#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; &#x2503;// &#x2503;&#x3000;&#x3000;&#x3000;&#x253B;&#x3000;&#x3000;&#x3000;&#x2503;// &#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; &#x2503;// &#x2517;&#x2501;&#x2513;&#x3000;&#x3000;&#x3000;&#x250F;&#x2501;&#x2501;&#x2501;&#x251B;// &#x2503;&#x3000;&#x3000;&#x3000;&#x2503; &#x795E;&#x517D;&#x4FDD;&#x4F51;// &#x2503;&#x3000;&#x3000;&#x3000;&#x2503; &#x4EE3;&#x7801;&#x65E0;BUG&#xFF01;// &#x2503;&#x3000;&#x3000;&#x3000;&#x2517;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x2513;// &#x2503;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; &#x2523;&#x2513;// &#x2503;&#x3000;&#x3000;&#x3000;&#x3000; &#x250F;&#x251B;// &#x2517;&#x2501;&#x2513; &#x2513; &#x250F;&#x2501;&#x2501;&#x2501;&#x2533; &#x2513; &#x250F;&#x2501;&#x251B;// &#x2503; &#x252B; &#x252B; &#x2503; &#x252B; &#x252B;// &#x2517;&#x2501;&#x253B;&#x2501;&#x251B; &#x2517;&#x2501;&#x253B;&#x2501;&#x251B; &#x4F5B;&#x7956;12345678910111213141516171819202122232425262728293031/** * _ooOoo_ * o8888888o * 88&quot; . &quot;88 * (| -_- |) * O\ = /O * ____/`---&apos;\____ * .&apos; \\| |// `. * / \\||| : |||// \ * / _||||| -:- |||||- \ * | | \\\ - /// | | * | \_| &apos;&apos;\---/&apos;&apos; | | * \ .-\__ `-` ___/-. / * ___`. .&apos; /--.--\ `. . __ * .&quot;&quot; &apos;&lt; `.___\_&lt;|&gt;_/___.&apos; &gt;&apos;&quot;&quot;. * | | : `- \`.;`\ _ /`;.`/ - ` : | | * \ \ `-. \_ __\ /__ _/ .-` / / * ======`-.____`-.___\_____/___.-`____.-&apos;====== * `=---=&apos; * ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ * &#x4F5B;&#x7956;&#x4FDD;&#x4F51; &#x6C38;&#x65E0;BUG * &#x4F5B;&#x66F0;: * &#x5199;&#x5B57;&#x697C;&#x91CC;&#x5199;&#x5B57;&#x95F4;&#xFF0C;&#x5199;&#x5B57;&#x95F4;&#x91CC;&#x7A0B;&#x5E8F;&#x5458;&#xFF1B; * &#x7A0B;&#x5E8F;&#x4EBA;&#x5458;&#x5199;&#x7A0B;&#x5E8F;&#xFF0C;&#x53C8;&#x62FF;&#x7A0B;&#x5E8F;&#x6362;&#x9152;&#x94B1;&#x3002; * &#x9152;&#x9192;&#x53EA;&#x5728;&#x7F51;&#x4E0A;&#x5750;&#xFF0C;&#x9152;&#x9189;&#x8FD8;&#x6765;&#x7F51;&#x4E0B;&#x7720;&#xFF1B; * &#x9152;&#x9189;&#x9152;&#x9192;&#x65E5;&#x590D;&#x65E5;&#xFF0C;&#x7F51;&#x4E0A;&#x7F51;&#x4E0B;&#x5E74;&#x590D;&#x5E74;&#x3002; * &#x4F46;&#x613F;&#x8001;&#x6B7B;&#x7535;&#x8111;&#x95F4;&#xFF0C;&#x4E0D;&#x613F;&#x97A0;&#x8EAC;&#x8001;&#x677F;&#x524D;&#xFF1B; * &#x5954;&#x9A70;&#x5B9D;&#x9A6C;&#x8D35;&#x8005;&#x8DA3;&#xFF0C;&#x516C;&#x4EA4;&#x81EA;&#x884C;&#x7A0B;&#x5E8F;&#x5458;&#x3002; * &#x522B;&#x4EBA;&#x7B11;&#x6211;&#x5FD2;&#x75AF;&#x766B;&#xFF0C;&#x6211;&#x7B11;&#x81EA;&#x5DF1;&#x547D;&#x592A;&#x8D31;&#xFF1B; * &#x4E0D;&#x89C1;&#x6EE1;&#x8857;&#x6F02;&#x4EAE;&#x59B9;&#xFF0C;&#x54EA;&#x4E2A;&#x5F52;&#x5F97;&#x7A0B;&#x5E8F;&#x5458;&#xFF1F;*/ 12345678910111213141516171819202122////////////////////////////////////////////////////////////////////// _ooOoo_ //// o8888888o //// 88&quot; . &quot;88 //// (| ^_^ |) //// O\ = /O //// ____/`---&apos;\____ //// .&apos; \\| |// `. //// / \\||| : |||// \ //// / _||||| -:- |||||- \ //// | | \\\ - /// | | //// | \_| &apos;&apos;\---/&apos;&apos; | | //// \ .-\__ `-` ___/-. / //// ___`. .&apos; /--.--\ `. . ___ //// .&quot;&quot; &apos;&lt; `.___\_&lt;|&gt;_/___.&apos; &gt;&apos;&quot;&quot;. //// | | : `- \`.;`\ _ /`;.`/ - ` : | | //// \ \ `-. \_ __\ /__ _/ .-` / / //// ========`-.____`-.___\_____/___.-`____.-&apos;======== //// `=---=&apos; //// ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ //// &#x4F5B;&#x7956;&#x4FDD;&#x4F51; &#x6C38;&#x65E0;BUG &#x6C38;&#x4E0D;&#x4FEE;&#x6539; ////////////////////////////////////////////////////////////////////// 123456789101112131415161718192021//// _ooOoo_// o8888888o// 88&quot; . &quot;88// (| -_- |)// O\ = /O// ____/`---&apos;\____// .&apos; \\| |// `.// / \\||| : |||// \// / _||||| -:- |||||- \// | | \\\ - /// | |// | \_| &apos;&apos;\---/&apos;&apos; | |// \ .-\__ `-` ___/-. /// ___`. .&apos; /--.--\ `. . __// .&quot;&quot; &apos;&lt; `.___\_&lt;|&gt;_/___.&apos; &gt;&apos;&quot;&quot;.// | | : `- \`.;`\ _ /`;.`/ - ` : | |// \ \ `-. \_ __\ /__ _/ .-` / /// ======`-.____`-.___\_____/___.-`____.-&apos;======// `=---=&apos;// ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^// &#x4F5B;&#x7956;&#x4FDD;&#x4F51; &#x6C38;&#x65E0;BUG &#x5176;&#x4ED6;1234567891011/** * &#x6C5F;&#x57CE;&#x5B50; . &#x7A0B;&#x5E8F;&#x5458;&#x4E4B;&#x6B4C; * * &#x5341;&#x5E74;&#x751F;&#x6B7B;&#x4E24;&#x832B;&#x832B;&#xFF0C;&#x5199;&#x7A0B;&#x5E8F;&#xFF0C;&#x5230;&#x5929;&#x4EAE;&#x3002; * &#x5343;&#x884C;&#x4EE3;&#x7801;&#xFF0C;Bug&#x4F55;&#x5904;&#x85CF;&#x3002; * &#x7EB5;&#x4F7F;&#x4E0A;&#x7EBF;&#x53C8;&#x600E;&#x6837;&#xFF0C;&#x671D;&#x4EE4;&#x6539;&#xFF0C;&#x5915;&#x65AD;&#x80A0;&#x3002; * * &#x9886;&#x5BFC;&#x6BCF;&#x5929;&#x65B0;&#x60F3;&#x6CD5;&#xFF0C;&#x5929;&#x5929;&#x6539;&#xFF0C;&#x65E5;&#x65E5;&#x5FD9;&#x3002; * &#x76F8;&#x987E;&#x65E0;&#x8A00;&#xFF0C;&#x60DF;&#x6709;&#x6CEA;&#x5343;&#x884C;&#x3002; * &#x6BCF;&#x665A;&#x706F;&#x706B;&#x9611;&#x73CA;&#x5904;&#xFF0C;&#x591C;&#x96BE;&#x5BD0;&#xFF0C;&#x52A0;&#x73ED;&#x72C2;&#x3002;*/ 12345678910111213141516171819//// .::::.// .::::::::.// :::::::::::// ..:::::::::::&apos;// &apos;::::::::::::&apos;// .::::::::::// &apos;::::::::::::::..// ..::::::::::::.// ``::::::::::::::::// ::::``:::::::::&apos; .:::.// ::::&apos; &apos;:::::&apos; .::::::::.// .::::&apos; :::: .:::::::&apos;::::.// .:::&apos; ::::: .:::::::::&apos; &apos;:::::.// .::&apos; :::::.:::::::::&apos; &apos;:::::.// .::&apos; ::::::::::::::&apos; ``::::.// ...::: ::::::::::::&apos; ``::.// ```` &apos;:. &apos;:::::::::&apos; ::::..// &apos;.:::::&apos; &apos;:&apos;````.. 1234567891011121314151617/**********/**********/**********//**********//**********//**********//**********/ .--, .--, ( ( \.---./ ) ) &apos;.__/o o\__.&apos; {= ^ =} &gt; - &lt; / \ // \\ //| . |\\ &quot;&apos;\ /&apos;&quot;_.-~^`&apos;-. \ _ /--&apos; ` ___)( )(___ (((__) (__))) &#x9AD8;&#x5C71;&#x4EF0;&#x6B62;,&#x666F;&#x884C;&#x884C;&#x6B62;.&#x867D;&#x4E0D;&#x80FD;&#x81F3;,&#x5FC3;&#x5411;&#x5F80;&#x4E4B;&#x3002;/**********/**********/**********//**********//**********//**********//**********/ 123456789101112131415161718192021222324252627282930313233343536&lt;!-- :: :;J7, :, ::;7: ,ivYi, , ;LLLFS: :iv7Yi :7ri;j5PL ,:ivYLvr ,ivrrirrY2X, :;r@Wwz.7r: :ivu@kexianli. :iL7::,:::iiirii:ii;::::,,irvF7rvvLujL7ur ri::,:,::i:iiiiiii:i:irrv177JX7rYXqZEkvv17 ;i:, , ::::iirrririi:i:::iiir2XXvii;L8OGJr71i :,, ,,: ,::ir@mingyi.irii:i:::j1jri7ZBOS7ivv, ,::, ::rv77iiiriii:iii:i::,rvLq@huhao.Li ,, ,, ,:ir7ir::,:::i;ir:::i:i::rSGGYri712: ::: ,v7r:: ::rrv77:, ,, ,:i7rrii:::::, ir7ri7Lri , 2OBBOi,iiir;r:: ,irriiii::,, ,iv7Luur: ,, i78MBBi,:,:::,:, :7FSL: ,iriii:::i::,,:rLqXv:: : iuMMP: :,:::,:ii;2GY7OBB0viiii:i:iii:i:::iJqL;:: , ::::i ,,,,, ::LuBBu BBBBBErii:i:i:i:i:i:i:r77ii , : , ,,:::rruBZ1MBBqi, :,,,:::,::::::iiriri: , ,,,,::::i: @arqiao. ,:,, ,:::ii;i7: :, rjujLYLi ,,:::::,:::::::::,, ,:i,:,,,,,::i:iii :: BBBBBBBBB0, ,,::: , ,:::::: , ,,,, ,,::::::: i, , ,8BMMBBBBBBi ,,:,, ,,, , , , , , :,::ii::i:: : iZMOMOMBBM2::::::::::,,,, ,,,,,,:,,,::::i:irr:i:::, i ,,:;u0MBMOG1L:::i:::::: ,,,::, ,,, ::::::i:i:iirii:i:i: : ,iuUuuXUkFu7i:iii:i:::, :,:,: ::::::::i:i:::::iirr7iiri:: : :rk@Yizero.i:::::, ,:ii:::::::i:::::i::,::::iirrriiiri::, : 5BMBBBBBBSr:,::rv2kuii:::iii::,:i:,, , ,,:,:i@petermu., , :r50EZ8MBBBBGOBBBZP7::::i::,:::::,: :,:,::i;rrririiii:: :jujYY7LS0ujJL7r::,::i::,::::::::::::::iirirrrrrrr:ii: ,: :@kevensun.:,:,,,::::i:i:::::,,::::::iir;ii;7v77;ii;i, ,,, ,,:,::::::i:iiiii:i::::,, ::::iiiir@xingjief.r;7:i, , , ,,,:,,::::::::iiiiiiiiii:,:,:::::::::iiir;ri7vL77rrirri:: :,, , ::::::::i:::i:::i:i::,,,,,:,::i:i:::iir;@Secbone.ii:::-- 12345678910111213141516/** * &#x250C;&#x2500;&#x2500;&#x2500;&#x2510; &#x250C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2510; &#x250C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2510; &#x250C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2510; &#x250C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2510; * &#x2502;Esc&#x2502; &#x2502; F1&#x2502; F2&#x2502; F3&#x2502; F4&#x2502; &#x2502; F5&#x2502; F6&#x2502; F7&#x2502; F8&#x2502; &#x2502; F9&#x2502;F10&#x2502;F11&#x2502;F12&#x2502; &#x2502;P/S&#x2502;S L&#x2502;P/B&#x2502; &#x250C;&#x2510; &#x250C;&#x2510; &#x250C;&#x2510; * &#x2514;&#x2500;&#x2500;&#x2500;&#x2518; &#x2514;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2518; &#x2514;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2518; &#x2514;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2518; &#x2514;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2518; &#x2514;&#x2518; &#x2514;&#x2518; &#x2514;&#x2518; * &#x250C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2510; &#x250C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2510; &#x250C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2510; * &#x2502;~ `&#x2502;! 1&#x2502;@ 2&#x2502;# 3&#x2502;$ 4&#x2502;% 5&#x2502;^ 6&#x2502;&amp; 7&#x2502;* 8&#x2502;( 9&#x2502;) 0&#x2502;_ -&#x2502;+ =&#x2502; BacSp &#x2502; &#x2502;Ins&#x2502;Hom&#x2502;PUp&#x2502; &#x2502;N L&#x2502; / &#x2502; * &#x2502; - &#x2502; * &#x251C;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524; &#x251C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2524; &#x251C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2524; * &#x2502; Tab &#x2502; Q &#x2502; W &#x2502; E &#x2502; R &#x2502; T &#x2502; Y &#x2502; U &#x2502; I &#x2502; O &#x2502; P &#x2502;{ [&#x2502;} ]&#x2502; | \ &#x2502; &#x2502;Del&#x2502;End&#x2502;PDn&#x2502; &#x2502; 7 &#x2502; 8 &#x2502; 9 &#x2502; &#x2502; * &#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524; &#x2514;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2518; &#x251C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2524; + &#x2502; * &#x2502; Caps &#x2502; A &#x2502; S &#x2502; D &#x2502; F &#x2502; G &#x2502; H &#x2502; J &#x2502; K &#x2502; L &#x2502;: ;&#x2502;&quot; &apos;&#x2502; Enter &#x2502; &#x2502; 4 &#x2502; 5 &#x2502; 6 &#x2502; &#x2502; * &#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524; &#x250C;&#x2500;&#x2500;&#x2500;&#x2510; &#x251C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2524; * &#x2502; Shift &#x2502; Z &#x2502; X &#x2502; C &#x2502; V &#x2502; B &#x2502; N &#x2502; M &#x2502;&lt; ,&#x2502;&gt; .&#x2502;? /&#x2502; Shift &#x2502; &#x2502; &#x2191; &#x2502; &#x2502; 1 &#x2502; 2 &#x2502; 3 &#x2502; &#x2502; * &#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2534;&#x2500;&#x252C;&#x2500;&#x2534;&#x2500;&#x2500;&#x252C;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x252C;&#x2534;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2534;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524; &#x250C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2510; &#x251C;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2524; E&#x2502;&#x2502; * &#x2502; Ctrl&#x2502; &#x2502;Alt &#x2502; Space &#x2502; Alt&#x2502; &#x2502; &#x2502;Ctrl&#x2502; &#x2502; &#x2190; &#x2502; &#x2193; &#x2502; &#x2192; &#x2502; &#x2502; 0 &#x2502; . &#x2502;&#x2190;&#x2500;&#x2518;&#x2502; * &#x2514;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2518; &#x2514;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2518; &#x2514;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2518; */ 123456789101112131415161718192021222324/** ************************************************************** * * * .=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-. * * | ______ | * * | .-&quot; &quot;-. | * * | / \ | * * | _ | | _ | * * | ( \ |, .-. .-. ,| / ) | * * | &gt; &quot;=._ | )(__/ \__)( | _.=&quot; &lt; | * * | (_/&quot;=._&quot;=._ |/ /\ \| _.=&quot;_.=&quot;\_) | * * | &quot;=._&quot;(_ ^^ _)&quot;_.=&quot; | * * | &quot;=\__|IIIIII|__/=&quot; | * * | _.=&quot;| \IIIIII/ |&quot;=._ | * * | _ _.=&quot;_.=&quot;\ /&quot;=._&quot;=._ _ | * * | ( \_.=&quot;_.=&quot; `--------` &quot;=._&quot;=._/ ) | * * | &gt; _.=&quot; &quot;=._ &lt; | * * | (_/ \_) | * * | | * * &apos;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&apos; * * * * LASCIATE OGNI SPERANZA, VOI CH&apos;ENTRATE * ************************************************************** */ 123456789101112131415/** * &#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x3000;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802; * &#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x3000;&#x3000;&#x9802;&#x9802; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x3000;&#x3000;&#x9802;&#x9802; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x3000;&#x3000;&#x9802;&#x9802; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x3000;&#x3000;&#x9802;&#x9802; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x3000; * &#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x3000;&#x9802;&#x9802;&#x3000;&#x9802;&#x9802; * &#x3000;&#x9802;&#x9802;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802;&#x3000;&#x9802;&#x9802;&#x9802;&#x9802;&#x9802; * &#x3000;&#x9802;&#x9802;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x9802;&#x3000;&#x3000;&#x3000;&#x9802;&#x9802;&#x9802;&#x9802; */]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python GUI编程(Tkinter)]]></title>
    <url>%2F2017%2F03%2F27%2Fpython-gui-tkinter%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;python&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x4E2A;&#x56FE;&#x5F62;&#x5F00;&#x53D1;&#x754C;&#x9762;&#x7684;&#x5E93;&#xFF0C;&#x51E0;&#x4E2A;&#x5E38;&#x7528;Python GUI&#x5E93;&#x5982;&#x4E0B;&#xFF1A; Tkinter&#xFF1A; Tkinter&#x6A21;&#x5757;(&#x201C;Tk &#x63A5;&#x53E3;&#x201D;)&#x662F;Python&#x7684;&#x6807;&#x51C6;Tk GUI&#x5DE5;&#x5177;&#x5305;&#x7684;&#x63A5;&#x53E3;.Tk&#x548C;Tkinter&#x53EF;&#x4EE5;&#x5728;&#x5927;&#x591A;&#x6570;&#x7684;Unix&#x5E73;&#x53F0;&#x4E0B;&#x4F7F;&#x7528;,&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5728;Windows&#x548C;Macintosh&#x7CFB;&#x7EDF;&#x91CC;.,Tk8.0&#x7684;&#x540E;&#x7EED;&#x7248;&#x672C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x672C;&#x5730;&#x7A97;&#x53E3;&#x98CE;&#x683C;,&#x5E76;&#x826F;&#x597D;&#x5730;&#x8FD0;&#x884C;&#x5728;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x5E73;&#x53F0;&#x4E2D;&#x3002; wxPython&#xFF1A;wxPython &#x662F;&#x4E00;&#x6B3E;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#xFF0C;&#x662F; Python &#x8BED;&#x8A00;&#x7684;&#x4E00;&#x5957;&#x4F18;&#x79C0;&#x7684; GUI &#x56FE;&#x5F62;&#x5E93;&#xFF0C;&#x5141;&#x8BB8; Python &#x7A0B;&#x5E8F;&#x5458;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x521B;&#x5EFA;&#x5B8C;&#x6574;&#x7684;&#x3001;&#x529F;&#x80FD;&#x952E;&#x5168;&#x7684; GUI &#x7528;&#x6237;&#x754C;&#x9762;&#x3002; Jython&#xFF1A;Jython&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x548C;Java&#x65E0;&#x7F1D;&#x96C6;&#x6210;&#x3002;&#x9664;&#x4E86;&#x4E00;&#x4E9B;&#x6807;&#x51C6;&#x6A21;&#x5757;&#xFF0C;Jython&#x4F7F;&#x7528;Java&#x7684;&#x6A21;&#x5757;&#x3002;Jython&#x51E0;&#x4E4E;&#x62E5;&#x6709;&#x6807;&#x51C6;&#x7684;Python&#x4E2D;&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;C&#x8BED;&#x8A00;&#x7684;&#x5168;&#x90E8;&#x6A21;&#x5757;&#x3002;&#x6BD4;&#x5982;&#xFF0C;Jython&#x7684;&#x7528;&#x6237;&#x754C;&#x9762;&#x5C06;&#x4F7F;&#x7528;Swing&#xFF0C;AWT&#x6216;&#x8005;SWT&#x3002;Jython&#x53EF;&#x4EE5;&#x88AB;&#x52A8;&#x6001;&#x6216;&#x9759;&#x6001;&#x5730;&#x7F16;&#x8BD1;&#x6210;Java&#x5B57;&#x8282;&#x7801;&#x3002; Tkinter &#x7F16;&#x7A0B;Tkinter &#x662F;Python&#x7684;&#x6807;&#x51C6;GUI&#x5E93;&#x3002;Python&#x4F7F;&#x7528;Tkinter&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x7684;&#x521B;&#x5EFA;GUI&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; &#x7531;&#x4E8E;Tkinter&#x662F;&#x5185;&#x7F6E;&#x5230;python&#x7684;&#x5B89;&#x88C5;&#x5305;&#x4E2D;&#x3001;&#x53EA;&#x8981;&#x5B89;&#x88C5;&#x597D;Python&#x4E4B;&#x540E;&#x5C31;&#x80FD;import Tkinter&#x5E93;&#x3001;&#x800C;&#x4E14;IDLE&#x4E5F;&#x662F;&#x7528;Tkinter&#x7F16;&#x5199;&#x800C;&#x6210;&#x3001;&#x5BF9;&#x4E8E;&#x7B80;&#x5355;&#x7684;&#x56FE;&#x5F62;&#x754C;&#x9762;Tkinter&#x8FD8;&#x662F;&#x80FD;&#x5E94;&#x4ED8;&#x81EA;&#x5982;&#x3002; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;GUI&#x7A0B;&#x5E8F; &#x5BFC;&#x5165;Tkinter&#x6A21;&#x5757; &#x521B;&#x5EFA;&#x63A7;&#x4EF6; &#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x63A7;&#x4EF6;&#x7684;master&#xFF0C; &#x5373;&#x8FD9;&#x4E2A;&#x63A7;&#x4EF6;&#x5C5E;&#x4E8E;&#x54EA;&#x4E00;&#x4E2A; &#x544A;&#x8BC9;GM(geometry manager)&#x6709;&#x4E00;&#x4E2A;&#x63A7;&#x4EF6;&#x4EA7;&#x751F;&#x4E86;&#x3002; 12345678&#x5B9E;&#x4F8B;:#!/usr/bin/python# -*- coding: UTF-8 -*-import Tkintertop = Tkinter.Tk()# &#x8FDB;&#x5165;&#x6D88;&#x606F;&#x5FAA;&#x73AF;top.mainloop() &#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;: 1234567891011121314151617181920&#x5B9E;&#x4F8B;2&#xFF1A;#!/usr/bin/python# -*- coding: UTF-8 -*-from Tkinter import * # &#x5BFC;&#x5165; Tkinter &#x5E93;root = Tk() # &#x521B;&#x5EFA;&#x7A97;&#x53E3;&#x5BF9;&#x8C61;&#x7684;&#x80CC;&#x666F;&#x8272; # &#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x5217;&#x8868;li = [&apos;C&apos;,&apos;python&apos;,&apos;php&apos;,&apos;html&apos;,&apos;SQL&apos;,&apos;java&apos;]movie = [&apos;CSS&apos;,&apos;jQuery&apos;,&apos;Bootstrap&apos;]listb = Listbox(root) # &#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x5217;&#x8868;&#x7EC4;&#x4EF6;listb2 = Listbox(root)for item in li: # &#x7B2C;&#x4E00;&#x4E2A;&#x5C0F;&#x90E8;&#x4EF6;&#x63D2;&#x5165;&#x6570;&#x636E; listb.insert(0,item)for item in movie: # &#x7B2C;&#x4E8C;&#x4E2A;&#x5C0F;&#x90E8;&#x4EF6;&#x63D2;&#x5165;&#x6570;&#x636E; listb2.insert(0,item)listb.pack() # &#x5C06;&#x5C0F;&#x90E8;&#x4EF6;&#x653E;&#x7F6E;&#x5230;&#x4E3B;&#x7A97;&#x53E3;&#x4E2D;listb2.pack()root.mainloop() # &#x8FDB;&#x5165;&#x6D88;&#x606F;&#x5FAA;&#x73AF; &#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;: Tkinter &#x7EC4;&#x4EF6;Tkinter&#x7684;&#x63D0;&#x4F9B;&#x5404;&#x79CD;&#x63A7;&#x4EF6;&#xFF0C;&#x5982;&#x6309;&#x94AE;&#xFF0C;&#x6807;&#x7B7E;&#x548C;&#x6587;&#x672C;&#x6846;&#xFF0C;&#x4E00;&#x4E2A;GUI&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x8FD9;&#x4E9B;&#x63A7;&#x4EF6;&#x901A;&#x5E38;&#x88AB;&#x79F0;&#x4E3A;&#x63A7;&#x4EF6;&#x6216;&#x8005;&#x90E8;&#x4EF6;&#x3002; &#x76EE;&#x524D;&#x6709;15&#x79CD;Tkinter&#x7684;&#x90E8;&#x4EF6;&#x3002;&#x6211;&#x4EEC;&#x63D0;&#x51FA;&#x8FD9;&#x4E9B;&#x90E8;&#x4EF6;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x7B80;&#x77ED;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x8868;: &#x63A7;&#x4EF6; &#x63CF;&#x8FF0; Button &#x6309;&#x94AE;&#x63A7;&#x4EF6;&#xFF1B;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x663E;&#x793A;&#x6309;&#x94AE;&#x3002; Canvas &#x753B;&#x5E03;&#x63A7;&#x4EF6;&#xFF1B;&#x663E;&#x793A;&#x56FE;&#x5F62;&#x5143;&#x7D20;&#x5982;&#x7EBF;&#x6761;&#x6216;&#x6587;&#x672C; Checkbutton &#x591A;&#x9009;&#x6846;&#x63A7;&#x4EF6;&#xFF1B;&#x7528;&#x4E8E;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x63D0;&#x4F9B;&#x591A;&#x9879;&#x9009;&#x62E9;&#x6846; Entry &#x8F93;&#x5165;&#x63A7;&#x4EF6;&#xFF1B;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x7B80;&#x5355;&#x7684;&#x6587;&#x672C;&#x5185;&#x5BB9; Frame &#x6846;&#x67B6;&#x63A7;&#x4EF6;&#xFF1B;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x77E9;&#x5F62;&#x533A;&#x57DF;&#xFF0C;&#x591A;&#x7528;&#x6765;&#x4F5C;&#x4E3A;&#x5BB9;&#x5668; Label &#x6807;&#x7B7E;&#x63A7;&#x4EF6;&#xFF1B;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x6587;&#x672C;&#x548C;&#x4F4D;&#x56FE; Listbox &#x5217;&#x8868;&#x6846;&#x63A7;&#x4EF6;&#xFF1B;&#x5728;Listbox&#x7A97;&#x53E3;&#x5C0F;&#x90E8;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5217;&#x8868;&#x7ED9;&#x7528;&#x6237; Menubutton &#x83DC;&#x5355;&#x6309;&#x94AE;&#x63A7;&#x4EF6;&#xFF0C;&#x7531;&#x4E8E;&#x663E;&#x793A;&#x83DC;&#x5355;&#x9879;&#x3002; Menu &#x83DC;&#x5355;&#x63A7;&#x4EF6;&#xFF1B;&#x663E;&#x793A;&#x83DC;&#x5355;&#x680F;,&#x4E0B;&#x62C9;&#x83DC;&#x5355;&#x548C;&#x5F39;&#x51FA;&#x83DC;&#x5355; Message &#x6D88;&#x606F;&#x63A7;&#x4EF6;&#xFF1B;&#x7528;&#x6765;&#x663E;&#x793A;&#x591A;&#x884C;&#x6587;&#x672C;&#xFF0C;&#x4E0E;label&#x6BD4;&#x8F83;&#x7C7B;&#x4F3C; Radiobutton &#x5355;&#x9009;&#x6309;&#x94AE;&#x63A7;&#x4EF6;&#xFF1B;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x5355;&#x9009;&#x7684;&#x6309;&#x94AE;&#x72B6;&#x6001; Scale &#x8303;&#x56F4;&#x63A7;&#x4EF6;&#xFF1B;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#x523B;&#x5EA6;&#xFF0C;&#x4E3A;&#x8F93;&#x51FA;&#x9650;&#x5B9A;&#x8303;&#x56F4;&#x7684;&#x6570;&#x5B57;&#x533A;&#x95F4; Scrollbar &#x6EDA;&#x52A8;&#x6761;&#x63A7;&#x4EF6;&#xFF0C;&#x5F53;&#x5185;&#x5BB9;&#x8D85;&#x8FC7;&#x53EF;&#x89C6;&#x5316;&#x533A;&#x57DF;&#x65F6;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x5217;&#x8868;&#x6846;&#x3002; Text &#x6587;&#x672C;&#x63A7;&#x4EF6;&#xFF1B;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x591A;&#x884C;&#x6587;&#x672C; Toplevel &#x5BB9;&#x5668;&#x63A7;&#x4EF6;&#xFF1B;&#x7528;&#x6765;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x548C;Frame&#x6BD4;&#x8F83;&#x7C7B;&#x4F3C; Spinbox &#x8F93;&#x5165;&#x63A7;&#x4EF6;&#xFF1B;&#x4E0E;Entry&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8F93;&#x5165;&#x8303;&#x56F4;&#x503C; PanedWindow PanedWindow&#x662F;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x5B50;&#x63A7;&#x4EF6;&#x3002; LabelFrame labelframe &#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5BB9;&#x5668;&#x63A7;&#x4EF6;&#x3002;&#x5E38;&#x7528;&#x4E0E;&#x590D;&#x6742;&#x7684;&#x7A97;&#x53E3;&#x5E03;&#x5C40;&#x3002; tkMessageBox &#x7528;&#x4E8E;&#x663E;&#x793A;&#x4F60;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6D88;&#x606F;&#x6846;&#x3002; &#x6807;&#x51C6;&#x5C5E;&#x6027;&#x6807;&#x51C6;&#x5C5E;&#x6027;&#x4E5F;&#x5C31;&#x662F;&#x6240;&#x6709;&#x63A7;&#x4EF6;&#x7684;&#x5171;&#x540C;&#x5C5E;&#x6027;&#xFF0C;&#x5982;&#x5927;&#x5C0F;&#xFF0C;&#x5B57;&#x4F53;&#x548C;&#x989C;&#x8272;&#x7B49;&#x7B49;&#x3002; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; Dimension &#x63A7;&#x4EF6;&#x5927;&#x5C0F;&#xFF1B; Color &#x63A7;&#x4EF6;&#x989C;&#x8272;&#xFF1B; Font &#x63A7;&#x4EF6;&#x5B57;&#x4F53;&#xFF1B; Anchor &#x951A;&#x70B9;&#xFF1B; Relief &#x63A7;&#x4EF6;&#x6837;&#x5F0F;&#xFF1B; Bitmap &#x4F4D;&#x56FE;&#xFF1B; Cursor &#x5149;&#x6807;&#xFF1B; &#x51E0;&#x4F55;&#x7BA1;&#x7406;Tkinter&#x63A7;&#x4EF6;&#x6709;&#x7279;&#x5B9A;&#x7684;&#x51E0;&#x4F55;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x65B9;&#x6CD5;&#xFF0C;&#x7BA1;&#x7406;&#x6574;&#x4E2A;&#x63A7;&#x4EF6;&#x533A;&#x57DF;&#x7EC4;&#x7EC7;&#xFF0C;&#x4E00;&#x4E0B;&#x662F;Tkinter&#x516C;&#x5F00;&#x7684;&#x51E0;&#x4F55;&#x7BA1;&#x7406;&#x7C7B;&#xFF1A;&#x5305;&#x3001;&#x7F51;&#x683C;&#x3001;&#x4F4D;&#x7F6E; &#x51E0;&#x4F55;&#x65B9;&#x6CD5; &#x63CF;&#x8FF0; pack() &#x5305;&#x88C5;&#xFF1B; grid() &#x7F51;&#x683C;&#xFF1B; place() &#x4F4D;&#x7F6E;&#xFF1B;]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iptables配置实例]]></title>
    <url>%2F2017%2F03%2F17%2Fiptables-conf%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x662F;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684;iptables&#x914D;&#x7F6E;&#x5B9E;&#x4F8B;&#xFF0C;&#x90FD;&#x662F;&#x65E5;&#x5E38;&#x4F1A;&#x6709;&#x673A;&#x4F1A;&#x78B0;&#x5230;&#x7684;&#x3002; &#x4E00;&#x4E9B;iptables&#x914D;&#x7F6E;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970# --line-number &#x53EF;&#x4EE5;&#x663E;&#x793A;&#x6807;&#x8BB0;&#x4F4D;# -v &#x663E;&#x793A;&#x89C4;&#x5219;&#x5339;&#x914D;&#x7684;&#x5305;&#x5927;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x89C4;&#x5219;&#x662F;&#x5426;&#x5339;&#x914D;&#x5230;iptables -L -t nat --line-number -v#&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x6807;&#x8BB0;&#x4F4D;&#x7684;&#x8BB0;&#x5F55;iptables -D POSTROUTING 1 -t nat# DROPiptables -P INPUT DROPiptables -P OUTPUT ACCEPTiptables -P FORWARD DROP# &#x5148;&#x6E05;&#x7A7A;&#x89C4;&#x5219;iptables -Fiptables -t nat -Fiptables -Xiptables -t nat -Xiptables -Z# &#x5141;&#x8BB8;icmpiptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPTiptables -A INPUT -i lo -j ACCEPTiptables -A INPUT -i eth0 -p icmp -j ACCEPT# &#x901A;&#x8FC7;&#x4E00;&#x53F0;&#x5916;&#x7F51;&#x673A;&#x5668;&#x8DF3;&#x8F6C;&#x53E6;&#x4E00;&#x53F0;&#x5185;&#x7F51;&#x673A;&#x5668;sshiptables -t nat -A PREROUTING -p tcp -m tcp --dport 2233 -j DNAT --to-destination 172.16.210.12:22iptables -t nat -A POSTROUTING -d 172.16.210.12/32 -p tcp -m tcp --dport 22 -j SNAT --to-source 172.16.210.11oriptables -t nat -A POSTROUTING -d 192.168.100.9 -p tcp --dport 80 -j SNAT --to-source 172.168.100.7iptables -t nat -A POSTROUTING -d 192.168.100.9 -p tcp --dport 80 -j MASQUERADE# &#x5F00;&#x653E;&#x7AEF;&#x53E3;iptables -A INPUT -m state --state NEW -m tcp -p tcp -s 121.40.177.102 --dport 80 -j ACCEPTiptables -A INPUT -m state --state NEW -m tcp -p tcp -s 0.0.0.0 --dport 10050 -j ACCEPTiptables -A INPUT -p tcp --dport 22 -j ACCEPT# DROPiptables -A INPUT -p tcp -m tcp --dport 22 -j DROP# nat &#x9700;&#x8981; net.ipv4.ip_forward = 1 &#x5E76;&#x914D;&#x7F6E;&#x5176;&#x4ED6;&#x673A;&#x5668;&#x7684;&#x4E0B;&#x4E00;&#x8DF3;iptables -t nat -I POSTROUTING 1 -s 172.16.60.0/22 -j RETURNiptables -t nat -A POSTROUTING -s 172.16.60.0/22 -o eth0 -j SNAT --to-source 172.16.60.75oriptables -t nat -A POSTROUTING -s 172.16.60.0/22 -d !172.16.60.0/22 -o eth0 -j SNAT --to-source 172.16.60.75#temp computeriptables -A INPUT -s 121.40.202.23/32 -p tcp -m tcp --dport 3306 -j ACCEPTiptables -A INPUT -s 123.56.0.101/32 -p tcp -m tcp --dport 3306 -j ACCEPTiptables -A INPUT -s 172.21.0.0/16 -p tcp -m tcp --dport 3306 -j ACCEPTiptables -A INPUT -s 172.22.0.0/16 -p tcp -m tcp --dport 3306 -j ACCEPTiptables -A INPUT -s 172.23.0.0/16 -p tcp -m tcp --dport 3306 -j ACCEPTiptables -A INPUT -s 172.23.0.0/16 -p tcp -m tcp --dport 3306 -j ACCEPTiptables -A INPUT -s 172.16.19.0/24 -p tcp -m tcp --dport 3306 -j ACCEPTiptables -A INPUT -s 100.0.0.0/8 -p tcp -m tcp --dport 3306 -j ACCEPT-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT-A INPUT -i lo -j ACCEPT-A INPUT -i eth0 -p icmp -j ACCEPT-A INPUT -s 172.16.19.67/32 -p tcp -m tcp --dport 2233 -j ACCEPT-A INPUT -s 172.16.19.68/32 -p tcp -m tcp --dport 2233 -j ACCEPT-A INPUT -s 172.16.19.69/32 -p tcp -m tcp --dport 2233 -j ACCEPT-A INPUT -s 172.16.19.70/32 -p tcp -m tcp --dport 2233 -j ACCEPT-A INPUT -s 172.16.19.71/32 -p tcp -m tcp --dport 2233 -j ACCEPT-A INPUT -s 180.169.76.195/32 -p tcp -m tcp --dport 2233 -j ACCEPT-A INPUT -s 100.0.0.0/8 -p tcp -m tcp --dport 2233 -j ACCEPT-A INPUT -p tcp -m tcp --dport 2233 -j DROP iptables&#x56DB;&#x4E2A;&#x8868;&#x4E0E;&#x4E94;&#x4E2A;&#x94FE;netfilter&#x548C;iptables&#x8BF4;&#x660E;netfilter/iptables IP &#x4FE1;&#x606F;&#x5305;&#x8FC7;&#x6EE4;&#x7CFB;&#x7EDF;&#x662F;&#x4E00;&#x79CD;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x6DFB;&#x52A0;&#x3001;&#x7F16;&#x8F91;&#x548C;&#x9664;&#x53BB;&#x89C4;&#x5219;&#xFF0C;&#x8FD9;&#x4E9B;&#x89C4;&#x5219;&#x662F;&#x5728;&#x505A;&#x4FE1;&#x606F;&#x5305;&#x8FC7;&#x6EE4;&#x51B3;&#x5B9A;&#x65F6;&#xFF0C;&#x9632;&#x706B;&#x5899;&#x6240;&#x9075;&#x5FAA;&#x548C;&#x7EC4;&#x6210;&#x7684;&#x89C4;&#x5219;&#x3002;&#x8FD9;&#x4E9B;&#x89C4;&#x5219;&#x5B58;&#x50A8;&#x5728;&#x4E13;&#x7528;&#x7684;&#x4FE1;&#x606F;&#x5305;&#x8FC7;&#x6EE4;&#x8868;&#x4E2D;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x8868;&#x96C6;&#x6210;&#x5728; Linux &#x5185;&#x6838;&#x4E2D;&#x3002;&#x5728;&#x4FE1;&#x606F;&#x5305;&#x8FC7;&#x6EE4;&#x8868;&#x4E2D;&#xFF0C;&#x89C4;&#x5219;&#x88AB;&#x5206;&#x7EC4;&#x653E;&#x5728;&#x6211;&#x4EEC;&#x6240;&#x8C13;&#x7684;&#x94FE;&#xFF08;chain&#xFF09;&#x4E2D;&#x3002; &#x867D;&#x7136; netfilter/iptables IP &#x4FE1;&#x606F;&#x5305;&#x8FC7;&#x6EE4;&#x7CFB;&#x7EDF;&#x88AB;&#x79F0;&#x4E3A;&#x5355;&#x4E2A;&#x5B9E;&#x4F53;&#xFF0C;&#x4F46;&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x7531;&#x4E24;&#x4E2A;&#x7EC4;&#x4EF6; netfilter &#x548C; iptables &#x7EC4;&#x6210;&#x3002; netfilter &#x7EC4;&#x4EF6;&#x4E5F;&#x79F0;&#x4E3A;&#x5185;&#x6838;&#x7A7A;&#x95F4;&#xFF08;kernelspace&#xFF09;&#xFF0C;&#x662F;&#x5185;&#x6838;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x7531;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x5305;&#x8FC7;&#x6EE4;&#x8868;&#x7EC4;&#x6210;&#xFF0C;&#x8FD9;&#x4E9B;&#x8868;&#x5305;&#x542B;&#x5185;&#x6838;&#x7528;&#x6765;&#x63A7;&#x5236;&#x4FE1;&#x606F;&#x5305;&#x8FC7;&#x6EE4;&#x5904;&#x7406;&#x7684;&#x89C4;&#x5219;&#x96C6;&#x3002; iptables &#x7EC4;&#x4EF6;&#x662F;&#x4E00;&#x79CD;&#x5DE5;&#x5177;&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;&#x7528;&#x6237;&#x7A7A;&#x95F4;&#xFF08;userspace&#xFF09;&#xFF0C;&#x5B83;&#x4F7F;&#x63D2;&#x5165;&#x3001;&#x4FEE;&#x6539;&#x548C;&#x9664;&#x53BB;&#x4FE1;&#x606F;&#x5305;&#x8FC7;&#x6EE4;&#x8868;&#x4E2D;&#x7684;&#x89C4;&#x5219;&#x53D8;&#x5F97;&#x5BB9;&#x6613;&#x3002; iptables&#x5305;&#x542B;4&#x4E2A;&#x8868;&#xFF0C;5&#x4E2A;&#x94FE;&#x3002;&#x5176;&#x4E2D;&#x8868;&#x662F;&#x6309;&#x7167;&#x5BF9;&#x6570;&#x636E;&#x5305;&#x7684;&#x64CD;&#x4F5C;&#x533A;&#x5206;&#x7684;&#xFF0C;&#x94FE;&#x662F;&#x6309;&#x7167;&#x4E0D;&#x540C;&#x7684;Hook&#x70B9;&#x6765;&#x533A;&#x5206;&#x7684;&#xFF0C;&#x8868;&#x548C;&#x94FE;&#x5B9E;&#x9645;&#x4E0A;&#x662F;netfilter&#x7684;&#x4E24;&#x4E2A;&#x7EF4;&#x5EA6;&#x3002; 4&#x4E2A;&#x8868;:filter,nat,mangle,raw&#xFF0C;&#x9ED8;&#x8BA4;&#x8868;&#x662F;filter&#xFF08;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x8868;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x662F;filter&#x8868;&#xFF09;&#x3002;&#x8868;&#x7684;&#x5904;&#x7406;&#x4F18;&#x5148;&#x7EA7;&#xFF1A;raw&gt;mangle&gt;nat&gt;filter&#x3002; 1234filter&#xFF1A;&#x4E00;&#x822C;&#x7684;&#x8FC7;&#x6EE4;&#x529F;&#x80FD;nat:&#x7528;&#x4E8E;nat&#x529F;&#x80FD;&#xFF08;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#xFF0C;&#x5730;&#x5740;&#x6620;&#x5C04;&#x7B49;&#xFF09;mangle:&#x7528;&#x4E8E;&#x5BF9;&#x7279;&#x5B9A;&#x6570;&#x636E;&#x5305;&#x7684;&#x4FEE;&#x6539;raw:&#x6709;&#x9650;&#x7EA7;&#x6700;&#x9AD8;&#xFF0C;&#x8BBE;&#x7F6E;raw&#x65F6;&#x4E00;&#x822C;&#x662F;&#x4E3A;&#x4E86;&#x4E0D;&#x518D;&#x8BA9;iptables&#x505A;&#x6570;&#x636E;&#x5305;&#x7684;&#x94FE;&#x63A5;&#x8DDF;&#x8E2A;&#x5904;&#x7406;&#xFF0C;&#x63D0;&#x9AD8;&#x6027;&#x80FD; RAW &#x8868;&#x53EA;&#x4F7F;&#x7528;&#x5728;PREROUTING&#x94FE;&#x548C;OUTPUT&#x94FE;&#x4E0A;,&#x56E0;&#x4E3A;&#x4F18;&#x5148;&#x7EA7;&#x6700;&#x9AD8;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x5BF9;&#x6536;&#x5230;&#x7684;&#x6570;&#x636E;&#x5305;&#x5728;&#x8FDE;&#x63A5;&#x8DDF;&#x8E2A;&#x524D;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x4E00;&#x4F46;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x4E86;RAW&#x8868;,&#x5728;&#x67D0;&#x4E2A;&#x94FE; &#x4E0A;,RAW&#x8868;&#x5904;&#x7406;&#x5B8C;&#x540E;,&#x5C06;&#x8DF3;&#x8FC7;NAT&#x8868;&#x548C; ip_conntrack&#x5904;&#x7406;,&#x5373;&#x4E0D;&#x518D;&#x505A;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x548C;&#x6570;&#x636E;&#x5305;&#x7684;&#x94FE;&#x63A5;&#x8DDF;&#x8E2A;&#x5904;&#x7406;&#x4E86;. RAW&#x8868;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5728;&#x90A3;&#x4E9B;&#x4E0D;&#x9700;&#x8981;&#x505A;nat&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x3002;&#x5982;&#x5927;&#x91CF;&#x8BBF;&#x95EE;&#x7684;web&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;80&#x7AEF;&#x53E3;&#x4E0D;&#x518D;&#x8BA9;iptables&#x505A;&#x6570;&#x636E;&#x5305;&#x7684;&#x94FE;&#x63A5;&#x8DDF;&#x8E2A;&#x5904;&#x7406;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x7528;&#x6237;&#x7684;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#x3002; 5&#x4E2A;&#x94FE;&#xFF1A;PREROUTING,INPUT,FORWARD,OUTPUT,POSTROUTING&#x3002; 12345PREROUTING:&#x6570;&#x636E;&#x5305;&#x8FDB;&#x5165;&#x8DEF;&#x7531;&#x8868;&#x4E4B;&#x524D;INPUT:&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x8868;&#x540E;&#x76EE;&#x7684;&#x5730;&#x4E3A;&#x672C;&#x673A;FORWARDING:&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x8868;&#x540E;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x4E0D;&#x4E3A;&#x672C;&#x673A;OUTPUT:&#x7531;&#x672C;&#x673A;&#x4EA7;&#x751F;&#xFF0C;&#x5411;&#x5916;&#x8F6C;&#x53D1;POSTROUTIONG:&#x53D1;&#x9001;&#x5230;&#x7F51;&#x5361;&#x63A5;&#x53E3;&#x4E4B;&#x524D;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; iptables&#x4E2D;&#x8868;&#x548C;&#x94FE;&#x7684;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A; iptables&#x7684;&#x6570;&#x636E;&#x5305;&#x7684;&#x6D41;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;&#x5230;&#x8FBE;&#x65F6;,&#x662F;&#x600E;&#x4E48;&#x4F9D;&#x6B21;&#x7A7F;&#x8FC7;&#x5404;&#x4E2A;&#x94FE;&#x548C;&#x8868;&#x7684;&#xFF08;&#x56FE;&#xFF09;&#x3002; 1234567891011121314151617181920212223242526272829&#x57FA;&#x672C;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; 1. &#x6570;&#x636E;&#x5305;&#x5230;&#x8FBE;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#xFF0C;&#x6BD4;&#x5982; eth0&#x3002; 2. &#x8FDB;&#x5165; raw &#x8868;&#x7684; PREROUTING &#x94FE;&#xFF0C;&#x8FD9;&#x4E2A;&#x94FE;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x8D76;&#x5728;&#x8FDE;&#x63A5;&#x8DDF;&#x8E2A;&#x4E4B;&#x524D;&#x5904;&#x7406;&#x6570;&#x636E;&#x5305;&#x3002; 3. &#x5982;&#x679C;&#x8FDB;&#x884C;&#x4E86;&#x8FDE;&#x63A5;&#x8DDF;&#x8E2A;&#xFF0C;&#x5728;&#x6B64;&#x5904;&#x7406;&#x3002; 4. &#x8FDB;&#x5165; mangle &#x8868;&#x7684; PREROUTING &#x94FE;&#xFF0C;&#x5728;&#x6B64;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x6BD4;&#x5982; TOS &#x7B49;&#x3002; 5. &#x8FDB;&#x5165; nat &#x8868;&#x7684; PREROUTING &#x94FE;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6B64;&#x505A;DNAT&#xFF0C;&#x4F46;&#x4E0D;&#x8981;&#x505A;&#x8FC7;&#x6EE4;&#x3002; 6. &#x51B3;&#x5B9A;&#x8DEF;&#x7531;&#xFF0C;&#x770B;&#x662F;&#x4EA4;&#x7ED9;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x8FD8;&#x662F;&#x8F6C;&#x53D1;&#x7ED9;&#x5176;&#x5B83;&#x4E3B;&#x673A;&#x3002; &#x5230;&#x4E86;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C31;&#x5F97;&#x5206;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x8BA8;&#x8BBA;&#x4E86;&#xFF0C;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x5C31;&#x662F;&#x6570;&#x636E;&#x5305;&#x8981;&#x8F6C;&#x53D1;&#x7ED9;&#x5176;&#x5B83;&#x4E3B;&#x673A;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5B83;&#x4F1A;&#x4F9D;&#x6B21;&#x7ECF;&#x8FC7;&#xFF1A; 7. &#x8FDB;&#x5165; mangle &#x8868;&#x7684; FORWARD &#x94FE;&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#xFF0C;&#x8FD9;&#x662F;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x8DEF;&#x7531;&#x51B3;&#x5B9A;&#x4E4B;&#x540E;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x6700;&#x540E;&#x7684;&#x8DEF;&#x7531;&#x51B3;&#x5B9A;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x5BF9;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x67D0;&#x4E9B;&#x4FEE;&#x6539;&#x3002; 8. &#x8FDB;&#x5165; filter &#x8868;&#x7684; FORWARD &#x94FE;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;&#x6240;&#x6709;&#x8F6C;&#x53D1;&#x7684;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;&#x7ECF;&#x8FC7;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x5305;&#x662F;&#x8F6C;&#x53D1;&#x7684;&#xFF0C;&#x65B9;&#x5411;&#x662F;&#x53CC;&#x5411;&#x7684;&#x3002; 9. &#x8FDB;&#x5165; mangle &#x8868;&#x7684; POSTROUTING &#x94FE;&#xFF0C;&#x5230;&#x8FD9;&#x91CC;&#x5DF2;&#x7ECF;&#x505A;&#x5B8C;&#x4E86;&#x6240;&#x6709;&#x7684;&#x8DEF;&#x7531;&#x51B3;&#x5B9A;&#xFF0C;&#x4F46;&#x6570;&#x636E;&#x5305;&#x4ECD;&#x7136;&#x5728;&#x672C;&#x5730;&#x4E3B;&#x673A;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x67D0;&#x4E9B;&#x4FEE;&#x6539;&#x3002; 10. &#x8FDB;&#x5165; nat &#x8868;&#x7684; POSTROUTING &#x94FE;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x7528;&#x6765;&#x505A; SNAT &#xFF0C;&#x4E0D;&#x8981;&#x5728;&#x8FD9;&#x91CC;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002; 11. &#x8FDB;&#x5165;&#x51FA;&#x53BB;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002;&#x5B8C;&#x6BD5;&#x3002; &#x53E6;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x662F;&#xFF0C;&#x6570;&#x636E;&#x5305;&#x5C31;&#x662F;&#x53D1;&#x7ED9;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x4F1A;&#x4F9D;&#x6B21;&#x7A7F;&#x8FC7;&#xFF1A; 7. &#x8FDB;&#x5165; mangle &#x8868;&#x7684; INPUT &#x94FE;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x5728;&#x8DEF;&#x7531;&#x4E4B;&#x540E;&#xFF0C;&#x4EA4;&#x7531;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x76F8;&#x5E94;&#x7684;&#x4FEE;&#x6539;&#x3002; 8. &#x8FDB;&#x5165; filter &#x8868;&#x7684; INPUT &#x94FE;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;&#x6D41;&#x5165;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#xFF0C;&#x65E0;&#x8BBA;&#x5B83;&#x6765;&#x81EA;&#x54EA;&#x4E2A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002; 9. &#x4EA4;&#x7ED9;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002; 10. &#x5904;&#x7406;&#x5B8C;&#x6BD5;&#x540E;&#x8FDB;&#x884C;&#x8DEF;&#x7531;&#x51B3;&#x5B9A;&#xFF0C;&#x770B;&#x8BE5;&#x5F80;&#x90A3;&#x91CC;&#x53D1;&#x51FA;&#x3002; 11. &#x8FDB;&#x5165; raw &#x8868;&#x7684; OUTPUT &#x94FE;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x5728;&#x8FDE;&#x63A5;&#x8DDF;&#x8E2A;&#x5904;&#x7406;&#x672C;&#x5730;&#x7684;&#x6570;&#x636E;&#x5305;&#x4E4B;&#x524D;&#x3002; 12. &#x8FDE;&#x63A5;&#x8DDF;&#x8E2A;&#x5BF9;&#x672C;&#x5730;&#x7684;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002; 13. &#x8FDB;&#x5165; mangle &#x8868;&#x7684; OUTPUT &#x94FE;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x4F46;&#x4E0D;&#x8981;&#x505A;&#x8FC7;&#x6EE4;&#x3002; 14. &#x8FDB;&#x5165; nat &#x8868;&#x7684; OUTPUT &#x94FE;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x9632;&#x706B;&#x5899;&#x81EA;&#x5DF1;&#x53D1;&#x51FA;&#x7684;&#x6570;&#x636E;&#x505A; NAT &#x3002; 15. &#x518D;&#x6B21;&#x8FDB;&#x884C;&#x8DEF;&#x7531;&#x51B3;&#x5B9A;&#x3002; 16. &#x8FDB;&#x5165; filter &#x8868;&#x7684; OUTPUT &#x94FE;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x672C;&#x5730;&#x51FA;&#x53BB;&#x7684;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002; 17. &#x8FDB;&#x5165; mangle &#x8868;&#x7684; POSTROUTING &#x94FE;&#xFF0C;&#x540C;&#x4E0A;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x7B2C;9&#x6B65;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x5149;&#x5BF9;&#x7ECF;&#x8FC7;&#x9632;&#x706B;&#x5899;&#x7684;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x8FD8;&#x5BF9;&#x9632;&#x706B;&#x5899;&#x81EA;&#x5DF1;&#x4EA7;&#x751F;&#x7684;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002; 18. &#x8FDB;&#x5165; nat &#x8868;&#x7684; POSTROUTING &#x94FE;&#xFF0C;&#x540C;&#x4E0A;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x7B2C;10&#x6B65;&#x3002; 19. &#x8FDB;&#x5165;&#x51FA;&#x53BB;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002;&#x5B8C;&#x6BD5;&#x3002; iptables raw&#x8868;&#x7684;&#x4F7F;&#x7528;&#x589E;&#x52A0;raw&#x8868;&#xFF0C;&#x5728;&#x5176;&#x4ED6;&#x8868;&#x5904;&#x7406;&#x4E4B;&#x524D;&#xFF0C;-j NOTRACK&#x8DF3;&#x8FC7;&#x5176;&#x5B83;&#x8868;&#x5904;&#x7406;&#x72B6;&#x6001;&#x9664;&#x4E86;&#x4EE5;&#x524D;&#x7684;&#x56DB;&#x4E2A;&#x8FD8;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;UNTRACKED &#x4F8B;&#x5982;&#xFF1A;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; &#x201C;NOTRACK&#x201D; target &#x5141;&#x8BB8;&#x89C4;&#x5219;&#x6307;&#x5B9A;80&#x7AEF;&#x53E3;&#x7684;&#x5305;&#x4E0D;&#x8FDB;&#x5165;&#x94FE;&#x63A5;&#x8DDF;&#x8E2A;/NAT&#x5B50;&#x7CFB;&#x7EDF; 123iptables -t raw -A PREROUTING -d 1.2.3.4 -p tcp --dport 80 -j NOTRACKiptables -t raw -A PREROUTING -s 1.2.3.4 -p tcp --sport 80 -j NOTRACKiptables -A FORWARD -m state --state UNTRACKED -j ACCEPT &#x89E3;&#x51B3;ip_conntrack: table full, dropping packet&#x7684;&#x95EE;&#x9898;&#x5728;&#x542F;&#x7528;&#x4E86;iptables web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x6D41;&#x91CF;&#x9AD8;&#x7684;&#x65F6;&#x5019;&#x7ECF;&#x5E38;&#x4F1A;&#x51FA;&#x73B0;&#x4E0B;&#x9762;&#x7684;&#x9519;&#x8BEF;&#xFF1A; ip_conntrack: table full, dropping packet &#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x539F;&#x56E0;&#x662F;&#x7531;&#x4E8E;web&#x670D;&#x52A1;&#x5668;&#x6536;&#x5230;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x5728;&#x542F;&#x7528;&#x4E86;iptables&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;iptables&#x4F1A;&#x628A;&#x6240;&#x6709;&#x7684;&#x8FDE;&#x63A5;&#x90FD;&#x505A;&#x94FE;&#x63A5;&#x8DDF;&#x8E2A;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x6837;iptables&#x5C31;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#x8DDF;&#x8E2A;&#x8868;&#xFF0C;&#x5F53;&#x8FD9;&#x4E2A;&#x8868;&#x6EE1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x4E0A;&#x9762;&#x7684;&#x9519;&#x8BEF;&#x3002; iptables&#x7684;&#x94FE;&#x63A5;&#x8DDF;&#x8E2A;&#x8868;&#x6700;&#x5927;&#x5BB9;&#x91CF;&#x4E3A;/proc/sys/net/ipv4/ip_conntrack_max&#xFF0C;&#x94FE;&#x63A5;&#x78B0;&#x5230;&#x5404;&#x79CD;&#x72B6;&#x6001;&#x7684;&#x8D85;&#x65F6;&#x540E;&#x5C31;&#x4F1A;&#x4ECE;&#x8868;&#x4E2D;&#x5220;&#x9664;&#x3002; &#x89E3;&#x6C7A;&#x65B9;&#x6CD5;&#x4E00;&#x822C;&#x6709;&#x4E24;&#x4E2A;&#xFF1A;&#x52A0;&#x5927; ip_conntrack_max &#x503C;1234vi /etc/sysctl.confnet.ipv4.ip_conntrack_max = 393216net.ipv4.netfilter.ip_conntrack_max = 393216 &#x964D;&#x4F4E; ip_conntrack timeout&#x65F6;&#x95F4;123456vi /etc/sysctl.confnet.ipv4.netfilter.ip_conntrack_tcp_timeout_established = 300net.ipv4.netfilter.ip_conntrack_tcp_timeout_time_wait = 120net.ipv4.netfilter.ip_conntrack_tcp_timeout_close_wait = 60net.ipv4.netfilter.ip_conntrack_tcp_timeout_fin_wait = 120 &#x4E0A;&#x9762;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x6253;&#x4E2A;&#x6BD4;&#x55BB;&#x5C31;&#x662F;&#x70E7;&#x6C34;&#x6C34;&#x5F00;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6362;&#x4E00;&#x4E2A;&#x5927;&#x9505;&#x3002;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x6781;&#x7AEF;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD8;&#x662F;&#x4E0D;&#x591F;&#x7528;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x8FD9;&#x6837;&#x5C31;&#x5F97;&#x53CD;&#x5176;&#x9053;&#x800C;&#x884C;&#xFF0C;&#x7528;&#x91DC;&#x5E95;&#x62BD;&#x85AA;&#x7684;&#x529E;&#x6CD5;&#x3002;iptables&#x7684;raw&#x8868;&#x662F;&#x4E0D;&#x505A;&#x6570;&#x636E;&#x5305;&#x7684;&#x94FE;&#x63A5;&#x8DDF;&#x8E2A;&#x5904;&#x7406;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x628A;&#x90A3;&#x4E9B;&#x8FDE;&#x63A5;&#x91CF;&#x975E;&#x5E38;&#x5927;&#x7684;&#x94FE;&#x63A5;&#x52A0;&#x5165;&#x5230;iptables raw&#x8868;&#x3002; &#x5982;&#x4E00;&#x53F0;web&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#xFF1A; 12iptables -t raw -A PREROUTING -d 1.2.3.4 -p tcp --dport 80 -j NOTRACKiptables -A FORWARD -m state --state UNTRACKED -j ACCEPT]]></content>
      <categories>
        <category>linux</category>
        <category>iptables</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>iptables</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python-list-列表去重]]></title>
    <url>%2F2017%2F03%2F06%2Fpython-list-unique%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x53D6;&#x81EA;&#x7F51;&#x7EDC;&#x7684;&#x4E00;&#x4E9B;python list&#x53BB;&#x91CD;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#x76F4;&#x89C2;&#x65B9;&#x6CD5;123456ids = [1,2,3,3,4,2,3,4,5,6,1]news_ids = []for id in ids: if id not in news_ids: news_ids.append(id)print news_ids set12ids = [1,4,3,3,4,2,3,4,5,6,1]ids = list(set(ids)) &#x8FD9;&#x6837;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x6CA1;&#x6709;&#x4FDD;&#x6301;&#x539F;&#x6765;&#x7684;&#x987A;&#x5E8F;&#x3002; &#x6309;&#x7167;&#x7D22;&#x5F15;&#x518D;&#x6B21;&#x6392;&#x5E8F; 123ids = [1,4,3,3,4,2,3,4,5,6,1]news_ids = list(set(ids))news_ids.sort(ids.index) itertools.grouby12345ids = [1,4,3,3,4,2,3,4,5,6,1]ids.sort()it = itertools.groupby(ids)for k, g in it: print k &#x5173;&#x4E8E;itertools.groupby&#x7684;&#x539F;&#x7406;&#x53EF;&#x4EE5;&#x770B;&#x8FD9;&#x91CC; reduce1234ids = [1,4,3,3,4,2,3,4,5,6,1]func = lambda x,y:x if y in x else x + [y]print reduce(func, [[], ] + ids)[1, 4, 3, 2, 5, 6] &#x5176;&#x4E2D; 123lambda x,y:x if y in x else x + [y] &#x7B49;&#x4EF7;&#x4E8E; lambda x,y: y in x and x or x+[y] &#x601D;&#x8DEF;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5148;&#x628A;ids&#x53D8;&#x4E3A;[[], 1,4,3,&#x2026;&#x2026;] ,&#x7136;&#x540E;&#x5728;&#x5229;&#x7528;reduce&#x7684;&#x7279;&#x6027;&#x3002;reduce&#x89E3;&#x91CA;&#x53C2;&#x770B;&#x8FD9;&#x91CC;]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[常用nginx虚拟主机配置]]></title>
    <url>%2F2017%2F03%2F01%2Fnginx-conf%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; 123456789101112131415161718192021222324252627[root@ecs vhosts]# cat c.isme.pub.confserver { listen 80; server_name c.isme.pub; location ~ ^/product/xxx/.+\.php$ { access_log /data/logs/nginx_log/xxx_access.log moss; error_log /data/logs/nginx_log/xxx_error.log; if ($fastcgi_script_name ~ /product/xxx/(.*)) { root /data/web_data/web/app/xxx/www/; set $valid_fastcgi_script_name $1; } fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root/$valid_fastcgi_script_name; include fastcgi_params; } location /product/xxx/ { access_log /data/logs/nginx_log/xxx_access.log moss; error_log /data/logs/nginx_log/xxx_error.log; alias /data/web_data/web/app/cat_elock/www/; index index.htm; }} 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970server { listen 80; server_name c.isme.pub; access_log /data/logs/nginx_log/xxx_access.log moss; error_log /data/logs/nginx_log/xxx_error.log error; location / { proxy_pass http://0.0.0.0/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } }server { listen 80; server_name c.isme.pub; access_log /data/logs/nginx_log/xxx_access.log moss; error_log /data/logs/nginx_log/xxx_error.log error; return 301 https://$server_name/$1; }server { listen 443; server_name c.isme.pub; access_log /data/logs/nginx_log/xxx_access.log moss; error_log /data/logs/nginx_log/xxx_error.log error; ssl on; ssl_certificate /usr/local/nginx/conf/ssl/wildcard-g7-20170629.crt; ssl_certificate_key /usr/local/nginx/conf/ssl/wildcard-g7-20170629.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP; ssl_prefer_server_ciphers on; ssl_session_cache shared:demo-pay:4m; location / { proxy_pass http://0.0.0.0:80/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; #proxy_set_header Host $host; #proxy_set_header X-Real-IP $remote_addr; }}upstream zabbix{ server 172.16.1.4:80;}server { listen 80; server_name zabbix.xxx.com; access_log /data/logs/zabbix/zabbix_access.log ksformat; error_log /data/logs/zabbix/zabbix_error.log; location / { proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header remote_addr $remote_addr; proxy_pass http://zabbix; }} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566server { listen 80; server_name c.isme.pub; access_log /data/logs/nginx_log/xxx_access.log moss; error_log /data/logs/nginx_log/xxx_error.log error; location ~ ^/xxx/.+\.php { if ($fastcgi_script_name ~ /xxx/(.*)) { root /data/web_data/web/app/xxx/app/zeus/public/; set $valid_fastcgi_script_name $1; } fastcgi_split_path_info ^(.+\.php)(/.+)$; fastcgi_pass 127.0.0.1:9001; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root/$valid_fastcgi_script_name; include fastcgi_params; } location ~ ^/xxx/(.*)$ { alias /data/web_data/web/app/xxx/app/zeus/public/; try_files $uri $uri/ /index.php?$query_string; index index.php index.html index.htm; } location / { root /data/web_data/web/app/xxx/www/; index index.php index.html index.htm; } location ~ \.php$ { root /data/web_data/web/app/xxx/www/; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.html; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; include fastcgi_params; } location /php-fpm_status { fastcgi_pass 127.0.0.1:9000; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; include fastcgi_params; }}server { listen 443; server_name c.isme.pub; error_log off; ssl on; ssl_certificate /usr/local/nginx/conf/ssl/wildcard-g7-20170629.crt; ssl_certificate_key /usr/local/nginx/conf/ssl/wildcard-g7-20170629.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP; ssl_prefer_server_ciphers on; ssl_session_cache shared:demo-pay:4m; location / { proxy_pass http://127.0.0.1:80; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection &quot;upgrade&quot;; }} &#x901A;&#x8FC7;url&#x4E2D;&#x4E0D;&#x540C;&#x53C2;&#x6570;&#x5B9A;&#x4F4D;&#x5230;&#x4E0D;&#x540C;&#x9879;&#x76EE;&#x548C;&#x4E0D;&#x540C;&#x73AF;&#x5883;123456789101112131415location /www/ { if ( $query_string ~* ^(.*)p=(.*?)&amp;(.*)e=gt(.*)$ ) { root /www/html/; set $location $2; set $env &quot;gtest&quot;; } if ( $query_string ~* ^(.*)p=(.*?)&amp;(.*)e=mt(.*)$ ) { root /www/html/; set $location $2; set $env &quot;mtest&quot;; } rewrite ^/www/(.*) /$location/$env/index.html?$query_string break; try_files $uri /$location/$env/index.html?$query_string; index index.html;} rewrite1234567891011location /xxx/{ alias /www/html/xxx/; try_files $uri /xxx/index.html; if ( $uri ~ &apos;users&apos; ){ rewrite ^/xxx/users /xxx/index.html; } if ( $uri ~ &apos;&apos; ) { rewrite ^/xxx/$ https://xxxxxx }} http&#x8F6C;httpsrewrite12345678910111213server { listen 80; server_name domain.com; rewrite ^(.*) https://$server_name$1 permanent;}server { listen 443 ssl; server_name domain.com; ssl on; ssl_certificate /etc/nginx/ssl/domain.com.crt; ssl_certificate_key /etc/nginx/ssl/domain.com.crt; # other} return12345678910111213server { listen 80; server_name domain.com; return 301 https://$server_name$request_uri;}server { listen 443 ssl; server_name domain.com; ssl on; ssl_certificate /etc/nginx/ssl/domain.com.crt; ssl_certificate_key /etc/nginx/ssl/domain.com.crt; # other} error_page12345678910server { listen 80; listen 443 ssl; server_name domain.com; ssl on; ssl_certificate /etc/nginx/ssl/domain.com.crt; ssl_certificate_key /etc/nginx/ssl/domain.com.crt; # other error_page 497 https://$server_name$request_uri;}]]></content>
      <categories>
        <category>linux</category>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python异常处理]]></title>
    <url>%2F2017%2F02%2F28%2Fpython-raise%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5728;&#x5199;python&#x7A0B;&#x5E8F;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x96BE;&#x514D;&#x4F1A;&#x9047;&#x5230;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x5F02;&#x5E38;&#x548C;&#x9519;&#x8BEF;&#x3002;&#x800C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x8BED;&#x53E5;&#x6765;&#x6355;&#x6349;&#x5230;&#x9519;&#x8BEF;&#x5E76;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x5730;&#x65B9;&#x4E3B;&#x52A8;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x3002;&#x672C;&#x6587;&#x5C31;&#x5BF9;python&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#x3001;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7B80;&#x5355;&#x505A;&#x4E00;&#x4E0B;&#x8BF4;&#x660E;&#x548C;&#x6574;&#x7406;&#x3002; &#x8FD0;&#x7528;&#x573A;&#x666F; &#x8BA9;&#x7A0B;&#x5E8F;&#x517C;&#x5BB9;&#x6027;&#x66F4;&#x5F3A; &#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x8BA9;&#x7A0B;&#x5E8F;&#x7EE7;&#x7EED;&#x8FD0;&#x884C; &#x4E3B;&#x52A8;&#x629B;&#x51FA;&#x5F02;&#x5E38; &#x5F02;&#x5E38;&#x5217;&#x8868;python2 &#x5F02;&#x5E38; &#x63CF;&#x8FF0; Exception &#x6240;&#x6709;&#x5F02;&#x5E38;&#x7684;&#x57FA;&#x7C7B; NameError &#x5C1D;&#x8BD5;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x7533;&#x660E;&#x7684;&#x53D8;&#x91CF; SyntaxError &#x8BED;&#x6CD5;&#x9519;&#x8BEF; TypeError &#x7C7B;&#x578B;&#x9519;&#x8BEF; KeyError &#x8BF7;&#x6C42;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x5B57;&#x5178;&#x5173;&#x952E;&#x5B57; KeyboardInterrupt Ctrl+C IOError &#x8F93;&#x5165;&#x8F93;&#x51FA;&#x9519;&#x8BEF;&#xFF08;&#x6BD4;&#x5982;&#x4F60;&#x8981;&#x8BFB;&#x7684;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF09; ZeroDivisionError &#x9664;&#x6570;&#x4E3A;0 IndexError &#x7D22;&#x5F15;&#x8D85;&#x51FA;&#x5E8F;&#x5217;&#x8303;&#x56F4; AttributeError &#x5C1D;&#x8BD5;&#x8BBF;&#x95EE;&#x672A;&#x77E5;&#x7684;&#x5BF9;&#x8C61;&#x5C5E;&#x6027; ValueError &#x4F20;&#x7ED9;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x4E0D;&#x6B63;&#x786E;&#xFF0C;&#x6BD4;&#x5982;&#x7ED9;int()&#x51FD;&#x6570;&#x4F20;&#x5165;&#x5B57;&#x7B26;&#x4E32;&#x5F62; AssertionError assert&#x8BED;&#x53E5;&#x5931;&#x8D25; ImportError &#x5BFC;&#x5165;&#x6A21;&#x5757;&#x6216;&#x5305;&#x9519;&#x8BEF; IdentationError &#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#xFF0C;&#x6CA1;&#x6709;&#x5BF9;&#x9F50; 12345678910111213AttributeError &#x8BD5;&#x56FE;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6CA1;&#x6709;&#x7684;&#x6811;&#x5F62;&#xFF0C;&#x6BD4;&#x5982;foo.x&#xFF0C;&#x4F46;&#x662F;foo&#x6CA1;&#x6709;&#x5C5E;&#x6027;xIOError &#x8F93;&#x5165;/&#x8F93;&#x51FA;&#x5F02;&#x5E38;&#xFF1B;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x65E0;&#x6CD5;&#x6253;&#x5F00;&#x6587;&#x4EF6;ImportError &#x65E0;&#x6CD5;&#x5F15;&#x5165;&#x6A21;&#x5757;&#x6216;&#x5305;&#xFF1B;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x8DEF;&#x5F84;&#x95EE;&#x9898;&#x6216;&#x540D;&#x79F0;&#x9519;&#x8BEF;IndentationError &#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#xFF08;&#x7684;&#x5B50;&#x7C7B;&#xFF09; &#xFF1B;&#x4EE3;&#x7801;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x5BF9;&#x9F50;IndexError &#x4E0B;&#x6807;&#x7D22;&#x5F15;&#x8D85;&#x51FA;&#x5E8F;&#x5217;&#x8FB9;&#x754C;&#xFF0C;&#x6BD4;&#x5982;&#x5F53;x&#x53EA;&#x6709;&#x4E09;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5374;&#x8BD5;&#x56FE;&#x8BBF;&#x95EE;x[5]KeyError &#x8BD5;&#x56FE;&#x8BBF;&#x95EE;&#x5B57;&#x5178;&#x91CC;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x952E;KeyboardInterrupt Ctrl+C&#x88AB;&#x6309;&#x4E0B;NameError &#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x8FD8;&#x672A;&#x88AB;&#x8D4B;&#x4E88;&#x5BF9;&#x8C61;&#x7684;&#x53D8;&#x91CF;SyntaxError Python&#x4EE3;&#x7801;&#x975E;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x4E0D;&#x80FD;&#x7F16;&#x8BD1;(&#x4E2A;&#x4EBA;&#x8BA4;&#x4E3A;&#x8FD9;&#x662F;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#xFF0C;&#x5199;&#x9519;&#x4E86;&#xFF09;TypeError &#x4F20;&#x5165;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x4E0E;&#x8981;&#x6C42;&#x7684;&#x4E0D;&#x7B26;&#x5408;UnboundLocalError &#x8BD5;&#x56FE;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x8FD8;&#x672A;&#x88AB;&#x8BBE;&#x7F6E;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x7531;&#x4E8E;&#x53E6;&#x6709;&#x4E00;&#x4E2A;&#x540C;&#x540D;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x5BFC;&#x81F4;&#x4F60;&#x4EE5;&#x4E3A;&#x6B63;&#x5728;&#x8BBF;&#x95EE;&#x5B83;ValueError &#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x8C03;&#x7528;&#x8005;&#x4E0D;&#x671F;&#x671B;&#x7684;&#x503C;&#xFF0C;&#x5373;&#x4F7F;&#x503C;&#x7684;&#x7C7B;&#x578B;&#x662F;&#x6B63;&#x786E;&#x7684; python3&#x5F85;&#x7EED; &#x5F02;&#x5E38;&#x5904;&#x7406;try&#x2026;except&#x2026; try&#x2026;except&#x2026; try&#x2026;except&#x2026;else&#x2026; &#x5F53;&#x6211;&#x4EEC;&#x5C1D;&#x8BD5;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;python&#x5C31;&#x4F1A;&#x7ED9;&#x6211;&#x4EEC;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;python2&#x662F;IOError&#xFF0C;python3&#x662F;FileNotFoundError&#x3002; 1234567891011# python2&gt;&gt;&gt; open(&quot;test.txt&quot;)Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;IOError: [Errno 2] No such file or directory: &apos;test.txt&apos;# python3&gt;&gt;&gt; open(&quot;test.txt&quot;)Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;FileNotFoundError: [Errno 2] No such file or directory: &apos;test.txt&apos; &#x4EE5; python2 &#x7684;&#x5904;&#x7406;&#x4E3A;&#x4F8B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x4F1A;&#x53D1;&#x751F;&#x7684;&#x9519;&#x8BEF;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x6765;&#x6355;&#x6349;&#x5230;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002; 123456&gt;&gt;&gt; try:... open(&quot;test.txt&quot;)... except IOError:... print &quot;get error&quot;...get error &#x8FD0;&#x884C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x6CA1;&#x6709;&#x770B;&#x5230;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#xFF0C;&#x5E76;&#x4E14;&#x6253;&#x5370;&#x4E86;&#x201D;get error&#x201D;&#xFF0C;&#x8BF4;&#x660E;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x7528;except&#x6355;&#x6349;&#x5230;&#x4E86;IOError&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x7136;&#x540E;&#x8F93;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x6216;&#x8005;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;pass&#xFF0C;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x505A;&#xFF09;&#x3002; &#x800C;&#x5F53;&#x6211;&#x4EEC;&#x4E0D;&#x662F;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x6253;&#x5370;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x53D8;&#x91CF;&#x5462;&#x3002; 12345678&gt;&gt;&gt; try:... print var... except IOError:... print &quot;get error&quot;...Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 2, in &lt;module&gt;NameError: name &apos;var&apos; is not defined &#x8FD9;&#x65F6;&#x5019;&#x53C8;&#x6709;&#x9519;&#x8BEF;&#x629B;&#x51FA;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x65F6;&#x5019;&#x4E0D;&#x662F;IOError&#x4E86; &#x800C;&#x662F;NameError&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x7684;except&#x6355;&#x6349;&#x7684;&#x4E0D;&#x662F;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x3002;&#x6240;&#x4EE5;&#x9519;&#x8BEF;&#x8FD8;&#x662F;&#x4F1A;&#x629B;&#x51FA;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x628A;except&#x540E;&#x9762;&#x7684;&#x5F02;&#x5E38;&#x6539;&#x6210;NameError&#x5C31;&#x884C;&#x4E86;&#x3002; 12345&gt;&gt;&gt; try:... print var... except Exception as e::... pass... &#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E0A;&#x9762;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x6355;&#x6349;&#x5230;&#x6240;&#x6709;&#x7684;&#x5F02;&#x5E38;&#x3002; try&#x2026;finally&#x2026; try&#x2026;finally&#x2026; try&#x2026;except&#x2026;finally&#x2026; &#x8FD9;&#x6837;&#x7684;&#x8BED;&#x53E5;&#xFF0C;&#x4E2D;&#x95F4;&#x4E0D;&#x7BA1;&#x6355;&#x6349;&#x5230;&#x4E86;&#x4EC0;&#x4E48;&#xFF0C;&#x6700;&#x540E;finally&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x4F1A;&#x8FD0;&#x884C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x8BED;&#x53E5;&#x505A;&#x4E00;&#x4E9B;&#x7C7B;&#x4F3C;&#x6E05;&#x7406;&#xFF0C;&#x7BA1;&#x7406;&#x8FDE;&#x63A5;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x505A;&#x6F14;&#x793A;&#x4E86; &#x5F02;&#x5E38;&#x5176;&#x4ED6;&#x7ED3;&#x6784; 1234567891011try: # &#x4E3B;&#x4EE3;&#x7801;&#x5757; passexcept KeyError,e: # &#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x6267;&#x884C;&#x8BE5;&#x5757; passelse: # &#x4E3B;&#x4EE3;&#x7801;&#x5757;&#x6267;&#x884C;&#x5B8C;&#xFF0C;&#x6267;&#x884C;&#x8BE5;&#x5757; passfinally: # &#x65E0;&#x8BBA;&#x5F02;&#x5E38;&#x4E0E;&#x5426;&#xFF0C;&#x6700;&#x7EC8;&#x6267;&#x884C;&#x8BE5;&#x5757; &#x5F02;&#x5E38;&#x7684;&#x629B;&#x51FA;&#x673A;&#x5236;&#xFF1A; &#x5982;&#x679C;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#xFF0C;&#x89E3;&#x91CA;&#x5668;&#x4F1A;&#x67E5;&#x627E;&#x76F8;&#x5E94;&#x7684;&#x5904;&#x7406;&#x8BED;&#x53E5;&#xFF08;&#x79F0;&#x4E3A;handler&#xFF09;. &#x8981;&#x662F;&#x5728;&#x5F53;&#x524D;&#x51FD;&#x6570;&#x91CC;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x7684;&#x8BDD;&#xFF0C;&#x5B83;&#x4F1A;&#x5C06;&#x5F02;&#x5E38;&#x4F20;&#x9012;&#x7ED9;&#x4E0A;&#x5C42;&#x7684;&#x8C03;&#x7528;&#x51FD;&#x6570;&#xFF0C;&#x770B;&#x770B;&#x90A3;&#x91CC;&#x80FD;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x3002; &#x5982;&#x679C;&#x5728;&#x6700;&#x5916;&#x5C42;&#xFF08;&#x5168;&#x5C40;&#x201C;main&#x201D;&#xFF09;&#x8FD8;&#x662F;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x7684;&#x8BDD;&#xFF0C;&#x89E3;&#x91CA;&#x5668;&#x5C31;&#x4F1A;&#x9000;&#x51FA;&#xFF0C;&#x540C;&#x65F6;&#x6253;&#x5370;&#x51FA;traceback&#x4EE5;&#x4FBF;&#x8BA9;&#x7528;&#x6237;&#x627E;&#x5230;&#x9519;&#x8BEF;&#x4EA7;&#x751F;&#x7684;&#x539F;&#x56E0;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x867D;&#x7136;&#x5927;&#x591A;&#x6570;&#x9519;&#x8BEF;&#x4F1A;&#x5BFC;&#x81F4;&#x5F02;&#x5E38;&#xFF0C;&#x4F46;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x4E0D;&#x4E00;&#x5B9A;&#x4EE3;&#x8868;&#x9519;&#x8BEF;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x5B83;&#x4EEC;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x8B66;&#x544A;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x5B83;&#x4EEC;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x7EC8;&#x6B62;&#x4FE1;&#x53F7;&#xFF0C;&#x6BD4;&#x5982;&#x9000;&#x51FA;&#x5FAA;&#x73AF;&#x7B49;&#x3002; raise &#x5F02;&#x5E38;&#x629B;&#x51FA;12345678&gt;&gt;&gt; name = raw_input(&quot;name:&quot;)name:cass&gt;&gt;&gt; if name == &quot;cass&quot;:... raise NameError(&quot;wrong name&quot;)...Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 2, in &lt;module&gt;NameError: wrong name &#x4F7F;&#x7528;raise&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E3B;&#x52A8;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x3002; 123456789101112class Continue(Exception): passfor i in range(100): try: name = raw_input(&quot;name:&quot;) if name == &quot;cass&quot;: raise Continue() except Continue: continue finally: print name &#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;123456789101112class WupeiqiException(Exception): def __init__(self, msg): self.message = msg def __str__(self): return self.message try: raise WupeiqiException(&apos;&#x6211;&#x7684;&#x5F02;&#x5E38;&apos;)except WupeiqiException,e: print e assert&#x65AD;&#x8A00;python assert&#x65AD;&#x8A00;&#x662F;&#x58F0;&#x660E;&#x5176;&#x5E03;&#x5C14;&#x503C;&#x5FC5;&#x987B;&#x4E3A;&#x771F;&#x7684;&#x5224;&#x5B9A;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x5C31;&#x8BF4;&#x660E;&#x8868;&#x8FBE;&#x793A;&#x4E3A;&#x5047;&#x3002;&#x53EF;&#x4EE5;&#x7406;&#x89E3;assert&#x65AD;&#x8A00;&#x8BED;&#x53E5;&#x4E3A;raise-if-not&#xFF0C;&#x7528;&#x6765;&#x6D4B;&#x8BD5;&#x8868;&#x793A;&#x5F0F;&#xFF0C;&#x5176;&#x8FD4;&#x56DE;&#x503C;&#x4E3A;&#x5047;&#xFF0C;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;&#x5F02;&#x5E38;&#x3002; assert expression [, arguments] assert &#x8868;&#x8FBE;&#x5F0F; [, &#x53C2;&#x6570;] 1234assert 1==1assert 2+2==2*2assert len([&apos;my boy&apos;,12])&lt;10assert range(4)==[0,1,2,3]]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux下使用rsync最快删除海量文件的方法]]></title>
    <url>%2F2017%2F02%2F27%2Frsync-delete%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5728;linux&#x7684;web&#x670D;&#x52A1;&#x5668;&#x7EF4;&#x62A4;&#x8FC7;&#x7A0B;&#x5F53;&#x4E2D;&#xFF0C;&#x6709;&#x4E9B;&#x7A0B;&#x5E8F;&#x4F1A;&#x4F7F;&#x7528;&#x672C;&#x5730;file&#x7F13;&#x5B58;&#x6216;&#x751F;&#x6210;&#x5927;&#x91CF;&#x7A0B;&#x5E8F;&#x65E5;&#x5FD7;&#x3002;&#x5F53;&#x53D1;&#x5E03;&#x8FDB;&#x884C;&#x7248;&#x672C;&#x8FED;&#x4EE3;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x4E0A;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x7A0B;&#x5E8F;&#x4F1A;&#x4FDD;&#x7559;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E9B;&#x5C0F;&#x6587;&#x4EF6;&#x4F1A;&#x6D88;&#x8017;&#x5927;&#x91CF;&#x7684;inode&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x7684;&#x5220;&#x9664;&#x547D;&#x4EE4;rm -fr * &#x5C31;&#x4E0D;&#x597D;&#x7528;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x8981;&#x7B49;&#x5F85;&#x7684;&#x65F6;&#x95F4;&#x592A;&#x957F;&#x3002;&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x8981;&#x91C7;&#x53D6;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x624B;&#x6BB5;&#x6765;&#x5220;&#x9664;&#x8FD9;&#x4E9B;&#x5927;&#x91CF;&#x7684;&#x5C0F;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;rsync&#x6765;&#x5B9E;&#x73B0;&#x5FEB;&#x901F;&#x5220;&#x9664;&#x5927;&#x91CF;&#x6587;&#x4EF6;&#x3002; &#x5B89;&#x88C5;rsync&#x5B89;&#x88C5;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;&#x5373;&#x53EF; 1yum install -y rsync &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x6587;&#x4EF6;&#x5939;1mkdir /tmp/null &#x7528;rsync&#x5220;&#x9664;&#x76EE;&#x6807;&#x76EE;&#x5F55;1rsync --delete-before -a -H -v --progress --stats /tmp/null/ /data/web/app/xxx/cache/ &#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x8981;&#x5220;&#x9664;&#x7684;cache&#x76EE;&#x5F55;&#x5C31;&#x4F1A;&#x88AB;&#x6E05;&#x7A7A;&#x4E86;&#xFF0C;&#x5220;&#x9664;&#x7684;&#x901F;&#x5EA6;&#x4F1A;&#x975E;&#x5E38;&#x5FEB;&#x3002; rsync&#x5B9E;&#x9645;&#x4E0A;&#x7528;&#x7684;&#x662F;&#x66FF;&#x6362;&#x539F;&#x7406;&#xFF0C;&#x5904;&#x7406;&#x6570;&#x5341;&#x4E07;&#x4E2A;&#x6587;&#x4EF6;&#x4E5F;&#x662F;&#x79D2;&#x5220;&#x3002; &#x53C2;&#x6570;123456&#x2013;delete-before &#x63A5;&#x6536;&#x8005;&#x5728;&#x4F20;&#x8F93;&#x4E4B;&#x524D;&#x8FDB;&#x884C;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x2013;progress &#x5728;&#x4F20;&#x8F93;&#x65F6;&#x663E;&#x793A;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;-a &#x5F52;&#x6863;&#x6A21;&#x5F0F;&#xFF0C;&#x8868;&#x793A;&#x4EE5;&#x9012;&#x5F52;&#x65B9;&#x5F0F;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x5C5E;&#x6027;-H &#x4FDD;&#x6301;&#x786C;&#x8FDE;&#x63A5;&#x7684;&#x6587;&#x4EF6;-v &#x8BE6;&#x7EC6;&#x8F93;&#x51FA;&#x6A21;&#x5F0F;&#x2013;stats &#x7ED9;&#x51FA;&#x67D0;&#x4E9B;&#x6587;&#x4EF6;&#x7684;&#x4F20;&#x8F93;&#x72B6;&#x6001;]]></content>
      <categories>
        <category>linux</category>
        <category>rsync</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>rsync</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python处理excel简明教程]]></title>
    <url>%2F2017%2F02%2F24%2Fpython-excel%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x6CE8;&#xFF1A;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x53D6;&#x81EA;&#x7F51;&#x7EDC;&#xFF0C;&#x4E2A;&#x4EBA;&#x91CD;&#x65B0;&#x6574;&#x7406; &#x6570;&#x636E;&#x5904;&#x7406;&#x662F; Python &#x7684;&#x4E00;&#x5927;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x800C; Excel &#x5219;&#x662F;&#x6700;&#x6D41;&#x884C;&#x7684;&#x6570;&#x636E;&#x5904;&#x7406;&#x8F6F;&#x4EF6;&#x3002;&#x56E0;&#x6B64;&#x7528; Python &#x8FDB;&#x884C;&#x6570;&#x636E;&#x76F8;&#x5173;&#x7684;&#x5DE5;&#x4F5C;&#x65F6;&#xFF0C;&#x96BE;&#x514D;&#x8981;&#x548C; Excel &#x6253;&#x4EA4;&#x9053;&#x3002; &#x5982;&#x679C;&#x4EC5;&#x4EC5;&#x662F;&#x8981;&#x4EE5;&#x8868;&#x5355;&#x5F62;&#x5F0F;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x501F;&#x52A9; CSV &#x683C;&#x5F0F;&#xFF08;&#x4E00;&#x79CD;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x8868;&#x683C;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF09;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;Excel &#x4E5F;&#x652F;&#x6301;&#x6B64;&#x683C;&#x5F0F;&#x3002;&#x4F46;&#x6807;&#x51C6;&#x7684; Excel &#x6587;&#x4EF6;&#xFF08;xls/xlsx&#xFF09;&#x5177;&#x6709;&#x8F83;&#x590D;&#x6742;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x4E0D;&#x65B9;&#x4FBF;&#x50CF;&#x666E;&#x901A;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x4E00;&#x6837;&#x76F4;&#x63A5;&#x8FDB;&#x884C;&#x8BFB;&#x5199;&#xFF0C;&#x9700;&#x8981;&#x501F;&#x52A9;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#x6765;&#x5B9E;&#x73B0;&#x3002; xlrd &#xFF0D; &#x8BFB;&#x53D6;Excel&#x6587;&#x4EF6;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;xlwt &#xFF0D; &#x521B;&#x5EFA;&#x3001;&#x5199;&#x5165;Excel&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x63A7;&#x5236;Excel&#x4E2D;&#x5355;&#x5143;&#x683C;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x5728;&#x5DF2;&#x6709;&#x7684;Excel&#x6587;&#x4EF6;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x4FEE;&#x6539;xlutils &#xFF0D; &#x64CD;&#x4F5C;Excel&#x6587;&#x4EF6;&#x7684;&#x5B9E;&#x7528;&#x5DE5;&#x5177;&#xFF0C;&#x5982;&#x590D;&#x5236;&#x3001;&#x5206;&#x5272;&#x3001;&#x7B5B;&#x9009;&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x73B0;&#x6709;&#x6587;&#x4EF6;&#x4FEE;&#x6539;pyExcelerator - &#x4E0E;xlwt&#x7C7B;&#x4F3C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x751F;&#x6210;excel&#x6587;&#x4EF6;openpyxl &#x548C; xlsxwriter xlrd &#x8BFB;&#x53D6;Excel&#x8BFB;&#x53D6;excel&#x5185;&#x5BB9; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#!/usr/bin/env python# -*- coding: utf-8 -*-# &#x8BFB;&#x53D6;excel&#x5185;&#x5BB9;# &#x5BFC;&#x5165;&#x6A21;&#x5757;import xlrd# &#x6253;&#x5F00;Excel&#x6587;&#x4EF6;&#x8BFB;&#x53D6;&#x6570;&#x636E;book = xlrd.open_workbook(&apos;test.xls&apos;) # &#x6253;&#x5F00;xls&#x6587;&#x4EF6;print &quot;&#x6240;&#x6709;&#x8868;&#x5355;&#x6570;&#x91CF;:&quot;, book.nsheetsprint &quot;&#x6240;&#x6709;&#x8868;&#x5355;&#x540D;&#x79F0;:&quot;, book.sheet_names()# &#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#x8868;## &#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x987A;&#x5E8F;&#x83B7;&#x53D6;table = book.sheets()[0]table = book.sheet_by_index(0)## &#x901A;&#x8FC7;&#x540D;&#x79F0;&#x83B7;&#x53D6;table = book.sheet_by_name(&apos;sheet1&apos;)# &#x904D;&#x5386;&#x6240;&#x6709;&#x8868;&#x5355;for s in book.sheets(): for r in range(s.nrows): # &#x8F93;&#x51FA;&#x6307;&#x5B9A;&#x884C; print s.row(r)# &#x83B7;&#x53D6;&#x884C;&#x6570;&#x548C;&#x5217;&#x6570;print u&quot;&#x8868;&#x5355; %s &#x5171; %d &#x884C; %d &#x5217;&quot; % (table.name, table.nrows, table.ncols) # &#x83B7;&#x53D6;&#x5355;&#x5143;&#x683C;&#x5185;&#x5BB9;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;print table.cell(1,0).ctype# &#x904D;&#x5386;sheet1&#x4E2D;&#x6240;&#x6709;&#x884C;rownum_rows = table.nrowsfor curr_row in range(num_rows): if i == 0: # &#x8DF3;&#x8FC7;&#x7B2C;&#x4E00;&#x884C; continue row = table.row_values(curr_row) print(&apos;row%s is %s&apos; %(curr_row,row))# &#x904D;&#x5386;sheet1&#x4E2D;&#x6240;&#x6709;&#x5217;colnum_cols = table.ncolsfor curr_col in range(num_cols): col = table.col_values(curr_col) print(&apos;col%s is %s&apos; %(curr_col,col))# &#x904D;&#x5386;sheet1&#x4E2D;&#x6240;&#x6709;&#x5355;&#x5143;&#x683C;cellfor rown in range(num_rows): for coln in range(num_cols): cell = table.cell_value(rown,coln) print cell# &#x83B7;&#x53D6;&#x5355;&#x5143;&#x683C;&#x5185;&#x5BB9;print &quot;&#x7B2C;&#x4E8C;&#x884C;&#x7B2C;&#x4E09;&#x5217;:&quot;, table.cell_value(1, 2)print table.cell(1,0).value.encode(&apos;utf-8&apos;)print table.cell_value(1,0).encode(&apos;utf-8&apos;)# &#x4F7F;&#x7528;&#x884C;&#x5217;&#x7D22;&#x5F15;print table.row(1)[0].value.encode(&apos;utf-8&apos;)print table.col(1)[0].value.encode(&apos;utf-8&apos;)&quot;&quot;&quot;python&#x8BFB;&#x53D6;excel&#x4E2D;&#x5355;&#x5143;&#x683C;&#x7684;&#x5185;&#x5BB9;&#x8FD4;&#x56DE;&#x7684;&#x6709;5&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x5373;&#x4E0A;&#x9762;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;ctype:ctype : 0 empty,1 string, 2 number, 3 date, 4 boolean, 5 error&quot;&quot;&quot;#&#x83B7;&#x53D6;&#x5355;&#x5143;&#x683C;&#x4E2D;&#x503C;&#x7684;&#x7C7B;&#x578B;cell_type = table.cell_type(rown,coln)print cell_typeprint table.cell(1,0).ctype# &#x5F53;&#x78B0;&#x5230;&#x65F6;&#x95F4;&#x7C7B;&#x578B;&#x7684;&#x5355;&#x5143;&#x683C;&#x65F6;&#x5E94;&#x505A;&#x7279;&#x6B8A;&#x5904;&#x7406;if (table.cell(row,col).ctype == 3): date_value = xlrd.xldate_as_tuple(sheet.cell_value(rows,3),book.datemode) date_tmp = date(*date_value[:3]).strftime(&apos;%Y/%m/%d&apos;)# &#x8BFB;&#x53D6;&#x5408;&#x5E76;&#x5355;&#x5143;&#x683C;&#x7684;&#x5185;&#x5BB9;print table.merged_cellsmerge = []for (rlow,rhigh,clow,chigh) in table.merged_cells: merge.append([rlow,clow])for index in merge: print table.cell_value(index[0],index[1]) xlwt &#x521B;&#x5EFA;Excel&#x65B0;&#x5EFA;excel&#x5E76;&#x5199;&#x5165;&#x6570;&#x636E;&#x7B80;&#x5355;&#x5B9E;&#x4F8B; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899#!/usr/bin/env python# -*- coding: utf-8 -*-# &#x65B0;&#x5EFA;excel&#x5E76;&#x5199;&#x5165;&#x6570;&#x636E;&#x7B80;&#x5355;&#x5B9E;&#x4F8B;# &#x5BFC;&#x5165;&#x6A21;&#x5757;import xlwtdef set_style(name,height,bold=False): &quot;&quot;&quot; # &#x4F7F;&#x7528;&#x6837;&#x5F0F; &quot;&quot;&quot; # &#x521D;&#x59CB;&#x5316;&#x6837;&#x5F0F; style = xlwt.XFStyle() # &#x4E3A;&#x6837;&#x5F0F;&#x521B;&#x5EFA;&#x5B57;&#x4F53; font = xlwt.Font() font.name = name # &apos;Times New Roman&apos; font.bold = bold font.color_index = 4 font.height = height # &#x5176;&#x4ED6;&#x6837;&#x5F0F; # borders= xlwt.Borders() # borders.left= 6 # borders.right= 6 # borders.top= 6 # borders.bottom= 6 style.font = font # style.borders = borders return styledef write_excel(): &quot;&quot;&quot; &#x5411;sheet&#x9875;&#x4E2D;&#x5199;&#x5165;&#x6570;&#x636E; &quot;&quot;&quot; # &#x521B;&#x5EFA;&#x5DE5;&#x4F5C;&#x7C3F; f = xlwt.Workbook() # &#x521B;&#x5EFA;&#x7B2C;&#x4E00;&#x4E2A;sheet sheet1 = f.add_sheet(u&apos;sheet1&apos;,cell_overwrite_ok=True) #&#x521B;&#x5EFA;sheet row0 = [u&apos;&#x4E1A;&#x52A1;&apos;,u&apos;&#x72B6;&#x6001;&apos;,u&apos;&#x5317;&#x4EAC;&apos;,u&apos;&#x4E0A;&#x6D77;&apos;,u&apos;&#x5E7F;&#x5DDE;&apos;,u&apos;&#x6DF1;&#x5733;&apos;,u&apos;&#x72B6;&#x6001;&#x5C0F;&#x8BA1;&apos;,u&apos;&#x5408;&#x8BA1;&apos;] column0 = [u&apos;&#x673A;&#x7968;&apos;,u&apos;&#x8239;&#x7968;&apos;,u&apos;&#x706B;&#x8F66;&#x7968;&apos;,u&apos;&#x6C7D;&#x8F66;&#x7968;&apos;,u&apos;&#x5176;&#x5B83;&apos;] status = [u&apos;&#x9884;&#x8BA2;&apos;,u&apos;&#x51FA;&#x7968;&apos;,u&apos;&#x9000;&#x7968;&apos;,u&apos;&#x4E1A;&#x52A1;&#x5C0F;&#x8BA1;&apos;] #&#x751F;&#x6210;&#x7B2C;&#x4E00;&#x884C; for i in range(0,len(row0)): sheet1.write(0,i,row0[i],set_style(&apos;Times New Roman&apos;,220,True)) #&#x751F;&#x6210;&#x7B2C;&#x4E00;&#x5217;&#x548C;&#x6700;&#x540E;&#x4E00;&#x5217;(&#x5408;&#x5E76;4&#x884C;) i, j = 1, 0 while i &lt; 4*len(column0) and j &lt; len(column0): sheet1.write_merge(i,i+3,0,0,column0[j],set_style(&apos;Arial&apos;,220,True)) #&#x7B2C;&#x4E00;&#x5217; sheet1.write_merge(i,i+3,7,7) #&#x6700;&#x540E;&#x4E00;&#x5217;&quot;&#x5408;&#x8BA1;&quot; i += 4 j += 1 sheet1.write_merge(21,21,0,1,u&apos;&#x5408;&#x8BA1;&apos;,set_style(&apos;Times New Roman&apos;,220,True)) #&#x751F;&#x6210;&#x7B2C;&#x4E8C;&#x5217; i = 0 while i &lt; 4*len(column0): for j in range(0,len(status)): sheet1.write(j+i+1,1,status[j]) i += 4 sheet2 = f.add_sheet(u&apos;sheet2&apos;,cell_overwrite_ok=True) #&#x521B;&#x5EFA;sheet2 row0 = [u&apos;&#x59D3;&#x540D;&apos;,u&apos;&#x5E74;&#x9F84;&apos;,u&apos;&#x51FA;&#x751F;&#x65E5;&#x671F;&apos;,u&apos;&#x7231;&#x597D;&apos;,u&apos;&#x5173;&#x7CFB;&apos;] column0 = [u&apos;&#x5C0F;&#x6770;&apos;,u&apos;&#x5C0F;&#x80D6;&apos;,u&apos;&#x5C0F;&#x660E;&apos;,u&apos;&#x5927;&#x795E;&apos;,u&apos;&#x5927;&#x4ED9;&apos;,u&apos;&#x5C0F;&#x654F;&apos;,u&apos;&#x65E0;&#x540D;&apos;] #&#x751F;&#x6210;&#x7B2C;&#x4E00;&#x884C; for i in range(0,len(row0)): sheet2.write(0,i,row0[i],set_style(&apos;Times New Roman&apos;,220,True)) #&#x751F;&#x6210;&#x7B2C;&#x4E00;&#x5217; for i in range(0,len(column0)): sheet2.write(i+1,0,column0[i],set_style(&apos;Times New Roman&apos;,220)) sheet2.write(1,2,&apos;1991/11/11&apos;) sheet2.write_merge(7,7,2,4,u&apos;&#x6682;&#x65E0;&apos;) #&#x5408;&#x5E76;&#x5217;&#x5355;&#x5143;&#x683C; sheet2.write_merge(1,2,4,4,u&apos;&#x597D;&#x670B;&#x53CB;&apos;) #&#x5408;&#x5E76;&#x884C;&#x5355;&#x5143;&#x683C; # &#x4FDD;&#x5B58;&#x8BE5;excel&#x6587;&#x4EF6;,&#x6709;&#x540C;&#x540D;&#x6587;&#x4EF6;&#x65F6;&#x76F4;&#x63A5;&#x8986;&#x76D6; f.save(&apos;demo1.xlsx&apos;) #&#x4FDD;&#x5B58;&#x6587;&#x4EF6; if __name__ == &apos;__main__&apos;: write_excel()&quot;&quot;&quot;write_merge(x, x + m, y, w + n, string, sytle)x&#x8868;&#x793A;&#x884C;&#xFF0C;y&#x8868;&#x793A;&#x5217;&#xFF0C;m&#x8868;&#x793A;&#x8DE8;&#x884C;&#x4E2A;&#x6570;&#xFF0C;n&#x8868;&#x793A;&#x8DE8;&#x5217;&#x4E2A;&#x6570;&#xFF0C;string&#x8868;&#x793A;&#x8981;&#x5199;&#x5165;&#x7684;&#x5355;&#x5143;&#x683C;&#x5185;&#x5BB9;&#xFF0C;style&#x8868;&#x793A;&#x5355;&#x5143;&#x683C;&#x6837;&#x5F0F;&#x3002;&#x5176;&#x4E2D;&#xFF0C;x&#xFF0C;y&#xFF0C;w&#xFF0C;h&#xFF0C;&#x90FD;&#x662F;&#x4EE5;0&#x5F00;&#x59CB;&#x8BA1;&#x7B97;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x548C;xlrd&#x4E2D;&#x7684;&#x8BFB;&#x5408;&#x5E76;&#x5355;&#x5143;&#x683C;&#x7684;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#x3002;&#x5982;&#x4E0A;&#x8FF0;&#xFF1A;sheet1.write_merge(21,21,0,1,u&apos;&#x5408;&#x8BA1;&apos;,set_style(&apos;Times New Roman&apos;,220,True))&#x5373;&#x5728;22&#x884C;&#x5408;&#x5E76;&#x7B2C;1,2&#x5217;&#xFF0C;&#x5408;&#x5E76;&#x540E;&#x7684;&#x5355;&#x5143;&#x683C;&#x5185;&#x5BB9;&#x4E3A;&quot;&#x5408;&#x8BA1;&quot;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x4E86;style&#x3002;&quot;&quot;&quot; xlutils &#x4FEE;&#x6539;Excel&#x5411;excel&#x6587;&#x4EF6;&#x4E2D;&#x5199;&#x5165;&#x6570;&#x636E; 12345678910111213141516171819#!/usr/bin/env python# -*- coding: utf-8 -*-# &#x5411;excel&#x6587;&#x4EF6;&#x4E2D;&#x5199;&#x5165;&#x6570;&#x636E;# &#x5BFC;&#x5165;&#x6A21;&#x5757;import xlrdfrom xlutils.copy import copy # &#x6253;&#x5F00;&#x4E00;&#x4E2A;workbookrb = xlrd.open_workbook(&apos;./xlutils.xls&apos;) wb = copy(rb)# &#x83B7;&#x53D6;sheet&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x8FC7;sheet_by_index()&#x83B7;&#x53D6;&#x7684;sheet&#x5BF9;&#x8C61;&#x6CA1;&#x6709;write()&#x65B9;&#x6CD5;ws = wb.get_sheet(0)# &#x5199;&#x5165;&#x6570;&#x636E;ws.write(1, 1, &apos;changed!&apos;)# &#x6DFB;&#x52A0;sheet&#x9875;wb.add_sheet(&apos;sheetnnn2&apos;,cell_overwrite_ok=True)# &#x5229;&#x7528;&#x4FDD;&#x5B58;&#x65F6;&#x540C;&#x540D;&#x8986;&#x76D6;&#x8FBE;&#x5230;&#x4FEE;&#x6539;excel&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x7684;,&#x6CE8;&#x610F;&#x672A;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#x5185;&#x5BB9;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;wb.save(&apos;./xlutils.xls&apos;) pyExcelerator &#x64CD;&#x4F5C;Excel&#x8BFB;excel&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6570;&#x636E; 1234567891011#!/usr/bin/env python# -*- coding: utf-8 -*-# &#x8BFB;excel&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6570;&#x636E;import pyExcelerator# parse_xls&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x6BCF;&#x9879;&#x90FD;&#x662F;&#x4E00;&#x4E2A;sheet&#x9875;&#x7684;&#x6570;&#x636E;&#x3002;# &#x6BCF;&#x9879;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x5143;&#x7EC4;(&#x8868;&#x540D;,&#x5355;&#x5143;&#x683C;&#x6570;&#x636E;)&#x3002;# &#x5176;&#x4E2D;&#x5355;&#x5143;&#x683C;&#x6570;&#x636E;&#x4E3A;&#x4E00;&#x4E2A;&#x5B57;&#x5178;&#xFF0C;&#x952E;&#x503C;&#x5C31;&#x662F;&#x5355;&#x5143;&#x683C;&#x7684;&#x7D22;&#x5F15;(i,j)&#x3002;# &#x5982;&#x679C;&#x67D0;&#x4E2A;&#x5355;&#x5143;&#x683C;&#x65E0;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x503C;sheets = pyExcelerator.parse_xls(&apos;./testdata.xls&apos;)print sheets &#x65B0;&#x5EFA;excel&#x6587;&#x4EF6;&#x5E76;&#x5199;&#x5165;&#x6570;&#x636E; 1234567891011121314151617181920#!/usr/bin/env python# -*- coding: utf-8 -*-# &#x65B0;&#x5EFA;excel&#x6587;&#x4EF6;&#x5E76;&#x5199;&#x5165;&#x6570;&#x636E;import pyExcelerator# &#x521B;&#x5EFA;workbook&#x548C;sheet&#x5BF9;&#x8C61;wb = pyExcelerator.Workbook()ws = wb.add_sheet(&apos;sheel1&apos;)# &#x8BBE;&#x7F6E;&#x6837;&#x5F0F;myfont = pyExcelerator.Font()myfont.name = u&apos;Times New Roman&apos;myfont.bold = Truemystyle = pyExcelerator.XFStyle()mystyle.font = myfont# &#x5199;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528;&#x6837;&#x5F0F;ws.write(0,0,u&apos;ni hao &#x5E15;&#x7D22;&#xFF01;&apos;,mystyle)# &#x4FDD;&#x5B58;&#x8BE5;excel&#x6587;&#x4EF6;,&#x6709;&#x540C;&#x540D;&#x6587;&#x4EF6;&#x65F6;&#x76F4;&#x63A5;&#x8986;&#x76D6;wb.save(&apos;./mini.xls&apos;)print &apos;&#x521B;&#x5EFA;excel&#x6587;&#x4EF6;&#x5B8C;&#x6210;&#xFF01;&apos; &#x65F6;&#x95F4;&#x8F6C;&#x6362;1234567891011121314&#x56E0;&#x4E3A;&#x8FD9;&#x91CC; xldate &#x6709;&#x81EA;&#x5DF1;&#x7684;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x3002;&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x6B63;&#x786E;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5FC5;&#x987B;&#x8F6C;&#x6362;&#xFF1A;new_date = xlrd.xldate.xldate_as_datetime(date, book.datemode)date &#x662F;&#x5BF9;&#x5E94;&#x5355;&#x5143;&#x683C;&#x7684;&#x6570;&#x636E;&#xFF0C;book &#x662F;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x5BF9;&#x8C61;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5728;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x52A0;&#x4E0A;&#x53C2;&#x6570; formatting_info=True&#xFF0C;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x5728;&#x65F6;&#x95F4;&#x6570;&#x636E;&#x5728; copy &#x65F6;&#x4FDD;&#x6301;&#x539F;&#x6837;&#x3002;&#x5199;&#x5165;&#x65F6;&#x95F4;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x53EF;&#x901A;&#x8FC7;&#x6B64;&#x65B9;&#x6CD5;&#x521B;&#x5EFA; excel &#x7684;&#x65F6;&#x95F4;&#x5BF9;&#x8C61;&#xFF1A;xlrd.xldate.xldate_from_datetime_tuple&#x6216;&#x8005;&#x901A;&#x8FC7; xlwt.easyxf &#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x683C;&#x5F0F;&#xFF1A;style = xlwt.easyxf(num_format_str=&apos;D-MMM-YY&apos;)ws.write(1, 0, datetime.now(), style)]]></content>
      <categories>
        <category>python</category>
        <category>excel</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vsftpd简单安装使用以及虚拟用户权限控制]]></title>
    <url>%2F2017%2F02%2F13%2Fvsftpd-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;vsftpd&#x662F;UNIX&#x7C7B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x5B83;&#x7684;&#x540D;&#x5B57;&#x4EE3;&#x8868;&#x201C;very secure FTP daemon&#x201D;&#xFF0C;&#x5B89;&#x5168;&#x6027;&#x662F;&#x5176;&#x8BBE;&#x8BA1;&#x4E0E;&#x5F00;&#x53D1;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x76EE;&#x6807;&#x3002;&#x5B83;&#x53EF;&#x8FD0;&#x884C;&#x5728;Linux&#x3001;Solaris&#x7B49;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x652F;&#x6301;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x7684;FTP &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x7279;&#x5F81;&#xFF1A; &#x975E;&#x5E38;&#x9AD8;&#x7684;&#x5B89;&#x5168;&#x6027;&#x9700;&#x6C42; &#x5E26;&#x5BBD;&#x9650;&#x5236; &#x826F;&#x597D;&#x7684;&#x53EF;&#x4F38;&#x7F29;&#x6027; &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x7528;&#x6237;&#x7684;&#x53EF;&#x80FD;&#x6027; &#x5206;&#x914D;&#x865A;&#x62DF;IP&#x5730;&#x5740;&#x7684;&#x53EF;&#x80FD;&#x6027; &#x7531;&#x4E8E;&#x65F6;&#x95F4;&#x5173;&#x7CFB;&#xFF0C;&#x672C;&#x6587;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x4E0D;&#x505A;&#x4EFB;&#x4F55;&#x6D4B;&#x8BD5;&#xFF0C;&#x6240;&#x4EE5;&#x96BE;&#x514D;&#x6709;&#x9057;&#x6F0F;&#x548C;&#x9519;&#x8BEF;&#x3002; &#x57FA;&#x7840;&#x5B89;&#x88C5;1yum install vsftpd ftp -y &#x542F;&#x52A8;&#x670D;&#x52A1;1service vsftpd start ftp&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;ftp&#x91C7;&#x7528;&#x4E24;&#x4E2A;&#x7AEF;&#x53E3;&#x63A7;&#x5236; 20&#x7AEF;&#x53E3;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x4F20;&#x8F93;. 21&#x7AEF;&#x53E3;&#x7528;&#x4E8E;&#x63A7;&#x5236;,&#x6216;&#x6307;&#x5EFA;&#x7ACB;TCP&#x8FDE;&#x63A5;. &#x4E3B;&#x52A8;&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;&#x8FC7;&#x7A0B;123456# C&#x8868;&#x793A;&#x5BA2;&#x6237;&#x7AEF; S&#x8868;&#x793A;&#x670D;&#x52A1;&#x5668;&#x7AEF;S&#x7AEF;&#x8981;&#x5F00;&#x542F;20&#x3001;21&#x7AEF;&#x53E3;&#xFF1B;C&#x7AEF;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x7AEF;&#x53E3;&#x8FDE;&#x63A5;S&#x7AEF;21&#xFF0C;&#x8FD9;&#x4E2A;&#x968F;&#x673A;&#x8303;&#x56F4;1024-65536&#xFF0C;&#x540C;&#x65F6;&#x53D1;&#x9001;&#x547D;&#x4EE4;port+x,&#x6307;&#x660E;&#x6570;&#x636E;&#x7AEF;&#x53E3;C(X)-&gt;S(21);S&#x7AEF;&#x6536;&#x5230;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x5C06;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;ACK&#xFF0C;S(21)-&gt;C(X)&#xFF1B;S&#x7AEF;&#x5C06;&#x7528;&#x81EA;&#x5DF1;&#x7684;20&#x7AEF;&#x53E3;&#x4E0E;C&#x7AEF;&#x7684;X+1&#x7AEF;&#x53E3;&#x76F8;&#x8FDE;&#xFF0C;S(20)-&gt;C(X+1)&#xFF1B;C&#x7ED9;S&#x8FD4;&#x56DE;ACT&#xFF0C;C(X+1)-&gt;S(20). &#x88AB;&#x52A8;&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;&#x8FC7;&#x7A0B;123456# C&#x8868;&#x793A;&#x5BA2;&#x6237;&#x7AEF; S&#x8868;&#x793A;&#x670D;&#x52A1;&#x5668;&#x7AEF;S&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8981;&#x5F00;&#x542F;21&#x7AEF;&#x53E3;&#x548C;&#x5927;&#x4E8E;1024tcp&#x7AEF;&#x53E3;&#xFF1B;C&#x4EE5;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x7AEF;&#x53E3;X&#x4E0E;S&#x7684;21&#x7AEF;&#x53E3;&#x76F8;&#x8FDE;, &#x8FD9;&#x4E2A;&#x968F;&#x673A;&#x7AEF;&#x53E3;&#x8303;&#x56F4;&#x4E3A;1024~65535, &#x5E76;&#x53D1;&#x9001;&#x547D;&#x4EE4; PASV. C(X) -&gt; S(21)S&#x6536;&#x5230;&#x547D;&#x4EE4;, &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;ACK, &#x5E76;&#x5728;&#x5176;&#x4E2D;&#x6307;&#x660E;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9AD8;&#x4F4D;&#x7AEF;&#x53E3;y. S(21) -&gt; C(x)C&#x53D1;&#x8D77; x+1&#x7AEF;&#x53E3;&#x5230;S&#x7684;y&#x7684;&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;.C(x+1) -&gt; S(y)S&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;ACK. S(y) -&gt;C(x+1) &#x5B9E;&#x4F8B;&#x4E3B;&#x52A8;&#x6A21;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x6CD5; 123456connect_from_port_20=YES#&#x4E3B;&#x52A8;&#x5F0F;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x901A;&#x9053;pasv_enable=NO#&#x652F;&#x6301;&#x6570;&#x636E;&#x6D41;&#x7684;&#x88AB;&#x52A8;&#x5F0F;&#x8FDE;&#x63A5;&#x6A21;&#x5F0F; &#x5176;&#x4F59;&#x914D;&#x7F6E;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x9700;&#x6C42;&#x800C;&#x5B9A; &#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x6CD5; 12345678910connect_from_port_20=NO#&#x4E3B;&#x52A8;&#x5F0F;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x901A;&#x9053;pasv_enable=YES#&#x652F;&#x6301;&#x6570;&#x636E;&#x6D41;&#x7684;&#x88AB;&#x52A8;&#x5F0F;&#x8FDE;&#x63A5;&#x6A21;&#x5F0F;pasv_min_port=1024pasv_max_port=65536pasv_address &#xFF08;Default: (none - the address is taken from the incoming connected socket) &#xFF09; pasv&#x6A21;&#x5F0F;&#x4E2D;&#x670D;&#x52A1;&#x5668;&#x4F20;&#x56DE;&#x7684;ip&#x5730;&#x5740; &#x5176;&#x4F59;&#x914D;&#x7F6E;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x9700;&#x6C42;&#x800C;&#x5B9A; &#x533A;&#x522B;Vsftp&#x4E3B;&#x52A8;&#x6A21;&#x5F0F;&#x548C;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#x662F;&#x53EF;&#x4EE5;&#x5171;&#x5B58;&#x7684;&#x3002; ftp port&#x6A21;&#x5F0F;&#x53EA;&#x8981;&#x5F00;&#x542F;&#x670D;&#x52A1;&#x5668;&#x7684;21&#x548C;20&#x7AEF;&#x53E3;&#xFF0C;&#x800C;ftp pasv&#x9700;&#x8981;&#x5F00;&#x542F;&#x670D;&#x52A1;&#x5668;&#x5927;&#x4E8E;1024&#x6240;&#x6709;tcp&#x7AEF;&#x53E3;&#x548C;21&#x7AEF;&#x53E3;&#x3002;&#x91CD;&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#x7684;&#x8BDD;&#x4F3C;&#x4E4E;ftp port&#x6A21;&#x5F0F;&#x66F4;&#x5B89;&#x5168;&#xFF0C;&#x800C;ftp pasv&#x66F4;&#x4E0D;&#x5B89;&#x5168;&#xFF0C;&#x90A3;&#x4E48;&#x4E3A;&#x4EC0;&#x4E48;RFC&#x8981;&#x5728;ftp port&#x57FA;&#x7840;&#x518D;&#x5236;&#x5B9A;&#x4E00;&#x4E2A;ftp pasv&#x6A21;&#x5F0F;&#x5462;&#xFF1F;&#x5176;&#x5B9E;RFC&#x5236;&#x5B9A;ftp pasv&#x6A21;&#x5F0F;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x5B89;&#x5168;&#x89D2;&#x5EA6;&#x51FA;&#x53D1;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;ftp port&#x4F7F;&#x7528;&#x56FA;&#x5B9A;20&#x7AEF;&#x53E3;&#x8FDB;&#x884C;&#x4F20;&#x8F93;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x4F5C;&#x4E3A;&#x9ED1;&#x5BA2;&#x5F88;&#x5BB9;&#x4F7F;&#x7528;sniffer&#x7B49;&#x63A2;&#x55C5;&#x5668;&#x6293;&#x53D6;ftp&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#x901A;&#x8FC7;ftp port&#x6A21;&#x5F0F;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5F88;&#x5BB9;&#x6613;&#x88AB;&#x9ED1;&#x5BA2;&#x7A83;&#x53D6;&#xFF0C;&#x56E0;&#x6B64;&#x4F7F;&#x7528;pasv&#x65B9;&#x5F0F;&#x6765;&#x67B6;&#x8BBE;ftp server&#x662F;&#x6700;&#x5B89;&#x5168;&#x7EDD;&#x4F73;&#x65B9;&#x6848;&#x3002; &#x7ED3;&#x8BBA;&#xFF1A;&#x5982;&#x679C;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x4E3A;&#x4E86;&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#xFF0C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x7981;&#x7528;pasv&#x6A21;&#x5F0F;&#xFF0C;&#x89E3;&#x9664;&#x5F00;&#x653E;&#x5927;&#x91CF;&#x7AEF;&#x53E3;&#x7684;&#x5A01;&#x80C1;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x4E3A;&#x9632;&#x706B;&#x5899;&#x7684;&#x8BBE;&#x7F6E;&#x5E26;&#x6765;&#x4FBF;&#x5229;&#x3002; &#x4E3B;&#x52A8;&#x6A21;&#x5F0F;&#x548C;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#xFF0C;&#x4E3B;&#x52A8;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;ftp&#x91C7;&#x7528;&#x7684;&#x662F;20&#x7AEF;&#x53E3;&#x4F20;&#x9001;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;ftp&#x91C7;&#x7528;&#x7684;&#x662F;&#x5927;&#x4E8E;1024&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;&#x3002;&#x6240;&#x4EE5;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x5FC5;&#x8981;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;&#xFF01; &#x53C2;&#x6570;&#x89E3;&#x6790;&#x8FDE;&#x63A5;&#x9009;&#x9879;&#x76D1;&#x542C;&#x5730;&#x5740;&#x548C;&#x63A7;&#x5236;&#x7AEF;&#x53E3;1234# &#x5B9A;&#x4E49;&#x4E3B;&#x673A;&#x5728;&#x54EA;&#x4E2A;IP &#x5730;&#x5740;&#x4E0A;&#x76D1;&#x542C;FTP&#x8BF7;&#x6C42;&#x3002;&#x5373;&#x5728;&#x54EA;&#x4E2A;IP&#x5730;&#x5740;&#x4E0A;&#x63D0;&#x4F9B;FTP&#x670D;&#x52A1;&#x3002;listen_address=ip address# &#x6307;&#x5B9A;FTP&#x670D;&#x52A1;&#x5668;&#x76D1;&#x542C;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;21&#x3002;listen_port=port_value &#x6027;&#x80FD;&#x4E0E;&#x8D1F;&#x8F7D;&#x63A7;&#x5236;&#x8D85;&#x65F6;&#x9009;&#x9879;12345678# &#x7A7A;&#x95F2;&#x7528;&#x6237;&#x4F1A;&#x8BDD;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x82E5;&#x662F;&#x8D85;&#x8FC7;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x7684;&#x4F20;&#x9001;&#x6216;&#x662F;&#x6307;&#x4EE4;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x5219;&#x4F1A;&#x88AB;&#x8FEB;&#x65AD;&#x7EBF;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;300sidle_session_timeout=# &#x63A5;&#x53D7;&#x5EFA;&#x7ACB;&#x8054;&#x673A;&#x7684;&#x8D85;&#x65F6;&#x8BBE;&#x5B9A;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;60saccept_timeout=# &#x4EE5; port&#x6A21;&#x5F0F;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x65F6;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;connect_timeout=# &#x6570;&#x636E;&#x8FDE;&#x63A5;&#x540E;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x7B49;&#x5F85;&#x7684;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#x8D85;&#x65F6;&#xFF0C;&#x8D85;&#x8FC7;&#x65F6;&#x95F4;&#x540E;&#xFF0C;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x5C06;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;data_connection_timeout= &#x8D1F;&#x8F7D;&#x9009;&#x9879;12345678# &#x5B9A;&#x4E49;FTP&#x670D;&#x52A1;&#x5668;&#x6700;&#x5927;&#x7684;&#x5175;&#x6CD5;&#x8FDE;&#x63A5;&#x6570;&#x3002;&#x5F53;&#x8D85;&#x8FC7;&#x6B64;&#x8FDE;&#x63A5;&#x6570;&#x65F6;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x62D2;&#x7EDD;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x3002;max_clients= numerical value# &#x5B9A;&#x4E49;&#x6BCF;&#x4E2A;IP&#x5730;&#x5740;&#x6700;&#x5927;&#x7684;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x6570;&#x76EE;&#x3002;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x6570;&#x76EE;&#x5C06;&#x4F1A;&#x62D2;&#x7EDD;&#x8FDE;&#x63A5;&#x3002;&#x6B64;&#x9009;&#x9879;&#x7684;&#x8BBE;&#x7F6E;&#x5C06;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x7F51;&#x9645;&#x5FEB;&#x8F66;&#x3001;&#x8FC5;&#x96F7;&#x4E4B;&#x7C7B;&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x4E0B;&#x8F7D;&#x8F6F;&#x4EF6;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x3002;max_per_ip= numerical value# &#x8BBE;&#x5B9A;&#x533F;&#x540D;&#x7528;&#x6237;&#x7684;&#x6700;&#x5927;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x901F;&#x5EA6;&#xFF0C;&#x4EE5;B/s&#x4E3A;&#x5355;&#x4F4D;&#x3002;&#x9ED8;&#x8BA4;&#x65E0;&#x3002;anon_max_rate=value# &#x8BBE;&#x5B9A;&#x7528;&#x6237;&#x7684;&#x6700;&#x5927;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x901F;&#x5EA6;&#x3002;&#x4EE5;B/s&#x4E3A;&#x5355;&#x4F4D;&#x3002;&#x9ED8;&#x8BA4;&#x65E0;&#x3002;&#x6B64;&#x9009;&#x9879;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x7528;&#x6237;&#x90FD;&#x751F;&#x6548;&#x3002;local_max_rate=value &#x7528;&#x6237;&#x9009;&#x9879;vsftpd&#x7684;&#x7528;&#x6237;&#x5206;&#x4E3A;3&#x7C7B;&#xFF1A;&#x533F;&#x540D;&#x7528;&#x6237;&#x3001;&#x672C;&#x5730;&#x7528;&#x6237;&#xFF08;local user&#xFF09;&#x53CA;&#x865A;&#x62DF;&#x7528;&#x6237;&#xFF08;guest&#xFF09; &#x533F;&#x540D;&#x7528;&#x6237;1234567891011121314151617181920# &#x63A7;&#x5236;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x767B;&#x5F55;anonymous_enable=YES|NO# &#x533F;&#x540D;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x540D;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x503C;&#x4E3A;ftpftp_username=# &#x63A7;&#x5236;&#x533F;&#x540D;&#x7528;&#x6237;&#x767B;&#x5F55;&#x65F6;&#x662F;&#x5426;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x3002;no_anon_password= YES|NO# &#x8BBE;&#x5B9A;&#x533F;&#x540D;&#x7528;&#x6237;&#x7684;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x5373;&#x533F;&#x540D;&#x7528;&#x6237;&#x767B;&#x5F55;&#x540E;&#xFF0C;&#x88AB;&#x5B9A;&#x4F4D;&#x5230;&#x6B64;&#x76EE;&#x5F55;&#x4E0B;&#x3002;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x9ED8;&#x8BA4;&#x65E0;&#x6B64;&#x9879;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;/var/ftp/anon_root=# &#x63A7;&#x5236;&#x662F;&#x5426;&#x53EA;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0B;&#x8F7D;&#x53EF;&#x9605;&#x8BFB;&#x7684;&#x6587;&#x6863;&#x3002;YES&#xFF0C;&#x53EA;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0B;&#x8F7D;&#x53EF;&#x9605;&#x8BFB;&#x7684;&#x6587;&#x4EF6;&#x3002;NO&#xFF0C;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x6D4F;&#x89C8;&#x6574;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;anon_world_readable_only= YES|NO# &#x63A7;&#x5236;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x3002;&#x9664;&#x4E86;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5916;&#xFF0C;&#x533F;&#x540D;&#x7528;&#x6237;&#x8981;&#x80FD;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#xFF0C;write_enable&#x53C2;&#x6570;&#x4E3A;YES&#xFF1B;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;FTP&#x533F;&#x540D;&#x7528;&#x6237;&#x5BF9;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;&#x6709;&#x5199;&#x6743;&#x9650;&#x3002;anon_upload_enable= YES|NO# &#x63A7;&#x5236;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x65B0;&#x76EE;&#x5F55;&#x3002;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;FTP&#x533F;&#x540D;&#x7528;&#x6237;&#x5FC5;&#x987B;&#x5BF9;&#x65B0;&#x76EE;&#x5F55;&#x7684;&#x4E0A;&#x5C42;&#x76EE;&#x5F55;&#x62E5;&#x6709;&#x5199;&#x6743;&#x9650;&#x3002;anon_mkdir_wirte_enable= YES|NO# &#x63A7;&#x5236;&#x533F;&#x540D;&#x7528;&#x6237;&#x662F;&#x5426;&#x62E5;&#x6709;&#x9664;&#x4E86;&#x4E0A;&#x4F20;&#x548C;&#x65B0;&#x5EFA;&#x76EE;&#x5F55;&#x4E4B;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x6743;&#x9650;&#x3002;&#x5982;&#x5220;&#x9664;&#x3001;&#x66F4;&#x540D;&#x7B49;&#x3002;anon_other_write_enbale= YES|NO# &#x662F;&#x5426;&#x4FEE;&#x6539;&#x533F;&#x540D;&#x7528;&#x6237;&#x6240;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x6743;&#x3002;YES&#xFF0C;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x5F97;&#x6587;&#x4EF6;&#x6240;&#x6709;&#x6743;&#x6539;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x7528;&#x6237;&#x6240;&#x6709;&#xFF0C;&#x7528;&#x6237;&#x7531;chown_username&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x3002;chown_uploads= YES|NO# &#x6307;&#x5B9A;&#x62E5;&#x6709;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x6240;&#x6709;&#x6743;&#x7684;&#x7528;&#x6237;&#x3002;chown_username=whoever &#x672C;&#x5730;&#x7528;&#x6237;1234# &#x63A7;&#x5236;vsftpd&#x6240;&#x5728;&#x7684;&#x7CFB;&#x7EDF;&#x7684;&#x7528;&#x6237;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x767B;&#x5F55;vsftpd&#x3002;local_enable= YES|NO# &#x5B9A;&#x4E49;&#x672C;&#x5730;&#x7528;&#x6237;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x3002;&#x5F53;&#x672C;&#x5730;&#x7528;&#x6237;&#x767B;&#x5F55;&#x65F6;&#xFF0C;&#x5C06;&#x88AB;&#x66F4;&#x6362;&#x5230;&#x6B64;&#x76EE;&#x5F55;&#x4E0B;&#x3002;local_root= &#x865A;&#x62DF;&#x7528;&#x6237;1234# &#x542F;&#x52A8;&#x6B64;&#x529F;&#x80FD;&#x5C06;&#x6240;&#x6709;&#x533F;&#x540D;&#x767B;&#x5165;&#x8005;&#x90FD;&#x89C6;&#x4E3A;guestguest_enable= YES|NO# &#x5B9A;&#x4E49;vsftpd&#x7684;guest&#x7528;&#x6237;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x540D;&#x3002;guest_username= &#x5B89;&#x5168;&#x7528;&#x6237;&#x767B;&#x5F55;&#x63A7;&#x5236;123456789# Vsftpd&#x7981;&#x6B62;&#x5217;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#x3002;&#x6B64;&#x673A;&#x5236;&#x662F;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x7684;&#x3002;/etc/vsftpd.ftpusers# &#x6B64;&#x9009;&#x9879;&#x6FC0;&#x6D3B;&#x540E;&#xFF0C;vsftpd&#x5C06;&#x8BFB;&#x53D6;userlist_file&#x53C2;&#x6570;&#x6240;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x5217;&#x8868;&#x3002;userlist_enable= YES|NO# &#x6307;&#x51FA;userlist_enable&#x9009;&#x9879;&#x751F;&#x6548;&#x540E;&#xFF0C;&#x88AB;&#x8BFB;&#x53D6;&#x7684;&#x5305;&#x542B;&#x7528;&#x6237;&#x5217;&#x8868;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;/etc/vsftpd/user_listuserlist_file=/etc/vsftpd/user_list# &#x51B3;&#x5B9A;&#x7981;&#x6B62;&#x8FD8;&#x662F;&#x53EA;&#x5141;&#x8BB8;&#x7531;userlist_file&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#x3002;userlist_enable&#x9009;&#x9879;&#x542F;&#x52A8;&#x540E;&#x624D;&#x80FD;&#x751F;&#x6548;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;YES&#xFF0C;&#x7981;&#x6B62;&#x6587;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x767B;&#x5F55;&#xFF0C;&#x540C;&#x65F6;&#x4E0D;&#x5411;&#x8FD9;&#x4E9B;&#x7528;&#x6237;&#x53D1;&#x51FA;&#x8F93;&#x5165;&#x53E3;&#x4EE4;&#x7684;&#x6307;&#x4EE4;&#x3002;NO&#xFF0C;&#x53EA;&#x5141;&#x8BB8;&#x5728;&#x6587;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#x3002;userlist_deny= YES|NO &#x76EE;&#x5F55;&#x8BBF;&#x95EE;&#x63A7;&#x5236;123456# &#x9501;&#x5B9A;&#x67D0;&#x4E9B;&#x7528;&#x6237;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x53EF;&#x4EE5;&#x8F6C;&#x5230;&#x7CFB;&#x7EDF;&#x7684;&#x5176;&#x4ED6;&#x76EE;&#x5F55;&#x3002;chroot_list_enable= YES|NO# &#x6307;&#x5B9A;&#x88AB;&#x9501;&#x5B9A;&#x5728;&#x4E3B;&#x76EE;&#x5F55;&#x7684;&#x7528;&#x6237;&#x7684;&#x5217;&#x8868;&#x6587;&#x4EF6;&#x3002;chroot_list_file=/etc/vsftpd/chroot_list# &#x5C06;&#x672C;&#x5730;&#x7528;&#x6237;&#x9501;&#x5B9A;&#x5728;&#x4E3B;&#x76EE;&#x4E2D;&#x3002;chroot_local_users= YES|NO &#x663E;&#x793A;&#x914D;&#x7F6E;&#x767B;&#x5F55;&#x63D0;&#x793A;&#x4FE1;&#x606F;1ftpd_banner=Welcome to blah FTP service. &#x663E;&#x793A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x63D0;&#x793A;&#x4FE1;&#x606F;123456789cat my_banner ############ # $ @ ^ &amp; ############ banner_file=/etc/vsftpd/my_banner &#x5B8C;&#x6574;&#x914D;&#x7F6E;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697vim /etc/vsftpd/vsftpd.conf# &#x81EA;&#x5B9A;&#x4E49;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;ftpd_banner=Welcome to blah FTP service.# &#x7528;&#x6237;&#x8FDB;&#x5165;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x540E;&#xFF0C;&#x662F;&#x5426;&#x7ED9;&#x51FA;&#x9759;&#x6001;&#x63D0;&#x793A;dirmessage_enable=YES# &#x65E5;&#x5FD7;&#x914D;&#x7F6E;xferlog_enable=YESxferlog_file=/data/logs/vsftpd.logxferlog_std_format=YES# &#x4F7F;&#x7528;pam&#x6A21;&#x5757;&#x63A7;&#x5236;pam_service_name=ftp# &#x662F;&#x5426;&#x5355;&#x8FDB;&#x7A0B;&#x6A21;&#x5F0F;one_process_model=NO# &#x4E3B;&#x52A8;&#x6A21;&#x5F0F;&#x662F;&#x5426;&#x5141;&#x8BB8;20&#x7AEF;&#x53E3;&#x8FDE;&#x63A5;connect_from_port_20=NO# &#x88AB;&#x52A8;&#x6A21;&#x5F0F;pasv_enable=YES#&#x652F;&#x6301;&#x6570;&#x636E;&#x6D41;&#x7684;&#x88AB;&#x52A8;&#x5F0F;&#x8FDE;&#x63A5;&#x6A21;&#x5F0F;pasv_min_port=1024pasv_max_port=1124# &#x662F;&#x5426;&#x76D1;&#x542C;listen=YEStcp_wrappers=YES# &#x5F00;&#x542F;&#x767D;&#x540D;&#x5355;&#x8BBE;&#x7F6E;userlist_enable=YES# &#x9ED1;&#x767D;&#x540D;&#x5355;&#x8BBE;&#x7F6E;userlist_deny=YESuserlist_file=/etc/vsftpd/user_list# &#x63A7;&#x5236;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x767B;&#x5F55;local_enable=YES# &#x672C;&#x5730;&#x7528;&#x6237;&#x6587;&#x4EF6;&#x63A9;&#x7801;local_umask=022write_enable=YES# &#x662F;&#x5426;&#x5141;&#x8BB8;&#x4E0B;&#x8F7D;download_enable=YES# &#x662F;&#x5426;&#x5141;&#x8BB8;&#x4F7F;&#x7528;lsls_recurse_enable=YES# &#x5B9A;&#x4E49;&#x7528;&#x6237;&#x7684;chroot&#x76EE;&#x5F55;#local_root=/data/test# &#x672C;&#x5730;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x865A;&#x62DF;&#x7528;&#x6237;&#x9650;&#x5236;&#x901F;&#x5EA6;local_max_rate=1024000# &#x662F;&#x5426;&#x5141;&#x8BB8;&#x5199;&#x5165;# &#x662F;&#x5426;chrootchroot_local_user=YES# &#x662F;&#x5426;&#x53EA;&#x9650;&#x5236;&#x540D;&#x5355;&#x4E2D;&#x7684;&#x7528;&#x6237;chroot_list_enable=YES# &#x6307;&#x5B9A;&#x88AB;&#x9501;&#x5B9A;&#x5728;&#x4E3B;&#x76EE;&#x5F55;&#x7684;&#x7528;&#x6237;&#x7684;&#x5217;&#x8868;&#x6587;&#x4EF6;&#x3002;chroot_list_file=/etc/vsftpd/chroot_list# &#x533F;&#x540D;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x865A;&#x62DF;&#x7528;&#x6237;&#x63A7;&#x5236;# &#x63A7;&#x5236;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x767B;&#x5F55;anonymous_enable=NO# &#x63A7;&#x5236;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;anon_upload_enable=YES# &#x533F;&#x540D;&#x7528;&#x6237;&#x5728;&#x6587;&#x4EF6;&#x5939;&#x521B;&#x5EFA;&#x76EE;&#x5F55;anon_mkdir_write_enable=YES# &#x533F;&#x540D;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x5220;&#x9664;&#x76EE;&#x5F55;anon_other_write_enable=YES# &#x865A;&#x62DF;&#x7528;&#x6237;&#x6587;&#x4EF6;&#x63A9;&#x7801;anon_umask=022# &#x533F;&#x540D;&#x7528;&#x6237;&#x662F;&#x5426;&#x53EA;&#x6709;&#x4E0B;&#x8F7D;&#x6743;&#x9650;anon_world_readable_only=NO# &#x533F;&#x540D;&#x7528;&#x6237;&#x9650;&#x5236;&#x4E0B;&#x8F7D;&#x901F;&#x5EA6; &#x4E00;&#x822C;&#x8BBE;&#x5B9A;&#x4E3A;120K&#x5DE6;&#x53F3; anon_max_rate=1024000# &#x533F;&#x540D;&#x7528;&#x6237;&#x9650;&#x5236;&#x4EBA;&#x6570;max_clients=3&#x533F;&#x540D;&#x7528;&#x6237;&#x9650;&#x5236;&#x67D0;&#x4E2A;&#x7528;&#x6237;&#x6709;&#x51E0;&#x4E2A;&#x8FDE;&#x63A5;max_per_ip=2# &#x4FEE;&#x6539;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x6240;&#x6709;&#x8005;#chown_uploads=YES#chown_username=ftpuser# &#x865A;&#x62DF;&#x7528;&#x6237;&#x914D;&#x7F6E;guest_enable=YES# ftpuser&#x662F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x7528;&#x6237;&#xFF0C;&#x6240;&#x6709;&#x865A;&#x62DF;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x4F1A;&#x7528;&#x8FD9;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x6743;&#x9650;&#x5B58;&#x50A8;guest_username=ftpuser# &#x865A;&#x62DF;&#x7528;&#x6237;&#x72EC;&#x7ACB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55;user_config_dir=/etc/vsftpd/vsftpd_user_conf# &#x865A;&#x62DF;&#x7528;&#x6237;&#x548C;&#x672C;&#x5730;&#x7528;&#x6237;&#x662F;&#x5426;&#x6709;&#x76F8;&#x540C;&#x7684;&#x6743;&#x9650;virtual_use_local_privs=NO# &#x6307;&#x5B9A;ftp&#x8FD0;&#x884C;&#x7528;&#x6237;#nopriv_user=ftpsecure# &#x662F;&#x5426;&#x5141;&#x8BB8;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;sync#async_abor_enable=YES# &#x662F;&#x5426;&#x5141;&#x8BB8;&#x4E0A;&#x4F20;&#x3001;&#x4E0B;&#x8F7D;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;#ascii_upload_enable=YES#ascii_download_enable=YES# &#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;#idle_session_timeout=600# &#x6570;&#x636E;&#x4F20;&#x8F93;&#x8D85;&#x65F6;&#x65F6;&#x95F4;#data_connection_timeout=120 &#x865A;&#x62DF;&#x7528;&#x6237;&#x6DFB;&#x52A0;&#x7528;&#x6237;123456789101.&#x5728;account.txt&#x4E2D;&#x6DFB;&#x52A0;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x4E00;&#x884C;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x4E00;&#x884C;&#x5BC6;&#x7801;test1passxxxtest2passxxxx2.&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;,&#x5C06;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x6DFB;&#x52A0;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;db_load -T -t hash -f ./account.txt /etc/vsftpd/account.dbchmod 600 /etc/vsftpd/account.db &#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788cat /etc/pam.d/ftpauth required /lib64/security/pam_userdb.so db=/etc/vsftpd/accountaccount required /lib64/security/pam_userdb.so db=/etc/vsftpd/account# &#x4E3B;&#x52A8;&#x6A21;&#x5F0F;############vsftpd##############ftpd_banner=Welcom to httx FTP server.dirmessage_enable=YESxferlog_enable=YESxferlog_file=/data/logs/vsftpd.logxferlog_std_format=YESpam_service_name=ftpconnect_from_port_20=YESone_process_model=NOlisten=YEStcp_wrappers=YESuserlist_enable=YESuserlist_deny=YESlocal_enable=YESlocal_root=/data/ftpwrite_enable=YESlocal_umask=022#download_enable=YESls_recurse_enable=YESchroot_local_user=YESchroot_list_enable=YESchroot_list_file=/etc/vsftpd/chroot_listanonymous_enable=NOanon_upload_enable=YESanon_mkdir_write_enable=YESanon_other_write_enable=YESanon_umask=022anon_world_readable_only=NOguest_enable=YESguest_username=ftpuseruser_config_dir=/etc/vsftpd/vsftpd_user_confvirtual_use_local_privs=NO############vsftpd############### &#x88AB;&#x52A8;&#x6A21;&#x5F0F;############vsftpd##############ftpd_banner=Welcom to my FTP server.dirmessage_enable=YESxferlog_enable=YESxferlog_file=/data/logs/vsftpd.logxferlog_std_format=YESpam_service_name=ftpone_process_model=NOpasv_enable=YESpasv_min_port=1024pasv_max_port=1028#connect_from_port_20=YESlisten=YEStcp_wrappers=YESuserlist_enable=YESuserlist_deny=YESuserlist_file=/etc/vsftpd/user_listlocal_enable=YESlocal_umask=022local_root=/data/ftpwrite_enable=YESdownload_enable=YESls_recurse_enable=YESchroot_local_user=YESchroot_list_enable=NOanonymous_enable=NOanon_upload_enable=YESanon_mkdir_write_enable=YESanon_other_write_enable=YESanon_umask=022anon_world_readable_only=NO#chown_uploads=YES#chown_username=ftpuserguest_enable=YESguest_username=ftpuseruser_config_dir=/etc/vsftpd/vsftpd_user_confvirtual_use_local_privs=NO############vsftpd############## &#x5355;&#x72EC;&#x8BF4;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5BF9;&#x6743;&#x9650;&#x7684;&#x5F71;&#x54CD; virtual_use_local_privs 123456789101112131415161718192021222324252627282930313233343536373839# &#x865A;&#x62DF;&#x7528;&#x6237;&#x548C;&#x672C;&#x5730;&#x7528;&#x6237;&#x6709;&#x76F8;&#x540C;&#x7684;&#x6743;&#x9650;virtual_use_local_privs=YES# &#x865A;&#x62DF;&#x7528;&#x6237;&#x548C;&#x533F;&#x540D;&#x7528;&#x6237;&#x6709;&#x76F8;&#x540C;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;NOvirtual_use_local_privs=NO# &#x865A;&#x62DF;&#x7528;&#x6237;&#x5177;&#x6709;&#x5199;&#x6743;&#x9650;&#xFF08;&#x4E0A;&#x4F20;&#x3001;&#x4E0B;&#x8F7D;&#x3001;&#x5220;&#x9664;&#x3001;&#x91CD;&#x547D;&#x540D;&#xFF09;virtual_use_local_privs=YESwrite_enable=YES# &#x865A;&#x62DF;&#x7528;&#x6237;&#x4E0D;&#x80FD;&#x6D4F;&#x89C8;&#x76EE;&#x5F55;&#xFF0C;&#x53EA;&#x80FD;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#xFF0C;&#x65E0;&#x5176;&#x4ED6;&#x6743;&#x9650;virtual_use_local_privs=NOwrite_enable=YESanon_world_readable_only=YESanon_upload_enable=YES # &#x865A;&#x62DF;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x65E0;&#x5176;&#x4ED6;&#x6743;&#x9650;virtual_use_local_privs=NOwrite_enable=YESanon_world_readable_only=NOanon_upload_enable=NO # &#x865A;&#x62DF;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x4E0A;&#x4F20;&#x548C;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x65E0;&#x5176;&#x4ED6;&#x6743;&#x9650;virtual_use_local_privs=NOwrite_enable=YESanon_world_readable_only=NOanon_upload_enable=YES# &#x865A;&#x62DF;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x548C;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x65E0;&#x5176;&#x4ED6;&#x6743;&#x9650;virtual_use_local_privs=NOwrite_enable=YESanon_world_readable_only=NOanon_mkdir_write_enable=YES# &#x865A;&#x62DF;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x4E0B;&#x8F7D;&#x3001;&#x5220;&#x9664;&#x548C;&#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6;&#xFF0C;&#x65E0;&#x5176;&#x4ED6;&#x6743;&#x9650;virtual_use_local_privs=NOwrite_enable=YESanon_world_readable_only=NOanon_other_write_enable=YES &#x865A;&#x62DF;&#x7528;&#x6237;&#x914D;&#x7F6E;&#x6587;&#x4EF6;1234567891011121314151617181920############test1##############local_root=/home/ftpsite/test1#lock_upload_files=NO#download_enable=NO#anon_upload_enable=YES#anon_mkdir_write_enable=YES#anon_other_write_enable=YES#chown_uploads=YES#chown_username=nono#allow_anon_ssl=YESwrite_enable=YES#force_anon_logins_ssl=YES#force_anon_data_ssl=YEScmds_allowed=CWD,LIST,MDTM,MKD,NLST,PASS,PASV,PORT,PWD,QUIT,RMD,RETR,SIZE,STOR,TYPE,USER,ACCT,APPE,CDUP,HELP,MODE,NOOP,REIN,STAT,STOU,STRU,SYST############test1##########################test2##############local_root=/home/ftpsite/test2write_enable=YES############test2############## ftp &#x547D;&#x4EE4;&#x63A7;&#x5236;1234ABOR,CWD,LIST,MDTM,MKD,NLST,PASS,PASV,PORT,PWD,QUIT,RETR,RMD,RNFR,RNTO,SITE,SIZE,STOR,TYPE,USER,ACCT,APPE,CDUP,HELP,MODE,NOOP,REIN,STAT,STOU,STRU,SYST &#x51E0;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#x53EA;&#x80FD;&#x4E0A;&#x4F20;&#x3002;&#x4E0D;&#x80FD;&#x4E0B;&#x8F7D;&#x3001;&#x5220;&#x9664;&#x3001;&#x91CD;&#x547D;&#x540D;1cmds_allowed=FEAT,REST,CWD,LIST,MDTM,MKD,NLST,PASS,PASV,PORT,PWD,QUIT,RMD,RETR,SIZE,STOR,TYPE,USER,ACCT,APPE,CDUP,HELP,MODE,NOOP,REIN,STAT,STOU,STRU,SYST &#x53EA;&#x80FD;&#x4E0B;&#x8F7D;&#x3002;&#x4E0D;&#x80FD;&#x4E0A;&#x4F20;&#x3001;&#x5220;&#x9664;&#x3001;&#x91CD;&#x547D;&#x540D;1write_enable=NO &#x53EA;&#x80FD;&#x4E0A;&#x4F20;&#x3001;&#x5220;&#x9664;&#x3001;&#x91CD;&#x547D;&#x540D;&#x3002;&#x4E0D;&#x80FD;&#x4E0B;&#x8F7D;1download_enable=NO &#x53EA;&#x80FD;&#x4E0B;&#x8F7D;&#x3001;&#x5220;&#x9664;&#x3001;&#x91CD;&#x547D;&#x540D;&#x3002;&#x4E0D;&#x80FD;&#x4E0A;&#x4F20;1cmds_allowed=FEAT,REST,CWD,LIST,MDTM,MKD,NLST,PASS,PASV,PORT,PWD,QUIT,RMD,RNFR,RNTO,RETR,DELE,SIZE,TYPE,USER,ACCT,APPE,CDUP,HELP,MODE,NOOP,REIN,STAT,STOU,STRU,SYST &#x53C2;&#x6570;&#x89E3;&#x6790;1234567891011121314151617181920212223242526272829303132333435&#x4EE5;&#x4E0A;&#x662F;&#x5E38;&#x7528;&#x7684;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#xFF0C;&#x5927;&#x5BB6;&#x5BF9;&#x7167;&#x5B66;&#x4E60;&#x4E00;&#x4E0B;&#xFF01;&#x4E0B;&#x9762;&#x662F;&#x5217;&#x4E5F;&#x7684;&#x5168;&#x90E8;&#x53C2;&#x6570;&#xFF0C;&#x4F9B;&#x5927;&#x5BB6;&#x53C2;&#x8003;&#xFF01;# ABOR - abort a file transfer &#x53D6;&#x6D88;&#x6587;&#x4EF6;&#x4F20;&#x8F93;# CWD - change working directory &#x66F4;&#x6539;&#x76EE;&#x5F55;# DELE - delete a remote file &#x5220;&#x9664;&#x6587;&#x4EF6;# LIST - list remote files &#x5217;&#x76EE;&#x5F55;# MDTM - return the modification time of a file &#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x7684;&#x66F4;&#x65B0;&#x65F6;&#x95F4;# MKD - make a remote directory &#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x5939;# NLST - name list of remote directory# PASS - send password# PASV - enter passive mode# PORT - open a data port &#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x4F20;&#x8F93;&#x7AEF;&#x53E3;# PWD - print working directory &#x663E;&#x793A;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;# QUIT - terminate the connection &#x9000;&#x51FA;# RETR - retrieve a remote file &#x4E0B;&#x8F7D;&#x6587;&#x4EF6;# RMD - remove a remote directory&#x5220;&#x9664;&#x76EE;&#x5F55;# RNFR - rename from&#x91CD;&#x547D;&#x540D;# RNTO - rename to&#x91CD;&#x547D;&#x540D;# SITE - site-specific commands# SIZE - return the size of a file &#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x5927;&#x5C0F;# STOR - store a file on the remote host &#x4E0A;&#x4F20;&#x6587;&#x4EF6;# TYPE - set transfer type# USER - send username# less common commands:# ACCT* - send account information# APPE - append to a remote file# CDUP - CWD to the parent of the current directory# HELP - return help on using the server# MODE - set transfer mode# NOOP - do nothing# REIN* - reinitialize the connection# STAT - return server status# STOU - store a file uniquely# STRU - set file transfer structure# SYST - return system type vsftpd&#x670D;&#x52A1;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x5B9E;&#x4F8B;&#x57FA;&#x4E8E;IP&#x7684;&#x865A;&#x62DF;FTP&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x5047;&#x8BBE;&#x670D;&#x52A1;&#x5668;&#x6709;&#x4E24;&#x4E2A;IP&#x5730;&#x5740;&#xFF0C;192.168.1.199&#x548C;192.168.1.200&#x3002;vsftpd&#x662F;&#x5EFA;&#x7ACB;&#x5728;192.168.1.199&#x4E0A;&#x7684;&#x3002;&#x73B0;&#x5728;&#x5728;192.168.1.200&#x4E0A;&#x518D;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x865A;&#x62DF;FTP&#x670D;&#x52A1;&#x5668;&#x3002; 12345678# &#x521B;&#x5EFA;&#x865A;&#x62DF;FTP&#x670D;&#x52A1;&#x5668;&#x6839;&#x76EE;&#x5F55;mkdir &#x2013;p /var/ftp2/pub# &#x786E;&#x4FDD;/var/ftp2&#x548C;/var/ftp2/pub&#x76EE;&#x5F55;&#x7684;&#x6240;&#x6709;&#x8005;&#x548C;&#x7EC4;&#x5747;&#x4E3A;root&#xFF0C;&#x63A9;&#x7801;&#x4E3A;755chmod 755 /var/ftp2 chmod 755 /var/ftp2/pubchown &#x2013;R root /var/ftp2 # &#x589E;&#x52A0;&#x865A;&#x62DF;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x533F;&#x540D;&#x7528;&#x6237;&#x5E10;&#x53F7;ftp2useradd &#x2013;d /var/ftp2 &#x2013;M ftp2 ###&#x521B;&#x5EFA;&#x865A;&#x62DF;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 12345678# &#x590D;&#x5236;&#x539F;&#x6765;&#x7684;vsftpd.conf&#x4F5C;&#x4E3A;&#x865A;&#x62DF;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4FEE;&#x6539;&#x76F8;&#x5173;&#x53C2;&#x6570;cp /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd2.confvi /etc/vsftpd/vsftpd2.conf# &#x6DFB;&#x52A0;&#x6216;&#x4FEE;&#x6539;&#x53C2;&#x6570;&#xFF1A;Listen=YESListen_address=192.168.1.200ftp_username=ftp2anon_root=/var/ftp2 &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;1234567891011121314151617181920Write_enable=YESAnon_world_readable_only=NOAnon_upload_enable=YESAnon_mkdir_write_enable=YES# &#x521B;&#x5EFA;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x6743;&#x9650;&#xFF1A;mkdir /var/ftp/incoming chmod o+w /var/ftp/incoming# &#x53D6;&#x6D88;&#x5199;&#x6743;&#x9650;Write_enable=NOAnon_upload_enable=NOAnon_mkdir_write_enable=NOAnon_other_write_enable=NO# &#x9650;&#x5236;&#x4E0B;&#x8F7D;&#x901F;&#x5EA6;&#x4E3A;80KB/sAnon_max_rate=8000# &#x63A7;&#x5236;&#x5E76;&#x53D1;&#x6570;&#xFF0C;&#x4EE5;&#x53CA;&#x6BCF;&#x4E2A;IP&#x5730;&#x5740;&#x7684;&#x5E76;&#x53D1;&#x6570;Max_clients=100Max_per_ip=3 &#x542F;&#x52A8;&#x865A;&#x62DF;FTP&#x670D;&#x52A1;&#x5668;1234567/usr/sbin/vsftpd /etc/vsftpd/vsftpd2.comfvi /etc/vsftpd/vsftpd.conf userlist_deny=NO /&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x91CC;&#x7684;&#x4EBA;&#x4E0D;&#x62D2;&#x7EDD;&#xFF0C;&#x5176;&#x4ED6;&#x4EBA;&#x62D2;&#x7EDD;&#xFF08;&#x5305;&#x62EC;&#x533F;&#x540D;&#xFF09;userlist_file=/etc/mp /&#x6307;&#x660E;&#x5217;&#x8868;&#x7684;&#x8DEF;&#x5F84;&#x7136;&#x540E;&#xFF1A;#vi /etc/mp &#x628A;&#x53EF;&#x8BBF;&#x95EE;&#x7684;&#x540D;&#x5B57;&#x6DFB;&#x52A0;&#x4E0A;&#x53BB;&#x91CD;&#x542F;vsftpd &#x670D;&#x52A1;&#x5373;&#x53EF;&#xFF01; ssl&#x8BA4;&#x8BC1;123456789101112# &#x542F;&#x7528;TLS/SSLssl_enable=YESallow_anon_ssl=NOforce_local_data_ssl=YESforce_local_logins_ssl=YESssl_tlsv1=YESssl_sslv2=NOssl_sslv3=NOrequire_ssl_reuse=NOssl_ciphers=HIGHrsa_cert_file=/etc/vsftpd/vsftpd.pemrsa_private_key_file=/etc/vsftpd/vsftpd.pem]]></content>
      <categories>
        <category>linux</category>
        <category>ftp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ftp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[http 错误代码表]]></title>
    <url>%2F2017%2F02%2F13%2Fhttp-error-code%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x6240;&#x6709; HTTP &#x72B6;&#x6001;&#x4EE3;&#x7801;&#x53CA;&#x5176;&#x5B9A;&#x4E49;&#x3002; &#x672C;&#x6587;&#x5185;&#x5BB9;&#x53D6;&#x81EA;&#x7F51;&#x7EDC;&#x3002; &#x4EE3;&#x7801;&#x4EE5;&#x53CA;&#x542B;&#x4E49;12345678910111213141516171819202122232425262xx &#x6210;&#x529F; 200 &#x6B63;&#x5E38;&#xFF1B;&#x8BF7;&#x6C42;&#x5DF2;&#x5B8C;&#x6210;&#x3002; 201 &#x6B63;&#x5E38;&#xFF1B;&#x7D27;&#x63A5; POST &#x547D;&#x4EE4;&#x3002; 202 &#x6B63;&#x5E38;&#xFF1B;&#x5DF2;&#x63A5;&#x53D7;&#x7528;&#x4E8E;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x5904;&#x7406;&#x5C1A;&#x672A;&#x5B8C;&#x6210;&#x3002; 203 &#x6B63;&#x5E38;&#xFF1B;&#x90E8;&#x5206;&#x4FE1;&#x606F; &#x2014; &#x8FD4;&#x56DE;&#x7684;&#x4FE1;&#x606F;&#x53EA;&#x662F;&#x4E00;&#x90E8;&#x5206;&#x3002; 204 &#x6B63;&#x5E38;&#xFF1B;&#x65E0;&#x54CD;&#x5E94; &#x2014; &#x5DF2;&#x63A5;&#x6536;&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x4E0D;&#x5B58;&#x5728;&#x8981;&#x56DE;&#x9001;&#x7684;&#x4FE1;&#x606F;&#x3002; 3xx &#x91CD;&#x5B9A;&#x5411; 301 &#x5DF2;&#x79FB;&#x52A8; &#x2014; &#x8BF7;&#x6C42;&#x7684;&#x6570;&#x636E;&#x5177;&#x6709;&#x65B0;&#x7684;&#x4F4D;&#x7F6E;&#x4E14;&#x66F4;&#x6539;&#x662F;&#x6C38;&#x4E45;&#x7684;&#x3002; 302 &#x5DF2;&#x627E;&#x5230; &#x2014; &#x8BF7;&#x6C42;&#x7684;&#x6570;&#x636E;&#x4E34;&#x65F6;&#x5177;&#x6709;&#x4E0D;&#x540C; URI&#x3002; 303 &#x8BF7;&#x53C2;&#x9605;&#x5176;&#x5B83; &#x2014; &#x53EF;&#x5728;&#x53E6;&#x4E00; URI &#x4E0B;&#x627E;&#x5230;&#x5BF9;&#x8BF7;&#x6C42;&#x7684;&#x54CD;&#x5E94;&#xFF0C;&#x4E14;&#x5E94;&#x4F7F;&#x7528; GET &#x65B9;&#x6CD5;&#x68C0;&#x7D22;&#x6B64;&#x54CD;&#x5E94;&#x3002; 304 &#x672A;&#x4FEE;&#x6539; &#x2014; &#x672A;&#x6309;&#x9884;&#x671F;&#x4FEE;&#x6539;&#x6587;&#x6863;&#x3002; 305 &#x4F7F;&#x7528;&#x4EE3;&#x7406; &#x2014; &#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x4F4D;&#x7F6E;&#x5B57;&#x6BB5;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x4EE3;&#x7406;&#x6765;&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x3002; 306 &#x672A;&#x4F7F;&#x7528; &#x2014; &#x4E0D;&#x518D;&#x4F7F;&#x7528;&#xFF1B;&#x4FDD;&#x7559;&#x6B64;&#x4EE3;&#x7801;&#x4EE5;&#x4FBF;&#x5C06;&#x6765;&#x4F7F;&#x7528;&#x3002; 4xx &#x5BA2;&#x6237;&#x673A;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x9519;&#x8BEF; 400 &#x9519;&#x8BEF;&#x8BF7;&#x6C42; &#x2014; &#x8BF7;&#x6C42;&#x4E2D;&#x6709;&#x8BED;&#x6CD5;&#x95EE;&#x9898;&#xFF0C;&#x6216;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x8BF7;&#x6C42;&#x3002; 401 &#x672A;&#x6388;&#x6743; &#x2014; &#x672A;&#x6388;&#x6743;&#x5BA2;&#x6237;&#x673A;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x3002; 402 &#x9700;&#x8981;&#x4ED8;&#x6B3E; &#x2014; &#x8868;&#x793A;&#x8BA1;&#x8D39;&#x7CFB;&#x7EDF;&#x5DF2;&#x6709;&#x6548;&#x3002; 403 &#x7981;&#x6B62; &#x2014; &#x5373;&#x4F7F;&#x6709;&#x6388;&#x6743;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x3002; 404 &#x627E;&#x4E0D;&#x5230; &#x2014; &#x670D;&#x52A1;&#x5668;&#x627E;&#x4E0D;&#x5230;&#x7ED9;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#xFF1B;&#x6587;&#x6863;&#x4E0D;&#x5B58;&#x5728;&#x3002; 407 &#x4EE3;&#x7406;&#x8BA4;&#x8BC1;&#x8BF7;&#x6C42; &#x2014; &#x5BA2;&#x6237;&#x673A;&#x9996;&#x5148;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x4EE3;&#x7406;&#x8BA4;&#x8BC1;&#x81EA;&#x8EAB;&#x3002; 415 &#x4ECB;&#x8D28;&#x7C7B;&#x578B;&#x4E0D;&#x53D7;&#x652F;&#x6301; &#x2014; &#x670D;&#x52A1;&#x5668;&#x62D2;&#x7EDD;&#x670D;&#x52A1;&#x8BF7;&#x6C42;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x652F;&#x6301;&#x8BF7;&#x6C42;&#x5B9E;&#x4F53;&#x7684;&#x683C;&#x5F0F;&#x3002; 5xx &#x670D;&#x52A1;&#x5668;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x9519;&#x8BEF; 500 &#x5185;&#x90E8;&#x9519;&#x8BEF; &#x2014; &#x56E0;&#x4E3A;&#x610F;&#x5916;&#x60C5;&#x51B5;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x5B8C;&#x6210;&#x8BF7;&#x6C42;&#x3002; 501 &#x672A;&#x6267;&#x884C; &#x2014; &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x652F;&#x6301;&#x8BF7;&#x6C42;&#x7684;&#x5DE5;&#x5177;&#x3002; 502 &#x9519;&#x8BEF;&#x7F51;&#x5173; &#x2014; &#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;&#x5230;&#x6765;&#x81EA;&#x4E0A;&#x6E38;&#x670D;&#x52A1;&#x5668;&#x7684;&#x65E0;&#x6548;&#x54CD;&#x5E94;&#x3002; 503 &#x65E0;&#x6CD5;&#x83B7;&#x5F97;&#x670D;&#x52A1; &#x2014; &#x7531;&#x4E8E;&#x4E34;&#x65F6;&#x8FC7;&#x8F7D;&#x6216;&#x7EF4;&#x62A4;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x65E0;&#x6CD5;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x3002; 1234567891011121314151617181920212223242526272829303132333435363738394041HTTP 400 - &#x8BF7;&#x6C42;&#x65E0;&#x6548; HTTP 401.1 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x767B;&#x5F55;&#x5931;&#x8D25; HTTP 401.2 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x95EE;&#x9898;&#x5BFC;&#x81F4;&#x767B;&#x5F55;&#x5931;&#x8D25; HTTP 401.3 - ACL &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#x8D44;&#x6E90; HTTP 401.4 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x6388;&#x6743;&#x88AB;&#x7B5B;&#x9009;&#x5668;&#x62D2;&#x7EDD; HTTP 401.5 - &#x672A;&#x6388;&#x6743;&#xFF1A;ISAPI &#x6216; CGI &#x6388;&#x6743;&#x5931;&#x8D25; HTTP 403 - &#x7981;&#x6B62;&#x8BBF;&#x95EE; HTTP 403 - &#x5BF9; Internet &#x670D;&#x52A1;&#x7BA1;&#x7406;&#x5668; (HTML) &#x7684;&#x8BBF;&#x95EE;&#x4EC5;&#x9650;&#x4E8E; Localhost HTTP 403.1 &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x53EF;&#x6267;&#x884C;&#x8BBF;&#x95EE; HTTP 403.2 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x8BFB;&#x8BBF;&#x95EE; HTTP 403.3 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x5199;&#x8BBF;&#x95EE; HTTP 403.4 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42; SSL HTTP 403.5 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42; SSL 128 HTTP 403.6 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;IP &#x5730;&#x5740;&#x88AB;&#x62D2;&#x7EDD; HTTP 403.7 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42;&#x5BA2;&#x6237;&#x8BC1;&#x4E66; HTTP 403.8 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x7AD9;&#x70B9;&#x8BBF;&#x95EE; HTTP 403.9 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8FDE;&#x63A5;&#x7684;&#x7528;&#x6237;&#x8FC7;&#x591A; HTTP 403.10 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x914D;&#x7F6E;&#x65E0;&#x6548; HTTP 403.11 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BC6;&#x7801;&#x66F4;&#x6539; HTTP 403.12 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x6620;&#x5C04;&#x5668;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE; HTTP 403.13 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x5DF2;&#x88AB;&#x540A;&#x9500; HTTP 403.15 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BBF;&#x95EE;&#x8BB8;&#x53EF;&#x8FC7;&#x591A; HTTP 403.16 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x4E0D;&#x53EF;&#x4FE1;&#x6216;&#x8005;&#x65E0;&#x6548; HTTP 403.17 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x5DF2;&#x7ECF;&#x5230;&#x671F;&#x6216;&#x8005;&#x5C1A;&#x672A;&#x751F;&#x6548; HTTP 404.1 - &#x65E0;&#x6CD5;&#x627E;&#x5230; Web &#x7AD9;&#x70B9; HTTP 404 - &#x65E0;&#x6CD5;&#x627E;&#x5230;&#x6587;&#x4EF6; HTTP 405 - &#x8D44;&#x6E90;&#x88AB;&#x7981;&#x6B62; HTTP 406 - &#x65E0;&#x6CD5;&#x63A5;&#x53D7; HTTP 407 - &#x8981;&#x6C42;&#x4EE3;&#x7406;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1; HTTP 410 - &#x6C38;&#x8FDC;&#x4E0D;&#x53EF;&#x7528; HTTP 412 - &#x5148;&#x51B3;&#x6761;&#x4EF6;&#x5931;&#x8D25; HTTP 414 - &#x8BF7;&#x6C42; - URI &#x592A;&#x957F; HTTP 500 - &#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF; HTTP 500.100 - &#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF; - ASP &#x9519;&#x8BEF; HTTP 500-11 &#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED; HTTP 500-12 &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x91CD;&#x65B0;&#x542F;&#x52A8; HTTP 500-13 - &#x670D;&#x52A1;&#x5668;&#x592A;&#x5FD9; HTTP 500-14 - &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65E0;&#x6548; HTTP 500-15 - &#x4E0D;&#x5141;&#x8BB8;&#x8BF7;&#x6C42; global.asa Error 501 - &#x672A;&#x5B9E;&#x73B0; HTTP 502 - &#x7F51;&#x5173;&#x9519;&#x8BEF; &#x8BE6;&#x89E3;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271http&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x542B;&#x4E49;&#xFF1A;&quot;100&quot; : Continue&quot;101&quot; : witching Protocols&quot;200&quot; : OK&quot;201&quot; : Created&quot;202&quot; : Accepted&quot;203&quot; : Non-Authoritative Information&quot;204&quot; : No Content&quot;205&quot; : Reset Content&quot;206&quot; : Partial Content&quot;300&quot; : Multiple Choices&quot;301&quot; : Moved Permanently&quot;302&quot; : Found&quot;303&quot; : See Other&quot;304&quot; : Not Modified&quot;305&quot; : Use Proxy&quot;307&quot; : Temporary Redirect&quot;400&quot; : Bad Request&quot;401&quot; : Unauthorized&quot;402&quot; : Payment Required&quot;403&quot; : Forbidden&quot;404&quot; : Not Found&quot;405&quot; : Method Not Allowed&quot;406&quot; : Not Acceptable&quot;407&quot; : Proxy Authentication Required&quot;408&quot; : Request Time-out&quot;409&quot; : Conflict&quot;410&quot; : Gone&quot;411&quot; : Length Required&quot;412&quot; : Precondition Failed&quot;413&quot; : Request Entity Too Large&quot;414&quot; : Request-URI Too Large&quot;415&quot; : Unsupported Media Type&quot;416&quot; : Requested range not satisfiable&quot;417&quot; : Expectation Failed&quot;500&quot; : Internal Server Error&quot;501&quot; : Not Implemented&quot;502&quot; : Bad Gateway&quot;503&quot; : Service Unavailable&quot;504&quot; : Gateway Time-out&quot;505&quot; : HTTP Version not supportedHTTP 400 - &#x8BF7;&#x6C42;&#x65E0;&#x6548;HTTP 401.1 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x767B;&#x5F55;&#x5931;&#x8D25;HTTP 401.2 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x95EE;&#x9898;&#x5BFC;&#x81F4;&#x767B;&#x5F55;&#x5931;&#x8D25;HTTP 401.3 - ACL &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;HTTP 401.4 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x6388;&#x6743;&#x88AB;&#x7B5B;&#x9009;&#x5668;&#x62D2;&#x7EDD;HTTP 401.5 - &#x672A;&#x6388;&#x6743;&#xFF1A;ISAPI &#x6216; CGI &#x6388;&#x6743;&#x5931;&#x8D25;HTTP 403 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;HTTP 403 - &#x5BF9; Internet &#x670D;&#x52A1;&#x7BA1;&#x7406;&#x5668; (HTML) &#x7684;&#x8BBF;&#x95EE;&#x4EC5;&#x9650;&#x4E8E; LocalhostHTTP 403.1 &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x53EF;&#x6267;&#x884C;&#x8BBF;&#x95EE;HTTP 403.2 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x8BFB;&#x8BBF;&#x95EE;HTTP 403.3 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x5199;&#x8BBF;&#x95EE;HTTP 403.4 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42; SSLHTTP 403.5 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42; SSL 128HTTP 403.6 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;IP &#x5730;&#x5740;&#x88AB;&#x62D2;&#x7EDD;HTTP 403.7 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;HTTP 403.8 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x7AD9;&#x70B9;&#x8BBF;&#x95EE;HTTP 403.9 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8FDE;&#x63A5;&#x7684;&#x7528;&#x6237;&#x8FC7;&#x591A;HTTP 403.10 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x914D;&#x7F6E;&#x65E0;&#x6548;HTTP 403.11 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BC6;&#x7801;&#x66F4;&#x6539;HTTP 403.12 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x6620;&#x5C04;&#x5668;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;HTTP 403.13 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x5DF2;&#x88AB;&#x540A;&#x9500;HTTP 403.15 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BBF;&#x95EE;&#x8BB8;&#x53EF;&#x8FC7;&#x591A;HTTP 403.16 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x4E0D;&#x53EF;&#x4FE1;&#x6216;&#x8005;&#x65E0;&#x6548;HTTP 403.17 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x5DF2;&#x7ECF;&#x5230;&#x671F;&#x6216;&#x8005;&#x5C1A;&#x672A;&#x751F;&#x6548;HTTP 404.1 - &#x65E0;&#x6CD5;&#x627E;&#x5230; Web &#x7AD9;&#x70B9;HTTP 404 - &#x65E0;&#x6CD5;&#x627E;&#x5230;&#x6587;&#x4EF6;HTTP 405 - &#x8D44;&#x6E90;&#x88AB;&#x7981;&#x6B62;HTTP 406 - &#x65E0;&#x6CD5;&#x63A5;&#x53D7;HTTP 407 - &#x8981;&#x6C42;&#x4EE3;&#x7406;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;HTTP 410 - &#x6C38;&#x8FDC;&#x4E0D;&#x53EF;&#x7528;HTTP 412 - &#x5148;&#x51B3;&#x6761;&#x4EF6;&#x5931;&#x8D25;HTTP 414 - &#x8BF7;&#x6C42; - URI &#x592A;&#x957F;HTTP 500 - &#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;HTTP 500.100 - &#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF; - ASP &#x9519;&#x8BEF;HTTP 500-11 &#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED;HTTP 500-12 &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x91CD;&#x65B0;&#x542F;&#x52A8;HTTP 500-13 - &#x670D;&#x52A1;&#x5668;&#x592A;&#x5FD9;HTTP 500-14 - &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65E0;&#x6548;HTTP 500-15 - &#x4E0D;&#x5141;&#x8BB8;&#x8BF7;&#x6C42; global.asaError 501 - &#x672A;&#x5B9E;&#x73B0;HTTP 502 - &#x7F51;&#x5173;&#x9519;&#x8BEF;&#x6982;&#x8981;&#x5F53;&#x7528;&#x6237;&#x8BD5;&#x56FE;&#x901A;&#x8FC7; HTTP &#x6216;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE; (FTP) &#x8BBF;&#x95EE;&#x4E00;&#x53F0;&#x6B63;&#x5728;&#x8FD0;&#x884C; Internet &#x4FE1;&#x606F;&#x670D;&#x52A1; (IIS) &#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;IIS &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8868;&#x793A;&#x8BE5;&#x8BF7;&#x6C42;&#x7684;&#x72B6;&#x6001;&#x7684;&#x6570;&#x5B57;&#x4EE3;&#x7801;&#x3002;&#x8BE5;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x8BB0;&#x5F55;&#x5728; IIS &#x65E5;&#x5FD7;&#x4E2D;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x80FD;&#x5728; Web &#x6D4F;&#x89C8;&#x5668;&#x6216; FTP &#x5BA2;&#x6237;&#x7AEF;&#x663E;&#x793A;&#x3002;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x6307;&#x660E;&#x5177;&#x4F53;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x5DF2;&#x6210;&#x529F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x63ED;&#x793A;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x7684;&#x786E;&#x5207;&#x539F;&#x56E0;&#x3002;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#x5728;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;IIS &#x628A;&#x5B83;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x653E;&#x5728; %WINDIR\System32\Logfiles &#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x3002;&#x6BCF;&#x4E2A;&#x4E07;&#x7EF4;&#x7F51; (WWW) &#x7AD9;&#x70B9;&#x548C; FTP &#x7AD9;&#x70B9;&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x76EE;&#x5F55;&#x3002;&#x5728;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x6BCF;&#x5929;&#x90FD;&#x4F1A;&#x5728;&#x8FD9;&#x4E9B;&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x7528;&#x65E5;&#x671F;&#x7ED9;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x547D;&#x540D;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;exYYMMDD.log&#xFF09;&#x3002;HTTP1xx - &#x4FE1;&#x606F;&#x63D0;&#x793A;&#x8FD9;&#x4E9B;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x8868;&#x793A;&#x4E34;&#x65F6;&#x7684;&#x54CD;&#x5E94;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x6536;&#x5230;&#x5E38;&#x89C4;&#x54CD;&#x5E94;&#x4E4B;&#x524D;&#xFF0C;&#x5E94;&#x51C6;&#x5907;&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A; 1xx &#x54CD;&#x5E94;&#x3002; 100 - &#x7EE7;&#x7EED;&#x3002; 101 - &#x5207;&#x6362;&#x534F;&#x8BAE;&#x3002;2xx - &#x6210;&#x529F;&#x8FD9;&#x7C7B;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x8868;&#x660E;&#x670D;&#x52A1;&#x5668;&#x6210;&#x529F;&#x5730;&#x63A5;&#x53D7;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x3002; 200 - &#x786E;&#x5B9A;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x5DF2;&#x6210;&#x529F;&#x3002; 201 - &#x5DF2;&#x521B;&#x5EFA;&#x3002; 202 - &#x5DF2;&#x63A5;&#x53D7;&#x3002; 203 - &#x975E;&#x6743;&#x5A01;&#x6027;&#x4FE1;&#x606F;&#x3002; 204 - &#x65E0;&#x5185;&#x5BB9;&#x3002; 205 - &#x91CD;&#x7F6E;&#x5185;&#x5BB9;&#x3002; 206 - &#x90E8;&#x5206;&#x5185;&#x5BB9;&#x3002;3xx - &#x91CD;&#x5B9A;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x6D4F;&#x89C8;&#x5668;&#x5FC5;&#x987B;&#x91C7;&#x53D6;&#x66F4;&#x591A;&#x64CD;&#x4F5C;&#x6765;&#x5B9E;&#x73B0;&#x8BF7;&#x6C42;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x80FD;&#x4E0D;&#x5F97;&#x4E0D;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x4E0D;&#x540C;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x6216;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x590D;&#x8BE5;&#x8BF7;&#x6C42;&#x3002; 302 - &#x5BF9;&#x8C61;&#x5DF2;&#x79FB;&#x52A8;&#x3002; 304 - &#x672A;&#x4FEE;&#x6539;&#x3002; 307 - &#x4E34;&#x65F6;&#x91CD;&#x5B9A;&#x5411;&#x3002;4xx - &#x5BA2;&#x6237;&#x7AEF;&#x9519;&#x8BEF;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4F3C;&#x4E4E;&#x6709;&#x95EE;&#x9898;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x672A;&#x63D0;&#x4F9B;&#x6709;&#x6548;&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x4FE1;&#x606F;&#x3002; 400 - &#x9519;&#x8BEF;&#x7684;&#x8BF7;&#x6C42;&#x3002; 401 - &#x8BBF;&#x95EE;&#x88AB;&#x62D2;&#x7EDD;&#x3002;IIS &#x5B9A;&#x4E49;&#x4E86;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x7684; 401 &#x9519;&#x8BEF;&#xFF0C;&#x5B83;&#x4EEC;&#x6307;&#x660E;&#x66F4;&#x4E3A;&#x5177;&#x4F53;&#x7684;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#x3002;&#x8FD9;&#x4E9B;&#x5177;&#x4F53;&#x7684;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x663E;&#x793A;&#xFF0C;&#x4F46;&#x4E0D;&#x5728; IIS &#x65E5;&#x5FD7;&#x4E2D;&#x663E;&#x793A;&#xFF1A; 401.1 - &#x767B;&#x5F55;&#x5931;&#x8D25;&#x3002; 401.2 - &#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x5BFC;&#x81F4;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x3002; 401.3 - &#x7531;&#x4E8E; ACL &#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x9650;&#x5236;&#x800C;&#x672A;&#x83B7;&#x5F97;&#x6388;&#x6743;&#x3002; 401.4 - &#x7B5B;&#x9009;&#x5668;&#x6388;&#x6743;&#x5931;&#x8D25;&#x3002; 401.5 - ISAPI/CGI &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6388;&#x6743;&#x5931;&#x8D25;&#x3002; 401.7 &#x2013; &#x8BBF;&#x95EE;&#x88AB; Web &#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684; URL &#x6388;&#x6743;&#x7B56;&#x7565;&#x62D2;&#x7EDD;&#x3002;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x4E3A; IIS 6.0 &#x6240;&#x4E13;&#x7528;&#x3002; 403 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;IIS &#x5B9A;&#x4E49;&#x4E86;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x7684; 403 &#x9519;&#x8BEF;&#xFF0C;&#x5B83;&#x4EEC;&#x6307;&#x660E;&#x66F4;&#x4E3A;&#x5177;&#x4F53;&#x7684;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A; 403.1 - &#x6267;&#x884C;&#x8BBF;&#x95EE;&#x88AB;&#x7981;&#x6B62;&#x3002; 403.2 - &#x8BFB;&#x8BBF;&#x95EE;&#x88AB;&#x7981;&#x6B62;&#x3002; 403.3 - &#x5199;&#x8BBF;&#x95EE;&#x88AB;&#x7981;&#x6B62;&#x3002; 403.4 - &#x8981;&#x6C42; SSL&#x3002; 403.5 - &#x8981;&#x6C42; SSL 128&#x3002; 403.6 - IP &#x5730;&#x5740;&#x88AB;&#x62D2;&#x7EDD;&#x3002; 403.7 - &#x8981;&#x6C42;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x3002; 403.8 - &#x7AD9;&#x70B9;&#x8BBF;&#x95EE;&#x88AB;&#x62D2;&#x7EDD;&#x3002; 403.9 - &#x7528;&#x6237;&#x6570;&#x8FC7;&#x591A;&#x3002; 403.10 - &#x914D;&#x7F6E;&#x65E0;&#x6548;&#x3002; 403.11 - &#x5BC6;&#x7801;&#x66F4;&#x6539;&#x3002; 403.12 - &#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#x6620;&#x5C04;&#x8868;&#x3002; 403.13 - &#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x88AB;&#x540A;&#x9500;&#x3002; 403.14 - &#x62D2;&#x7EDD;&#x76EE;&#x5F55;&#x5217;&#x8868;&#x3002; 403.15 - &#x8D85;&#x51FA;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x8BB8;&#x53EF;&#x3002; 403.16 - &#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x4E0D;&#x53D7;&#x4FE1;&#x4EFB;&#x6216;&#x65E0;&#x6548;&#x3002; 403.17 - &#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x5DF2;&#x8FC7;&#x671F;&#x6216;&#x5C1A;&#x672A;&#x751F;&#x6548;&#x3002; 403.18 - &#x5728;&#x5F53;&#x524D;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6C60;&#x4E2D;&#x4E0D;&#x80FD;&#x6267;&#x884C;&#x6240;&#x8BF7;&#x6C42;&#x7684; URL&#x3002;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x4E3A; IIS 6.0 &#x6240;&#x4E13;&#x7528;&#x3002; 403.19 - &#x4E0D;&#x80FD;&#x4E3A;&#x8FD9;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6C60;&#x4E2D;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x6267;&#x884C; CGI&#x3002;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x4E3A; IIS 6.0 &#x6240;&#x4E13;&#x7528;&#x3002; 403.20 - Passport &#x767B;&#x5F55;&#x5931;&#x8D25;&#x3002;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x4E3A; IIS 6.0 &#x6240;&#x4E13;&#x7528;&#x3002; 404 - &#x672A;&#x627E;&#x5230;&#x3002; 404.0 -&#xFF08;&#x65E0;&#xFF09; &#x2013; &#x6CA1;&#x6709;&#x627E;&#x5230;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x3002; 404.1 - &#x65E0;&#x6CD5;&#x5728;&#x6240;&#x8BF7;&#x6C42;&#x7684;&#x7AEF;&#x53E3;&#x4E0A;&#x8BBF;&#x95EE; Web &#x7AD9;&#x70B9;&#x3002; 404.2 - Web &#x670D;&#x52A1;&#x6269;&#x5C55;&#x9501;&#x5B9A;&#x7B56;&#x7565;&#x963B;&#x6B62;&#x672C;&#x8BF7;&#x6C42;&#x3002; 404.3 - MIME &#x6620;&#x5C04;&#x7B56;&#x7565;&#x963B;&#x6B62;&#x672C;&#x8BF7;&#x6C42;&#x3002; 405 - &#x7528;&#x6765;&#x8BBF;&#x95EE;&#x672C;&#x9875;&#x9762;&#x7684; HTTP &#x8C13;&#x8BCD;&#x4E0D;&#x88AB;&#x5141;&#x8BB8;&#xFF08;&#x65B9;&#x6CD5;&#x4E0D;&#x88AB;&#x5141;&#x8BB8;&#xFF09; 406 - &#x5BA2;&#x6237;&#x7AEF;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x63A5;&#x53D7;&#x6240;&#x8BF7;&#x6C42;&#x9875;&#x9762;&#x7684; MIME &#x7C7B;&#x578B;&#x3002; 407 - &#x8981;&#x6C42;&#x8FDB;&#x884C;&#x4EE3;&#x7406;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x3002; 412 - &#x524D;&#x63D0;&#x6761;&#x4EF6;&#x5931;&#x8D25;&#x3002; 413 &#x2013; &#x8BF7;&#x6C42;&#x5B9E;&#x4F53;&#x592A;&#x5927;&#x3002; 414 - &#x8BF7;&#x6C42; URI &#x592A;&#x957F;&#x3002; 415 &#x2013; &#x4E0D;&#x652F;&#x6301;&#x7684;&#x5A92;&#x4F53;&#x7C7B;&#x578B;&#x3002; 416 &#x2013; &#x6240;&#x8BF7;&#x6C42;&#x7684;&#x8303;&#x56F4;&#x65E0;&#x6CD5;&#x6EE1;&#x8DB3;&#x3002; 417 &#x2013; &#x6267;&#x884C;&#x5931;&#x8D25;&#x3002; 423 &#x2013; &#x9501;&#x5B9A;&#x7684;&#x9519;&#x8BEF;&#x3002;5xx - &#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;&#x670D;&#x52A1;&#x5668;&#x7531;&#x4E8E;&#x9047;&#x5230;&#x9519;&#x8BEF;&#x800C;&#x4E0D;&#x80FD;&#x5B8C;&#x6210;&#x8BE5;&#x8BF7;&#x6C42;&#x3002; 500 - &#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;&#x3002; 500.12 - &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6B63;&#x5FD9;&#x4E8E;&#x5728; Web &#x670D;&#x52A1;&#x5668;&#x4E0A;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x3002; 500.13 - Web &#x670D;&#x52A1;&#x5668;&#x592A;&#x5FD9;&#x3002; 500.15 - &#x4E0D;&#x5141;&#x8BB8;&#x76F4;&#x63A5;&#x8BF7;&#x6C42; Global.asa&#x3002; 500.16 &#x2013; UNC &#x6388;&#x6743;&#x51ED;&#x636E;&#x4E0D;&#x6B63;&#x786E;&#x3002;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x4E3A; IIS 6.0 &#x6240;&#x4E13;&#x7528;&#x3002; 500.18 &#x2013; URL &#x6388;&#x6743;&#x5B58;&#x50A8;&#x4E0D;&#x80FD;&#x6253;&#x5F00;&#x3002;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x4E3A; IIS 6.0 &#x6240;&#x4E13;&#x7528;&#x3002; 500.100 - &#x5185;&#x90E8; ASP &#x9519;&#x8BEF;&#x3002; 501 - &#x9875;&#x7709;&#x503C;&#x6307;&#x5B9A;&#x4E86;&#x672A;&#x5B9E;&#x73B0;&#x7684;&#x914D;&#x7F6E;&#x3002; 502 - Web &#x670D;&#x52A1;&#x5668;&#x7528;&#x4F5C;&#x7F51;&#x5173;&#x6216;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x6536;&#x5230;&#x4E86;&#x65E0;&#x6548;&#x54CD;&#x5E94;&#x3002; 502.1 - CGI &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8D85;&#x65F6;&#x3002; 502.2 - CGI &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x51FA;&#x9519;&#x3002;application. 503 - &#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#x3002;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x4E3A; IIS 6.0 &#x6240;&#x4E13;&#x7528;&#x3002; 504 - &#x7F51;&#x5173;&#x8D85;&#x65F6;&#x3002; 505 - HTTP &#x7248;&#x672C;&#x4E0D;&#x53D7;&#x652F;&#x6301;&#x3002;&#x5E38;&#x89C1;&#x7684; HTTP &#x72B6;&#x6001;&#x4EE3;&#x7801;&#x53CA;&#x5176;&#x539F;&#x56E0; 200 - &#x6210;&#x529F;&#x3002; &#x6B64;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x8868;&#x793A; IIS &#x5DF2;&#x6210;&#x529F;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x3002; 304 - &#x672A;&#x4FEE;&#x6539;&#x3002; &#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x6863;&#x5DF2;&#x5728;&#x5176;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x6587;&#x6863;&#x81EA;&#x7F13;&#x5B58;&#x4EE5;&#x6765;&#x5C1A;&#x672A;&#x88AB;&#x4FEE;&#x6539;&#x8FC7;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;&#x6587;&#x6863;&#x7684;&#x7F13;&#x5B58;&#x526F;&#x672C;&#xFF0C;&#x800C;&#x4E0D;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0B;&#x8F7D;&#x6587;&#x6863;&#x3002; 401.1 - &#x767B;&#x5F55;&#x5931;&#x8D25;&#x3002; &#x767B;&#x5F55;&#x5C1D;&#x8BD5;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x53EF;&#x80FD;&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x540D;&#x6216;&#x5BC6;&#x7801;&#x65E0;&#x6548;&#x3002; 401.3 - &#x7531;&#x4E8E; ACL &#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x9650;&#x5236;&#x800C;&#x672A;&#x83B7;&#x5F97;&#x6388;&#x6743;&#x3002; &#x8FD9;&#x8868;&#x793A;&#x5B58;&#x5728; NTFS &#x6743;&#x9650;&#x95EE;&#x9898;&#x3002;&#x5373;&#x4F7F;&#x60A8;&#x5BF9;&#x8BD5;&#x56FE;&#x8BBF;&#x95EE;&#x7684;&#x6587;&#x4EF6;&#x5177;&#x5907;&#x76F8;&#x5E94;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x6B64;&#x9519;&#x8BEF;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C; IUSR &#x5E10;&#x6237;&#x65E0;&#x6743;&#x8BBF;&#x95EE; C:\Winnt\System32\Inetsrv &#x76EE;&#x5F55;&#xFF0C;&#x60A8;&#x4F1A;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x3002; &#x6709;&#x5173;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;187506 INFO: IIS 4.0 &#x7684;&#x57FA;&#x7840; NTFS &#x6743;&#x9650; 403.1 - &#x6267;&#x884C;&#x8BBF;&#x95EE;&#x88AB;&#x7981;&#x6B62;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x5BFC;&#x81F4;&#x6B64;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;&#x4E24;&#x4E2A;&#x5E38;&#x89C1;&#x539F;&#x56E0;&#xFF1A; &#x60A8;&#x6CA1;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x6267;&#x884C;&#x8BB8;&#x53EF;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x8BD5;&#x56FE;&#x8BBF;&#x95EE;&#x7684; ASP &#x9875;&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x6743;&#x9650;&#x8BBE;&#x4E3A;&#x201C;&#x65E0;&#x201D;&#xFF0C;&#x6216;&#x8005;&#xFF0C;&#x8BD5;&#x56FE;&#x6267;&#x884C;&#x7684; CGI &#x811A;&#x672C;&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x6743;&#x9650;&#x4E3A;&#x201C;&#x53EA;&#x5141;&#x8BB8;&#x811A;&#x672C;&#x201D;&#xFF0C;&#x5C06;&#x51FA;&#x73B0;&#x6B64;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x82E5;&#x8981;&#x4FEE;&#x6539;&#x6267;&#x884C;&#x6743;&#x9650;&#xFF0C;&#x8BF7;&#x5728; Microsoft &#x7BA1;&#x7406;&#x63A7;&#x5236;&#x53F0; (MMC) &#x4E2D;&#x53F3;&#x51FB;&#x76EE;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x4F9D;&#x6B21;&#x5355;&#x51FB;&#x5C5E;&#x6027;&#x548C;&#x76EE;&#x5F55;&#x9009;&#x9879;&#x5361;&#xFF0C;&#x786E;&#x4FDD;&#x4E3A;&#x8BD5;&#x56FE;&#x8BBF;&#x95EE;&#x7684;&#x5185;&#x5BB9;&#x8BBE;&#x7F6E;&#x9002;&#x5F53;&#x7684;&#x6267;&#x884C;&#x6743;&#x9650;&#x3002; &#x60A8;&#x6CA1;&#x6709;&#x5C06;&#x8BD5;&#x56FE;&#x6267;&#x884C;&#x7684;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x7684;&#x811A;&#x672C;&#x6620;&#x5C04;&#x8BBE;&#x7F6E;&#x4E3A;&#x8BC6;&#x522B;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x8C13;&#x8BCD;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;GET &#x6216; POST&#xFF09;&#x3002;&#x82E5;&#x8981;&#x9A8C;&#x8BC1;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x8BF7;&#x5728; MMC &#x4E2D;&#x53F3;&#x51FB;&#x76EE;&#x5F55;&#xFF0C;&#x4F9D;&#x6B21;&#x5355;&#x51FB;&#x5C5E;&#x6027;&#x3001;&#x76EE;&#x5F55;&#x9009;&#x9879;&#x5361;&#x548C;&#x914D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x9A8C;&#x8BC1;&#x76F8;&#x5E94;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x7684;&#x811A;&#x672C;&#x6620;&#x5C04;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E3A;&#x5141;&#x8BB8;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x8C13;&#x8BCD;&#x3002; 403.2 - &#x8BFB;&#x8BBF;&#x95EE;&#x88AB;&#x7981;&#x6B62;&#x3002;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x5DF2;&#x5C06; IIS &#x8BBE;&#x7F6E;&#x4E3A;&#x5141;&#x8BB8;&#x5BF9;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x8BFB;&#x8BBF;&#x95EE;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x6587;&#x4EF6;&#xFF0C;&#x8BF7;&#x9A8C;&#x8BC1;&#x8BE5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728;&#x3002; &#x6709;&#x5173;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;247677 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;403.2 Forbidden:Read Access Forbidden&#xFF08;403.2 &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8BFB;&#x8BBF;&#x95EE;&#x88AB;&#x7981;&#x6B62;&#xFF09; 403.3 - &#x5199;&#x8BBF;&#x95EE;&#x88AB;&#x7981;&#x6B62;&#x3002; &#x9A8C;&#x8BC1; IIS &#x6743;&#x9650;&#x548C; NTFS &#x6743;&#x9650;&#x662F;&#x5426;&#x5DF2;&#x8BBE;&#x7F6E;&#x4EE5;&#x4FBF;&#x5411;&#x8BE5;&#x76EE;&#x5F55;&#x6388;&#x4E88;&#x5199;&#x8BBF;&#x95EE;&#x6743;&#x3002;&#x6709;&#x5173;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;248072 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;403.3 Forbidden:Write Access Forbidden&#xFF08;403.3 &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5199;&#x8BBF;&#x95EE;&#x88AB;&#x7981;&#x6B62;&#xFF09; 403.4 - &#x8981;&#x6C42; SSL&#x3002;&#x7981;&#x7528;&#x8981;&#x6C42;&#x5B89;&#x5168;&#x901A;&#x9053;&#x9009;&#x9879;&#xFF0C;&#x6216;&#x4F7F;&#x7528; HTTPS &#x4EE3;&#x66FF; HTTP &#x6765;&#x8BBF;&#x95EE;&#x8BE5;&#x9875;&#x9762;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x8BC1;&#x4E66;&#x7684; Web &#x7AD9;&#x70B9;&#x51FA;&#x73B0;&#x6B64;&#x9519;&#x8BEF;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;224389 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;HTTP &#x9519;&#x8BEF; 403&#x3001;403.4&#x3001;403.5 &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42; SSL 403.5 - &#x8981;&#x6C42; SSL 128&#x3002;&#x7981;&#x7528;&#x8981;&#x6C42; 128 &#x4F4D;&#x52A0;&#x5BC6;&#x9009;&#x9879;&#xFF0C;&#x6216;&#x4F7F;&#x7528;&#x652F;&#x6301; 128 &#x4F4D;&#x52A0;&#x5BC6;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4EE5;&#x67E5;&#x770B;&#x8BE5;&#x9875;&#x9762;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x8BC1;&#x4E66;&#x7684; Web &#x7AD9;&#x70B9;&#x51FA;&#x73B0;&#x6B64;&#x9519;&#x8BEF;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;224389 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;HTTP &#x9519;&#x8BEF; 403&#x3001;403.4&#x3001;403.5 &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42; SSL 403.6 - IP &#x5730;&#x5740;&#x88AB;&#x62D2;&#x7EDD;&#x3002;&#x60A8;&#x5DF2;&#x628A;&#x60A8;&#x7684;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x4E3A;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#x60A8;&#x76EE;&#x524D;&#x7684; IP &#x5730;&#x5740;&#x3002; &#x6709;&#x5173;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;248043 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;403.6 - Forbidden:IP Address Rejected&#xFF08;403.6 - &#x4E0D;&#x53EF;&#x7528;&#xFF1A;IP &#x5730;&#x5740;&#x88AB;&#x62D2;&#x7EDD;&#xFF09; 403.7 - &#x8981;&#x6C42;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x3002;&#x60A8;&#x5DF2;&#x628A;&#x60A8;&#x7684;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x4E3A;&#x8981;&#x6C42;&#x5BA2;&#x6237;&#x7AEF;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x8BC1;&#x4E66;&#xFF0C;&#x4F46;&#x60A8;&#x672A;&#x5B89;&#x88C5;&#x6709;&#x6548;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x3002; &#x6709;&#x5173;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;190004 &#x9519;&#x8BEF; 403.7 &#x6216;&#x201C;Connection to Server Could Not Be Established&#x201D;&#xFF08;&#x65E0;&#x6CD5;&#x5EFA;&#x7ACB;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x63A5;&#xFF09;186812 PRB&#xFF1A;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;403.7 Forbidden:Client Certificate Required&#xFF08;403.7 &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#xFF09; 403.8 - &#x7AD9;&#x70B9;&#x8BBF;&#x95EE;&#x88AB;&#x62D2;&#x7EDD;&#x3002;&#x60A8;&#x5DF2;&#x4E3A;&#x60A8;&#x7528;&#x6765;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x57DF;&#x8BBE;&#x7F6E;&#x4E86;&#x57DF;&#x540D;&#x9650;&#x5236;&#x3002;&#x6709;&#x5173;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;248032 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;Forbidden:Site Access Denied 403.8&#xFF08;&#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7AD9;&#x70B9;&#x8BBF;&#x95EE;&#x88AB;&#x62D2;&#x7EDD; 403.8&#xFF09; 403.9 - &#x7528;&#x6237;&#x6570;&#x8FC7;&#x591A;&#x3002;&#x4E0E;&#x8BE5;&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#x8D85;&#x8FC7;&#x4E86;&#x60A8;&#x8BBE;&#x7F6E;&#x7684;&#x8FDE;&#x63A5;&#x9650;&#x5236;&#x3002; &#x6709;&#x5173;&#x5982;&#x4F55;&#x66F4;&#x6539;&#x6B64;&#x9650;&#x5236;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x4EE5;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;248074 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;Access Forbidden:Too Many Users Are Connected 403.9&#xFF08;&#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8FDE;&#x63A5;&#x7684;&#x7528;&#x6237;&#x592A;&#x591A; 403.9&#xFF09;&#x6CE8;&#x610F;&#xFF1A;Microsoft Windows 2000 Professional &#x548C; Microsoft Windows XP Professional &#x81EA;&#x52A8;&#x8BBE;&#x7F6E;&#x4E86;&#x5728; IIS &#x4E0A;&#x6700;&#x591A; 10 &#x4E2A;&#x8FDE;&#x63A5;&#x7684;&#x9650;&#x5236;&#x3002;&#x60A8;&#x65E0;&#x6CD5;&#x66F4;&#x6539;&#x6B64;&#x9650;&#x5236;&#x3002; 403.12 - &#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#x6620;&#x5C04;&#x8868;&#x3002; &#x60A8;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x9875;&#x9762;&#x8981;&#x6C42;&#x63D0;&#x4F9B;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#xFF0C;&#x4F46;&#x6620;&#x5C04;&#x5230;&#x60A8;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x7684;&#x7528;&#x6237; ID &#x5DF2;&#x88AB;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#x8BE5;&#x6587;&#x4EF6;&#x3002; &#x6709;&#x5173;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x4EE5;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;248075 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;HTTP 403.12 - Access Forbidden:Mapper Denied Access&#xFF08;HTTP 403.12 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x6620;&#x5C04;&#x8868;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#xFF09; 404 - &#x672A;&#x627E;&#x5230;&#x3002; &#x53D1;&#x751F;&#x6B64;&#x9519;&#x8BEF;&#x7684;&#x539F;&#x56E0;&#x662F;&#x60A8;&#x8BD5;&#x56FE;&#x8BBF;&#x95EE;&#x7684;&#x6587;&#x4EF6;&#x5DF2;&#x88AB;&#x79FB;&#x8D70;&#x6216;&#x5220;&#x9664;&#x3002;&#x5982;&#x679C;&#x5728;&#x5B89;&#x88C5; URLScan &#x5DE5;&#x5177;&#x4E4B;&#x540E;&#xFF0C;&#x8BD5;&#x56FE;&#x8BBF;&#x95EE;&#x5E26;&#x6709;&#x6709;&#x9650;&#x6269;&#x5C55;&#x540D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x6B64;&#x9519;&#x8BEF;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BE5;&#x8BF7;&#x6C42;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x9879;&#x4E2D;&#x5C06;&#x51FA;&#x73B0;&#x201C;Rejected by URLScan&#x201D;&#x7684;&#x5B57;&#x6837;&#x3002; 500 - &#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;&#x3002; &#x5F88;&#x591A;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x9519;&#x8BEF;&#x90FD;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x8BE5;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x4E8B;&#x4EF6;&#x67E5;&#x770B;&#x5668;&#x65E5;&#x5FD7;&#x5305;&#x542B;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x7981;&#x7528;&#x53CB;&#x597D; HTTP &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x4EE5;&#x4FBF;&#x6536;&#x5230;&#x8BE6;&#x7EC6;&#x7684;&#x9519;&#x8BEF;&#x8BF4;&#x660E;&#x3002; &#x6709;&#x5173;&#x5982;&#x4F55;&#x7981;&#x7528;&#x53CB;&#x597D; HTTP &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x4EE5;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;294807 &#x5982;&#x4F55;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7981;&#x7528; Internet Explorer 5 &#x7684;&#x201C;&#x663E;&#x793A;&#x53CB;&#x597D; HTTP &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x201D;&#x529F;&#x80FD; 500.12 - &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6B63;&#x5728;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x3002; &#x8FD9;&#x8868;&#x793A;&#x60A8;&#x5728; IIS &#x91CD;&#x65B0;&#x542F;&#x52A8;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x8BD5;&#x56FE;&#x52A0;&#x8F7D; ASP &#x9875;&#x3002;&#x5237;&#x65B0;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x6B64;&#x4FE1;&#x606F;&#x5373;&#x4F1A;&#x6D88;&#x5931;&#x3002;&#x5982;&#x679C;&#x5237;&#x65B0;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x6B64;&#x4FE1;&#x606F;&#x518D;&#x6B21;&#x51FA;&#x73B0;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x9632;&#x75C5;&#x6BD2;&#x8F6F;&#x4EF6;&#x6B63;&#x5728;&#x626B;&#x63CF; Global.asa &#x6587;&#x4EF6;&#x3002; &#x6709;&#x5173;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x4EE5;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;248013 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;HTTP Error 500-12 Application Restarting&#xFF08;HTTP &#x9519;&#x8BEF; 500-12 &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6B63;&#x5728;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#xFF09; 500-100.ASP - ASP &#x9519;&#x8BEF;&#x3002; &#x5982;&#x679C;&#x8BD5;&#x56FE;&#x52A0;&#x8F7D;&#x7684; ASP &#x9875;&#x4E2D;&#x542B;&#x6709;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#xFF0C;&#x5C06;&#x51FA;&#x73B0;&#x6B64;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x82E5;&#x8981;&#x83B7;&#x5F97;&#x66F4;&#x786E;&#x5207;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x7981;&#x7528;&#x53CB;&#x597D; HTTP &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EA;&#x4F1A;&#x5728;&#x9ED8;&#x8BA4; Web &#x7AD9;&#x70B9;&#x4E0A;&#x542F;&#x7528;&#x6B64;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x6709;&#x5173;&#x5982;&#x4F55;&#x5728;&#x975E;&#x9ED8;&#x8BA4;&#x7684; Web &#x7AD9;&#x70B9;&#x4E0A;&#x770B;&#x5230;&#x6B64;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x5355;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x53F7;&#xFF0C;&#x4EE5;&#x67E5;&#x770B; Microsoft &#x77E5;&#x8BC6;&#x5E93;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#xFF1A;261200 &#x663E;&#x793A; HTTP 500 &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x4E0D;&#x663E;&#x793A; 500-100.asp &#x7684; ASP &#x9519;&#x8BEF;&#x4FE1;&#x606F; 502 - &#x7F51;&#x5173;&#x9519;&#x8BEF;&#x3002; &#x5982;&#x679C;&#x8BD5;&#x56FE;&#x8FD0;&#x884C;&#x7684; CGI &#x811A;&#x672C;&#x4E0D;&#x8FD4;&#x56DE;&#x6709;&#x6548;&#x7684; HTTP &#x6807;&#x5934;&#x96C6;&#xFF0C;&#x5C06;&#x51FA;&#x73B0;&#x6B64;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;FTP1xx - &#x80AF;&#x5B9A;&#x7684;&#x521D;&#x6B65;&#x7B54;&#x590D;&#x8FD9;&#x4E9B;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x6307;&#x793A;&#x4E00;&#x9879;&#x64CD;&#x4F5C;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5F00;&#x59CB;&#xFF0C;&#x4F46;&#x5BA2;&#x6237;&#x7AEF;&#x5E0C;&#x671B;&#x5728;&#x7EE7;&#x7EED;&#x64CD;&#x4F5C;&#x65B0;&#x547D;&#x4EE4;&#x524D;&#x5F97;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x7B54;&#x590D;&#x3002; 110 &#x91CD;&#x65B0;&#x542F;&#x52A8;&#x6807;&#x8BB0;&#x7B54;&#x590D;&#x3002; 120 &#x670D;&#x52A1;&#x5DF2;&#x5C31;&#x7EEA;&#xFF0C;&#x5728; nnn &#x5206;&#x949F;&#x540E;&#x5F00;&#x59CB;&#x3002; 125 &#x6570;&#x636E;&#x8FDE;&#x63A5;&#x5DF2;&#x6253;&#x5F00;&#xFF0C;&#x6B63;&#x5728;&#x5F00;&#x59CB;&#x4F20;&#x8F93;&#x3002; 150 &#x6587;&#x4EF6;&#x72B6;&#x6001;&#x6B63;&#x5E38;&#xFF0C;&#x51C6;&#x5907;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x3002;2xx - &#x80AF;&#x5B9A;&#x7684;&#x5B8C;&#x6210;&#x7B54;&#x590D;&#x4E00;&#x9879;&#x64CD;&#x4F5C;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5B8C;&#x6210;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x65B0;&#x547D;&#x4EE4;&#x3002; 200 &#x547D;&#x4EE4;&#x786E;&#x5B9A;&#x3002; 202 &#x672A;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x7AD9;&#x70B9;&#x4E0A;&#x7684;&#x547D;&#x4EE4;&#x8FC7;&#x591A;&#x3002; 211 &#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#xFF0C;&#x6216;&#x7CFB;&#x7EDF;&#x5E2E;&#x52A9;&#x7B54;&#x590D;&#x3002; 212 &#x76EE;&#x5F55;&#x72B6;&#x6001;&#x3002; 213 &#x6587;&#x4EF6;&#x72B6;&#x6001;&#x3002; 214 &#x5E2E;&#x52A9;&#x6D88;&#x606F;&#x3002; 215 NAME &#x7CFB;&#x7EDF;&#x7C7B;&#x578B;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;NAME &#x662F; Assigned Numbers &#x6587;&#x6863;&#x4E2D;&#x6240;&#x5217;&#x7684;&#x6B63;&#x5F0F;&#x7CFB;&#x7EDF;&#x540D;&#x79F0;&#x3002; 220 &#x670D;&#x52A1;&#x5C31;&#x7EEA;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x65B0;&#x7528;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x3002; 221 &#x670D;&#x52A1;&#x5173;&#x95ED;&#x63A7;&#x5236;&#x8FDE;&#x63A5;&#x3002;&#x5982;&#x679C;&#x9002;&#x5F53;&#xFF0C;&#x8BF7;&#x6CE8;&#x9500;&#x3002; 225 &#x6570;&#x636E;&#x8FDE;&#x63A5;&#x6253;&#x5F00;&#xFF0C;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x4E2D;&#x7684;&#x4F20;&#x8F93;&#x3002; 226 &#x5173;&#x95ED;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x3002;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x5DF2;&#x6210;&#x529F;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#x6216;&#x653E;&#x5F03;&#x6587;&#x4EF6;&#xFF09;&#x3002; 227 &#x8FDB;&#x5165;&#x88AB;&#x52A8;&#x6A21;&#x5F0F; (h1,h2,h3,h4,p1,p2)&#x3002; 230 &#x7528;&#x6237;&#x5DF2;&#x767B;&#x5F55;&#xFF0C;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;&#x3002; 250 &#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x6B63;&#x786E;&#xFF0C;&#x5DF2;&#x5B8C;&#x6210;&#x3002; 257 &#x5DF2;&#x521B;&#x5EFA;&#x201C;PATHNAME&#x201D;&#x3002;3xx - &#x80AF;&#x5B9A;&#x7684;&#x4E2D;&#x95F4;&#x7B54;&#x590D;&#x8BE5;&#x547D;&#x4EE4;&#x5DF2;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x670D;&#x52A1;&#x5668;&#x9700;&#x8981;&#x66F4;&#x591A;&#x6765;&#x81EA;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4FE1;&#x606F;&#x4EE5;&#x5B8C;&#x6210;&#x5BF9;&#x8BF7;&#x6C42;&#x7684;&#x5904;&#x7406;&#x3002; 331 &#x7528;&#x6237;&#x540D;&#x6B63;&#x786E;&#xFF0C;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x3002; 332 &#x9700;&#x8981;&#x767B;&#x5F55;&#x5E10;&#x6237;&#x3002; 350 &#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x4FE1;&#x606F;&#x3002;4xx - &#x77AC;&#x6001;&#x5426;&#x5B9A;&#x7684;&#x5B8C;&#x6210;&#x7B54;&#x590D;&#x8BE5;&#x547D;&#x4EE4;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x9519;&#x8BEF;&#x662F;&#x6682;&#x65F6;&#x7684;&#x3002;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x91CD;&#x8BD5;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6267;&#x884C;&#x6210;&#x529F;&#x3002; 421 &#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x6B63;&#x5728;&#x5173;&#x95ED;&#x63A7;&#x5236;&#x8FDE;&#x63A5;&#x3002;&#x5982;&#x679C;&#x670D;&#x52A1;&#x786E;&#x5B9A;&#x5B83;&#x5FC5;&#x987B;&#x5173;&#x95ED;&#xFF0C;&#x5C06;&#x5411;&#x4EFB;&#x4F55;&#x547D;&#x4EE4;&#x53D1;&#x9001;&#x8FD9;&#x4E00;&#x5E94;&#x7B54;&#x3002; 425 &#x65E0;&#x6CD5;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x3002; 426 Connection closed; transfer aborted. 450 &#x672A;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x3002;&#x6587;&#x4EF6;&#x4E0D;&#x53EF;&#x7528;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x6587;&#x4EF6;&#x7E41;&#x5FD9;&#xFF09;&#x3002; 451 &#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x5F02;&#x5E38;&#x7EC8;&#x6B62;&#xFF1A;&#x6B63;&#x5728;&#x5904;&#x7406;&#x672C;&#x5730;&#x9519;&#x8BEF;&#x3002; 452 &#x672A;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x7CFB;&#x7EDF;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x4E0D;&#x591F;&#x3002;5xx - &#x6C38;&#x4E45;&#x6027;&#x5426;&#x5B9A;&#x7684;&#x5B8C;&#x6210;&#x7B54;&#x590D;&#x8BE5;&#x547D;&#x4EE4;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x9519;&#x8BEF;&#x662F;&#x6C38;&#x4E45;&#x6027;&#x7684;&#x3002;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x91CD;&#x8BD5;&#x547D;&#x4EE4;&#xFF0C;&#x5C06;&#x518D;&#x6B21;&#x51FA;&#x73B0;&#x540C;&#x6837;&#x7684;&#x9519;&#x8BEF;&#x3002; 500 &#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#xFF0C;&#x547D;&#x4EE4;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x3002;&#x8FD9;&#x53EF;&#x80FD;&#x5305;&#x62EC;&#x8BF8;&#x5982;&#x547D;&#x4EE4;&#x884C;&#x592A;&#x957F;&#x4E4B;&#x7C7B;&#x7684;&#x9519;&#x8BEF;&#x3002; 501 &#x5728;&#x53C2;&#x6570;&#x4E2D;&#x6709;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3002; 502 &#x672A;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x3002; 503 &#x9519;&#x8BEF;&#x7684;&#x547D;&#x4EE4;&#x5E8F;&#x5217;&#x3002; 504 &#x672A;&#x6267;&#x884C;&#x8BE5;&#x53C2;&#x6570;&#x7684;&#x547D;&#x4EE4;&#x3002; 530 &#x672A;&#x767B;&#x5F55;&#x3002; 532 &#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5E10;&#x6237;&#x3002; 550 &#x672A;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6587;&#x4EF6;&#x4E0D;&#x53EF;&#x7528;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x672A;&#x627E;&#x5230;&#x6587;&#x4EF6;&#xFF0C;&#x6CA1;&#x6709;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#xFF09;&#x3002; 551 &#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x5F02;&#x5E38;&#x7EC8;&#x6B62;&#xFF1A;&#x672A;&#x77E5;&#x7684;&#x9875;&#x9762;&#x7C7B;&#x578B;&#x3002; 552 &#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x5F02;&#x5E38;&#x7EC8;&#x6B62;&#xFF1A;&#x8D85;&#x51FA;&#x5B58;&#x50A8;&#x5206;&#x914D;&#xFF08;&#x5BF9;&#x4E8E;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x6216;&#x6570;&#x636E;&#x96C6;&#xFF09;&#x3002; 553 &#x672A;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x4E0D;&#x5141;&#x8BB8;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x5E38;&#x89C1;&#x7684; FTP &#x72B6;&#x6001;&#x4EE3;&#x7801;&#x53CA;&#x5176;&#x539F;&#x56E0; 150 - FTP &#x4F7F;&#x7528;&#x4E24;&#x4E2A;&#x7AEF;&#x53E3;&#xFF1A;21 &#x7528;&#x4E8E;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#xFF0C;20 &#x7528;&#x4E8E;&#x53D1;&#x9001;&#x6570;&#x636E;&#x3002;&#x72B6;&#x6001;&#x4EE3;&#x7801; 150 &#x8868;&#x793A;&#x670D;&#x52A1;&#x5668;&#x51C6;&#x5907;&#x5728;&#x7AEF;&#x53E3; 20 &#x4E0A;&#x6253;&#x5F00;&#x65B0;&#x8FDE;&#x63A5;&#xFF0C;&#x53D1;&#x9001;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x3002; 226 - &#x547D;&#x4EE4;&#x5728;&#x7AEF;&#x53E3; 20 &#x4E0A;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x4EE5;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#x3002;&#x8BE5;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x5B8C;&#x6210;&#xFF0C;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x5DF2;&#x5173;&#x95ED;&#x3002; 230 - &#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x6B63;&#x786E;&#x7684;&#x5BC6;&#x7801;&#x540E;&#xFF0C;&#x663E;&#x793A;&#x8BE5;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x3002;&#x5B83;&#x8868;&#x793A;&#x7528;&#x6237;&#x5DF2;&#x6210;&#x529F;&#x767B;&#x5F55;&#x3002; 331 - &#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x7528;&#x6237;&#x540D;&#x540E;&#xFF0C;&#x663E;&#x793A;&#x8BE5;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x3002;&#x65E0;&#x8BBA;&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x7528;&#x6237;&#x540D;&#x662F;&#x5426;&#x4E3A;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6709;&#x6548;&#x5E10;&#x6237;&#xFF0C;&#x90FD;&#x5C06;&#x663E;&#x793A;&#x8BE5;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x3002; 426 - &#x547D;&#x4EE4;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x4EE5;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x8BE5;&#x64CD;&#x4F5C;&#x5DF2;&#x88AB;&#x53D6;&#x6D88;&#xFF0C;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x5DF2;&#x5173;&#x95ED;&#x3002; 530 - &#x8BE5;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x8868;&#x793A;&#x7528;&#x6237;&#x65E0;&#x6CD5;&#x767B;&#x5F55;&#xFF0C;&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x7EC4;&#x5408;&#x65E0;&#x6548;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x67D0;&#x4E2A;&#x7528;&#x6237;&#x5E10;&#x6237;&#x767B;&#x5F55;&#xFF0C;&#x53EF;&#x80FD;&#x952E;&#x5165;&#x9519;&#x8BEF;&#x7684;&#x7528;&#x6237;&#x540D;&#x6216;&#x5BC6;&#x7801;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x9009;&#x62E9;&#x53EA;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x8BBF;&#x95EE;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x533F;&#x540D;&#x5E10;&#x6237;&#x767B;&#x5F55;&#xFF0C;IIS &#x7684;&#x914D;&#x7F6E;&#x53EF;&#x80FD;&#x62D2;&#x7EDD;&#x533F;&#x540D;&#x8BBF;&#x95EE;&#x3002;550 - &#x547D;&#x4EE4;&#x672A;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x4E3A;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4E0D;&#x53EF;&#x7528;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x8981; GET &#x7684;&#x6587;&#x4EF6;&#x5E76;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x6216;&#x8BD5;&#x56FE;&#x5C06;&#x6587;&#x4EF6; PUT &#x5230;&#x60A8;&#x6CA1;&#x6709;&#x5199;&#x5165;&#x6743;&#x9650;&#x7684;&#x76EE;&#x5F55;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552HTTP&#x72B6;&#x6001;&#x4EE3;&#x7801;&#xFF08;&#x5404;&#x79CD;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x96C6;&#x5408;&#xFF09; 100 Continue &#x521D;&#x59CB;&#x7684;&#x8BF7;&#x6C42;&#x5DF2;&#x7ECF;&#x63A5;&#x53D7;&#xFF0C;&#x5BA2;&#x6237;&#x5E94;&#x5F53;&#x7EE7;&#x7EED;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 101 Switching Protocols &#x670D;&#x52A1;&#x5668;&#x5C06;&#x9075;&#x4ECE;&#x5BA2;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x8F6C;&#x6362;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x534F;&#x8BAE;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 200 OK &#x4E00;&#x5207;&#x6B63;&#x5E38;&#xFF0C;&#x5BF9;GET&#x548C;POST&#x8BF7;&#x6C42;&#x7684;&#x5E94;&#x7B54;&#x6587;&#x6863;&#x8DDF;&#x5728;&#x540E;&#x9762;&#x3002; 201 Created &#x670D;&#x52A1;&#x5668;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x4E86;&#x6587;&#x6863;&#xFF0C;Location&#x5934;&#x7ED9;&#x51FA;&#x4E86;&#x5B83;&#x7684;URL&#x3002; 202 Accepted &#x5DF2;&#x7ECF;&#x63A5;&#x53D7;&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x5904;&#x7406;&#x5C1A;&#x672A;&#x5B8C;&#x6210;&#x3002; 203 Non-Authoritative Information &#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x6B63;&#x5E38;&#x5730;&#x8FD4;&#x56DE;&#xFF0C;&#x4F46;&#x4E00;&#x4E9B;&#x5E94;&#x7B54;&#x5934;&#x53EF;&#x80FD;&#x4E0D;&#x6B63;&#x786E;&#xFF0C;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x6587;&#x6863;&#x7684;&#x62F7;&#x8D1D;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 204 No Content &#x6CA1;&#x6709;&#x65B0;&#x6587;&#x6863;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5E94;&#x8BE5;&#x7EE7;&#x7EED;&#x663E;&#x793A;&#x539F;&#x6765;&#x7684;&#x6587;&#x6863;&#x3002;&#x5982;&#x679C;&#x7528;&#x6237;&#x5B9A;&#x671F;&#x5730;&#x5237;&#x65B0;&#x9875;&#x9762;&#xFF0C;&#x800C;Servlet&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x7528;&#x6237;&#x6587;&#x6863;&#x8DB3;&#x591F;&#x65B0;&#xFF0C;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x662F;&#x5F88;&#x6709;&#x7528;&#x7684;&#x3002; 205 Reset Content &#x6CA1;&#x6709;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4F46;&#x6D4F;&#x89C8;&#x5668;&#x5E94;&#x8BE5;&#x91CD;&#x7F6E;&#x5B83;&#x6240;&#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x7528;&#x6765;&#x5F3A;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x6E05;&#x9664;&#x8868;&#x5355;&#x8F93;&#x5165;&#x5185;&#x5BB9;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 206 Partial Content &#x5BA2;&#x6237;&#x53D1;&#x9001;&#x4E86;&#x4E00;&#x4E2A;&#x5E26;&#x6709;Range&#x5934;&#x7684;GET&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5B8C;&#x6210;&#x4E86;&#x5B83;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 300 Multiple Choices &#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x6863;&#x53EF;&#x4EE5;&#x5728;&#x591A;&#x4E2A;&#x4F4D;&#x7F6E;&#x627E;&#x5230;&#xFF0C;&#x8FD9;&#x4E9B;&#x4F4D;&#x7F6E;&#x5DF2;&#x7ECF;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x6587;&#x6863;&#x5185;&#x5217;&#x51FA;&#x3002;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x8981;&#x63D0;&#x51FA;&#x4F18;&#x5148;&#x9009;&#x62E9;&#xFF0C;&#x5219;&#x5E94;&#x8BE5;&#x5728;Location&#x5E94;&#x7B54;&#x5934;&#x6307;&#x660E;&#x3002; 301 Moved Permanently &#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x6863;&#x5728;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#xFF0C;&#x65B0;&#x7684;URL&#x5728;Location&#x5934;&#x4E2D;&#x7ED9;&#x51FA;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5E94;&#x8BE5;&#x81EA;&#x52A8;&#x5730;&#x8BBF;&#x95EE;&#x65B0;&#x7684;URL&#x3002; 302 Found &#x7C7B;&#x4F3C;&#x4E8E;301&#xFF0C;&#x4F46;&#x65B0;&#x7684;URL&#x5E94;&#x8BE5;&#x88AB;&#x89C6;&#x4E3A;&#x4E34;&#x65F6;&#x6027;&#x7684;&#x66FF;&#x4EE3;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6C38;&#x4E45;&#x6027;&#x7684;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x5728;HTTP1.0&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x662F;&#x201C;Moved Temporatily&#x201D;&#x3002; &#x51FA;&#x73B0;&#x8BE5;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x8BBF;&#x95EE;&#x65B0;&#x7684;URL&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x6709;&#x7528;&#x7684;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x3002; &#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x6709;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x548C;301&#x66FF;&#x6362;&#x4F7F;&#x7528;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x6D4F;&#x89C8;&#x5668;&#x9519;&#x8BEF;&#x5730;&#x8BF7;&#x6C42; http://host/~user &#xFF08;&#x7F3A;&#x5C11;&#x4E86;&#x540E;&#x9762;&#x7684;&#x659C;&#x6760;&#xFF09;&#xFF0C;&#x6709;&#x7684;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;301&#xFF0C;&#x6709;&#x7684;&#x5219;&#x8FD4;&#x56DE;302&#x3002; &#x4E25;&#x683C;&#x5730;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x5047;&#x5B9A;&#x53EA;&#x6709;&#x5F53;&#x539F;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x662F;GET&#x65F6;&#x6D4F;&#x89C8;&#x5668;&#x624D;&#x4F1A;&#x81EA;&#x52A8;&#x91CD;&#x5B9A;&#x5411;&#x3002;&#x8BF7;&#x53C2;&#x89C1;307&#x3002; 303 See Other &#x7C7B;&#x4F3C;&#x4E8E;301/302&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x5982;&#x679C;&#x539F;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x662F;POST&#xFF0C;Location&#x5934;&#x6307;&#x5B9A;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x76EE;&#x6807;&#x6587;&#x6863;&#x5E94;&#x8BE5;&#x901A;&#x8FC7;GET&#x63D0;&#x53D6;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 304 Not Modified &#x5BA2;&#x6237;&#x7AEF;&#x6709;&#x7F13;&#x51B2;&#x7684;&#x6587;&#x6863;&#x5E76;&#x53D1;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x6027;&#x7684;&#x8BF7;&#x6C42;&#xFF08;&#x4E00;&#x822C;&#x662F;&#x63D0;&#x4F9B;If-Modified-Since&#x5934;&#x8868;&#x793A;&#x5BA2;&#x6237;&#x53EA;&#x60F3;&#x6BD4;&#x6307;&#x5B9A;&#x65E5;&#x671F;&#x66F4;&#x65B0;&#x7684;&#x6587;&#x6863;&#xFF09;&#x3002;&#x670D;&#x52A1;&#x5668;&#x544A;&#x8BC9;&#x5BA2;&#x6237;&#xFF0C;&#x539F;&#x6765;&#x7F13;&#x51B2;&#x7684;&#x6587;&#x6863;&#x8FD8;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x3002; 305 Use Proxy &#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x6863;&#x5E94;&#x8BE5;&#x901A;&#x8FC7;Location&#x5934;&#x6240;&#x6307;&#x660E;&#x7684;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x63D0;&#x53D6;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 307 Temporary Redirect &#x548C;302&#xFF08;Found&#xFF09;&#x76F8;&#x540C;&#x3002;&#x8BB8;&#x591A;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x9519;&#x8BEF;&#x5730;&#x54CD;&#x5E94;302&#x5E94;&#x7B54;&#x8FDB;&#x884C;&#x91CD;&#x5B9A;&#x5411;&#xFF0C;&#x5373;&#x4F7F;&#x539F;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x662F;POST&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x80FD;&#x5728;POST&#x8BF7;&#x6C42;&#x7684;&#x5E94;&#x7B54;&#x662F; 303&#x65F6;&#x624D;&#x80FD;&#x91CD;&#x5B9A;&#x5411;&#x3002;&#x7531;&#x4E8E;&#x8FD9;&#x4E2A;&#x539F;&#x56E0;&#xFF0C;HTTP 1.1&#x65B0;&#x589E;&#x4E86;307&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x52A0;&#x6E05;&#x9664;&#x5730;&#x533A;&#x5206;&#x51E0;&#x4E2A;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#xFF1A;&#x5F53;&#x51FA;&#x73B0;303&#x5E94;&#x7B54;&#x65F6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x4EE5;&#x8DDF;&#x968F;&#x91CD;&#x5B9A;&#x5411;&#x7684;GET&#x548C;POST&#x8BF7;&#x6C42;&#xFF1B;&#x5982;&#x679C;&#x662F;307&#x5E94;&#x7B54;&#xFF0C;&#x5219;&#x6D4F;&#x89C8;&#x5668;&#x53EA;&#x80FD;&#x8DDF;&#x968F;&#x5BF9;GET&#x8BF7;&#x6C42;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 400 Bad Request &#x8BF7;&#x6C42;&#x51FA;&#x73B0;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3002; 401 Unauthorized &#x5BA2;&#x6237;&#x8BD5;&#x56FE;&#x672A;&#x7ECF;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x53D7;&#x5BC6;&#x7801;&#x4FDD;&#x62A4;&#x7684;&#x9875;&#x9762;&#x3002;&#x5E94;&#x7B54;&#x4E2D;&#x4F1A;&#x5305;&#x542B;&#x4E00;&#x4E2A;WWW-Authenticate&#x5934;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x636E;&#x6B64;&#x663E;&#x793A;&#x7528;&#x6237;&#x540D;&#x5B57;/&#x5BC6;&#x7801;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x586B;&#x5199;&#x5408;&#x9002;&#x7684;Authorization&#x5934;&#x540E;&#x518D;&#x6B21;&#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#x3002; 403 Forbidden &#x8D44;&#x6E90;&#x4E0D;&#x53EF;&#x7528;&#x3002;&#x670D;&#x52A1;&#x5668;&#x7406;&#x89E3;&#x5BA2;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x62D2;&#x7EDD;&#x5904;&#x7406;&#x5B83;&#x3002;&#x901A;&#x5E38;&#x7531;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;&#x8BBE;&#x7F6E;&#x5BFC;&#x81F4;&#x3002; 404 Not Found &#x65E0;&#x6CD5;&#x627E;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x7684;&#x8D44;&#x6E90;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5E38;&#x7528;&#x7684;&#x5E94;&#x7B54;&#x3002; 405 Method Not Allowed &#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#xFF08;GET&#x3001;POST&#x3001;HEAD&#x3001;DELETE&#x3001;PUT&#x3001;TRACE&#x7B49;&#xFF09;&#x5BF9;&#x6307;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#x4E0D;&#x9002;&#x7528;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 406 Not Acceptable &#x6307;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#x5DF2;&#x7ECF;&#x627E;&#x5230;&#xFF0C;&#x4F46;&#x5B83;&#x7684;MIME&#x7C7B;&#x578B;&#x548C;&#x5BA2;&#x6237;&#x5728;Accpet&#x5934;&#x4E2D;&#x6240;&#x6307;&#x5B9A;&#x7684;&#x4E0D;&#x517C;&#x5BB9;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 407 Proxy Authentication Required &#x7C7B;&#x4F3C;&#x4E8E;401&#xFF0C;&#x8868;&#x793A;&#x5BA2;&#x6237;&#x5FC5;&#x987B;&#x5148;&#x7ECF;&#x8FC7;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6388;&#x6743;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 408 Request Timeout &#x5728;&#x670D;&#x52A1;&#x5668;&#x8BB8;&#x53EF;&#x7684;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x5185;&#xFF0C;&#x5BA2;&#x6237;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x53D1;&#x51FA;&#x4EFB;&#x4F55;&#x8BF7;&#x6C42;&#x3002;&#x5BA2;&#x6237;&#x53EF;&#x4EE5;&#x5728;&#x4EE5;&#x540E;&#x91CD;&#x590D;&#x540C;&#x4E00;&#x8BF7;&#x6C42;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 409 Conflict &#x901A;&#x5E38;&#x548C;PUT&#x8BF7;&#x6C42;&#x6709;&#x5173;&#x3002;&#x7531;&#x4E8E;&#x8BF7;&#x6C42;&#x548C;&#x8D44;&#x6E90;&#x7684;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x76F8;&#x51B2;&#x7A81;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x6C42;&#x4E0D;&#x80FD;&#x6210;&#x529F;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 410 Gone &#x6240;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x4E0D;&#x518D;&#x53EF;&#x7528;&#xFF0C;&#x800C;&#x4E14;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x77E5;&#x9053;&#x5E94;&#x8BE5;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x54EA;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x3002;&#x5B83;&#x548C;404&#x7684;&#x4E0D;&#x540C;&#x5728;&#x4E8E;&#xFF0C;&#x8FD4;&#x56DE;407&#x8868;&#x793A;&#x6587;&#x6863;&#x6C38;&#x4E45;&#x5730;&#x79BB;&#x5F00;&#x4E86;&#x6307;&#x5B9A;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x800C;404&#x8868;&#x793A;&#x7531;&#x4E8E;&#x672A;&#x77E5;&#x7684;&#x539F;&#x56E0;&#x6587;&#x6863;&#x4E0D;&#x53EF;&#x7528;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 411 Length Required &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#xFF0C;&#x9664;&#x975E;&#x5BA2;&#x6237;&#x53D1;&#x9001;&#x4E00;&#x4E2A;Content-Length&#x5934;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 412 Precondition Failed &#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x4E00;&#x4E9B;&#x524D;&#x63D0;&#x6761;&#x4EF6;&#x5931;&#x8D25;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 413 Request Entity Too Large &#x76EE;&#x6807;&#x6587;&#x6863;&#x7684;&#x5927;&#x5C0F;&#x8D85;&#x8FC7;&#x670D;&#x52A1;&#x5668;&#x5F53;&#x524D;&#x613F;&#x610F;&#x5904;&#x7406;&#x7684;&#x5927;&#x5C0F;&#x3002;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x8BA4;&#x4E3A;&#x81EA;&#x5DF1;&#x80FD;&#x591F;&#x7A0D;&#x540E;&#x518D;&#x5904;&#x7406;&#x8BE5;&#x8BF7;&#x6C42;&#xFF0C;&#x5219;&#x5E94;&#x8BE5;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;Retry-After&#x5934;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 414 Request URI Too Long URI&#x592A;&#x957F;&#xFF08;HTTP 1.1&#x65B0;&#xFF09;&#x3002; 416 Requested Range Not Satisfiable &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x5BA2;&#x6237;&#x5728;&#x8BF7;&#x6C42;&#x4E2D;&#x6307;&#x5B9A;&#x7684;Range&#x5934;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 500 Internal Server Error &#x670D;&#x52A1;&#x5668;&#x9047;&#x5230;&#x4E86;&#x610F;&#x6599;&#x4E0D;&#x5230;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4E0D;&#x80FD;&#x5B8C;&#x6210;&#x5BA2;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x3002; 501 Not Implemented &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x652F;&#x6301;&#x5B9E;&#x73B0;&#x8BF7;&#x6C42;&#x6240;&#x9700;&#x8981;&#x7684;&#x529F;&#x80FD;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5BA2;&#x6237;&#x53D1;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x652F;&#x6301;&#x7684;PUT&#x8BF7;&#x6C42;&#x3002; 502 Bad Gateway &#x670D;&#x52A1;&#x5668;&#x4F5C;&#x4E3A;&#x7F51;&#x5173;&#x6216;&#x8005;&#x4EE3;&#x7406;&#x65F6;&#xFF0C;&#x4E3A;&#x4E86;&#x5B8C;&#x6210;&#x8BF7;&#x6C42;&#x8BBF;&#x95EE;&#x4E0B;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F46;&#x8BE5;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x4E86;&#x975E;&#x6CD5;&#x7684;&#x5E94;&#x7B54;&#x3002; 503 Service Unavailable &#x670D;&#x52A1;&#x5668;&#x7531;&#x4E8E;&#x7EF4;&#x62A4;&#x6216;&#x8005;&#x8D1F;&#x8F7D;&#x8FC7;&#x91CD;&#x672A;&#x80FD;&#x5E94;&#x7B54;&#x3002;&#x4F8B;&#x5982;&#xFF0C;Servlet&#x53EF;&#x80FD;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x5DF2;&#x6EE1;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FD4;&#x56DE;503&#x3002;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;503&#x65F6;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;Retry-After&#x5934;&#x3002; 504 Gateway Timeout &#x7531;&#x4F5C;&#x4E3A;&#x4EE3;&#x7406;&#x6216;&#x7F51;&#x5173;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x80FD;&#x53CA;&#x65F6;&#x5730;&#x4ECE;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x83B7;&#x5F97;&#x5E94;&#x7B54;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; 505 HTTP Version Not Supported &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x652F;&#x6301;&#x8BF7;&#x6C42;&#x4E2D;&#x6240;&#x6307;&#x660E;&#x7684;HTTP&#x7248;&#x672C;&#x3002;&#xFF08;HTTP 1.1&#x65B0;&#xFF09; HTTP 400 - &#x8BF7;&#x6C42;&#x65E0;&#x6548; HTTP 401.1 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x767B;&#x5F55;&#x5931;&#x8D25; HTTP 401.2 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x95EE;&#x9898;&#x5BFC;&#x81F4;&#x767B;&#x5F55;&#x5931;&#x8D25; HTTP 401.3 - ACL &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#x8D44;&#x6E90; HTTP 401.4 - &#x672A;&#x6388;&#x6743;&#xFF1A;&#x6388;&#x6743;&#x88AB;&#x7B5B;&#x9009;&#x5668;&#x62D2;&#x7EDD; HTTP 401.5 - &#x672A;&#x6388;&#x6743;&#xFF1A;ISAPI &#x6216; CGI &#x6388;&#x6743;&#x5931;&#x8D25; HTTP 403 - &#x5BF9; Internet &#x670D;&#x52A1;&#x7BA1;&#x7406;&#x5668; (HTML) &#x7684;&#x8BBF;&#x95EE;&#x4EC5;&#x9650;&#x4E8E; Localhost HTTP 403.1 &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x53EF;&#x6267;&#x884C;&#x8BBF;&#x95EE; HTTP 403.2 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x8BFB;&#x8BBF;&#x95EE; HTTP 403.3 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x5199;&#x8BBF;&#x95EE; HTTP 403.4 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42; SSL HTTP 403.5 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42; SSL 128 HTTP 403.6 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;IP &#x5730;&#x5740;&#x88AB;&#x62D2;&#x7EDD; HTTP 403.7 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8981;&#x6C42;&#x5BA2;&#x6237;&#x8BC1;&#x4E66; HTTP 403.8 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x7981;&#x6B62;&#x7AD9;&#x70B9;&#x8BBF;&#x95EE; HTTP 403.9 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x8FDE;&#x63A5;&#x7684;&#x7528;&#x6237;&#x8FC7;&#x591A; HTTP 403.10 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x914D;&#x7F6E;&#x65E0;&#x6548; HTTP 403.11 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BC6;&#x7801;&#x66F4;&#x6539; HTTP 403.12 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x6620;&#x5C04;&#x5668;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE; HTTP 403.13 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x5DF2;&#x88AB;&#x540A;&#x9500; HTTP 403.15 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BBF;&#x95EE;&#x8BB8;&#x53EF;&#x8FC7;&#x591A; HTTP 403.16 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x4E0D;&#x53EF;&#x4FE1;&#x6216;&#x8005;&#x65E0;&#x6548; HTTP 403.17 - &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF1A;&#x5BA2;&#x6237;&#x8BC1;&#x4E66;&#x5DF2;&#x7ECF;&#x5230;&#x671F;&#x6216;&#x8005;&#x5C1A;&#x672A;&#x751F;&#x6548; HTTP 404.1 - &#x65E0;&#x6CD5;&#x627E;&#x5230; Web &#x7AD9;&#x70B9; HTTP 404 - &#x65E0;&#x6CD5;&#x627E;&#x5230;&#x6587;&#x4EF6; HTTP 405 - &#x8D44;&#x6E90;&#x88AB;&#x7981;&#x6B62; HTTP 406 - &#x65E0;&#x6CD5;&#x63A5;&#x53D7; HTTP 407 - &#x8981;&#x6C42;&#x4EE3;&#x7406;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1; HTTP 410 - &#x6C38;&#x8FDC;&#x4E0D;&#x53EF;&#x7528; HTTP 412 - &#x5148;&#x51B3;&#x6761;&#x4EF6;&#x5931;&#x8D25; HTTP 414 - &#x8BF7;&#x6C42; - URI &#x592A;&#x957F; HTTP 500 - &#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF; HTTP 500.100 - &#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF; - ASP &#x9519;&#x8BEF; HTTP 500-11 &#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED; HTTP 500-12 &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x91CD;&#x65B0;&#x542F;&#x52A8; HTTP 500-13 - &#x670D;&#x52A1;&#x5668;&#x592A;&#x5FD9; HTTP 500-14 - &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65E0;&#x6548; HTTP 500-15 - &#x4E0D;&#x5141;&#x8BB8;&#x8BF7;&#x6C42; global.asa HTTP 501 - &#x672A;&#x5B9E;&#x73B0; HTTP 502 - &#x7F51;&#x5173;&#x9519;&#x8BEF; &#x9519;&#x8BEF; 602 The port is already open &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x7F51;&#x7EDC;&#x7531;&#x4E8E;&#x8BBE;&#x5907;&#x5B89;&#x88C5;&#x9519;&#x8BEF;&#x6216;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;&#x8FDE;&#x63A5; &#x539F;&#x56E0;&#xFF1A;RasPPPoE&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x548C;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5; &#x89E3;&#x51B3;&#xFF1A;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#x4EFB;&#x4F55;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x3002; &#x9519;&#x8BEF; 605 Cannot set port information &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x7F51;&#x7EDC;&#x7531;&#x4E8E;&#x8BBE;&#x5907;&#x5B89;&#x88C5;&#x9519;&#x8BEF;&#x4E0D;&#x80FD;&#x8BBE;&#x5B9A;&#x4F7F;&#x7528;&#x7AEF;&#x53E3; &#x539F;&#x56E0;&#xFF1A;RasPPPoE&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x548C;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5; &#x89E3;&#x51B3;&#xFF1A;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#x4EFB;&#x4F55;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x3002; &#x9519;&#x8BEF; 606 The port is not connected &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x7F51;&#x7EDC;&#x4E0D;&#x80FD;&#x8FDE;&#x63A5;&#x6240;&#x9700;&#x7684;&#x8BBE;&#x5907;&#x7AEF;&#x53E3; &#x539F;&#x56E0;&#xFF1A;RasPPPoE&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x548C;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5;&#xFF0C;&#x8FDE;&#x63A5;&#x7EBF;&#x6545;&#x969C;&#xFF0C;ADSL MODEM&#x6545;&#x969C; &#x89E3;&#x51B3;&#xFF1A;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#x4EFB;&#x4F55;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#xFF0C;&#x68C0;&#x67E5;&#x7F51;&#x7EBF;&#x548C; ADSL MODEM&#x3002; &#x9519;&#x8BEF; 608 The device does not exist &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x7684;&#x8BBE;&#x5907;&#x4E0D;&#x5B58;&#x5728; &#x539F;&#x56E0;&#xFF1A;RasPPPoE&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x548C;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5; &#x89E3;&#x51B3;&#xFF1A;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#x4EFB;&#x4F55;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x3002; &#x9519;&#x8BEF; 609 The device type does not exist &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x7684;&#x8BBE;&#x5907;&#x5176;&#x79CD;&#x7C7B;&#x4E0D;&#x80FD;&#x786E;&#x5B9A; &#x539F;&#x56E0;&#xFF1A;RasPPPoE&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x548C;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5; &#x89E3;&#x51B3;&#xFF1A;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#x4EFB;&#x4F55;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x3002; &#x9519;&#x8BEF; 611 The route is not available/612 The route is not allocated &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x8DEF;&#x7531;&#x4E0D;&#x6B63;&#x786E; &#x539F;&#x56E0;&#xFF1A;RasPPPoE&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x548C;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5;&#xFF0C;ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C; &#x89E3;&#x51B3;&#xFF1A;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#x4EFB;&#x4F55;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x3002; &#x9519;&#x8BEF; 617 The port or device is already disconnecting &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x7684;&#x8BBE;&#x5907;&#x5DF2;&#x7ECF;&#x65AD;&#x5F00; &#x539F;&#x56E0;&#xFF1A;RasPPPoE&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x548C;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5;&#xFF0C;ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#xFF0C;&#x8FDE;&#x63A5;&#x7EBF;&#xFF0C;ADSL MODEM&#x6545;&#x969C; &#x89E3;&#x51B3;&#xFF1A;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#x4EFB;&#x4F55;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#xFF0C; &#xFF0C;&#x68C0;&#x67E5;&#x7F51;&#x7EBF;&#x548C; ADSL MODEM&#x3002; &#x9519;&#x8BEF; 619 &#x95EE;&#x9898;&#xFF1A;&#x4E0E;ISP&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5; &#x539F;&#x56E0;&#xFF1A;ADSL ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#xFF0C;ADSL&#x7535;&#x8BDD;&#x7EBF;&#x6545;&#x969C; &#x89E3;&#x51B3;&#xFF1A;&#x68C0;&#x67E5;ADSL&#x4FE1;&#x53F7;&#x706F;&#x662F;&#x5426;&#x80FD;&#x6B63;&#x786E;&#x540C;&#x6B65;&#x3002; &#x9519;&#x8BEF; 621 Cannot open the phone book file &#x9519;&#x8BEF; 622 Cannot load the phone book file &#x9519;&#x8BEF; 623 Cannot find the phone book entry &#x9519;&#x8BEF; 624 Cannot write the phone book file &#x9519;&#x8BEF; 625 Invalid information found in the phone book &#x95EE;&#x9898;&#xFF1A;Windows NT&#x6216;&#x8005;Windows 2000 Server&#x7F51;&#x7EDC;RAS&#x7F51;&#x7EDC;&#x7EC4;&#x4EF6;&#x6545;&#x969C; &#x539F;&#x56E0;&#xFF1A;&#x5378;&#x8F7D;&#x6240;&#x6709;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;RAS&#x7F51;&#x7EDC;&#x7EC4;&#x4EF6;&#x548C;RasPPPoE&#x3002; &#x9519;&#x8BEF;629&#xFF0C;&#x5DF2;&#x7ECF;&#x4E0E;&#x5BF9;&#x65B9;&#x8BA1;&#x7B97;&#x673A;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x3002; &#x8BF7;&#x53CC;&#x51FB;&#x6B64;&#x8FDE;&#x63A5;&#xFF0C;&#x518D;&#x8BD5;&#x4E00;&#x6B21;&#x3002; &#x5982;&#x679C;&#x51FA;&#x73B0;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x60C5;&#x51B5;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x56E0;&#x4E3A;&#x6709;&#x591A;&#x79CD;&#x60C5;&#x51B5;&#x53EF;&#x4EE5;&#x5BFC;&#x81F4;&quot;&#x9519;&#x8BEF;629&quot;&#xFF0C;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x662F;&#x56E0;&#x4E3A;&#x540C;&#x65F6;&#x62E8;&#x5165;&#x7684;&#x4EBA;&#x6570;&#x8FC7;&#x591A;&#x9020;&#x6210;&#x7684;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5728;&#x60A8;&#x7684;&#x62E8;&#x53F7;&#x8FDE;&#x63A5;&#x8BBE;&#x7F6E;&#x4E2D;&#x5E94;&#x8BE5;&#x5168;&#x90E8;&#x91C7;&#x53D6;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#xFF0C;&#x5982;&quot;&#x542F;&#x7528;&#x8F6F;&#x4EF6;&#x538B;&#x7F29;&quot;&#x3001;&quot;&#x767B;&#x9646;&#x7F51;&#x7EDC;&quot;&#x90FD;&#x9700;&#x8981;&#x9009;&#x4E0A;&#x3002;&#x4E00;&#x822C;&#x6765;&#x8BB2;&#xFF0C;&#x6B64;&#x79CD;&#x60C5;&#x51B5;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x7531;&#x4E8E;&#x60A8;&#x6240;&#x7528;&#x7684;MODEM&#x6216;&#x7535;&#x8BDD;&#x7EBF;&#x7684;&#x6027;&#x80FD;&#x548C;&#x8D28;&#x91CF;&#x539F;&#x56E0;&#xFF0C;&#x4EE5;&#x81F3;&#x4E8E;&#x5728;&#x60A8;&#x9009;&#x5B9A;&#x7684;&#x901A;&#x8BAF;&#x901F;&#x7387;&#x4E0A;&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x5730;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x5C31;&#x662F;&#xFF1A; &#x5982;&#x679C;&#x60A8;&#x7684;&#x7535;&#x8BDD;&#x5F00;&#x542F;&#x4E86;&#x9632;&#x76D7;&#x6253;&#x529F;&#x80FD;&#xFF0C;&#x5728;&#x62E8;&#x53F7;&#x65F6;&#x5C06;&#x6709;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x7684;&#x63E1;&#x624B;&#x97F3;&#xFF0C;&#x4F46;&#x63E1;&#x624B;&#x97F3;&#x54CD;&#x540E;&#x5C06;&#x51FA;&#x73B0;&#x9519;&#x8BEF;629&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5206;&#x673A;&#x62E8;&#x6253;&#x7535;&#x8BDD;&#xFF0C;&#x7535;&#x8BDD;&#x5C31;&#x4F1A;&#x62A5;&#x8B66;&#xFF0C;&#x53EA;&#x8981;&#x628A;&#x9632;&#x76D7;&#x6253;&#x529F;&#x80FD;&#x5173;&#x6389;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002; &#x9519;&#x8BEF; 630 &#x95EE;&#x9898;&#xFF1A;ADSL MODEM&#x6CA1;&#x6709;&#x6CA1;&#x6709;&#x54CD;&#x5E94; &#x539F;&#x56E0;&#xFF1A;ADSL&#x7535;&#x8BDD;&#x7EBF;&#x6545;&#x969C;&#xFF0C;ADSL MODEM&#x6545;&#x969C;&#xFF08;&#x7535;&#x6E90;&#x6CA1;&#x6253;&#x5F00;&#x7B49;&#xFF09; &#x89E3;&#x51B3;&#xFF1A;&#x68C0;&#x67E5;ADSL&#x8BBE;&#x5907;&#x3002; &#x9519;&#x8BEF; 633 &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x7F51;&#x7EDC;&#x7531;&#x4E8E;&#x8BBE;&#x5907;&#x5B89;&#x88C5;&#x9519;&#x8BEF;&#x6216;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x3002; &#x539F;&#x56E0;&#xFF1A;RasPPPoE&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x548C;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5;&#x3002; &#x89E3;&#x51B3;&#xFF1A;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#x4EFB;&#x4F55;PPPoE&#x8F6F;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x3002; &#x9519;&#x8BEF; 638 &#x95EE;&#x9898;&#xFF1A;&#x8FC7;&#x4E86;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x5230;ISP&#x7684;ADSL&#x63A5;&#x5165;&#x670D;&#x52A1;&#x5668; &#x539F;&#x56E0;&#xFF1A;ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#xFF1B;&#x5728;RasPPPoE&#x6240;&#x521B;&#x5EFA;&#x7684;&#x4E0D;&#x597D;&#x8FDE;&#x63A5;&#x4E2D;&#x4F60;&#x9519;&#x8BEF;&#x7684;&#x8F93;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x7535;&#x8BDD;&#x53F7;&#x7801; &#x89E3;&#x51B3;&#xFF1A;&#x8FD0;&#x884C;&#x5176;&#x521B;&#x5EFA;&#x62E8;&#x53F7;&#x7684;Raspppoe.exe&#x68C0;&#x67E5;&#x662F;&#x5426;&#x80FD;&#x5217;&#x51FA;ISP&#x670D;&#x52A1;&#xFF0C;&#x4EE5;&#x786E;&#x5B9A;ISP&#x6B63;&#x5E38;;&#x628A;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x62E8;&#x53F7;&#x8FDE;&#x63A5;&#x4E2D;&#x7684; &#x7535;&#x8BDD;&#x53F7;&#x7801;&#x6E05;&#x9664;&#x6216;&#x8005;&#x53EA;&#x4FDD;&#x7559;&#x4E00;&#x4E2A;0&#x3002; &#x9519;&#x8BEF; 645 &#x95EE;&#x9898;&#xFF1A;&#x7F51;&#x5361;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x54CD;&#x5E94; &#x539F;&#x56E0;&#xFF1A;&#x7F51;&#x5361;&#x6545;&#x969C;&#xFF0C;&#x6216;&#x8005;&#x7F51;&#x5361;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x6545;&#x969C; &#x89E3;&#x51B3;&#xFF1A;&#x68C0;&#x67E5;&#x7F51;&#x5361;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x7F51;&#x5361;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x3002; &#x9519;&#x8BEF; 650 &#x95EE;&#x9898;&#xFF1A;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#xFF0C;&#x65AD;&#x5F00;&#x8FDE;&#x63A5; &#x539F;&#x56E0;&#xFF1A;ADSL ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#xFF0C;&#x7F51;&#x5361;&#x6545;&#x969C;&#xFF0C;&#x975E;&#x6B63;&#x5E38;&#x5173;&#x673A;&#x9020;&#x6210;&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#x51FA;&#x9519; &#x89E3;&#x51B3;&#xFF1A;&#x68C0;&#x67E5;ADSL&#x4FE1;&#x53F7;&#x706F;&#x662F;&#x5426;&#x80FD;&#x6B63;&#x786E;&#x540C;&#x6B65;&#xFF0C;&#xFF1B;&#x68C0;&#x67E5;&#x7F51;&#x5361;&#xFF0C;&#x5220;&#x9664;&#x6240;&#x6709;&#x7F51;&#x7EDC;&#x7EC4;&#x4EF6;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x7F51;&#x7EDC;&#x3002; &#x9519;&#x8BEF; 651 &#x95EE;&#x9898;&#xFF1A;ADSL MODEM&#x62A5;&#x544A;&#x53D1;&#x751F;&#x9519;&#x8BEF; &#x539F;&#x56E0;&#xFF1A;Windows&#x5904;&#x4E8E;&#x5B89;&#x5168;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x6216;&#x5176;&#x4ED6;&#x9519;&#x8BEF; &#x89E3;&#x51B3;&#xFF1A;&#x51FA;&#x73B0;&#x8BE5;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x8FDB;&#x884C;&#x91CD;&#x62E8;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x62A5;&#x544A;&#x51FA;&#x65B0;&#x7684;&#x5177;&#x4F53;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x3002; &#x9519;&#x8BEF;676&#xFF0C;&#x5360;&#x7EBF;&#x3002; &#x8BF7;&#x7A0D;&#x540E;&#x518D;&#x8BD5;&#x3002; &#x8BF7;&#x5148;&#x68C0;&#x67E5;&#x7535;&#x8BDD;&#x7EBF;&#x662F;&#x5426;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x8BF7;&#x5C06;&#x7535;&#x8BDD;&#x7EBF;&#x62D4;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x63A5;&#x5728;&#x7535;&#x8BDD;&#x4E0A;&#xFF0C;&#x7528;&#x7535;&#x8BDD;&#x62E8;&#x8981;&#x62E8;&#x7684;ISP&#x7535;&#x8BDD;&#x53F7;&#x7801;&#xFF08;&#x6BD4;&#x5982;163&#xFF0C;169&#xFF09;&#xFF0C;&#x542C;&#x4E00;&#x542C;&#x542C;&#x7B52;&#x91CC;&#x6709;&#x6CA1;&#x6709;&#x7C7B;&#x4F3C;&#x4F20;&#x771F;&#x97F3;&#x7684;&#x5C16;&#x53EB;&#x58F0;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x6B64;&#x58F0;&#xFF0C;&#x8BF4;&#x660E;&#x60A8;&#x7684;&#x7535;&#x8BDD;&#x53EF;&#x4EE5;&#x62E8;&#x53F7;&#x4E0A;&#x7F51;&#xFF0C;&#x8BF7;&#x786E;&#x8BA4;&#x5728;&quot;&#x6211;&#x7684;&#x7535;&#x8111;&quot;-&gt;&quot;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&quot;-&gt;&quot;XXX&#x8FDE;&#x63A5;&#xFF08;&#x60A8;&#x7684;&#x62E8;&#x53F7;&#x8FDE;&#x63A5;&#xFF09;&quot;&#x4E2D;&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x5728;ISP&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x524D;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x6570;&#x5B57;&#xFF0C;&#x5982;&#x60A8;&#x662F;&#x901A;&#x8FC7;&#x5206;&#x673A;&#x62E8;&#x53F7;&#xFF0C;&#x9700;&#x5728;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x4E4B;&#x524D;&#x52A0;&#x5916;&#x7EBF;&#x53F7;&#x548C;&#x9017;&#x53F7;,&#x4F8B;&#x5982;&quot;0&#xFF0C;163&quot;&#x3002;&#x5982;&#x679C;&#x5728;&#x542C;&#x7B52;&#x4E2D;&#x786E;&#x4E3A;&#x5360;&#x7EBF;&#x97F3;&#xFF0C;&#x4E14;&#x5360;&#x7EBF;&#x9891;&#x7387;&#x6781;&#x9AD8;&#x3002; &#x9519;&#x8BEF;678&#xFF0C;&#x62E8;&#x5165;&#x65B9;&#x8BA1;&#x7B97;&#x673A;&#x6CA1;&#x6709;&#x5E94;&#x7B54;&#x3002; &#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x548C;&#x5360;&#x7EBF;&#x6709;&#x4E9B;&#x7C7B;&#x4F3C;&#xFF0C;&#x591A;&#x4E3A;&#x5076;&#x7136;&#x73B0;&#x8C61;&#xFF0C;&#x6709;&#x65F6;&#x662F;&#x56E0;&#x4E3A;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x521A;&#x521A;&#x5F00;&#x542F;&#x5C31;&#x62E8;&#x53F7;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x8BF7;&#x5148;&#x786E;&#x8BA4;&#x5C06;&#x7535;&#x8BDD;&#x7EBF;&#xFF08;&#x8FDE;&#x63A5;&#x7535;&#x8BDD;&#x5C40;&#x7684;&#x90A3;&#x4E00;&#x6839;&#xFF09;&#x63D2;&#x5165;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x7684;&quot;LINE&quot;&#x63A5;&#x53E3;&#x4E0A;&#x3002;&#x68C0;&#x67E5;&#x7535;&#x8BDD;&#x7EBF;&#x662F;&#x5426;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x8BF7;&#x5C06;&#x7535;&#x8BDD;&#x7EBF;&#x62D4;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x63A5;&#x5728;&#x7535;&#x8BDD;&#x4E0A;&#xFF0C;&#x7528;&#x7535;&#x8BDD;&#x62E8;&#x8981;&#x62E8;&#x6253;&#x7684;ISP&#x7535;&#x8BDD;&#x53F7;&#x7801;&#xFF08;&#x6BD4;&#x5982;163&#xFF0C;169&#xFF09;&#xFF0C;&#x542C;&#x4E00;&#x542C;&#x542C;&#x7B52;&#x91CC;&#x6709;&#x6CA1;&#x6709;&#x7C7B;&#x4F3C;&#x4F20;&#x771F;&#x97F3;&#x7684;&#x5C16;&#x53EB;&#x58F0;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x6B64;&#x58F0;&#xFF0C;&#x8BF4;&#x660E;&#x60A8;&#x7684;&#x7535;&#x8BDD;&#x53EF;&#x4EE5;&#x62E8;&#x53F7;&#x4E0A;&#x7F51;&#xFF0C;&#x8BF7;&#x786E;&#x8BA4;&quot;&#x6211;&#x7684;&#x7535;&#x8111;&quot;-&gt;&quot;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&quot;-&gt;&quot;XXX&#x8FDE;&#x63A5;&#xFF08;&#x60A8;&#x7684;&#x62E8;&#x53F7;&#x8FDE;&#x63A5;&#xFF09;&quot;&#x4E2D;&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x5728;ISP&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x4E4B;&#x524D;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x6570;&#x5B57;&#xFF0C;&#x5982;&#x60A8;&#x662F;&#x901A;&#x8FC7;&#x603B;&#x673A;&#x62E8;&#x53F7;&#xFF0C;&#x9700;&#x5728;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x4E4B;&#x524D;&#x52A0;&#x5916;&#x7EBF;&#x53F7;&#x548C;&#x9017;&#x53F7;,&#x4F8B;&#x5982;&quot;0&#xFF0C;163&quot;&#x3002;&#x5982;&#x679C;&#x662F;&#x5360;&#x7EBF;&#x97F3;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;ISP&#x5BA2;&#x6237;&#x670D;&#x52A1;&#x90E8;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x58F0;&#x97F3;&#x6216;&#x6709;&#x63D0;&#x793A;&#x97F3;&#x8BF4;&#x60A8;&#x4E0D;&#x80FD;&#x62E8;&#x6253;&#x6B64;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#xFF0C;&#x90A3;&#x8FD9;&#x8BF4;&#x660E;&#x60A8;&#x7684;&#x7535;&#x8BDD;&#x7EBF;&#x6709;&#x95EE;&#x9898;&#x3002; &#x9519;&#x8BEF;680 &#x6CA1;&#x6709;&#x62E8;&#x53F7;&#x97F3;&#x3002; &#x51FA;&#x73B0;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x8BF7;&#x68C0;&#x6D4B;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x662F;&#x5426;&#x6B63;&#x786E;&#x8FDE;&#x5230;&#x7535;&#x8BDD;&#x7EBF;&#xFF0C;&#x7136;&#x540E;&#x68C0;&#x67E5;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x65B9;&#x9762;&#xFF1A; 1&#x3001;&#x5148;&#x68C0;&#x67E5;&#x7535;&#x8BDD;&#x7EBF;&#x662F;&#x5426;&#x8FDE;&#x63A5;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x53D1;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x8BF7;&#x5C06;&#x7535;&#x8BDD;&#x7EBF;&#x62D4;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x63A5;&#x5728;&#x7535;&#x8BDD;&#x4E0A;&#xFF0C;&#x7528;&#x7535;&#x8BDD;&#x62E8;&#x8981;&#x62E8;&#x7684;ISP&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x8BD5;&#x4E00;&#x8BD5;&#xFF08;&#x6BD4;&#x5982;163&#xFF0C;169&#xFF09;&#xFF0C;&#x542C;&#x4E00;&#x542C;&#x542C;&#x7B52;&#x91CC;&#x6709;&#x6CA1;&#x6709;&#x7C7B;&#x4F3C;&#x4F20;&#x771F;&#x97F3;&#x7684;&#x5C16;&#x53EB;&#x58F0;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x6B64;&#x58F0;&#xFF0C;&#x8BF4;&#x660E;&#x60A8;&#x7684;&#x7535;&#x8BDD;&#x53EF;&#x4EE5;&#x62E8;&#x53F7;&#x4E0A;&#x7F51;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x521A;&#x624D;&#x60A8;&#x62E8;&#x53F7;&#x65F6;&#x6709;&#x7535;&#x8BDD;&#x6253;&#x8FDB;&#x6765;&#xFF0C;&#x6216;&#x662F;&#x60A8;&#x7684;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x6709;&#x6545;&#x969C;&#x3002; &#x5982;&#x679C;&#x662F;&#x5360;&#x7EBF;&#x97F3;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;ISP&#x5BA2;&#x6237;&#x670D;&#x52A1;&#x90E8;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x58F0;&#x97F3;&#x6216;&#x6709;&#x63D0;&#x793A;&#x97F3;&#x8BF4;&#x60A8;&#x4E0D;&#x80FD;&#x62E8;&#x6253;&#x6B64;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#xFF0C;&#x90A3;&#x8FD9;&#x8BF4;&#x660E;&#x60A8;&#x7684;&#x7535;&#x8BDD;&#x7EBF;&#x6709;&#x95EE;&#x9898;&#x3002; &#x9519;&#x8BEF; 691 &#x95EE;&#x9898;&#xFF1A;&#x8F93;&#x5165;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x4E0D;&#x5BF9;&#xFF0C;&#x65E0;&#x6CD5;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5; &#x539F;&#x56E0;&#xFF1A;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&#xFF0C;ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C; &#x89E3;&#x51B3;&#xFF1A;&#x4F7F;&#x7528;&#x6B63;&#x786E;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x6B63;&#x786E;&#x7684;ISP&#x8D26;&#x53F7;&#x683C;&#x5F0F;(name@service)&#x3002; &#x9519;&#x8BEF; 718 &#x95EE;&#x9898;&#xFF1A;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x540D;&#x65F6;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x8D85;&#x65F6;&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#xFF0C;&#x65AD;&#x5F00;&#x8FDE;&#x63A5; &#x539F;&#x56E0;&#xFF1A;ADSL ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C; &#x89E3;&#x51B3;&#xFF1A;&#x81F4;&#x7535;2022370&#x3002; &#x9519;&#x8BEF; 720 &#x95EE;&#x9898;&#xFF1A;&#x62E8;&#x53F7;&#x7F51;&#x7EDC;&#x65E0;&#x6CD5;&#x534F;&#x8C03;&#x7F51;&#x7EDC;&#x4E2D;&#x670D;&#x52A1;&#x5668;&#x7684;&#x534F;&#x8BAE;&#x8BBE;&#x7F6E; &#x539F;&#x56E0;&#xFF1A;ADSL ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#xFF0C;&#x975E;&#x6B63;&#x5E38;&#x5173;&#x673A;&#x9020;&#x6210;&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#x51FA;&#x9519; &#x89E3;&#x51B3;&#xFF1A;&#x5220;&#x9664;&#x6240;&#x6709;&#x7F51;&#x7EDC;&#x7EC4;&#x4EF6;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x7F51;&#x7EDC;&#x3002; &#x9519;&#x8BEF; 734 &#x95EE;&#x9898;&#xFF1A;PPP&#x8FDE;&#x63A5;&#x63A7;&#x5236;&#x534F;&#x8BAE;&#x4E2D;&#x6B62; &#x539F;&#x56E0;&#xFF1A;ADSL ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#xFF0C;&#x975E;&#x6B63;&#x5E38;&#x5173;&#x673A;&#x9020;&#x6210;&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#x51FA;&#x9519; &#x89E3;&#x51B3;&#xFF1A;&#x5220;&#x9664;&#x6240;&#x6709;&#x7F51;&#x7EDC;&#x7EC4;&#x4EF6;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x7F51;&#x7EDC;&#x3002; &#x9519;&#x8BEF; 738 &#x95EE;&#x9898;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x5206;&#x914D;IP&#x5730;&#x5740; &#x539F;&#x56E0;&#xFF1A;ADSL ISP&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#xFF0C;ADSL&#x7528;&#x6237;&#x592A;&#x591A;&#x8D85;&#x8FC7;ISP&#x6240;&#x80FD;&#x63D0;&#x4F9B;&#x7684;IP&#x5730;&#x5740; &#x89E3;&#x51B3;&#xFF1A;&#x81F4;&#x7535;2022370&#x3002; &#x9519;&#x8BEF; 797 &#x95EE;&#x9898;&#xFF1A;ADSL MODEM&#x8FDE;&#x63A5;&#x8BBE;&#x5907;&#x6CA1;&#x6709;&#x627E;&#x5230; &#x539F;&#x56E0;&#xFF1A;ADSL MODEM&#x7535;&#x6E90;&#x6CA1;&#x6709;&#x6253;&#x5F00;&#xFF0C;&#x7F51;&#x5361;&#x548C;ADSL MODEM&#x7684;&#x8FDE;&#x63A5;&#x7EBF;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x4EE5;&#x540E;&#x76F8;&#x5E94;&#x7684;&#x534F;&#x8BAE;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x90A6;&#x5B9A;&#xFF0C;&#x5728;&#x521B;&#x7ACB;&#x62E8;&#x53F7;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x5EFA;&#x7ACB;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x7A7A;&#x8FDE;&#x63A5; &#x89E3;&#x51B3;&#xFF1A;&#x68C0;&#x67E5;&#x7535;&#x6E90;&#xFF0C;&#x8FDE;&#x63A5;&#x7EBF;&#xFF1B;&#x68C0;&#x67E5;&#x7F51;&#x7EDC;&#x5C5E;&#x6027;&#xFF0C;RasPPPoE&#x76F8;&#x5173;&#x7684;&#x534F;&#x8BAE;&#x662F;&#x5426;&#x6B63;&#x786E;&#x7684;&#x5B89;&#x88C5;&#x5E76;&#x6B63;&#x786E;&#x90A6;&#x5B9A;&#xFF08;&#x76F8;&#x5173;&#x534F;&#x8BAE;&#xFF09;&#xFF0C;&#x68C0;&#x67E5;&#x7F51;&#x5361;&#x662F;&#x5426;&#x51FA;&#x73B0;?&#x53F7;&#x6216;!&#x53F7;&#xFF0C;&#x628A;&#x5B83;&#x8BBE;&#x7F6E;&#x4E3A;Enable;&#x68C0;&#x67E5;&#x62E8;&#x53F7;&#x8FDE;&#x63A5;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x662F;&#x5426;&#x8FDE;&#x63A5;&#x7684;&#x8BBE;&#x5907;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&quot;ISDN channel-Adapter Name(xx)&quot; &#x7684;&#x8BBE;&#x5907;&#xFF0C;&#x8BE5;&#x8BBE;&#x5907;&#x4E3A;&#x4E00;&#x4E2A;&#x7A7A;&#x8BBE;&#x5907;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86;&#x53D6;&#x6D88;&#x5B83;&#xFF0C;&#x5E76;&#x9009;&#x62E9;&#x6B63;&#x786E;&#x7684;PPPoE&#x8BBE;&#x5907;&#x4EE3;&#x66FF;&#x5B83;&#xFF0C;&#x6216;&#x8005;&#x91CD;&#x65B0;&#x521B;&#x7ACB;&#x62E8;&#x53F7;&#x8FDE;&#x63A5;&#x3002; ADSL&#x767B;&#x5F55;&#x9519;&#x8BEF;&#x4EE3;&#x53F7;&#x8BA4;&#x8BC6;.&#x73B0;&#x5728;&#x5728;&#x5BB6;&#x4E0A;&#x7F51;&#x7684;&#x4EBA;&#x591A;&#x4E86;..&#x5927;&#x51E1;&#x662F;&#x7528;ADSL&#x6216;&#x7535;&#x8BDD;&#x62D4;&#x53F7;&#x7684;&#x5427;~~&#x6CA1;&#x95EE;&#x9898;&#x65F6;&#x4F60;&#x4EEC;&#x4E0D;&#x4F1A;&#x60F3;&#x8D77;&#x5B83;&#x4EEC;..&#x5982;&#x679C;&#x67D0;&#x5929;&#x7531;&#x4F60;&#x6765;&#x8BBE;&#x7F6E;&#x8054;&#x673A;&#x7684;&#x8BDD;&#x4F60;&#x9047;&#x4E0A;&#x9519;&#x8BEF;&#x4EE3;&#x53F7;&#x548B;&#x529E;&#x5462;?&#x5982;:&#x9519;&#x5434;679~~~~~~~&#x63D0;&#x793A;&#x4F60;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x7F51;&#x7EDC;.&#x800C;&#x4F60;&#x53C8;&#x4E0D;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x610F;&#x601D;&#x548B;&#x529E;...&#x6765;&#x8BA4;&#x8BC6;&#x4E00;&#x4E0B;. &#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x5F00;&#x59CB;&#x83DC;&#x5355;&#x7684;&#x5E2E;&#x52A9;&#x4E0E;&#x652F;&#x6301;&#x91CC;&#x8F93;&#x5165;:679 &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x7ED9;&#x4F60;&#x6700;&#x5FEB;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;.....&#x4E2A;&#x4EBA;&#x8BA4;&#x4E3A;&#x5F88;&#x5B9E;&#x7528;~~ 600 &#x67D0;&#x64CD;&#x4F5C;&#x5904;&#x4E8E;&#x6302;&#x8D77;&#x72B6;&#x6001;&#x3002; 601 &#x68C0;&#x6D4B;&#x5230;&#x4E00;&#x4E2A;&#x65E0;&#x6548;&#x7AEF;&#x53E3;&#x53E5;&#x67C4;&#x3002; 602 &#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x5DF2;&#x7ECF;&#x6253;&#x5F00;&#x3002; 603 &#x547C;&#x53EB;&#x65B9;&#x7F13;&#x51B2;&#x533A;&#x592A;&#x5C0F;&#x3002; 604 &#x6307;&#x5B9A;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x4FE1;&#x606F;&#x3002; 605 &#x65E0;&#x6CD5;&#x8BBE;&#x7F6E;&#x7AEF;&#x53E3;&#x4FE1;&#x606F;&#x3002; 606 &#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x672A;&#x8FDE;&#x63A5;&#x3002; 607 &#x68C0;&#x6D4B;&#x5230;&#x65E0;&#x6548;&#x4E8B;&#x4EF6;&#x3002; 608 &#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8BBE;&#x5907;&#x3002; 609 &#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8BBE;&#x5907;&#x7C7B;&#x578B;&#x3002; 610 &#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x65E0;&#x6548;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x3002; 611 &#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x7684;&#x8DEF;&#x7531;&#x3002; 612 &#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x5206;&#x914D;&#x7684;&#x8DEF;&#x7531;&#x3002; 613 &#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x79CD;&#x65E0;&#x6548;&#x7684;&#x538B;&#x7F29;&#x3002; 614 &#x53EF;&#x7528;&#x7F13;&#x51B2;&#x533A;&#x4E0D;&#x8DB3;&#x3002; 615 &#x627E;&#x4E0D;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x3002; 616 &#x67D0;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;&#x5904;&#x4E8E;&#x6302;&#x8D77;&#x72B6;&#x6001;&#x3002; 617 &#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x5DF2;&#x7ECF;&#x5728;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x3002; 618 &#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x6CA1;&#x6709;&#x6253;&#x5F00;&#x3002; 619 &#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x6CA1;&#x6709;&#x8FDE;&#x63A5;&#x3002; 620 &#x65E0;&#x6CD5;&#x786E;&#x5B9A;&#x7AEF;&#x70B9;&#x3002; 621 &#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x6253;&#x5F00;&#x7535;&#x8BDD;&#x7C3F;&#x3002; 622 &#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x52A0;&#x8F7D;&#x7535;&#x8BDD;&#x7C3F;&#x3002; 623 &#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x6B64;&#x8FDE;&#x63A5;&#x7684;&#x7535;&#x8BDD;&#x7C3F;&#x9879;&#x3002; 624 &#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x66F4;&#x65B0;&#x7535;&#x8BDD;&#x7C3F;&#x6587;&#x4EF6;&#x3002; 625 &#x7CFB;&#x7EDF;&#x5728;&#x7535;&#x8BDD;&#x7C3F;&#x4E2D;&#x627E;&#x5230;&#x65E0;&#x6548;&#x4FE1;&#x606F;&#x3002; 626 &#x65E0;&#x6CD5;&#x52A0;&#x8F7D;&#x5B57;&#x7B26;&#x4E32;&#x3002; 627 &#x65E0;&#x6CD5;&#x627E;&#x5230;&#x5173;&#x952E;&#x5B57;&#x3002; 628 &#x8FDE;&#x63A5;&#x88AB;&#x5173;&#x95ED;&#x3002; 629 &#x8FDE;&#x63A5;&#x88AB;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x5173;&#x95ED;&#x3002; 630 &#x7531;&#x4E8E;&#x786C;&#x4EF6;&#x6545;&#x969C;&#xFF0C;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x3002; 631 &#x7528;&#x6237;&#x65AD;&#x5F00;&#x4E86;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x8FDE;&#x63A5;&#x3002; 632 &#x68C0;&#x6D4B;&#x5230;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x7ED3;&#x6784;&#x5927;&#x5C0F;&#x3002; 633 &#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x4E2D;&#x6216;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x62E8;&#x51FA;&#x914D;&#x7F6E;&#x3002; 634 &#x60A8;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x65E0;&#x6CD5;&#x5728;&#x8FDC;&#x7A0B;&#x7F51;&#x7EDC;&#x4E0A;&#x6CE8;&#x518C;&#x3002; 635 &#x51FA;&#x73B0;&#x672A;&#x77E5;&#x9519;&#x8BEF;&#x3002; 636 &#x8FDE;&#x63A5;&#x5230;&#x7AEF;&#x53E3;&#x7684;&#x8BBE;&#x5907;&#x4E0D;&#x662F;&#x6240;&#x671F;&#x671B;&#x7684;&#x8BBE;&#x5907;&#x3002; 637 &#x68C0;&#x6D4B;&#x5230;&#x4E0D;&#x80FD;&#x8F6C;&#x6362;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002; 638 &#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x3002; 639 &#x5F02;&#x6B65;&#x7F51;&#x7EDC;&#x4E0D;&#x53EF;&#x7528;&#x3002; 640 &#x53D1;&#x751F;&#x4E0E; NetBIOS &#x6709;&#x5173;&#x7684;&#x9519;&#x8BEF;&#x3002; 641 &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x5206;&#x914D;&#x652F;&#x6301;&#x5BA2;&#x6237;&#x7AEF;&#x65F6;&#x6240;&#x9700;&#x7684; NetBIOS &#x8D44;&#x6E90;&#x3002; 642 &#x8BA1;&#x7B97;&#x673A;&#x7684;&#x67D0;&#x4E2A; NetBIOS &#x540D;&#x5DF2;&#x7ECF;&#x5728;&#x8FDC;&#x7A0B;&#x7F51;&#x7EDC;&#x4E0A;&#x6CE8;&#x518C;&#x3002; 643 &#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x7F51;&#x7EDC;&#x9002;&#x914D;&#x5668;&#x51FA;&#x73B0;&#x6545;&#x969C;&#x3002; 644 &#x60A8;&#x5C06;&#x65E0;&#x6CD5;&#x63A5;&#x6536;&#x7F51;&#x7EDC;&#x5F39;&#x51FA;&#x5F0F;&#x6D88;&#x606F;&#x3002; 645 &#x53D1;&#x751F;&#x5185;&#x90E8;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x9519;&#x8BEF;&#x3002; 646 &#x6B64;&#x65F6;&#x4E0D;&#x5141;&#x8BB8;&#x8BE5;&#x5E10;&#x6237;&#x767B;&#x5F55;&#x3002; 647 &#x6B64;&#x5E10;&#x6237;&#x88AB;&#x7981;&#x7528;&#x3002; 648 &#x8BE5;&#x5E10;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x5DF2;&#x8FC7;&#x671F;&#x3002; 649 &#x5E10;&#x6237;&#x6CA1;&#x6709;&#x62E8;&#x5165;&#x7684;&#x6743;&#x9650;&#x3002; 650 &#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#x3002; 651 &#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x62A5;&#x544A;&#x9519;&#x8BEF;&#x3002; 652 &#x6709;&#x4E00;&#x4E2A;&#x6765;&#x81EA;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x7684;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x7684;&#x54CD;&#x5E94;&#x3002; 653 &#x5728;&#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x90E8;&#x5206;&#x4E2D;&#x672A;&#x627E;&#x5230;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x6240;&#x9700;&#x7684;&#x5B8F;&#x3002; 654 &#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x90E8;&#x5206;&#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x6216;&#x54CD;&#x5E94;&#x5F15;&#x7528;&#x4E86;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x5B8F;&#x3002; 655 &#x5728;&#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x90E8;&#x5206;&#x4E2D;&#x672A;&#x627E;&#x5230; &lt;MESSAGE&gt; &#x5B8F;&#x3002; 656 &#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x90E8;&#x5206;&#x4E2D;&#x7684; &lt;DEFAULTOFF&gt; &#x5B8F;&#x5305;&#x542B;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x5B8F;&#x3002; 657 &#x65E0;&#x6CD5;&#x6253;&#x5F00;&#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x3002; 658 &#x8BBE;&#x5907; .INF &#x6216;&#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x8BBE;&#x5907;&#x540D;&#x592A;&#x957F;&#x3002; 659 &#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x5F15;&#x7528;&#x4E86;&#x672A;&#x77E5;&#x7684;&#x8BBE;&#x5907;&#x540D;&#x3002; 660 &#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x4E0D;&#x5305;&#x542B;&#x5BF9;&#x547D;&#x4EE4;&#x7684;&#x54CD;&#x5E94;&#x3002; 661 &#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x7F3A;&#x5C11;&#x547D;&#x4EE4;&#x3002; 662 &#x8BD5;&#x56FE;&#x8BBE;&#x7F6E;&#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x90E8;&#x5206;&#x4E2D;&#x6CA1;&#x6709;&#x5217;&#x51FA;&#x7684;&#x5B8F;&#x3002; 663 &#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x5F15;&#x7528;&#x4E86;&#x672A;&#x77E5;&#x7684;&#x8BBE;&#x5907;&#x7C7B;&#x578B;&#x3002; 664 &#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x3002; 665 &#x672A;&#x6B63;&#x786E;&#x914D;&#x7F6E;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x3002; 666 &#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x672A;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002; 667 &#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x8BFB;&#x53D6;&#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x3002; 668 &#x8FDE;&#x63A5;&#x88AB;&#x7EC8;&#x6B62;&#x3002; 669 &#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6CD5;&#x53C2;&#x6570;&#x65E0;&#x6548;&#x3002; 670 &#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x4ECE;&#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x90E8;&#x5206;&#x540D;&#x79F0;&#x3002; 671 &#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x4ECE;&#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x8BBE;&#x5907;&#x7C7B;&#x578B;&#x3002; 672 &#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x4ECE;&#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x8BBE;&#x5907;&#x540D;&#x79F0;&#x3002; 673 &#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x4ECE;&#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x7528;&#x6CD5;&#x3002; 674 &#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x4ECE;&#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x6700;&#x5927;&#x7684;&#x8FDE;&#x63A5;&#x901F;&#x7387; (bps)&#x3002; 675 &#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x4ECE;&#x5A92;&#x4F53; .INI &#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x6700;&#x5927;&#x7684;&#x8F7D;&#x6CE2;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;&#x3002; 676 &#x7535;&#x8BDD;&#x7EBF;&#x5FD9;&#x3002; 677 &#x67D0;&#x4EBA;&#x800C;&#x4E0D;&#x662F;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x4F5C;&#x51FA;&#x4E86;&#x5E94;&#x7B54;&#x3002; 678 &#x6CA1;&#x6709;&#x5E94;&#x7B54;&#x3002; 679 &#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x68C0;&#x6D4B;&#x5230;&#x8F7D;&#x6CE2;&#x3002; 680 &#x6CA1;&#x6709;&#x62E8;&#x53F7;&#x97F3;&#x3002; 681 &#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x62A5;&#x544A;&#x5E38;&#x89C4;&#x9519;&#x8BEF;&#x3002; 691 &#x56E0;&#x4E3A;&#x7528;&#x6237;&#x540D;&#x548C;/&#x6216;&#x5BC6;&#x7801;&#x5728;&#x6B64;&#x57DF;&#x4E0A;&#x65E0;&#x6548;&#xFF0C;&#x6240;&#x4EE5;&#x8BBF;&#x95EE;&#x88AB;&#x62D2;&#x7EDD;&#x3002; 692 &#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x51FA;&#x73B0;&#x786C;&#x4EF6;&#x6545;&#x969C;&#x3002; 695 &#x672A;&#x542F;&#x52A8;&#x72B6;&#x6001;&#x673A;&#x3002; 696 &#x5DF2;&#x542F;&#x52A8;&#x72B6;&#x6001;&#x673A;&#x3002; 697 &#x54CD;&#x5E94;&#x5FAA;&#x73AF;&#x672A;&#x5B8C;&#x6210;&#x3002; 699 &#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x5BFC;&#x81F4;&#x7F13;&#x51B2;&#x533A;&#x6EA2;&#x51FA;&#x3002; 700 &#x8BBE;&#x5907; .INF &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6269;&#x5C55;&#x547D;&#x4EE4;&#x592A;&#x957F;&#x3002; 701 &#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x4F7F;&#x7528;&#x4E86; COM &#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;&#x3002; 703 &#x8FDE;&#x63A5;&#x9700;&#x8981;&#x60A8;&#x63D0;&#x4F9B;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E0D;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x4EA4;&#x4E92;&#x3002; 704 &#x56DE;&#x62E8;&#x53F7;&#x7801;&#x65E0;&#x6548;&#x3002; 705 &#x6388;&#x6743;&#x72B6;&#x6001;&#x65E0;&#x6548;&#x3002; 707 &#x51FA;&#x73B0;&#x4E0E; X.25 &#x534F;&#x8BAE;&#x6709;&#x5173;&#x7684;&#x9519;&#x8BEF;&#x3002; 708 &#x5E10;&#x6237;&#x8FC7;&#x671F;&#x3002; 709 &#x66F4;&#x6539;&#x57DF;&#x4E0A;&#x7684;&#x5BC6;&#x7801;&#x65F6;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x3002;&#x5BC6;&#x7801;&#x53EF;&#x80FD;&#x592A;&#x77ED;&#x6216;&#x8005;&#x53EF;&#x80FD;&#x4E0E;&#x4EE5;&#x524D;&#x4F7F;&#x7528;&#x7684;&#x5BC6;&#x7801;&#x5339;&#x914D;&#x3002; 710 &#x5F53;&#x4E0E;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x901A;&#x8BAF;&#x65F6;&#x68C0;&#x6D4B;&#x5230;&#x5E8F;&#x5217;&#x6EA2;&#x51FA;&#x9519;&#x8BEF;&#x3002; 711 &#x65E0;&#x6CD5;&#x542F;&#x52A8;&#x201C;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x201D;&#x3002;&#x4E8B;&#x4EF6;&#x65E5;&#x5FD7;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#x3002; 712 &#x53CC;&#x8DEF;&#x7AEF;&#x53E3;&#x6B63;&#x5728;&#x521D;&#x59CB;&#x5316;&#x3002;&#x7B49;&#x51E0;&#x79D2;&#x949F;&#x518D;&#x91CD;&#x62E8;&#x3002; 713 &#x6CA1;&#x6709;&#x6D3B;&#x52A8;&#x7684; ISDN &#x7EBF;&#x8DEF;&#x53EF;&#x7528;&#x3002; 714 &#x6CA1;&#x6709; ISDN &#x4FE1;&#x9053;&#x53EF;&#x7528;&#x4E8E;&#x62E8;&#x53F7;&#x3002; 715 &#x7531;&#x4E8E;&#x7535;&#x8BDD;&#x7EBF;&#x8D28;&#x91CF;&#x5DEE;&#xFF0C;&#x6240;&#x4EE5;&#x53D1;&#x751F;&#x8FC7;&#x591A;&#x9519;&#x8BEF;&#x3002; 716 &#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x670D;&#x52A1; IP &#x914D;&#x7F6E;&#x4E0D;&#x53EF;&#x7528;&#x3002; 717 &#x5728;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x670D;&#x52A1; IP &#x5730;&#x5740;&#x7684;&#x9759;&#x6001;&#x6C60;&#x4E2D;&#x6CA1;&#x6709;&#x53EF;&#x7528;&#x7684; IP &#x5730;&#x5740;&#x3002; 718 &#x7B49;&#x5F85;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x4F5C;&#x51FA;&#x6709;&#x6548;&#x54CD;&#x5E94;&#x65F6;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x3002; 719 &#x8FDE;&#x63A5;&#x88AB;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x7EC8;&#x6B62;&#x3002; 721 &#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#x3002; 722 &#x4ECE;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x63A5;&#x6536;&#x5230;&#x65E0;&#x6548;&#x7684;&#x6570;&#x636E;&#x3002;&#x8BE5;&#x6570;&#x636E;&#x88AB;&#x5FFD;&#x7565;&#x3002; 723 &#x7535;&#x8BDD;&#x53F7;&#x7801;&#xFF08;&#x5305;&#x542B;&#x524D;&#x7F00;&#x548C;&#x540E;&#x7F00;&#xFF09;&#x592A;&#x957F;&#x3002; 726 IPX &#x534F;&#x8BAE;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;&#x5728;&#x591A;&#x4E2A;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x4E0A;&#x540C;&#x65F6;&#x5411;&#x5916;&#x62E8;&#x53F7;&#x3002; 728 &#x7CFB;&#x7EDF;&#x627E;&#x4E0D;&#x5230; IP &#x9002;&#x914D;&#x5668;&#x3002; 729 &#x9664;&#x975E;&#x5B89;&#x88C5; IP &#x534F;&#x8BAE;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; SLIP&#x3002; 731 &#x672A;&#x914D;&#x7F6E;&#x534F;&#x8BAE;&#x3002; 732 &#x60A8;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x548C;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x7684; PPP &#x63A7;&#x5236;&#x534F;&#x8BAE;&#x65E0;&#x6CD5;&#x4E00;&#x81F4;&#x3002; 733 &#x60A8;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x548C;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x7684; PPP &#x63A7;&#x5236;&#x534F;&#x8BAE;&#x65E0;&#x6CD5;&#x4E00;&#x81F4;&#x3002; 734 PPP &#x94FE;&#x63A5;&#x63A7;&#x5236;&#x534F;&#x8BAE;&#x88AB;&#x7EC8;&#x6B62;&#x3002; 735 &#x8BF7;&#x6C42;&#x7684;&#x5730;&#x5740;&#x88AB;&#x670D;&#x52A1;&#x5668;&#x62D2;&#x7EDD;&#x3002; 736 &#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x7EC8;&#x6B62;&#x4E86;&#x63A7;&#x5236;&#x534F;&#x8BAE;&#x3002; 737 &#x68C0;&#x6D4B;&#x5230;&#x73AF;&#x56DE;&#x3002; 738 &#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x6307;&#x6D3E;&#x5730;&#x5740;&#x3002; 739 &#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x6240;&#x9700;&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x534F;&#x8BAE;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x5B58;&#x50A8;&#x7684;&#x5BC6;&#x7801;&#x3002;&#x8BF7;&#x91CD;&#x62E8;&#xFF0C;&#x5E76;&#x663E;&#x5F0F;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x3002; 740 &#x68C0;&#x6D4B;&#x5230;&#x65E0;&#x6548;&#x62E8;&#x53F7;&#x89C4;&#x5219;&#x3002; 741 &#x672C;&#x5730;&#x8BA1;&#x7B97;&#x673A;&#x4E0D;&#x652F;&#x6301;&#x6240;&#x9700;&#x7684;&#x6570;&#x636E;&#x52A0;&#x5BC6;&#x7C7B;&#x578B;&#x3002; 742 &#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x4E0D;&#x652F;&#x6301;&#x6240;&#x9700;&#x7684;&#x6570;&#x636E;&#x52A0;&#x5BC6;&#x7C7B;&#x578B;&#x3002; 743 &#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x8981;&#x6C42;&#x6570;&#x636E;&#x52A0;&#x5BC6;&#x3002; 751 &#x56DE;&#x62E8;&#x53F7;&#x7801;&#x5305;&#x542B;&#x65E0;&#x6548;&#x7684;&#x5B57;&#x7B26;&#x3002;&#x53EA;&#x5141;&#x8BB8;&#x6709;&#x4E0B;&#x5217;&#x5B57;&#x7B26;&#xFF1A;0 &#x5230; 9&#x3001;T&#x3001;P&#x3001;W&#x3001;(,)&#x3001;-&#x3001;@ &#x548C; &#x7A7A;&#x683C;&#x3002; 752 &#x5F53;&#x5904;&#x7406;&#x811A;&#x672C;&#x65F6;&#x9047;&#x5230;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3002; 753 &#x7531;&#x4E8E;&#x8FDE;&#x63A5;&#x662F;&#x7531;&#x591A;&#x534F;&#x8BAE;&#x8DEF;&#x7531;&#x5668;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x8FDE;&#x63A5;&#x65E0;&#x6CD5;&#x65AD;&#x5F00;&#x3002; 754 &#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x591A;&#x8DEF;&#x94FE;&#x63A5;&#x675F;&#x3002; 755 &#x7531;&#x4E8E;&#x8BE5;&#x9879;&#x5DF2;&#x7ECF;&#x6307;&#x5B9A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x62E8;&#x53F7;&#x7A0B;&#x5E8F;&#xFF0C;&#x6240;&#x4EE5;&#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x6267;&#x884C;&#x81EA;&#x52A8;&#x62E8;&#x53F7;&#x3002; 756 &#x5DF2;&#x7ECF;&#x62E8;&#x6253;&#x8BE5;&#x8FDE;&#x63A5;&#x3002; 757 &#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x4E0D;&#x80FD;&#x81EA;&#x52A8;&#x542F;&#x52A8;&#x3002;&#x4E8B;&#x4EF6;&#x65E5;&#x5FD7;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#x3002; 758 &#x8BE5;&#x8FDE;&#x63A5;&#x4E0A;&#x5DF2;&#x7ECF;&#x542F;&#x7528; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB;&#x3002; 760 &#x542F;&#x7528;&#x8DEF;&#x7531;&#x529F;&#x80FD;&#x65F6;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x3002; 761 &#x542F;&#x7528;&#x8FDE;&#x63A5;&#x7684; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB;&#x65F6;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x3002; ..763 &#x4E0D;&#x80FD;&#x542F;&#x7528; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB;&#x3002;&#x9664;&#x4E86;&#x8981;&#x5171;&#x4EAB;&#x7684;&#x8FDE;&#x63A5;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E24;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5C40;&#x57DF;&#x7F51;&#x8FDE;&#x63A5;&#x3002; ..764 &#x672A;&#x5B89;&#x88C5;&#x667A;&#x80FD;&#x5361;&#x9605;&#x8BFB;&#x5668;&#x3002; ..765 &#x4E0D;&#x80FD;&#x542F;&#x7528; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB;&#x3002;LAN &#x8FDE;&#x63A5;&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;&#x4E86;&#x81EA;&#x52A8; IP &#x5B9A;&#x5740;&#x6240;&#x9700;&#x7684; IP &#x5730;&#x5740;&#x3002; ..767 &#x4E0D;&#x80FD;&#x542F;&#x7528; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB;&#x3002;&#x4E13;&#x7528;&#x7F51;&#x7EDC;&#x4E0A;&#x9009;&#x5B9A;&#x7684; LAN &#x8FDE;&#x63A5;&#x914D;&#x7F6E;&#x4E86;&#x591A;&#x4E2A; IP &#x5730;&#x5740;&#x3002;&#x5728;&#x542F;&#x7528; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x5355;&#x4E2A; IP &#x5730;&#x5740;&#x91CD;&#x65B0;&#x914D;&#x7F6E; LAN &#x8FDE;&#x63A5;&#x3002; ..768 &#x7531;&#x4E8E;&#x6570;&#x636E;&#x52A0;&#x5BC6;&#x5931;&#x8D25;&#xFF0C;&#x5BFC;&#x81F4;&#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#x3002; ..769 &#x6307;&#x5B9A;&#x7684;&#x76EE;&#x7684;&#x5730;&#x662F;&#x4E0D;&#x53EF;&#x8BBF;&#x95EE;&#x7684;&#x3002; ..770 &#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x62D2;&#x7EDD;&#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x3002; ..771 &#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x5FD9;&#xFF0C;&#x5BFC;&#x81F4;&#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#x3002; ..772 &#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7F51;&#x7EDC;&#x786C;&#x4EF6;&#x4E0E;&#x8BF7;&#x6C42;&#x7684;&#x547C;&#x53EB;&#x7C7B;&#x578B;&#x4E0D;&#x517C;&#x5BB9;&#x3002; ..773 &#x7531;&#x4E8E;&#x76EE;&#x6807;&#x53F7;&#x7801;&#x5DF2;&#x66F4;&#x6539;&#xFF0C;&#x5BFC;&#x81F4;&#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#x3002; ..774 &#x4E34;&#x65F6;&#x6545;&#x969C;&#x5BFC;&#x81F4;&#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#x3002;&#x8BF7;&#x518D;&#x6B21;&#x5C1D;&#x8BD5;&#x8FDE;&#x63A5;&#x3002; ..775 &#x547C;&#x53EB;&#x88AB;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x963B;&#x585E;&#x3002; ..776 &#x7531;&#x4E8E;&#x76EE;&#x6807;&#x5DF2;&#x7ECF;&#x8C03;&#x7528;&#x201C;&#x8BF7;&#x52FF;&#x6253;&#x6270;&#x201D;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x547C;&#x53EB;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x3002; ..777 &#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x7684;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x51FA;&#x73B0;&#x6545;&#x969C;&#xFF0C;&#x5BFC;&#x81F4;&#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#x3002; ..778 &#x4E0D;&#x80FD;&#x9A8C;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8EAB;&#x4EFD;&#x3002; ..780 &#x6240;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;&#x7684;&#x529F;&#x80FD;&#x5BF9;&#x6B64;&#x8FDE;&#x63A5;&#x65E0;&#x6548;&#x3002; ..783 &#x4E0D;&#x80FD;&#x542F;&#x7528; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB;&#x3002;&#x88AB;&#x9009;&#x4E3A;&#x4E13;&#x7528;&#x7F51;&#x7EDC;&#x7684; LAN &#x8FDE;&#x63A5;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x6216;&#x8005;&#x5DF2;&#x4E0E;&#x7F51;&#x7EDC;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x3002;&#x542F;&#x7528; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB;&#x524D;&#xFF0C;&#x8BF7;&#x786E;&#x4FDD;&#x5DF2;&#x8FDE;&#x63A5; LAN &#x9002;&#x914D;&#x5668;&#x3002; ..784 &#x767B;&#x5F55;&#x65F6;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x8BE5;&#x8FDE;&#x63A5;&#x8FDB;&#x884C;&#x62E8;&#x53F7;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x914D;&#x7F6E;&#x4F7F;&#x7528;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x667A;&#x80FD;&#x5361;&#x4E0A;&#x7684;&#x4E0D;&#x4E00;&#x6837;&#x3002;&#x5982;&#x679C;&#x8981;&#x5728;&#x767B;&#x5F55;&#x65F6;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x5FC5;&#x987B;&#x5BF9;&#x5B83;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x4EE5;&#x4F7F;&#x7528;&#x667A;&#x80FD;&#x5361;&#x4E0A;&#x7684;&#x7528;&#x6237;&#x540D;&#x3002; ..785 &#x767B;&#x5F55;&#x65F6;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x8BE5;&#x8FDE;&#x63A5;&#x8FDB;&#x884C;&#x62E8;&#x53F7;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5C06;&#x5176;&#x914D;&#x7F6E;&#x6210;&#x4F7F;&#x7528;&#x667A;&#x80FD;&#x5361;&#x3002;&#x5982;&#x679C;&#x8981;&#x5728;&#x767B;&#x5F55;&#x65F6;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x5FC5;&#x987B;&#x7F16;&#x8F91;&#x8BE5;&#x8FDE;&#x63A5;&#x7684;&#x5C5E;&#x6027;&#x4EE5;&#x4FBF;&#x4F7F;&#x7528;&#x667A;&#x80FD;&#x5361;&#x3002; ..788 L2TP &#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x4E3A;&#x5B89;&#x5168;&#x5C42;&#x65E0;&#x6CD5;&#x4E0E;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x534F;&#x5546;&#x517C;&#x5BB9;&#x53C2;&#x6570;&#x3002; ..789 L2TP &#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x4E3A;&#x5B89;&#x5168;&#x5C42;&#x5728;&#x4E0E;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x534F;&#x5546;&#x65F6;&#x9047;&#x5230;&#x5904;&#x7406;&#x9519;&#x8BEF;&#x3002; ..791 L2TP &#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x8BE5;&#x8FDE;&#x63A5;&#x7684;&#x5B89;&#x5168;&#x7B56;&#x7565;&#x3002; ..792 L2TP &#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x4E3A;&#x5B89;&#x5168;&#x534F;&#x5546;&#x8D85;&#x65F6;&#x3002; ..793 L2TP &#x8FDE;&#x63A5;&#x5C1D;&#x8BD5;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x4E3A;&#x534F;&#x5546;&#x5B89;&#x5168;&#x65F6;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x3002; ..794 &#x8BE5;&#x7528;&#x6237;&#x7684;&#x5E27;&#x534F;&#x8BAE; RADIUS &#x5C5E;&#x6027;&#x4E0D;&#x662F; PPP&#x3002; ..795 &#x8BE5;&#x7528;&#x6237;&#x7684;&#x96A7;&#x9053;&#x7C7B;&#x578B; RADIUS &#x5C5E;&#x6027;&#x4E0D;&#x6B63;&#x786E;&#x3002; ..796 &#x8BE5;&#x7528;&#x6237;&#x7684;&#x670D;&#x52A1;&#x7C7B;&#x578B; RADIUS &#x5C5E;&#x6027;&#x65E2;&#x4E0D;&#x662F;&#x6210;&#x5E27;&#x4E5F;&#x4E0D;&#x662F;&#x56DE;&#x62E8;&#x6210;&#x5E27;&#x3002; ..797 &#x65E0;&#x6CD5;&#x5EFA;&#x7ACB;&#x5230;&#x8FDC;&#x7A0B;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x56E0;&#x4E3A;&#x627E;&#x4E0D;&#x5230;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x6216;&#x8005;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#x5FD9;&#x3002; ..799 &#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x4E0A;&#x5B58;&#x5728; IP &#x5730;&#x5740;&#x51B2;&#x7A81;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x6CD5;&#x542F;&#x7528; Internet &#x8FDE;&#x63A5;&#x5171;&#x4EAB; (ICS)&#x3002;ICS &#x8981;&#x6C42;&#x5C06;&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#x6210;&#x4F7F;&#x7528; 192.168.0.1&#x3002;&#x8BF7;&#x786E;&#x4FDD;&#x7F51;&#x7EDC;&#x4E0A;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x5BA2;&#x6237;&#x7AEF;&#x88AB;&#x914D;&#x7F6E;&#x6210;&#x4F7F;&#x7528; 192.168.0.1&#x3002; ..800 &#x65E0;&#x6CD5;&#x5EFA;&#x7ACB; VPN &#x8FDE;&#x63A5;&#x3002;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5; VPN &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6216;&#x8005;&#x8BE5;&#x8FDE;&#x63A5;&#x7684;&#x5B89;&#x5168;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x4E0D;&#x6B63;&#x786E;&#x3002;&#x6E90;&#x5730;&#x5740;: http://blog.xiaonei.com/GetEntry.do?id=376939590&amp;owner=224956482]]></content>
      <categories>
        <category>linux</category>
        <category>http</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python-sqlite3基础]]></title>
    <url>%2F2017%2F02%2F13%2Flearn-sqlite3%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;SQLite&#xFF0C;&#x662F;&#x4E00;&#x6B3E;&#x8F7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x662F;&#x9075;&#x5B88;ACID&#x7684;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x5728;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x5C0F;&#x7684;C&#x5E93;&#x4E2D;&#x3002;&#x5B83;&#x662F;D.RichardHipp&#x5EFA;&#x7ACB;&#x7684;&#x516C;&#x6709;&#x9886;&#x57DF;&#x9879;&#x76EE;&#x3002;&#x5B83;&#x7684;&#x8BBE;&#x8BA1;&#x76EE;&#x6807;&#x662F;&#x5D4C;&#x5165;&#x5F0F;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x76EE;&#x524D;&#x5DF2;&#x7ECF;&#x5728;&#x5F88;&#x591A;&#x5D4C;&#x5165;&#x5F0F;&#x4EA7;&#x54C1;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x5B83;&#xFF0C;&#x5B83;&#x5360;&#x7528;&#x8D44;&#x6E90;&#x975E;&#x5E38;&#x7684;&#x4F4E;&#xFF0C;&#x5728;&#x5D4C;&#x5165;&#x5F0F;&#x8BBE;&#x5907;&#x4E2D;&#xFF0C;&#x53EF;&#x80FD;&#x53EA;&#x9700;&#x8981;&#x51E0;&#x767E;K&#x7684;&#x5185;&#x5B58;&#x5C31;&#x591F;&#x4E86;&#x3002;&#x5B83;&#x80FD;&#x591F;&#x652F;&#x6301;Windows/Linux/Unix&#x7B49;&#x7B49;&#x4E3B;&#x6D41;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x540C;&#x65F6;&#x80FD;&#x591F;&#x8DDF;&#x5F88;&#x591A;&#x7A0B;&#x5E8F;&#x8BED;&#x8A00;&#x76F8;&#x7ED3;&#x5408;&#xFF0C;&#x6BD4;&#x5982; Tcl&#x3001;C#&#x3001;PHP&#x3001;Java&#x3001;Python&#x7B49;&#xFF0C;&#x8FD8;&#x6709;ODBC&#x63A5;&#x53E3;&#xFF0C;&#x540C;&#x6837;&#x6BD4;&#x8D77;Mysql&#x3001;PostgreSQL&#x8FD9;&#x4E24;&#x6B3E;&#x5F00;&#x6E90;&#x7684;&#x4E16;&#x754C;&#x8457;&#x540D;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x6765;&#x8BB2;&#xFF0C;&#x5B83;&#x7684;&#x5904;&#x7406;&#x901F;&#x5EA6;&#x6BD4;&#x4ED6;&#x4EEC;&#x90FD;&#x5FEB;&#x3002;SQLite&#x7B2C;&#x4E00;&#x4E2A;Alpha&#x7248;&#x672C;&#x8BDE;&#x751F;&#x4E8E;2000&#x5E74;5&#x6708;&#x3002; &#x81F3;2015&#x5E74;&#x5DF2;&#x7ECF;&#x6709;15&#x4E2A;&#x5E74;&#x5934;&#xFF0C;SQLite&#x4E5F;&#x8FCE;&#x6765;&#x4E86;&#x4E00;&#x4E2A;&#x7248;&#x672C; SQLite 3&#x5DF2;&#x7ECF;&#x53D1;&#x5E03;&#x3002; &#x672C;&#x6587;&#x5185;&#x5BB9;&#x53D6;&#x81EA;&#x7F51;&#x7EDC;&#xFF0C;&#x539F;&#x6587;&#x5730;&#x5740; &#x5B89;&#x88C5;SQLite3 &#x53EF;&#x4F7F;&#x7528; sqlite3 &#x6A21;&#x5757;&#x4E0E; Python &#x8FDB;&#x884C;&#x96C6;&#x6210;&#x3002;sqlite3 &#x6A21;&#x5757;&#x662F;&#x7531; Gerhard Haring &#x7F16;&#x5199;&#x7684;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x4E0E; PEP 249 &#x63CF;&#x8FF0;&#x7684; DB-API 2.0 &#x89C4;&#x8303;&#x517C;&#x5BB9;&#x7684; SQL &#x63A5;&#x53E3;&#x3002;&#x60A8;&#x4E0D;&#x9700;&#x8981;&#x5355;&#x72EC;&#x5B89;&#x88C5;&#x8BE5;&#x6A21;&#x5757;&#xFF0C;&#x56E0;&#x4E3A; Python 2.5.x &#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x9ED8;&#x8BA4;&#x81EA;&#x5E26;&#x4E86;&#x8BE5;&#x6A21;&#x5757;&#x3002; &#x4E3A;&#x4E86;&#x4F7F;&#x7528; sqlite3 &#x6A21;&#x5757;&#xFF0C;&#x60A8;&#x9996;&#x5148;&#x5FC5;&#x987B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8868;&#x793A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x60A8;&#x53EF;&#x4EE5;&#x6709;&#x9009;&#x62E9;&#x5730;&#x521B;&#x5EFA;&#x5149;&#x6807;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x5C06;&#x5E2E;&#x52A9;&#x60A8;&#x6267;&#x884C;&#x6240;&#x6709;&#x7684; SQL &#x8BED;&#x53E5;&#x3002; Python sqlite3 &#x6A21;&#x5757; API&#x4EE5;&#x4E0B;&#x662F;&#x91CD;&#x8981;&#x7684; sqlite3 &#x6A21;&#x5757;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x6EE1;&#x8DB3;&#x60A8;&#x5728; Python &#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528; SQLite &#x6570;&#x636E;&#x5E93;&#x7684;&#x9700;&#x6C42;&#x3002;&#x5982;&#x679C;&#x60A8;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x7EC6;&#x8282;&#xFF0C;&#x8BF7;&#x67E5;&#x770B; Python sqlite3 &#x6A21;&#x5757;&#x7684;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x3002; sqlite3.connect(database [,timeout ,other optional arguments])123&#x8BE5; API &#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x5230; SQLite &#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6; database &#x7684;&#x94FE;&#x63A5;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; &quot;:memory:&quot; &#x6765;&#x5728; RAM &#x4E2D;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x5230; database &#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x78C1;&#x76D8;&#x4E0A;&#x6253;&#x5F00;&#x3002;&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x6210;&#x529F;&#x6253;&#x5F00;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x88AB;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#xFF0C;&#x4E14;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x4E86;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6B64;&#x65F6; SQLite &#x6570;&#x636E;&#x5E93;&#x88AB;&#x9501;&#x5B9A;&#xFF0C;&#x76F4;&#x5230;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x3002;timeout &#x53C2;&#x6570;&#x8868;&#x793A;&#x8FDE;&#x63A5;&#x7B49;&#x5F85;&#x9501;&#x5B9A;&#x7684;&#x6301;&#x7EED;&#x65F6;&#x95F4;&#xFF0C;&#x76F4;&#x5230;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x3002;timeout &#x53C2;&#x6570;&#x9ED8;&#x8BA4;&#x662F; 5.0&#xFF08;5 &#x79D2;&#xFF09;&#x3002;&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0; filename &#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8BE5;&#x8C03;&#x7528;&#x5C06;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5982;&#x679C;&#x60A8;&#x4E0D;&#x60F3;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5E26;&#x6709;&#x8DEF;&#x5F84;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x8FD9;&#x6837;&#x60A8;&#x5C31;&#x80FD;&#x5728;&#x4EFB;&#x610F;&#x5730;&#x65B9;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x3002; connection.cursor([cursorClass])1&#x8BE5;&#x4F8B;&#x7A0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; cursor&#xFF0C;&#x5C06;&#x5728; Python &#x6570;&#x636E;&#x5E93;&#x7F16;&#x7A0B;&#x4E2D;&#x7528;&#x5230;&#x3002;&#x8BE5;&#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x53EF;&#x9009;&#x7684;&#x53C2;&#x6570; cursorClass&#x3002;&#x5982;&#x679C;&#x63D0;&#x4F9B;&#x4E86;&#x8BE5;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x5B83;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x6269;&#x5C55;&#x81EA; sqlite3.Cursor &#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7684; cursor &#x7C7B;&#x3002; cursor.execute(sql [, optional parameters])12&#x8BE5;&#x4F8B;&#x7A0B;&#x6267;&#x884C;&#x4E00;&#x4E2A; SQL &#x8BED;&#x53E5;&#x3002;&#x8BE5; SQL &#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x88AB;&#x53C2;&#x6570;&#x5316;&#xFF08;&#x5373;&#x4F7F;&#x7528;&#x5360;&#x4F4D;&#x7B26;&#x4EE3;&#x66FF; SQL &#x6587;&#x672C;&#xFF09;&#x3002;sqlite3 &#x6A21;&#x5757;&#x652F;&#x6301;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5360;&#x4F4D;&#x7B26;&#xFF1A;&#x95EE;&#x53F7;&#x548C;&#x547D;&#x540D;&#x5360;&#x4F4D;&#x7B26;&#xFF08;&#x547D;&#x540D;&#x6837;&#x5F0F;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;cursor.execute(&quot;insert into people values (?, ?)&quot;, (who, age)) connection.execute(sql [, optional parameters])1&#x8BE5;&#x4F8B;&#x7A0B;&#x662F;&#x4E0A;&#x9762;&#x6267;&#x884C;&#x7684;&#x7531;&#x5149;&#x6807;&#xFF08;cursor&#xFF09;&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#xFF0C;&#x5B83;&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x5149;&#x6807;&#xFF08;cursor&#xFF09;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x7684;&#x5149;&#x6807;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x7ED9;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x8C03;&#x7528;&#x5149;&#x6807;&#x7684; execute &#x65B9;&#x6CD5;&#x3002; cursor.executemany(sql, seq_of_parameters)1&#x8BE5;&#x4F8B;&#x7A0B;&#x5BF9; seq_of_parameters &#x4E2D;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;&#x6216;&#x6620;&#x5C04;&#x6267;&#x884C;&#x4E00;&#x4E2A; SQL &#x547D;&#x4EE4;&#x3002; connection.executemany(sql[, parameters])1&#x8BE5;&#x4F8B;&#x7A0B;&#x662F;&#x4E00;&#x4E2A;&#x7531;&#x8C03;&#x7528;&#x5149;&#x6807;&#xFF08;cursor&#xFF09;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x7684;&#x4E2D;&#x95F4;&#x7684;&#x5149;&#x6807;&#x5BF9;&#x8C61;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x7ED9;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x8C03;&#x7528;&#x5149;&#x6807;&#x7684; executemany &#x65B9;&#x6CD5;&#x3002; cursor.executescript(sql_script)1&#x8BE5;&#x4F8B;&#x7A0B;&#x4E00;&#x65E6;&#x63A5;&#x6536;&#x5230;&#x811A;&#x672C;&#xFF0C;&#x4F1A;&#x6267;&#x884C;&#x591A;&#x4E2A; SQL &#x8BED;&#x53E5;&#x3002;&#x5B83;&#x9996;&#x5148;&#x6267;&#x884C; COMMIT &#x8BED;&#x53E5;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x7684; SQL &#x811A;&#x672C;&#x3002;&#x6240;&#x6709;&#x7684; SQL &#x8BED;&#x53E5;&#x5E94;&#x8BE5;&#x7528;&#x5206;&#x53F7;&#xFF08;;&#xFF09;&#x5206;&#x9694;&#x3002; connection.executescript(sql_script)1&#x8BE5;&#x4F8B;&#x7A0B;&#x662F;&#x4E00;&#x4E2A;&#x7531;&#x8C03;&#x7528;&#x5149;&#x6807;&#xFF08;cursor&#xFF09;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x7684;&#x4E2D;&#x95F4;&#x7684;&#x5149;&#x6807;&#x5BF9;&#x8C61;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x7ED9;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x8C03;&#x7528;&#x5149;&#x6807;&#x7684; executescript &#x65B9;&#x6CD5;&#x3002; connection.total_changes()1&#x8BE5;&#x4F8B;&#x7A0B;&#x8FD4;&#x56DE;&#x81EA;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6253;&#x5F00;&#x4EE5;&#x6765;&#x88AB;&#x4FEE;&#x6539;&#x3001;&#x63D2;&#x5165;&#x6216;&#x5220;&#x9664;&#x7684;&#x6570;&#x636E;&#x5E93;&#x603B;&#x884C;&#x6570;&#x3002; connection.commit()1&#x8BE5;&#x65B9;&#x6CD5;&#x63D0;&#x4EA4;&#x5F53;&#x524D;&#x7684;&#x4E8B;&#x52A1;&#x3002;&#x5982;&#x679C;&#x60A8;&#x672A;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x81EA;&#x60A8;&#x4E0A;&#x4E00;&#x6B21;&#x8C03;&#x7528; commit() &#x4EE5;&#x6765;&#x6240;&#x505A;&#x7684;&#x4EFB;&#x4F55;&#x52A8;&#x4F5C;&#x5BF9;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6765;&#x8BF4;&#x662F;&#x4E0D;&#x53EF;&#x89C1;&#x7684;&#x3002; connection.rollback()1&#x8BE5;&#x65B9;&#x6CD5;&#x56DE;&#x6EDA;&#x81EA;&#x4E0A;&#x4E00;&#x6B21;&#x8C03;&#x7528; commit() &#x4EE5;&#x6765;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x6240;&#x505A;&#x7684;&#x66F4;&#x6539;&#x3002; connection.close()1&#x8BE5;&#x65B9;&#x6CD5;&#x5173;&#x95ED;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x8C03;&#x7528; commit()&#x3002;&#x5982;&#x679C;&#x60A8;&#x4E4B;&#x524D;&#x672A;&#x8C03;&#x7528; commit() &#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x5173;&#x95ED;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF0C;&#x60A8;&#x6240;&#x505A;&#x7684;&#x6240;&#x6709;&#x66F4;&#x6539;&#x5C06;&#x5168;&#x90E8;&#x4E22;&#x5931;&#xFF01; cursor.fetchone()1&#x8BE5;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x7684;&#x4E0B;&#x4E00;&#x884C;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x5E8F;&#x5217;&#xFF0C;&#x5F53;&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x53EF;&#x7528;&#x7684;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; None&#x3002; cursor.fetchmany([size=cursor.arraysize])1&#x8BE5;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x7684;&#x4E0B;&#x4E00;&#x884C;&#x7EC4;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x3002;&#x5F53;&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x7684;&#x53EF;&#x7528;&#x7684;&#x884C;&#x65F6;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x5217;&#x8868;&#x3002;&#x8BE5;&#x65B9;&#x6CD5;&#x5C1D;&#x8BD5;&#x83B7;&#x53D6;&#x7531; size &#x53C2;&#x6570;&#x6307;&#x5B9A;&#x7684;&#x5C3D;&#x53EF;&#x80FD;&#x591A;&#x7684;&#x884C;&#x3002; cursor.fetchall()1&#x8BE5;&#x4F8B;&#x7A0B;&#x83B7;&#x53D6;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x6240;&#x6709;&#xFF08;&#x5269;&#x4F59;&#xFF09;&#x7684;&#x884C;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x3002;&#x5F53;&#x6CA1;&#x6709;&#x53EF;&#x7528;&#x7684;&#x884C;&#x65F6;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x5217;&#x8868;&#x3002; &#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x4E0B;&#x9762;&#x7684; Python &#x4EE3;&#x7801;&#x663E;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x8FDE;&#x63A5;&#x5230;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x5C31;&#x4F1A;&#x88AB;&#x521B;&#x5EFA;&#xFF0C;&#x6700;&#x540E;&#x5C06;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;&#x3002; 1234567891011#!/usr/bin/pythonimport sqlite3conn = sqlite3.connect(&apos;test.db&apos;)print &quot;Opened database successfully&quot;;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;&#x590D;&#x5236;&#x4E3A;&#x7279;&#x5B9A;&#x7684;&#x540D;&#x79F0; :memory:&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x5728; RAM &#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x3002;&#x73B0;&#x5728;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x8FD0;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x5E93; test.db&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x6539;&#x53D8;&#x8DEF;&#x5F84;&#x3002;&#x4FDD;&#x5B58;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x5230; sqlite.py &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5E76;&#x6309;&#x5982;&#x4E0B;&#x6240;&#x793A;&#x6267;&#x884C;&#x3002;&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x6210;&#x529F;&#x521B;&#x5EFA;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x663E;&#x793A;&#x4E0B;&#x9762;&#x6240;&#x793A;&#x7684;&#x6D88;&#x606F;&#xFF1A;$chmod +x sqlite.py$./sqlite.pyOpen database successfully &#x521B;&#x5EFA;&#x8868;&#x4E0B;&#x9762;&#x7684; Python &#x4EE3;&#x7801;&#x6BB5;&#x5C06;&#x7528;&#x4E8E;&#x5728;&#x5148;&#x524D;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8868;&#xFF1A; 12345678910111213141516171819#!/usr/bin/pythonimport sqlite3conn = sqlite3.connect(&apos;test.db&apos;)print &quot;Opened database successfully&quot;;conn.execute(&apos;&apos;&apos;CREATE TABLE COMPANY (ID INT PRIMARY KEY NOT NULL, NAME TEXT NOT NULL, AGE INT NOT NULL, ADDRESS CHAR(50), SALARY REAL);&apos;&apos;&apos;)print &quot;Table created successfully&quot;;conn.close()&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x5728; test.db &#x4E2D;&#x521B;&#x5EFA; COMPANY &#x8868;&#xFF0C;&#x5E76;&#x663E;&#x793A;&#x4E0B;&#x9762;&#x6240;&#x793A;&#x7684;&#x6D88;&#x606F;&#xFF1A;Opened database successfullyTable created successfully INSERT &#x64CD;&#x4F5C;&#x4E0B;&#x9762;&#x7684; Python &#x7A0B;&#x5E8F;&#x663E;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x5728;&#x4E0A;&#x9762;&#x521B;&#x5EFA;&#x7684; COMPANY &#x8868;&#x4E2D;&#x521B;&#x5EFA;&#x8BB0;&#x5F55;&#xFF1A; 12345678910111213141516171819202122232425#!/usr/bin/pythonimport sqlite3conn = sqlite3.connect(&apos;test.db&apos;)print &quot;Opened database successfully&quot;;conn.execute(&quot;INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \ VALUES (1, &apos;Paul&apos;, 32, &apos;California&apos;, 20000.00 )&quot;);conn.execute(&quot;INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \ VALUES (2, &apos;Allen&apos;, 25, &apos;Texas&apos;, 15000.00 )&quot;);conn.execute(&quot;INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \ VALUES (3, &apos;Teddy&apos;, 23, &apos;Norway&apos;, 20000.00 )&quot;);conn.execute(&quot;INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) \ VALUES (4, &apos;Mark&apos;, 25, &apos;Rich-Mond &apos;, 65000.00 )&quot;);conn.commit()print &quot;Records created successfully&quot;;conn.close()&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x5728; COMPANY &#x8868;&#x4E2D;&#x521B;&#x5EFA;&#x7ED9;&#x5B9A;&#x8BB0;&#x5F55;&#xFF0C;&#x5E76;&#x4F1A;&#x663E;&#x793A;&#x4EE5;&#x4E0B;&#x4E24;&#x884C;&#xFF1A;Opened database successfullyRecords created successfully SELECT &#x64CD;&#x4F5C;&#x4E0B;&#x9762;&#x7684; Python &#x7A0B;&#x5E8F;&#x663E;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x4ECE;&#x524D;&#x9762;&#x521B;&#x5EFA;&#x7684; COMPANY &#x8868;&#x4E2D;&#x83B7;&#x53D6;&#x5E76;&#x663E;&#x793A;&#x8BB0;&#x5F55;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839#!/usr/bin/pythonimport sqlite3conn = sqlite3.connect(&apos;test.db&apos;)print &quot;Opened database successfully&quot;;cursor = conn.execute(&quot;SELECT id, name, address, salary from COMPANY&quot;)for row in cursor: print &quot;ID = &quot;, row[0] print &quot;NAME = &quot;, row[1] print &quot;ADDRESS = &quot;, row[2] print &quot;SALARY = &quot;, row[3], &quot;\n&quot;print &quot;Operation done successfully&quot;;conn.close()&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x4EA7;&#x751F;&#x4EE5;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;Opened database successfullyID = 1NAME = PaulADDRESS = CaliforniaSALARY = 20000.0ID = 2NAME = AllenADDRESS = TexasSALARY = 15000.0ID = 3NAME = TeddyADDRESS = NorwaySALARY = 20000.0ID = 4NAME = MarkADDRESS = Rich-MondSALARY = 65000.0Operation done successfully UPDATE &#x64CD;&#x4F5C;&#x4E0B;&#x9762;&#x7684; Python &#x4EE3;&#x7801;&#x663E;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x4F7F;&#x7528; UPDATE &#x8BED;&#x53E5;&#x6765;&#x66F4;&#x65B0;&#x4EFB;&#x4F55;&#x8BB0;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x4ECE; COMPANY &#x8868;&#x4E2D;&#x83B7;&#x53D6;&#x5E76;&#x663E;&#x793A;&#x66F4;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#xFF1A; 1234567891011121314151617181920212223242526272829303132333435363738394041424344#!/usr/bin/pythonimport sqlite3conn = sqlite3.connect(&apos;test.db&apos;)print &quot;Opened database successfully&quot;;conn.execute(&quot;UPDATE COMPANY set SALARY = 25000.00 where ID=1&quot;)conn.commit()print &quot;Total number of rows updated :&quot;, conn.total_changescursor = conn.execute(&quot;SELECT id, name, address, salary from COMPANY&quot;)for row in cursor: print &quot;ID = &quot;, row[0] print &quot;NAME = &quot;, row[1] print &quot;ADDRESS = &quot;, row[2] print &quot;SALARY = &quot;, row[3], &quot;\n&quot;print &quot;Operation done successfully&quot;;conn.close()&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x4EA7;&#x751F;&#x4EE5;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;Opened database successfullyTotal number of rows updated : 1ID = 1NAME = PaulADDRESS = CaliforniaSALARY = 25000.0ID = 2NAME = AllenADDRESS = TexasSALARY = 15000.0ID = 3NAME = TeddyADDRESS = NorwaySALARY = 20000.0ID = 4NAME = MarkADDRESS = Rich-MondSALARY = 65000.0Operation done successfully DELETE &#x64CD;&#x4F5C;&#x4E0B;&#x9762;&#x7684; Python &#x4EE3;&#x7801;&#x663E;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x4F7F;&#x7528; DELETE &#x8BED;&#x53E5;&#x5220;&#x9664;&#x4EFB;&#x4F55;&#x8BB0;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x4ECE; COMPANY &#x8868;&#x4E2D;&#x83B7;&#x53D6;&#x5E76;&#x663E;&#x793A;&#x5269;&#x4F59;&#x7684;&#x8BB0;&#x5F55;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839#!/usr/bin/pythonimport sqlite3conn = sqlite3.connect(&apos;test.db&apos;)print &quot;Opened database successfully&quot;;conn.execute(&quot;DELETE from COMPANY where ID=2;&quot;)conn.commit()print &quot;Total number of rows deleted :&quot;, conn.total_changescursor = conn.execute(&quot;SELECT id, name, address, salary from COMPANY&quot;)for row in cursor: print &quot;ID = &quot;, row[0] print &quot;NAME = &quot;, row[1] print &quot;ADDRESS = &quot;, row[2] print &quot;SALARY = &quot;, row[3], &quot;\n&quot;print &quot;Operation done successfully&quot;;conn.close()&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x4EA7;&#x751F;&#x4EE5;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;Opened database successfullyTotal number of rows deleted : 1ID = 1NAME = PaulADDRESS = CaliforniaSALARY = 20000.0ID = 3NAME = TeddyADDRESS = NorwaySALARY = 20000.0ID = 4NAME = MarkADDRESS = Rich-MondSALARY = 65000.0Operation done successfully]]></content>
      <categories>
        <category>db</category>
        <category>sqlite</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>python</tag>
        <tag>sqlite</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python-argparse模块使用教程]]></title>
    <url>%2F2017%2F02%2F09%2Fpython-argparse%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x4F7F;&#x7528;argparse&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x7684;&#x7F16;&#x5199;&#x53CB;&#x597D;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53E3;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B83;&#x5B9A;&#x4E49;&#x6240;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;, argparse&#x80FD;&#x591F;&#x63A5;&#x6536;&#x5E76;&#x89E3;&#x6790;&#x8FD9;&#x4E9B;sys.argv&#xFF08;&#x53C2;&#x6570;&#xFF0C;&#x9009;&#x9879;&#xFF09;&#x3002;&#x540C;&#x65F6;argparse&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5E2E;&#x52A9;&#x548C;&#x4F7F;&#x7528;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x5BF9;&#x65E0;&#x6548;&#x53C2;&#x6570;&#x505A;&#x51FA;&#x9519;&#x8BEF;&#x63D0;&#x793A;&#x3002; python&#x65E9;&#x671F;&#x4F7F;&#x7528;optparse&#x6A21;&#x5757;&#xFF0C;2.7&#x7248;&#x672C;&#x65F6;&#x505C;&#x6B62;optparse&#x6A21;&#x5757;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x540C;&#x65F6;&#x5F00;&#x59CB;argparse&#x6A21;&#x5757;&#x7684;&#x5F00;&#x53D1;&#x7EF4;&#x62A4;&#xFF0C;&#x56E0;&#x6B64;&#x5EFA;&#x8BAE;&#x5404;&#x4F4D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;argparse&#x3002; &#x672C;&#x6587;&#x4F7F;&#x7528;python3&#x7248;&#x672C;&#x4F5C;&#x4E3A;&#x57FA;&#x7840;&#x73AF;&#x5883;&#x3002; &#x672C;&#x6587;&#x5185;&#x5BB9;&#x4E3B;&#x8981;&#x6E90;&#x81EA;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF0C;&#x52A0;&#x4E0A;&#x672C;&#x4EBA;&#x5728;&#x5B66;&#x4E60;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x7406;&#x89E3;&#x3002;&#x5B98;&#x65B9;&#x6587;&#x6863; &#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;1234567891011import argparseparser = argparse.ArgumentParser(description=&apos;Process some integers.&apos;)parser.add_argument(&apos;integers&apos;, metavar=&apos;N&apos;, type=int, nargs=&apos;+&apos;, help=&apos;an integer for the accumulator&apos;)parser.add_argument(&apos;--sum&apos;, dest=&apos;accumulate&apos;, action=&apos;store_const&apos;, const=sum, default=max, help=&apos;sum the integers (default: find the max)&apos;)args = parser.parse_args()print(args.accumulate(args.integers)) 1234567891011121314151617181920212223$ python prog.py -husage: prog.py [-h] [--sum] N [N ...]Process some integers.positional arguments: N an integer for the accumulatoroptional arguments: -h, --help show this help message and exit --sum sum the integers (default: find the max)### $ python prog.py 1 2 3 44$ python prog.py 1 2 3 4 --sum10### $ python prog.py a b cusage: prog.py [-h] [--sum] N [N ...]prog.py: error: argument N: invalid int value: &apos;a&apos; &#x4F7F;&#x7528;&#x6B65;&#x9AA4;12345678910# &#x5BFC;&#x5165;&#x6A21;&#x5757;1:import argparse# &#x521B;&#x5EFA;&#x89E3;&#x6790;&#x5BF9;&#x8C61;2:parser = argparse.ArgumentParser()# &#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x9879;3:parser.add_argument()# &#x89E3;&#x6790;&#x53C2;&#x6570;&#x9879;4:args = parser.parse_args()# &#x4F7F;&#x7528;5:args.xxx ArgumentParser&#x5BF9;&#x8C61;&#x53C2;&#x6570;&#x89E3;&#x6790;&#x8FD9;&#x90E8;&#x5206;&#x5E76;&#x975E;&#x91CD;&#x70B9;&#x5185;&#x5BB9;&#xFF0C;&#x53EA;&#x8981;&#x77E5;&#x9053;&#x524D;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x7528;&#x6CD5;&#x5373;&#x53EF; 12class argparse.ArgumentParser(prog=None, usage=None, description=None, epilog=None, parents=[], formatter_class=argparse.HelpFormatter, prefix_chars=&apos;-&apos;, fromfile_prefix_chars=None, argument_default=None, conflict_handler=&apos;error&apos;, add_help=True, allow_abbrev=True)Create a new ArgumentParser object. All parameters should be passed as keyword arguments. Each parameter has its own more detailed description below, but in short they are: prog - The name of the program (default: sys.argv[0]) usage - The string describing the program usage (default: generated from arguments added to parser) description - Text to display before the argument help (default: none) epilog - Text to display after the argument help (default: none) parents - A list of ArgumentParser objects whose arguments should also be included formatter_class - A class for customizing the help output prefix_chars - The set of characters that prefix optional arguments (default: &#x2018;-&#x2018;) fromfile_prefix_chars - The set of characters that prefix files from which additional arguments should be read (default: None) argument_default - The global default value for arguments (default: None) conflict_handler - The strategy for resolving conflicting optionals (usually unnecessary) add_help - Add a -h/&#x2013;help option to the parser (default: True) allow_abbrev - Allows long options to be abbreviated if the abbreviation is unambiguous. (default: True) progprog&#x53C2;&#x6570;&#x76F8;&#x5F53;&#x4E8E;python&#x4E2D;&#x7684;sys.argv[0]&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x5F53;&#x524D;&#x6267;&#x884C;&#x811A;&#x672C;&#x7684;&#x811A;&#x672C;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x3002; 1parser = argparse.ArgumentParser(prog=&apos;myprogram&apos;) usageusage&#x53C2;&#x6570;&#x7528;&#x6765;&#x63D0;&#x793A;&#x53C2;&#x6570;&#x9879;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x81EA;&#x52A8;&#x751F;&#x6210;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x81EA;&#x5B9A;&#x4E49; 1parser = argparse.ArgumentParser(prog=&apos;PROG&apos;, usage=&apos;%(prog)s [options]&apos;) descriptiondescription&#x7528;&#x6765;&#x6DFB;&#x52A0;&#x5E2E;&#x52A9;&#x83DC;&#x5355;&#x4E2D;&#x7684;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#x3002; 1parser = argparse.ArgumentParser(description=&apos;A foo that bars&apos;) epilogepilog&#x7528;&#x6765;&#x6DFB;&#x52A0;&#x5E2E;&#x52A9;&#x83DC;&#x5355;&#x4E2D;&#x7684;&#x7A0B;&#x5E8F;&#x7ED3;&#x5C3E;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#x3002; 123parser = argparse.ArgumentParser( description=&apos;A foo that bars&apos;, epilog=&quot;And that&apos;s how you&apos;d foo a bar&quot;) parents&#x6709;&#x65F6;&#x5019;&#xFF0C;&#x6709;&#x4E9B;&#x53C2;&#x6570;&#x9879;&#x53EF;&#x80FD;&#x4F5C;&#x4E3A;&#x4E00;&#x7EC4;&#x901A;&#x7528;&#x53C2;&#x6570;&#x9879;&#x6765;&#x5206;&#x4EAB;&#x7ED9;&#x4E0D;&#x901A;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x91CD;&#x590D;&#x7684;&#x6765;&#x5B9A;&#x4E49;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x9879;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x5230;parents&#x53C2;&#x6570;&#xFF0C;&#x5B50;&#x5BF9;&#x8C61;&#x4F1A;&#x7EE7;&#x627F;parents&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;&#x9879;&#x3002; 123456789101112131415# &#x9996;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x7EE7;&#x627F;&#x7684;parents&#xFF0C;&#x9700;&#x8981;&#x5173;&#x95ED;add_help&#x53C2;&#x6570;parent_parser = argparse.ArgumentParser(add_help=False)parent_parser.add_argument(&apos;--parent&apos;, type=int)# &#x5B50;&#x5BF9;&#x8C61;foo_parser = argparse.ArgumentParser(parents=[parent_parser])foo_parser.add_argument(&apos;foo&apos;)foo_parser.parse_args([&apos;--parent&apos;, &apos;2&apos;, &apos;XXX&apos;])Namespace(foo=&apos;XXX&apos;, parent=2)# &#x5B50;&#x5BF9;&#x8C61;bar_parser = argparse.ArgumentParser(parents=[parent_parser])bar_parser.add_argument(&apos;--bar&apos;)bar_parser.parse_args([&apos;--bar&apos;, &apos;YYY&apos;])Namespace(bar=&apos;YYY&apos;, parent=None) formatter_class&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x51E0;&#x4E2A;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x628A;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#x4E2D;&#x7684;&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002; RawDescriptionHelpFormatter&#x5B9A;&#x5236;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;&#x7F29;&#x8FDB;&#x683C;&#x5F0F; 123456789101112131415161718192021parser = argparse.ArgumentParser( prog=&apos;PROG&apos;, formatter_class=argparse.RawDescriptionHelpFormatter, description=textwrap.dedent(&apos;&apos;&apos;\ Please do not mess up this text! -------------------------------- I have indented it exactly the way I want it &apos;&apos;&apos;))usage: PROG [-h]Please do not mess up this text!-------------------------------- I have indented it exactly the way I want itoptional arguments: -h, --help show this help message and exit ArgumentDefaultsHelpFormatter&#x81EA;&#x52A8;&#x589E;&#x52A0;defaults&#x503C;&#x663E;&#x793A; 1234567891011121314parser = argparse.ArgumentParser( prog=&apos;PROG&apos;, formatter_class=argparse.ArgumentDefaultsHelpFormatter)parser.add_argument(&apos;--foo&apos;, type=int, default=42, help=&apos;FOO!&apos;)parser.add_argument(&apos;bar&apos;, nargs=&apos;*&apos;, default=[1, 2, 3], help=&apos;BAR!&apos;)usage: PROG [-h] [--foo FOO] [bar [bar ...]]positional arguments: bar BAR! (default: [1, 2, 3])optional arguments: -h, --help show this help message and exit --foo FOO FOO! (default: 42) MetavarTypeHelpFormatter&#x7528;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x6765;&#x66FF;&#x4EE3;&#x5E2E;&#x52A9;&#x4FE1;&#x606F; 1234567891011121314parser = argparse.ArgumentParser( prog=&apos;PROG&apos;, formatter_class=argparse.MetavarTypeHelpFormatter)parser.add_argument(&apos;--foo&apos;, type=int)parser.add_argument(&apos;bar&apos;, type=float)usage: PROG [-h] [--foo int] floatpositional arguments: floatoptional arguments: -h, --help show this help message and exit --foo int prefix_charsprefix_chars&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x9009;&#x9879;&#x53C2;&#x6570;&#x7684;&#x524D;&#x7F00;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;[-/&#x2013;]&#x3002; 123parser = argparse.ArgumentParser(prog=&apos;PROG&apos;, prefix_chars=&apos;-+&apos;)parser.add_argument(&apos;+f&apos;)parser.add_argument(&apos;++bar&apos;) fromfile_prefix_charsfromfile_prefix_chars&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x4E3A;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x9879;&#x503C;&#x3002; 123456with open(&apos;args.txt&apos;, &apos;w&apos;) as fp: fp.write(&apos;-f\nbar&apos;)parser = argparse.ArgumentParser(fromfile_prefix_chars=&apos;@&apos;)parser.add_argument(&apos;-f&apos;)parser.parse_args([&apos;-f&apos;, &apos;foo&apos;, &apos;@args.txt&apos;])Namespace(f=&apos;bar&apos;) argument_default&#x6B63;&#x5E38;&#x6765;&#x8BF4;&#x7ED9;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x9879;&#x8BBE;&#x5B9A;&#x9ED8;&#x8BA4;&#x503C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;add_argument()&#x6216;&#x8005;set_defaults()&#x65B9;&#x6CD5;&#x6765;&#x6DFB;&#x52A0;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x80FD;&#x5BF9;&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x5355;&#x72EC;&#x5236;&#x5B9A;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528;argument_default&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x7ED9;&#x6240;&#x6709;&#x6CA1;&#x6709;&#x9ED8;&#x8BA4;&#x503C;&#x7684;&#x53C2;&#x6570;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x503C;&#x3002; 1Generally, argument defaults are specified either by passing a default to add_argument() or by calling the set_defaults() methods with a specific set of name-value pairs. Sometimes however, it may be useful to specify a single parser-wide default for arguments. This can be accomplished by passing the argument_default= keyword argument to ArgumentParser. For example, to globally suppress attribute creation on parse_args() calls, we supply argument_default=SUPPRESS: &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x6CA1;&#x770B;&#x61C2;&#xFF0C;&#x8D34;&#x4E00;&#x4E0B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x5427; 1parser = argparse.ArgumentParser(argument_default=argparse.SUPPRESS) allow_abbrev&#x901A;&#x5E38;&#x60C5;&#x51B5;&#xFF0C;&#x5F53;&#x4F60;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x9879;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x7F29;&#x5199;&#x7684;&#x53C2;&#x6570;&#x9879;&#xFF0C;allow_abbrev&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x7F29;&#x5199;&#x53C2;&#x6570;&#x9879;&#xFF08;python3&#xFF09;&#x3002; 12345678910111213parser = argparse.ArgumentParser(prog=&apos;PROG&apos;, allow_abbrev=False)parser.add_argument(&apos;--foobar&apos;, action=&apos;store_true&apos;)parser.add_argument(&apos;--foonley&apos;, action=&apos;store_false&apos;)parser.parse_args([&apos;--foon&apos;])usage: PROG [-h] [--foobar] [--foonley]PROG: error: unrecognized arguments: --foon# &#x4E0D;&#x5173;&#x95ED;&#x7684;&#x60C5;&#x51B5;parser.parse_args([&apos;--foob&apos;])Namespace(foobar=True, foonley=True)parser.parse_args([&apos;--foon&apos;])Namespace(foobar=False, foonley=False) conflict_handler&#x6B63;&#x5E38;&#x6765;&#x8BF4;&#x4F60;&#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x9879;&#xFF0C;&#x662F;&#x4E0D;&#x80FD;&#x5728;&#x6B64;&#x6307;&#x5B9A;&#x6765;&#x8986;&#x76D6;&#x5DF2;&#x7ECF;&#x6307;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x9879;&#x7684;&#xFF0C;conflict_handler&#x53EF;&#x4EE5;&#x5F00;&#x653E;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x3002; 123456789101112131415161718&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-f&apos;, &apos;--foo&apos;, help=&apos;old foo help&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, help=&apos;new foo help&apos;)Traceback (most recent call last): ..ArgumentError: argument --foo: conflicting option string(s): --foo&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;, conflict_handler=&apos;resolve&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-f&apos;, &apos;--foo&apos;, help=&apos;old foo help&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, help=&apos;new foo help&apos;)&gt;&gt;&gt; parser.print_help()usage: PROG [-h] [-f FOO] [--foo FOO]optional arguments: -h, --help show this help message and exit -f FOO old foo help --foo FOO new foo help add_help&#x53EF;&#x4EE5;&#x7528;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x6765;&#x5173;&#x95ED;&#x9ED8;&#x8BA4;&#x7684;help&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x81EA;&#x5B9A;&#x4E49;&#x3002;&#x5173;&#x95ED;&#x4E86;&#x4E4B;&#x540E;&#x8FD8;&#x662F;&#x53EF;&#x4EE5;&#x7528;parser.print_help() &#x6765;&#x6253;&#x5370;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#x7684;&#x3002; 1parser = argparse.ArgumentParser(prog=&apos;PROG&apos;, add_help=False) add_argument&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x89E3;&#x6790;&#x8FD9;&#x4E2A;&#x624D;&#x662F;&#x672C;&#x6587;&#x7684;&#x91CD;&#x70B9; 12ArgumentParser.add_argument(name or flags...[, action][, nargs][, const][, default][, type][, choices][, required][, help][, metavar][, dest])Define how a single command-line argument should be parsed. Each parameter has its own more detailed description below, but in short they are: name or flags - Either a name or a list of option strings, e.g. foo or -f, &#x2013;foo. action - The basic type of action to be taken when this argument is encountered at the command line. nargs - The number of command-line arguments that should be consumed. const - A constant value required by some action and nargs selections. default - The value produced if the argument is absent from the command line. type - The type to which the command-line argument should be converted. choices - A container of the allowable values for the argument. required - Whether or not the command-line option may be omitted (optionals only). help - A brief description of what the argument does. metavar - A name for the argument in usage messages. dest - The name of the attribute to be added to the object returned by parse_args(). name or flags&#x9009;&#x9879;&#x540D;&#x3001;&#x53C2;&#x6570;&#x540D;&#x3001;&#x6807;&#x7B7E;&#x3002;&#x5206;&#x4E3A;&#x4E24;&#x79CD; &#x5E26;&#x524D;&#x7F00;&#xFF1A;-f -foo &#xFF0C;&#x53C2;&#x6570;&#x9879; &#x4E0D;&#x5E26;&#x524D;&#x7F00;&#xFF1A;bar&#xFF0C;&#x4F4D;&#x7F6E;&#x53D8;&#x91CF; 12parser.add_argument(&apos;-f&apos;, &apos;--foo&apos;)parser.add_argument(&apos;bar&apos;) actionaction&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x9879;&#x7684;&#x5C5E;&#x6027;&#x7C7B;&#x578B;&#x3002; store&#x9ED8;&#x8BA4;&#x7C7B;&#x578B;&#xFF0C;&#x53EA;&#x662F;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x503C;&#x3002; 1234&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;)&gt;&gt;&gt; parser.parse_args(&apos;--foo 1&apos;.split())Namespace(foo=&apos;1&apos;) store_const&#x548C;const&#x53C2;&#x6570;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x5E38;&#x91CF;&#x3002; 1234&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, action=&apos;store_const&apos;, const=42)&gt;&gt;&gt; parser.parse_args([&apos;--foo&apos;])Namespace(foo=42) store_true &amp; store_false&#x5B58;&#x50A8;&#x5E38;&#x91CF;&#x7684;&#x7279;&#x6B8A;&#x7C7B;&#x578B;&#xFF0C;&#x5B58;&#x50A8;&#x5E03;&#x5C14;&#x503C;&#x3002; 123456&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, action=&apos;store_true&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--bar&apos;, action=&apos;store_false&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--baz&apos;, action=&apos;store_false&apos;)&gt;&gt;&gt; parser.parse_args(&apos;--foo --bar&apos;.split())Namespace(foo=True, bar=False, baz=True) append&#x8FFD;&#x52A0;&#x5C5E;&#x6027;&#xFF0C;&#x53C2;&#x6570;&#x9879;&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x51FA;&#x73B0;&#xFF0C;&#x591A;&#x6B21;&#x503C;&#x4F1A;&#x8FFD;&#x52A0;&#x6210;&#x4E00;&#x4E2A;list&#x3002; 1234&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, action=&apos;append&apos;)&gt;&gt;&gt; parser.parse_args(&apos;--foo 1 --foo 2&apos;.split())Namespace(foo=[&apos;1&apos;, &apos;2&apos;]) append_const&#x548C;const&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x7528;&#x6765;&#x8FFD;&#x52A0;&#x5E38;&#x91CF;&#x3002; 12345&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--str&apos;, dest=&apos;types&apos;, action=&apos;append_const&apos;, const=str)&gt;&gt;&gt; parser.add_argument(&apos;--int&apos;, dest=&apos;types&apos;, action=&apos;append_const&apos;, const=int)&gt;&gt;&gt; parser.parse_args(&apos;--str --int&apos;.split())Namespace(types=[&lt;class &apos;str&apos;&gt;, &lt;class &apos;int&apos;&gt;]) count&#x6570;&#x91CF;&#x7EDF;&#x8BA1;&#xFF0C;&#x53C2;&#x6570;&#x9879;&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x51FA;&#x73B0;&#xFF0C;&#x8BB0;&#x5F55;&#x51FA;&#x73B0;&#x6B21;&#x6570;&#x4E3A;&#x9009;&#x9879;&#x7684;&#x503C;&#x3002; 1234&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--verbose&apos;, &apos;-v&apos;, action=&apos;count&apos;)&gt;&gt;&gt; parser.parse_args([&apos;-vvv&apos;])Namespace(verbose=3) help&#x81EA;&#x5B9A;&#x4E49;help&#x9009;&#x9879;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x7684;&#x3002; version&#x521B;&#x5EFA;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x4F7F;&#x7528;&#x3002; 12345&gt;&gt;&gt; import argparse&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--version&apos;, action=&apos;version&apos;, version=&apos;%(prog)s 2.0&apos;)&gt;&gt;&gt; parser.parse_args([&apos;--version&apos;])PROG 2.0 &#x81EA;&#x5B9A;&#x4E49;action1234567891011121314151617&gt;&gt;&gt; class FooAction(argparse.Action):... def __init__(self, option_strings, dest, nargs=None, **kwargs):... if nargs is not None:... raise ValueError(&quot;nargs not allowed&quot;)... super(FooAction, self).__init__(option_strings, dest, **kwargs)... def __call__(self, parser, namespace, values, option_string=None):... print(&apos;%r %r %r&apos; % (namespace, values, option_string))... setattr(namespace, self.dest, values)...&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, action=FooAction)&gt;&gt;&gt; parser.add_argument(&apos;bar&apos;, action=FooAction)&gt;&gt;&gt; args = parser.parse_args(&apos;1 --foo 2&apos;.split())Namespace(bar=None, foo=None) &apos;1&apos; NoneNamespace(bar=&apos;1&apos;, foo=None) &apos;2&apos; &apos;--foo&apos;&gt;&gt;&gt; argsNamespace(bar=&apos;1&apos;, foo=&apos;2&apos;) nargs&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x7528;&#x6765;&#x89C4;&#x5B9A;&#x6DFB;&#x52A0;&#x7684;&#x53C2;&#x6570;&#x9879;&#x5BF9;&#x5E94;&#x53C2;&#x6570;&#x503C;&#x7684;&#x4E2A;&#x6570;&#x3002; 1&#x3001;2&#x3001;3&#x2026; &#x2018;?&#x2019; 0&#x6216;1&#x4E2A; &#x2018;+&#x2019; &#x81F3;&#x5C11;&#x4E00;&#x4E2A; &#x2018;*&#x2019; 0&#x5230;&#x591A;&#x4E2A; argparse.REMAINDER &#xFF1F;&#xFF1F;&#xFF1F; 12345&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, nargs=2)&gt;&gt;&gt; parser.add_argument(&apos;bar&apos;, nargs=1)&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, nargs=&apos;?&apos;, const=&apos;c&apos;, default=&apos;d&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--bar&apos;, nargs=&apos;*&apos;)&gt;&gt;&gt; parser.add_argument(&apos;foo&apos;, nargs=&apos;+&apos;) const&#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x5E38;&#x91CF;&#x7684;&#x503C;&#xFF0C;&#x4E0E;store_const &#x548C;append_const &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002; default&#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x503C; type&#x8BBE;&#x5B9A;&#x53C2;&#x6570;&#x9879;&#x7684;&#x503C;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x9ED8;&#x8BA4;str&#x7C7B;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;int&#x3001;float&#x7B49;&#x3002; 12345678910&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;foo&apos;, type=int)&gt;&gt;&gt; parser.add_argument(&apos;bar&apos;, type=open)&gt;&gt;&gt; parser.parse_args(&apos;2 temp.txt&apos;.split())Namespace(bar=&lt;_io.TextIOWrapper name=&apos;temp.txt&apos; encoding=&apos;UTF-8&apos;&gt;, foo=2)&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;bar&apos;, type=argparse.FileType(&apos;w&apos;))&gt;&gt;&gt; parser.parse_args([&apos;out.txt&apos;])Namespace(bar=&lt;_io.TextIOWrapper name=&apos;out.txt&apos; encoding=&apos;UTF-8&apos;&gt;) &#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B; 123456789101112131415&gt;&gt;&gt; def perfect_square(string):... value = int(string)... sqrt = math.sqrt(value)... if sqrt != int(sqrt):... msg = &quot;%r is not a perfect square&quot; % string... raise argparse.ArgumentTypeError(msg)... return value...&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;foo&apos;, type=perfect_square)&gt;&gt;&gt; parser.parse_args([&apos;9&apos;])Namespace(foo=9)&gt;&gt;&gt; parser.parse_args([&apos;7&apos;])usage: PROG [-h] fooPROG: error: argument foo: &apos;7&apos; is not a perfect square &#x53EF;&#x4EE5;&#x914D;&#x5408;&#x4F7F;&#x7528;choices&#x53C2;&#x6570;&#x6765;&#x5B9A;&#x4E49;&#x53C2;&#x6570;&#x503C;&#x8303;&#x56F4; 1234567&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;foo&apos;, type=int, choices=range(5, 10))&gt;&gt;&gt; parser.parse_args([&apos;7&apos;])Namespace(foo=7)&gt;&gt;&gt; parser.parse_args([&apos;11&apos;])usage: PROG [-h] {5,6,7,8,9}PROG: error: argument foo: invalid choice: 11 (choose from 5, 6, 7, 8, 9) choices&#x7528;&#x6765;&#x9650;&#x5236;&#x53C2;&#x6570;&#x503C;&#x7684;&#x9009;&#x5B9A;&#x8303;&#x56F4; 12parser.add_argument(&apos;move&apos;, choices=[&apos;rock&apos;, &apos;paper&apos;, &apos;scissors&apos;])parser.add_argument(&apos;door&apos;, type=int, choices=range(1, 4)) required&#x8BBE;&#x5B9A;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x53EF;&#x662F;&#x8BA9;&#x53C2;&#x6570;&#x9879;&#x53D8;&#x6210;&#x5FC5;&#x9009;&#x9879;&#x3002; 1234567&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, required=True)&gt;&gt;&gt; parser.parse_args([&apos;--foo&apos;, &apos;BAR&apos;])Namespace(foo=&apos;BAR&apos;)&gt;&gt;&gt; parser.parse_args([])usage: argparse.py [-h] [--foo FOO]argparse.py: error: option --foo is required help&#x7528;&#x6765;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x9879;&#x7684;&#x5E2E;&#x52A9;&#x4FE1;&#x606F; metavar&#x6253;&#x5370;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x53C2;&#x6570;&#x9879;&#x7684;&#x6F14;&#x793A;&#x503C;&#x3002; 1234567891011121314151617181920212223242526&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, metavar=&apos;YYY&apos;)&gt;&gt;&gt; parser.add_argument(&apos;bar&apos;, metavar=&apos;XXX&apos;)&gt;&gt;&gt; parser.parse_args(&apos;X --foo Y&apos;.split())Namespace(bar=&apos;X&apos;, foo=&apos;Y&apos;)&gt;&gt;&gt; parser.print_help()usage: [-h] [--foo YYY] XXXpositional arguments: XXXoptional arguments: -h, --help show this help message and exit --foo YYY &gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-x&apos;, nargs=2)&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, nargs=2, metavar=(&apos;bar&apos;, &apos;baz&apos;))&gt;&gt;&gt; parser.print_help()usage: PROG [-h] [-x X X] [--foo bar baz]optional arguments: -h, --help show this help message and exit -x X X --foo bar baz dest&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#x9879;&#x540D;&#x5B57;&#x3002; 1234&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, dest=&apos;bar&apos;)&gt;&gt;&gt; parser.parse_args(&apos;--foo XXX&apos;.split())Namespace(bar=&apos;XXX&apos;) parse_args()&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x8BF4;&#x660E;&#x7528;&#x6765;&#x89E3;&#x6790;&#x53C2;&#x6570;&#x9879;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x4E0D;&#x662F;&#x91CD;&#x70B9;&#xFF0C;&#x770B;&#x770B;&#x5C31;&#x597D;&#x3002; Option value syntax&#x53C2;&#x6570;&#x9879;&#x4F7F;&#x7528;&#x65B9;&#x5F0F; 1234567891011121314151617181920&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-x&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;)&gt;&gt;&gt; parser.parse_args([&apos;-x&apos;, &apos;X&apos;])Namespace(foo=None, x=&apos;X&apos;)&gt;&gt;&gt; parser.parse_args([&apos;--foo&apos;, &apos;FOO&apos;])Namespace(foo=&apos;FOO&apos;, x=None)&gt;&gt;&gt; parser.parse_args([&apos;--foo=FOO&apos;])Namespace(foo=&apos;FOO&apos;, x=None)&gt;&gt;&gt; parser.parse_args([&apos;-xX&apos;])Namespace(foo=None, x=&apos;X&apos;)&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-x&apos;, action=&apos;store_true&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-y&apos;, action=&apos;store_true&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-z&apos;)&gt;&gt;&gt; parser.parse_args([&apos;-xyzZ&apos;])Namespace(x=True, y=True, z=&apos;Z&apos;) Invalid arguments&#x9519;&#x8BEF;&#x8F93;&#x51FA;&#xFF0C;&#x53C2;&#x6570;&#x9879;&#x6216;&#x53C2;&#x6570;&#x503C;&#x4E0D;&#x7B26;&#x5408;&#x89C4;&#x5B9A;&#x65F6;&#x4F1A;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x4FE1;&#x606F; 123456789101112131415161718&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, type=int)&gt;&gt;&gt; parser.add_argument(&apos;bar&apos;, nargs=&apos;?&apos;)&gt;&gt;&gt; # invalid type&gt;&gt;&gt; parser.parse_args([&apos;--foo&apos;, &apos;spam&apos;])usage: PROG [-h] [--foo FOO] [bar]PROG: error: argument --foo: invalid int value: &apos;spam&apos;&gt;&gt;&gt; # invalid option&gt;&gt;&gt; parser.parse_args([&apos;--bar&apos;])usage: PROG [-h] [--foo FOO] [bar]PROG: error: no such option: --bar&gt;&gt;&gt; # wrong number of arguments&gt;&gt;&gt; parser.parse_args([&apos;spam&apos;, &apos;badger&apos;])usage: PROG [-h] [--foo FOO] [bar]PROG: error: extra arguments found: badger Arguments containing1234567891011121314151617181920212223242526272829&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-x&apos;)&gt;&gt;&gt; parser.add_argument(&apos;foo&apos;, nargs=&apos;?&apos;)&gt;&gt;&gt; # no negative number options, so -1 is a positional argument&gt;&gt;&gt; parser.parse_args([&apos;-x&apos;, &apos;-1&apos;])Namespace(foo=None, x=&apos;-1&apos;)&gt;&gt;&gt; # no negative number options, so -1 and -5 are positional arguments&gt;&gt;&gt; parser.parse_args([&apos;-x&apos;, &apos;-1&apos;, &apos;-5&apos;])Namespace(foo=&apos;-5&apos;, x=&apos;-1&apos;)&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-1&apos;, dest=&apos;one&apos;)&gt;&gt;&gt; parser.add_argument(&apos;foo&apos;, nargs=&apos;?&apos;)&gt;&gt;&gt; # negative number options present, so -1 is an option&gt;&gt;&gt; parser.parse_args([&apos;-1&apos;, &apos;X&apos;])Namespace(foo=None, one=&apos;X&apos;)&gt;&gt;&gt; # negative number options present, so -2 is an option&gt;&gt;&gt; parser.parse_args([&apos;-2&apos;])usage: PROG [-h] [-1 ONE] [foo]PROG: error: no such option: -2&gt;&gt;&gt; # negative number options present, so both -1s are options&gt;&gt;&gt; parser.parse_args([&apos;-1&apos;, &apos;-1&apos;])usage: PROG [-h] [-1 ONE] [foo]PROG: error: argument -1: expected one argument Argument abbreviations (prefix matching)12345678910&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-bacon&apos;)&gt;&gt;&gt; parser.add_argument(&apos;-badger&apos;)&gt;&gt;&gt; parser.parse_args(&apos;-bac MMM&apos;.split())Namespace(bacon=&apos;MMM&apos;, badger=None)&gt;&gt;&gt; parser.parse_args(&apos;-bad WOOD&apos;.split())Namespace(bacon=None, badger=&apos;WOOD&apos;)&gt;&gt;&gt; parser.parse_args(&apos;-ba BA&apos;.split())usage: PROG [-h] [-bacon BACON] [-badger BADGER]PROG: error: ambiguous option: -ba could match -badger, -bacon Beyond sys.argv1234567891011&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(... &apos;integers&apos;, metavar=&apos;int&apos;, type=int, choices=range(10),... nargs=&apos;+&apos;, help=&apos;an integer in the range 0..9&apos;)&gt;&gt;&gt; parser.add_argument(... &apos;--sum&apos;, dest=&apos;accumulate&apos;, action=&apos;store_const&apos;, const=sum,... default=max, help=&apos;sum the integers (default: find the max)&apos;)&gt;&gt;&gt; parser.parse_args([&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;])Namespace(accumulate=&lt;built-in function max&gt;, integers=[1, 2, 3, 4])&gt;&gt;&gt; parser.parse_args([&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;--sum&apos;])Namespace(accumulate=&lt;built-in function sum&gt;, integers=[1, 2, 3, 4]) The Namespace object1234567891011121314151617&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;)&gt;&gt;&gt; args = parser.parse_args([&apos;--foo&apos;, &apos;BAR&apos;])&gt;&gt;&gt; vars(args){&apos;foo&apos;: &apos;BAR&apos;}&gt;&gt;&gt; class C:... pass...&gt;&gt;&gt; c = C()&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;)&gt;&gt;&gt; parser.parse_args(args=[&apos;--foo&apos;, &apos;BAR&apos;], namespace=c)&gt;&gt;&gt; c.foo&apos;BAR&apos; &#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x6709;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#x8FD8;&#x662F;&#x6BD4;&#x8F83;&#x6709;&#x7528;&#x7684; Sub-commands&#x5B50;&#x53C2;&#x6570;&#x9879;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5B50;&#x53C2;&#x6570;&#x9879;&#x7684;&#x53C2;&#x6570;&#x9879;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&gt;&gt;&gt; # create the top-level parser&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, action=&apos;store_true&apos;, help=&apos;foo help&apos;)&gt;&gt;&gt; subparsers = parser.add_subparsers(help=&apos;sub-command help&apos;)&gt;&gt;&gt;&gt;&gt;&gt; # create the parser for the &quot;a&quot; command&gt;&gt;&gt; parser_a = subparsers.add_parser(&apos;a&apos;, help=&apos;a help&apos;)&gt;&gt;&gt; parser_a.add_argument(&apos;bar&apos;, type=int, help=&apos;bar help&apos;)&gt;&gt;&gt;&gt;&gt;&gt; # create the parser for the &quot;b&quot; command&gt;&gt;&gt; parser_b = subparsers.add_parser(&apos;b&apos;, help=&apos;b help&apos;)&gt;&gt;&gt; parser_b.add_argument(&apos;--baz&apos;, choices=&apos;XYZ&apos;, help=&apos;baz help&apos;)&gt;&gt;&gt;&gt;&gt;&gt; # parse some argument lists&gt;&gt;&gt; parser.parse_args([&apos;a&apos;, &apos;12&apos;])Namespace(bar=12, foo=False)&gt;&gt;&gt; parser.parse_args([&apos;--foo&apos;, &apos;b&apos;, &apos;--baz&apos;, &apos;Z&apos;])Namespace(baz=&apos;Z&apos;, foo=True)#####&gt;&gt;&gt; parser.parse_args([&apos;--help&apos;])usage: PROG [-h] [--foo] {a,b} ...positional arguments: {a,b} sub-command help a a help b b helpoptional arguments: -h, --help show this help message and exit --foo foo help&gt;&gt;&gt; parser.parse_args([&apos;a&apos;, &apos;--help&apos;])usage: PROG a [-h] barpositional arguments: bar bar helpoptional arguments: -h, --help show this help message and exit&gt;&gt;&gt; parser.parse_args([&apos;b&apos;, &apos;--help&apos;])usage: PROG b [-h] [--baz {X,Y,Z}]optional arguments: -h, --help show this help message and exit --baz {X,Y,Z} baz help &#x8FD8;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5355;&#x72EC;&#x7684;&#x6807;&#x9898;&#x548C;&#x63CF;&#x8FF0;&#x4FE1;&#x606F; 12345678910111213141516&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; subparsers = parser.add_subparsers(title=&apos;subcommands&apos;,... description=&apos;valid subcommands&apos;,... help=&apos;additional help&apos;)&gt;&gt;&gt; subparsers.add_parser(&apos;foo&apos;)&gt;&gt;&gt; subparsers.add_parser(&apos;bar&apos;)&gt;&gt;&gt; parser.parse_args([&apos;-h&apos;])usage: [-h] {foo,bar} ...optional arguments: -h, --help show this help message and exitsubcommands: valid subcommands {foo,bar} additional help &#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x522B;&#x540D; 123456&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; subparsers = parser.add_subparsers()&gt;&gt;&gt; checkout = subparsers.add_parser(&apos;checkout&apos;, aliases=[&apos;co&apos;])&gt;&gt;&gt; checkout.add_argument(&apos;foo&apos;)&gt;&gt;&gt; parser.parse_args([&apos;co&apos;, &apos;bar&apos;])Namespace(foo=&apos;bar&apos;) 12345678910111213141516171819202122232425262728293031&gt;&gt;&gt; # sub-command functions&gt;&gt;&gt; def foo(args):... print(args.x * args.y)...&gt;&gt;&gt; def bar(args):... print(&apos;((%s))&apos; % args.z)...&gt;&gt;&gt; # create the top-level parser&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; subparsers = parser.add_subparsers()&gt;&gt;&gt;&gt;&gt;&gt; # create the parser for the &quot;foo&quot; command&gt;&gt;&gt; parser_foo = subparsers.add_parser(&apos;foo&apos;)&gt;&gt;&gt; parser_foo.add_argument(&apos;-x&apos;, type=int, default=1)&gt;&gt;&gt; parser_foo.add_argument(&apos;y&apos;, type=float)&gt;&gt;&gt; parser_foo.set_defaults(func=foo)&gt;&gt;&gt;&gt;&gt;&gt; # create the parser for the &quot;bar&quot; command&gt;&gt;&gt; parser_bar = subparsers.add_parser(&apos;bar&apos;)&gt;&gt;&gt; parser_bar.add_argument(&apos;z&apos;)&gt;&gt;&gt; parser_bar.set_defaults(func=bar)&gt;&gt;&gt;&gt;&gt;&gt; # parse the args and call whatever function was selected&gt;&gt;&gt; args = parser.parse_args(&apos;foo 1 -x 2&apos;.split())&gt;&gt;&gt; args.func(args)2.0&gt;&gt;&gt;&gt;&gt;&gt; # parse the args and call whatever function was selected&gt;&gt;&gt; args = parser.parse_args(&apos;bar XYZYX&apos;.split())&gt;&gt;&gt; args.func(args)((XYZYX)) 12345678&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; subparsers = parser.add_subparsers(dest=&apos;subparser_name&apos;)&gt;&gt;&gt; subparser1 = subparsers.add_parser(&apos;1&apos;)&gt;&gt;&gt; subparser1.add_argument(&apos;-x&apos;)&gt;&gt;&gt; subparser2 = subparsers.add_parser(&apos;2&apos;)&gt;&gt;&gt; subparser2.add_argument(&apos;y&apos;)&gt;&gt;&gt; parser.parse_args([&apos;2&apos;, &apos;frobble&apos;])Namespace(subparser_name=&apos;2&apos;, y=&apos;frobble&apos;) FileType objects12345678910&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--raw&apos;, type=argparse.FileType(&apos;wb&apos;, 0))&gt;&gt;&gt; parser.add_argument(&apos;out&apos;, type=argparse.FileType(&apos;w&apos;, encoding=&apos;UTF-8&apos;))&gt;&gt;&gt; parser.parse_args([&apos;--raw&apos;, &apos;raw.dat&apos;, &apos;file.txt&apos;])Namespace(out=&lt;_io.TextIOWrapper name=&apos;file.txt&apos; mode=&apos;w&apos; encoding=&apos;UTF-8&apos;&gt;, raw=&lt;_io.FileIO name=&apos;raw.dat&apos; mode=&apos;wb&apos;&gt;)&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;infile&apos;, type=argparse.FileType(&apos;r&apos;))&gt;&gt;&gt; parser.parse_args([&apos;-&apos;])Namespace(infile=&lt;_io.TextIOWrapper name=&apos;&lt;stdin&gt;&apos; encoding=&apos;UTF-8&apos;&gt;) Argument groups&#x53C2;&#x6570;&#x9879;&#x7EC4; 1234567891011121314151617&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;, add_help=False)&gt;&gt;&gt; group1 = parser.add_argument_group(&apos;group1&apos;, &apos;group1 description&apos;)&gt;&gt;&gt; group1.add_argument(&apos;foo&apos;, help=&apos;foo help&apos;)&gt;&gt;&gt; group2 = parser.add_argument_group(&apos;group2&apos;, &apos;group2 description&apos;)&gt;&gt;&gt; group2.add_argument(&apos;--bar&apos;, help=&apos;bar help&apos;)&gt;&gt;&gt; parser.print_help()usage: PROG [--bar BAR] foogroup1: group1 description foo foo helpgroup2: group2 description --bar BAR bar help Mutual exclusion12345678910111213141516171819&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; group = parser.add_mutually_exclusive_group()&gt;&gt;&gt; group.add_argument(&apos;--foo&apos;, action=&apos;store_true&apos;)&gt;&gt;&gt; group.add_argument(&apos;--bar&apos;, action=&apos;store_false&apos;)&gt;&gt;&gt; parser.parse_args([&apos;--foo&apos;])Namespace(bar=True, foo=True)&gt;&gt;&gt; parser.parse_args([&apos;--bar&apos;])Namespace(bar=False, foo=False)&gt;&gt;&gt; parser.parse_args([&apos;--foo&apos;, &apos;--bar&apos;])usage: PROG [-h] [--foo | --bar]PROG: error: argument --bar: not allowed with argument --foo&gt;&gt;&gt; parser = argparse.ArgumentParser(prog=&apos;PROG&apos;)&gt;&gt;&gt; group = parser.add_mutually_exclusive_group(required=True)&gt;&gt;&gt; group.add_argument(&apos;--foo&apos;, action=&apos;store_true&apos;)&gt;&gt;&gt; group.add_argument(&apos;--bar&apos;, action=&apos;store_false&apos;)&gt;&gt;&gt; parser.parse_args([])usage: PROG [-h] (--foo | --bar)PROG: error: one of the arguments --foo --bar is required Parser defaults123456789101112131415161718&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;foo&apos;, type=int)&gt;&gt;&gt; parser.set_defaults(bar=42, baz=&apos;badger&apos;)&gt;&gt;&gt; parser.parse_args([&apos;736&apos;])Namespace(bar=42, baz=&apos;badger&apos;, foo=736)&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, default=&apos;bar&apos;)&gt;&gt;&gt; parser.set_defaults(foo=&apos;spam&apos;)&gt;&gt;&gt; parser.parse_args([])Namespace(foo=&apos;spam&apos;)&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, default=&apos;badger&apos;)&gt;&gt;&gt; parser.get_default(&apos;foo&apos;)&apos;badger&apos; Printing help12345678910111213ArgumentParser.print_usage(file=None)Print a brief description of how the ArgumentParser should be invoked on the command line. If file is None, sys.stdout is assumed.ArgumentParser.print_help(file=None)Print a help message, including the program usage and information about the arguments registered with the ArgumentParser. If file is None, sys.stdout is assumed.There are also variants of these methods that simply return a string instead of printing it:ArgumentParser.format_usage()Return a string containing a brief description of how the ArgumentParser should be invoked on the command line.ArgumentParser.format_help()Return a string containing a help message, including the program usage and information about the arguments registered with the ArgumentParser. Partial parsing12345&gt;&gt;&gt; parser = argparse.ArgumentParser()&gt;&gt;&gt; parser.add_argument(&apos;--foo&apos;, action=&apos;store_true&apos;)&gt;&gt;&gt; parser.add_argument(&apos;bar&apos;)&gt;&gt;&gt; parser.parse_known_args([&apos;--foo&apos;, &apos;--badger&apos;, &apos;BAR&apos;, &apos;spam&apos;])(Namespace(bar=&apos;BAR&apos;, foo=True), [&apos;--badger&apos;, &apos;spam&apos;]) Customizing file parsing123class MyArgumentParser(argparse.ArgumentParser): def convert_arg_line_to_args(self, arg_line): return arg_line.split() Exiting methods12345ArgumentParser.exit(status=0, message=None)This method terminates the program, exiting with the specified status and, if given, it prints a message before that.ArgumentParser.error(message)This method prints a usage message including the message to the standard error and terminates the program with a status code of 2.]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>argparse</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python之socket网络编程]]></title>
    <url>%2F2017%2F01%2F14%2Fpython-socket%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;socket&#x8D77;&#x6E90;&#x4E8E;Unix&#xFF0C;&#x800C;Unix/Linux&#x57FA;&#x672C;&#x54F2;&#x5B66;&#x4E4B;&#x4E00;&#x5C31;&#x662F;&#x201C;&#x4E00;&#x5207;&#x7686;&#x6587;&#x4EF6;&#x201D;&#xFF0C;&#x5BF9;&#x4E8E;&#x6587;&#x4EF6;&#x7528;&#x3010;&#x6253;&#x5F00;&#x3011;&#x3010;&#x8BFB;&#x5199;&#x3011;&#x3010;&#x5173;&#x95ED;&#x3011;&#x6A21;&#x5F0F;&#x6765;&#x64CD;&#x4F5C;&#x3002;socket&#x5C31;&#x662F;&#x8BE5;&#x6A21;&#x5F0F;&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#xFF0C;socket&#x5373;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4E00;&#x4E9B;socket&#x51FD;&#x6570;&#x5C31;&#x662F;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#xFF08;&#x8BFB;/&#x5199;IO&#x3001;&#x6253;&#x5F00;&#x3001;&#x5173;&#x95ED;&#xFF09; &#x57FA;&#x672C;&#x4E0A;&#xFF0C;Socket &#x662F;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x8BA1;&#x7B97;&#x673A;&#x7F51;&#x7EDC;&#x901A;&#x8BAF;&#x4E2D;&#x6700;&#x57FA;&#x7840;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x4F8B;&#x5982;&#x5F53;&#x4F60;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x4E2D;&#x8F93;&#x5165; http://www.cnblogs.com/ &#x65F6;&#xFF0C;&#x4F60;&#x4F1A;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x5957;&#x63A5;&#x5B57;&#xFF0C;&#x7136;&#x540E;&#x8FDE;&#x63A5;&#x5230; http://www.cnblogs.com/ &#x5E76;&#x8BFB;&#x53D6;&#x54CD;&#x5E94;&#x7684;&#x9875;&#x9762;&#x7136;&#x540E;&#x7136;&#x540E;&#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;&#x800C;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x804A;&#x5929;&#x5BA2;&#x6237;&#x7AEF;&#x5982; gtalk &#x548C; skype &#x4E5F;&#x662F;&#x7C7B;&#x4F3C;&#x3002;&#x4EFB;&#x4F55;&#x7F51;&#x7EDC;&#x901A;&#x8BAF;&#x90FD;&#x662F;&#x901A;&#x8FC7; Socket &#x6765;&#x5B8C;&#x6210;&#x7684;&#x3002; Python &#x5B98;&#x65B9;&#x5173;&#x4E8E; Socket &#x7684;&#x51FD;&#x6570;&#x8BF7;&#x770B; http://docs.python.org/library/socket.html&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x6765;&#x6E90;&#x7F51;&#x7EDC;&#xFF0C;&#x539F;&#x6587;&#x5730;&#x5740; socketsocket&#x548C;file&#x7684;&#x533A;&#x522B;&#xFF1A; file&#x6A21;&#x5757;&#x662F;&#x9488;&#x5BF9;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x3010;&#x6253;&#x5F00;&#x3011;&#x3010;&#x8BFB;&#x5199;&#x3011;&#x3010;&#x5173;&#x95ED;&#x3011; socket&#x6A21;&#x5757;&#x662F;&#x9488;&#x5BF9; &#x670D;&#x52A1;&#x5668;&#x7AEF; &#x548C; &#x5BA2;&#x6237;&#x7AEF;Socket &#x8FDB;&#x884C;&#x3010;&#x6253;&#x5F00;&#x3011;&#x3010;&#x8BFB;&#x5199;&#x3011;&#x3010;&#x5173;&#x95ED;&#x3011;&#x3000;&#x3000; socket&#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x5728;2&#x53F0;&#x7F51;&#x7EDC;&#x4E92;&#x901A;&#x7684;&#x7535;&#x8111;&#x4E4B;&#x95F4;&#xFF0C;&#x67B6;&#x8BBE;&#x4E00;&#x4E2A;&#x901A;&#x9053;&#xFF0C;&#x4E24;&#x53F0;&#x7535;&#x8111;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x901A;&#x9053;&#x6765;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x7684;&#x4E92;&#x76F8;&#x4F20;&#x9012;&#x3002; &#x6211;&#x4EEC;&#x77E5;&#x9053;&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x90FD;&#x662F;&#x57FA;&#x4E8E; ip+port &#x65B9;&#x80FD;&#x5B9A;&#x4F4D;&#x5230;&#x76EE;&#x6807;&#x7684;&#x5177;&#x4F53;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x5177;&#x4F53;&#x670D;&#x52A1;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6709;0-65535&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;&#x6BCF;&#x4E2A;&#x7AEF;&#x53E3;&#x90FD;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#xFF0C;&#x5982;&#x679C; &#x628A;&#x4E00;&#x4E2A;&#x516C;&#x53F8;&#x6BD4;&#x505A;&#x4E00;&#x53F0;&#x7535;&#x8111; &#xFF0C;&#x90A3;&#x516C;&#x53F8;&#x7684;&#x603B;&#x673A;&#x53F7;&#x7801;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;ip&#x5730;&#x5740;&#xFF0C; &#x6BCF;&#x4E2A;&#x5458;&#x5DE5;&#x7684;&#x5206;&#x673A;&#x53F7;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x7AEF;&#x53E3;&#xFF0C; &#x4F60;&#x60F3;&#x627E;&#x516C;&#x53F8;&#x67D0;&#x4E2A;&#x4EBA;&#xFF0C;&#x5FC5;&#x987B; &#x5148;&#x6253;&#x7535;&#x8BDD;&#x5230;&#x603B;&#x673A;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8F6C;&#x5206;&#x673A; &#x3002; &#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;socket&#x5FC5;&#x987B;&#x81F3;&#x5C11;&#x6709;2&#x7AEF;&#xFF0C; &#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C; &#x670D;&#x52A1;&#x7AEF;&#x88AB;&#x52A8;&#x7B49;&#x5F85;&#x5E76;&#x63A5;&#x6536;&#x8BF7;&#x6C42;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E3B;&#x52A8;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF0C; &#x8FDE;&#x63A5;&#x5EFA;&#x7ACB;&#x4E4B;&#x540E;&#xFF0C;&#x53CC;&#x65B9;&#x53EF;&#x4EE5;&#x4E92;&#x53D1;&#x6570;&#x636E;&#x3002; 12345678910111213141516171819202122# serverimport socketsk = socket.socket()sk.bind((&quot;127.0.0.1&quot;,8080))sk.listen(5)conn,address = sk.accept()sk.sendall(bytes(&quot;Hello world&quot;,encoding=&quot;utf-8&quot;))# clientimport socketobj = socket.socket()obj.connect((&quot;127.0.0.1&quot;,8080))ret = str(obj.recv(1024),encoding=&quot;utf-8&quot;)print(ret) socket&#x5E38;&#x7528;&#x65B9;&#x6CD5;sk.getaddrinfo(host, port, family=0, type=0, proto=0, flags=0)1&#x83B7;&#x53D6;&#x8981;&#x8FDE;&#x63A5;&#x7684;&#x5BF9;&#x7AEF;&#x4E3B;&#x673A;&#x5730;&#x5740; sk.bind(address)1s.bind(address) &#x5C06;&#x5957;&#x63A5;&#x5B57;&#x7ED1;&#x5B9A;&#x5230;&#x5730;&#x5740;&#x3002;address&#x5730;&#x5740;&#x7684;&#x683C;&#x5F0F;&#x53D6;&#x51B3;&#x4E8E;&#x5730;&#x5740;&#x65CF;&#x3002;&#x5728;AF_INET&#x4E0B;&#xFF0C;&#x4EE5;&#x5143;&#x7EC4;&#xFF08;host,port&#xFF09;&#x7684;&#x5F62;&#x5F0F;&#x8868;&#x793A;&#x5730;&#x5740;&#x3002; sk.listen(backlog)123&#x5F00;&#x59CB;&#x76D1;&#x542C;&#x4F20;&#x5165;&#x8FDE;&#x63A5;&#x3002;backlog&#x6307;&#x5B9A;&#x5728;&#x62D2;&#x7EDD;&#x8FDE;&#x63A5;&#x4E4B;&#x524D;&#xFF0C;&#x53EF;&#x4EE5;&#x6302;&#x8D77;&#x7684;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x3002;backlog&#x7B49;&#x4E8E;5&#xFF0C;&#x8868;&#x793A;&#x5185;&#x6838;&#x5DF2;&#x7ECF;&#x63A5;&#x5230;&#x4E86;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x670D;&#x52A1;&#x5668;&#x8FD8;&#x6CA1;&#x6709;&#x8C03;&#x7528;accept&#x8FDB;&#x884C;&#x5904;&#x7406;&#x7684;&#x8FDE;&#x63A5;&#x4E2A;&#x6570;&#x6700;&#x5927;&#x4E3A;5&#x8FD9;&#x4E2A;&#x503C;&#x4E0D;&#x80FD;&#x65E0;&#x9650;&#x5927;&#xFF0C;&#x56E0;&#x4E3A;&#x8981;&#x5728;&#x5185;&#x6838;&#x4E2D;&#x7EF4;&#x62A4;&#x8FDE;&#x63A5;&#x961F;&#x5217; sk.setblocking(bool)1&#x662F;&#x5426;&#x963B;&#x585E;&#xFF08;&#x9ED8;&#x8BA4;True&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;False&#xFF0C;&#x90A3;&#x4E48;accept&#x548C;recv&#x65F6;&#x4E00;&#x65E6;&#x65E0;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x62A5;&#x9519;&#x3002; sk.accept()12&#x63A5;&#x53D7;&#x8FDE;&#x63A5;&#x5E76;&#x8FD4;&#x56DE;&#xFF08;conn,address&#xFF09;,&#x5176;&#x4E2D;conn&#x662F;&#x65B0;&#x7684;&#x5957;&#x63A5;&#x5B57;&#x5BF9;&#x8C61;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x63A5;&#x6536;&#x548C;&#x53D1;&#x9001;&#x6570;&#x636E;&#x3002;address&#x662F;&#x8FDE;&#x63A5;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5730;&#x5740;&#x3002;&#x63A5;&#x6536;TCP &#x5BA2;&#x6237;&#x7684;&#x8FDE;&#x63A5;&#xFF08;&#x963B;&#x585E;&#x5F0F;&#xFF09;&#x7B49;&#x5F85;&#x8FDE;&#x63A5;&#x7684;&#x5230;&#x6765; sk.connect(address)1&#x8FDE;&#x63A5;&#x5230;address&#x5904;&#x7684;&#x5957;&#x63A5;&#x5B57;&#x3002;&#x4E00;&#x822C;&#xFF0C;address&#x7684;&#x683C;&#x5F0F;&#x4E3A;&#x5143;&#x7EC4;&#xFF08;hostname,port&#xFF09;,&#x5982;&#x679C;&#x8FDE;&#x63A5;&#x51FA;&#x9519;&#xFF0C;&#x8FD4;&#x56DE;socket.error&#x9519;&#x8BEF;&#x3002; sk.connect_ex(address)1&#x540C;&#x4E0A;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x4F1A;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x65F6;&#x8FD4;&#x56DE; 0 &#xFF0C;&#x8FDE;&#x63A5;&#x5931;&#x8D25;&#x65F6;&#x5019;&#x8FD4;&#x56DE;&#x7F16;&#x7801;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;10061 sk.close()1&#x5173;&#x95ED;&#x5957;&#x63A5;&#x5B57; sk.recv(bufsize[,flag])1&#x63A5;&#x53D7;&#x5957;&#x63A5;&#x5B57;&#x7684;&#x6570;&#x636E;&#x3002;&#x6570;&#x636E;&#x4EE5;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#xFF0C;bufsize&#x6307;&#x5B9A;&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x63A5;&#x6536;&#x7684;&#x6570;&#x91CF;&#x3002;flag&#x63D0;&#x4F9B;&#x6709;&#x5173;&#x6D88;&#x606F;&#x7684;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x3002; sk.recvfrom(bufsize[.flag])1&#x4E0E;recv()&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#xFF08;data,address&#xFF09;&#x3002;&#x5176;&#x4E2D;data&#x662F;&#x5305;&#x542B;&#x63A5;&#x6536;&#x6570;&#x636E;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;address&#x662F;&#x53D1;&#x9001;&#x6570;&#x636E;&#x7684;&#x5957;&#x63A5;&#x5B57;&#x5730;&#x5740;&#x3002; sk.send(string[,flag])1&#x5C06;string&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x8FDE;&#x63A5;&#x7684;&#x5957;&#x63A5;&#x5B57;&#x3002;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x8981;&#x53D1;&#x9001;&#x7684;&#x5B57;&#x8282;&#x6570;&#x91CF;&#xFF0C;&#x8BE5;&#x6570;&#x91CF;&#x53EF;&#x80FD;&#x5C0F;&#x4E8E;string&#x7684;&#x5B57;&#x8282;&#x5927;&#x5C0F;&#x3002;&#x5373;&#xFF1A;&#x53EF;&#x80FD;&#x672A;&#x5C06;&#x6307;&#x5B9A;&#x5185;&#x5BB9;&#x5168;&#x90E8;&#x53D1;&#x9001;&#x3002; sk.sendall(string[,flag])1&#x5C06;string&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x8FDE;&#x63A5;&#x7684;&#x5957;&#x63A5;&#x5B57;&#xFF0C;&#x4F46;&#x5728;&#x8FD4;&#x56DE;&#x4E4B;&#x524D;&#x4F1A;&#x5C1D;&#x8BD5;&#x53D1;&#x9001;&#x6240;&#x6709;&#x6570;&#x636E;&#x3002;&#x6210;&#x529F;&#x8FD4;&#x56DE;None&#xFF0C;&#x5931;&#x8D25;&#x5219;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;&#x5185;&#x90E8;&#x901A;&#x8FC7;&#x9012;&#x5F52;&#x8C03;&#x7528;send&#xFF0C;&#x5C06;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#x3002; sk.sendto(string[,flag],address)1&#x5C06;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x5957;&#x63A5;&#x5B57;&#xFF0C;address&#x662F;&#x5F62;&#x5F0F;&#x4E3A;&#xFF08;ipaddr&#xFF0C;port&#xFF09;&#x7684;&#x5143;&#x7EC4;&#xFF0C;&#x6307;&#x5B9A;&#x8FDC;&#x7A0B;&#x5730;&#x5740;&#x3002;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x53D1;&#x9001;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002;&#x8BE5;&#x51FD;&#x6570;&#x4E3B;&#x8981;&#x7528;&#x4E8E;UDP&#x534F;&#x8BAE;&#x3002; sk.settimeout(timeout)1&#x8BBE;&#x7F6E;&#x5957;&#x63A5;&#x5B57;&#x64CD;&#x4F5C;&#x7684;&#x8D85;&#x65F6;&#x671F;&#xFF0C;timeout&#x662F;&#x4E00;&#x4E2A;&#x6D6E;&#x70B9;&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x79D2;&#x3002;&#x503C;&#x4E3A;None&#x8868;&#x793A;&#x6CA1;&#x6709;&#x8D85;&#x65F6;&#x671F;&#x3002;&#x4E00;&#x822C;&#xFF0C;&#x8D85;&#x65F6;&#x671F;&#x5E94;&#x8BE5;&#x5728;&#x521A;&#x521B;&#x5EFA;&#x5957;&#x63A5;&#x5B57;&#x65F6;&#x8BBE;&#x7F6E;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x53EF;&#x80FD;&#x7528;&#x4E8E;&#x8FDE;&#x63A5;&#x7684;&#x64CD;&#x4F5C;&#xFF08;&#x5982; client &#x8FDE;&#x63A5;&#x6700;&#x591A;&#x7B49;&#x5F85;5s &#xFF09; sk.getpeername()1&#x8FD4;&#x56DE;&#x8FDE;&#x63A5;&#x5957;&#x63A5;&#x5B57;&#x7684;&#x8FDC;&#x7A0B;&#x5730;&#x5740;&#x3002;&#x8FD4;&#x56DE;&#x503C;&#x901A;&#x5E38;&#x662F;&#x5143;&#x7EC4;&#xFF08;ipaddr,port&#xFF09;&#x3002; sk.getsockname()1&#x8FD4;&#x56DE;&#x5957;&#x63A5;&#x5B57;&#x81EA;&#x5DF1;&#x7684;&#x5730;&#x5740;&#x3002;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x4E2A;&#x5143;&#x7EC4;(ipaddr,port) sk.fileno()1&#x5957;&#x63A5;&#x5B57;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26; &#x4E00;&#x5F00;&#x59CB;&#x7684;&#x4F8B;&#x5B50;123456789101112131415161718192021import socket server = socket.socket() #&#x83B7;&#x5F97;socket&#x5B9E;&#x4F8B; server.bind((&quot;localhost&quot;,9998)) #&#x7ED1;&#x5B9A;ip portserver.listen() #&#x5F00;&#x59CB;&#x76D1;&#x542C; while True: #&#x7B2C;&#x4E00;&#x5C42;loop print(&quot;&#x7B49;&#x5F85;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;...&quot;) conn,addr = server.accept() #&#x63A5;&#x53D7;&#x5E76;&#x5EFA;&#x7ACB;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;,&#x7A0B;&#x5E8F;&#x5728;&#x6B64;&#x5904;&#x5F00;&#x59CB;&#x963B;&#x585E;,&#x53EA;&#x5230;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x8FDB;&#x6765;... print(&quot;&#x65B0;&#x8FDE;&#x63A5;:&quot;,addr ) while True: data = conn.recv(1024) if not data: print(&quot;&#x5BA2;&#x6237;&#x7AEF;&#x65AD;&#x5F00;&#x4E86;...&quot;) break #&#x8FD9;&#x91CC;&#x65AD;&#x5F00;&#x5C31;&#x4F1A;&#x518D;&#x6B21;&#x56DE;&#x5230;&#x7B2C;&#x4E00;&#x6B21;&#x5916;&#x5C42;&#x7684;loop print(&quot;&#x6536;&#x5230;&#x6D88;&#x606F;:&quot;,data) conn.send(data.upper()) server.close() &#x7C98;&#x5305;&#x76F8;&#x90BB;&#x591A;&#x6B21;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;&#x7C98;&#x5230;&#x4E00;&#x8D77;&#x4E86; TCP&#x7684;&#x51E0;&#x4E2A;&#x4F8B;&#x5B50;&#x5B9E;&#x73B0;&#x5927;&#x6570;&#x636E;&#x4F20;&#x8F93;sshserver 12345678910111213141516171819202122232425262728293031323334#_*_coding:utf-8_*_import socketimport os,subprocessserver = socket.socket() #&#x83B7;&#x5F97;socket&#x5B9E;&#x4F8B;server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)server.bind((&quot;localhost&quot;,9999)) #&#x7ED1;&#x5B9A;ip portserver.listen() #&#x5F00;&#x59CB;&#x76D1;&#x542C;while True: #&#x7B2C;&#x4E00;&#x5C42;loop print(&quot;&#x7B49;&#x5F85;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;...&quot;) conn,addr = server.accept() #&#x63A5;&#x53D7;&#x5E76;&#x5EFA;&#x7ACB;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;,&#x7A0B;&#x5E8F;&#x5728;&#x6B64;&#x5904;&#x5F00;&#x59CB;&#x963B;&#x585E;,&#x53EA;&#x5230;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x8FDB;&#x6765;... print(&quot;&#x65B0;&#x8FDE;&#x63A5;:&quot;,addr ) while True: data = conn.recv(1024) if not data: print(&quot;&#x5BA2;&#x6237;&#x7AEF;&#x65AD;&#x5F00;&#x4E86;...&quot;) break #&#x8FD9;&#x91CC;&#x65AD;&#x5F00;&#x5C31;&#x4F1A;&#x518D;&#x6B21;&#x56DE;&#x5230;&#x7B2C;&#x4E00;&#x6B21;&#x5916;&#x5C42;&#x7684;loop print(&quot;&#x6536;&#x5230;&#x547D;&#x4EE4;:&quot;,data) #res = os.popen(data.decode()).read() #py3 &#x91CC;socket&#x53D1;&#x9001;&#x7684;&#x53EA;&#x6709;bytes,os.popen&#x53C8;&#x53EA;&#x80FD;&#x63A5;&#x53D7;str,&#x6240;&#x4EE5;&#x8981;decode&#x4E00;&#x4E0B; res = subprocess.Popen(data,shell=True,stdout=subprocess.PIPE).stdout.read() #&#x8DDF;&#x4E0A;&#x9762;&#x90A3;&#x6761;&#x547D;&#x4EE4;&#x7684;&#x6548;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684; if len(res) == 0: res = &quot;cmd exec success,has not output!&quot;.encode(&quot;utf-8&quot;) conn.send(str(len(res)).encode(&quot;utf-8&quot;)) #&#x53D1;&#x9001;&#x6570;&#x636E;&#x4E4B;&#x524D;,&#x5148;&#x544A;&#x8BC9;&#x5BA2;&#x6237;&#x7AEF;&#x8981;&#x53D1;&#x591A;&#x5C11;&#x6570;&#x636E;&#x7ED9;&#x5B83; print(&quot;&#x7B49;&#x5F85;&#x5BA2;&#x6237;ack&#x5E94;&#x7B54;...&quot;) client_final_ack = conn.recv(1024) #&#x7B49;&#x5F85;&#x5BA2;&#x6237;&#x7AEF;&#x54CD;&#x5E94; print(&quot;&#x5BA2;&#x6237;&#x5E94;&#x7B54;:&quot;,client_final_ack.decode()) print(type(res)) conn.sendall(res) #&#x53D1;&#x9001;&#x7AEF;&#x4E5F;&#x6709;&#x6700;&#x5927;&#x6570;&#x636E;&#x91CF;&#x9650;&#x5236;,&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x7528;sendall,&#x76F8;&#x5F53;&#x4E8E;&#x91CD;&#x590D;&#x5FAA;&#x73AF;&#x8C03;&#x7528;conn.send,&#x76F4;&#x81F3;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5B8C;&#x6BD5;server.close() client 123456789101112131415161718192021222324252627282930313233#_*_coding:utf-8_*_import socketimport sysclient = socket.socket()client.connect((&quot;localhost&quot;,9999))while True: msg = input(&quot;&gt;&gt;:&quot;).strip() if len(msg) == 0:continue client.send( msg.encode(&quot;utf-8&quot;) ) res_return_size = client.recv(1024) #&#x63A5;&#x6536;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x7684;&#x5927;&#x5C0F; print(&quot;getting cmd result , &quot;, res_return_size) total_rece_size = int(res_return_size) print(&quot;total size:&quot;,res_return_size) client.send(&quot;&#x51C6;&#x5907;&#x597D;&#x63A5;&#x6536;&#x4E86;,&#x53D1;&#x5427;loser&quot;.encode(&quot;utf-8&quot;)) received_size = 0 #&#x5DF2;&#x63A5;&#x6536;&#x5230;&#x7684;&#x6570;&#x636E; cmd_res = b&apos;&apos; f = open(&quot;test_copy.html&quot;,&quot;wb&quot;)#&#x628A;&#x63A5;&#x6536;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x5B58;&#x4E0B;&#x6765;,&#x4E00;&#x4F1A;&#x770B;&#x770B;&#x6536;&#x5230;&#x7684;&#x6570;&#x636E; &#x5BF9;&#x4E0D;&#x5BF9; while received_size != total_rece_size: #&#x4EE3;&#x8868;&#x8FD8;&#x6CA1;&#x6536;&#x5B8C; data = client.recv(1024) received_size += len(data) #&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x662F;&#x76F4;&#x63A5;1024,&#x8FD8;&#x5224;&#x65AD;len&#x5E72;&#x561B;,&#x6CE8;&#x610F;,&#x5B9E;&#x9645;&#x6536;&#x5230;&#x7684;data&#x6709;&#x53EF;&#x80FD;&#x6BD4;1024&#x5C11; cmd_res += data else: print(&quot;&#x6570;&#x636E;&#x6536;&#x5B8C;&#x4E86;&quot;,received_size) #print(cmd_res.decode()) f.write(cmd_res) #&#x628A;&#x63A5;&#x6536;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x5B58;&#x4E0B;&#x6765;,&#x4E00;&#x4F1A;&#x770B;&#x770B;&#x6536;&#x5230;&#x7684;&#x6570;&#x636E; &#x5BF9;&#x4E0D;&#x5BF9; #print(data.decode()) #&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;client.close() &#x673A;&#x5668;&#x4EBA;&#x804A;&#x5929;12345678910111213141516171819202122232425262728293031323334353637383940414243# &#x670D;&#x52A1;&#x7AEF;import socketserverclass Myserver(socketserver.BaseRequestHandler): def handle(self): conn = self.request conn.sendall(bytes(&quot;&#x4F60;&#x597D;&#xFF0C;&#x6211;&#x662F;&#x673A;&#x5668;&#x4EBA;&quot;,encoding=&quot;utf-8&quot;)) while True: ret_bytes = conn.recv(1024) ret_str = str(ret_bytes,encoding=&quot;utf-8&quot;) if ret_str == &quot;q&quot;: break conn.sendall(bytes(ret_str+&quot;&#x4F60;&#x597D;&#x6211;&#x597D;&#x5927;&#x5BB6;&#x597D;&quot;,encoding=&quot;utf-8&quot;))if __name__ == &quot;__main__&quot;: server = socketserver.ThreadingTCPServer((&quot;127.0.0.1&quot;,8080),Myserver) server.serve_forever()# &#x5BA2;&#x6237;&#x7AEF;import socketobj = socket.socket()obj.connect((&quot;127.0.0.1&quot;,8080))ret_bytes = obj.recv(1024)ret_str = str(ret_bytes,encoding=&quot;utf-8&quot;)print(ret_str)while True: inp = input(&quot;&#x4F60;&#x597D;&#x8BF7;&#x95EE;&#x60A8;&#x6709;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF1F; \n &gt;&gt;&gt;&quot;) if inp == &quot;q&quot;: obj.sendall(bytes(inp,encoding=&quot;utf-8&quot;)) break else: obj.sendall(bytes(inp, encoding=&quot;utf-8&quot;)) ret_bytes = obj.recv(1024) ret_str = str(ret_bytes,encoding=&quot;utf-8&quot;) print(ret_str) &#x4E0A;&#x4F20;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# &#x670D;&#x52A1;&#x7AEF;import socketsk = socket.socket()sk.bind((&quot;127.0.0.1&quot;,8080))sk.listen(5)while True: conn,address = sk.accept() conn.sendall(bytes(&quot;&#x6B22;&#x8FCE;&#x5149;&#x4E34;&#x6211;&#x7231;&#x6211;&#x5BB6;&quot;,encoding=&quot;utf-8&quot;)) size = conn.recv(1024) size_str = str(size,encoding=&quot;utf-8&quot;) file_size = int(size_str) conn.sendall(bytes(&quot;&#x5F00;&#x59CB;&#x4F20;&#x9001;&quot;, encoding=&quot;utf-8&quot;)) has_size = 0 f = open(&quot;db_new.jpg&quot;,&quot;wb&quot;) while True: if file_size == has_size: break date = conn.recv(1024) f.write(date) has_size += len(date) f.close()# &#x5BA2;&#x6237;&#x7AEF;import socketimport osobj = socket.socket()obj.connect((&quot;127.0.0.1&quot;,8080))ret_bytes = obj.recv(1024)ret_str = str(ret_bytes,encoding=&quot;utf-8&quot;)print(ret_str)size = os.stat(&quot;yan.jpg&quot;).st_sizeobj.sendall(bytes(str(size),encoding=&quot;utf-8&quot;))obj.recv(1024)with open(&quot;yan.jpg&quot;,&quot;rb&quot;) as f: for line in f: obj.sendall(line) udp &#x4F20;&#x8F93;123456789101112131415161718192021import socketip_port = (&apos;127.0.0.1&apos;,9999)sk = socket.socket(socket.AF_INET,socket.SOCK_DGRAM,0)sk.bind(ip_port)while True: data = sk.recv(1024) print dataimport socketip_port = (&apos;127.0.0.1&apos;,9999)sk = socket.socket(socket.AF_INET,socket.SOCK_DGRAM,0)while True: inp = input(&apos;&#x6570;&#x636E;&#xFF1A;&apos;).strip() if inp == &apos;exit&apos;: break sk.sendto(bytes(inp,encoding = &quot;utf-8&quot;),ip_port)sk.close() web&#x670D;&#x52A1;123456789101112131415161718192021#!/usr/bin/env python#coding:utf-8import socket def handle_request(client): buf = client.recv(1024) client.send(&quot;HTTP/1.1 200 OK\r\n\r\n&quot;) client.send(&quot;Hello, World&quot;) def main(): sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.bind((&apos;localhost&apos;,8080)) sock.listen(5) while True: connection, address = sock.accept() handle_request(connection) connection.close() if __name__ == &apos;__main__&apos;: main() socketserver BaseServer TCPServer UDPServer SocketServer&#x5185;&#x90E8;&#x4F7F;&#x7528; IO&#x591A;&#x8DEF;&#x590D;&#x7528; &#x4EE5;&#x53CA; &#x201C;&#x591A;&#x7EBF;&#x7A0B;&#x201D; &#x548C; &#x201C;&#x591A;&#x8FDB;&#x7A0B;&#x201D; &#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x591A;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7684;Socket&#x670D;&#x52A1;&#x7AEF;&#x3002;&#x5373;&#xFF1A;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#x5230;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;Socket&#x670D;&#x52A1;&#x7AEF;&#x90FD;&#x4F1A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x201C;&#x7EBF;&#x7A0B;&#x201D;&#x6216;&#x8005;&#x201C;&#x8FDB;&#x7A0B;&#x201D; &#x4E13;&#x95E8;&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x5F53;&#x524D;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x3002; &#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x7C7B;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E2A;&#x7C7B;&#x7EE7;&#x627F;BaseRequestHandler&#xFF0C;&#x5E76;&#x4E14;&#x91CD;&#x5199;handler&#x65B9;&#x6CD5; &#x5B9E;&#x4F8B;&#x5316;TCPServer&#xFF0C;&#x5E76;&#x4E14;&#x4F20;&#x9012;server ip&#x548C;&#x4E0A;&#x9762;&#x521B;&#x5EFA;&#x7684;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x7C7B;&#x7ED9;&#x8FD9;&#x4E2A;TCPServer server.handle_requese() &#x53EA;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42; server.serve_forover() &#x5904;&#x7406;&#x591A;&#x6B21;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x6C38;&#x8FDC;&#x6267;&#x884C; server_close() &#x57FA;&#x672C;&#x7684;sockerserver12345678910111213141516171819202122232425262728import socketserverclass MyTCPHandler(socketserver.BaseRequestHandler): &quot;&quot;&quot; The request handler class for our server. It is instantiated once per connection to the server, and must override the handle() method to implement communication to the client. &quot;&quot;&quot; def handle(self): # self.request is the TCP socket connected to the client self.data = self.request.recv(1024).strip() print(&quot;{} wrote:&quot;.format(self.client_address[0])) print(self.data) # just send back the same data, but upper-cased self.request.send(self.data.upper())if __name__ == &quot;__main__&quot;: HOST, PORT = &quot;localhost&quot;, 9999 # Create the server, binding to localhost on port 9999 server = socketserver.TCPServer((HOST, PORT), MyTCPHandler) # Activate the server; this will keep running until you # interrupt the program with Ctrl-C server.serve_forever() &#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F9D;&#x7136;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x5904;&#x7406;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x64E6;&#xFF0C;&#x90A3;&#x6211;&#x641E;&#x8FD9;&#x4E2A;&#x5E72;&#x561B;&#xFF1F;&#x522B;&#x6025;&#xFF0C;&#x4E0D;&#x662F;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x591A;&#x5E76;&#x53D1;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#xFF0C;&#x4F60;&#x8FD8;&#x8981;&#x542F;&#x7528;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x8FD8;&#x6CA1;&#x8BB2;&#xFF0C;&#x4F46;&#x4F60;&#x5927;&#x4F53;&#x77E5;&#x9053;&#xFF0C;&#x6709;&#x4E86;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5C31;&#x80FD;&#x540C;&#x65F6;&#x8BA9;cpu&#x5E72;&#x591A;&#x4EF6;&#x4E8B;&#x4E86;&#x5C31;&#x884C;&#x5148;&#x3002; so &#x53EA;&#x9700;&#x8981;&#x628A;&#x4E0B;&#x9762;&#x8FD9;&#x53E5; 1server = socketserver.TCPServer((HOST, PORT), MyTCPHandler) &#x6362;&#x6210;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x591A;&#x5E76;&#x53D1;&#x4E86;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x6BCF;&#x8FDE;&#x8FDB;&#x4E00;&#x4E2A;&#x6765;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5C31;&#x4F1A;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#x6765;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42; 1server = socketserver.ThreadingTCPServer((HOST, PORT), MyTCPHandler) &#x5176;&#x4ED6;&#x4ECB;&#x7ECD; fileno() &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26; handle_request() &#x5904;&#x7406;&#x5355;&#x4E2A;&#x8BF7;&#x6C42; serve_forever(poll_interval=0.5) &#x6CA1;0.5&#x79D2;&#x68C0;&#x6D4B;&#x505C;&#x6B62;&#x4FE1;&#x53F7; service_actions() &#x81EA;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x5173;&#x95ED;&#x7684;&#x65F6;&#x5019;&#x5904;&#x7406;&#x4E00;&#x4E9B;&#x4E8B;&#x60C5;&#xFF0C;&#x53EF;&#x4EE5;&#x91CD;&#x5199; shutdown() &#x505C;&#x6B62; server_close() allow_reuse_address ThreadingTCPServerThreadingTCPServer&#x5B9E;&#x73B0;&#x7684;Soket&#x670D;&#x52A1;&#x5668;&#x5185;&#x90E8;&#x4F1A;&#x4E3A;&#x6BCF;&#x4E2A;client&#x521B;&#x5EFA;&#x4E00;&#x4E2A; &#x201C;&#x7EBF;&#x7A0B;&#x201D;&#xFF0C;&#x8BE5;&#x7EBF;&#x7A0B;&#x7528;&#x6765;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x3002; ThreadingTCPServer&#x57FA;&#x7840;&#x4F7F;&#x7528;ThreadingTCPServer: &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EE7;&#x627F;&#x81EA; SocketServer.BaseRequestHandler &#x7684;&#x7C7B; &#x7C7B;&#x4E2D;&#x5FC5;&#x987B;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x4E3A; handle &#x7684;&#x65B9;&#x6CD5; &#x542F;&#x52A8;ThreadingTCPServer 12345678910111213141516171819202122232425# &#x670D;&#x52A1;&#x7AEF;#!/usr/bin/env python# -*- coding:utf-8 -*-import SocketServerclass MyServer(SocketServer.BaseRequestHandler): def handle(self): # print self.request,self.client_address,self.server conn = self.request conn.sendall(&apos;&#x6B22;&#x8FCE;&#x81F4;&#x7535; 10086&#xFF0C;&#x8BF7;&#x8F93;&#x5165;1xxx,0&#x8F6C;&#x4EBA;&#x5DE5;&#x670D;&#x52A1;.&apos;) Flag = True while Flag: data = conn.recv(1024) if data == &apos;exit&apos;: Flag = False elif data == &apos;0&apos;: conn.sendall(&apos;&#x901A;&#x8FC7;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x5F55;&#x97F3;.balabala&#x4E00;&#x5927;&#x63A8;&apos;) else: conn.sendall(&apos;&#x8BF7;&#x91CD;&#x65B0;&#x8F93;&#x5165;.&apos;)if __name__ == &apos;__main__&apos;: server = SocketServer.ThreadingTCPServer((&apos;127.0.0.1&apos;,8009),MyServer) server.serve_forever() 123456789101112131415161718192021# &#x5BA2;&#x6237;&#x7AEF;#!/usr/bin/env python# -*- coding:utf-8 -*-import socketip_port = (&apos;127.0.0.1&apos;,8009)sk = socket.socket()sk.connect(ip_port)sk.settimeout(5)while True: data = sk.recv(1024) print &apos;receive:&apos;,data inp = raw_input(&apos;please input:&apos;) sk.sendall(inp) if inp == &apos;exit&apos;: breaksk.close() ThreadingTCPServer&#x6E90;&#x7801;&#x5256;&#x6790;ThreadingTCPServer&#x7684;&#x7C7B;&#x56FE;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A; &#x5185;&#x90E8;&#x8C03;&#x7528;&#x6D41;&#x7A0B;&#x4E3A;&#xFF1A; &#x542F;&#x52A8;&#x670D;&#x52A1;&#x7AEF;&#x7A0B;&#x5E8F; &#x6267;&#x884C; TCPServer.init &#x65B9;&#x6CD5;&#xFF0C;&#x521B;&#x5EFA;&#x670D;&#x52A1;&#x7AEF;Socket&#x5BF9;&#x8C61;&#x5E76;&#x7ED1;&#x5B9A; IP &#x548C; &#x7AEF;&#x53E3; &#x6267;&#x884C; BaseServer.init &#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7EE7;&#x627F;&#x81EA;SocketServer.BaseRequestHandler &#x7684;&#x7C7B; MyRequestHandle&#x8D4B;&#x503C;&#x7ED9; self.RequestHandlerClass &#x6267;&#x884C; BaseServer.server_forever &#x65B9;&#x6CD5;&#xFF0C;While &#x5FAA;&#x73AF;&#x4E00;&#x76F4;&#x76D1;&#x542C;&#x662F;&#x5426;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x5230;&#x8FBE; &#x2026; &#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x5230;&#x8FBE;&#x670D;&#x52A1;&#x5668; &#x6267;&#x884C; ThreadingMixIn.process_request &#x65B9;&#x6CD5;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; &#x201C;&#x7EBF;&#x7A0B;&#x201D; &#x7528;&#x6765;&#x5904;&#x7406;&#x8BF7;&#x6C42; &#x6267;&#x884C; ThreadingMixIn.process_request_thread &#x65B9;&#x6CD5; &#x6267;&#x884C; BaseServer.finish_request &#x65B9;&#x6CD5;&#xFF0C;&#x6267;&#x884C; self.RequestHandlerClass() &#x5373;&#xFF1A;&#x6267;&#x884C; &#x81EA;&#x5B9A;&#x4E49; MyRequestHandler &#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF08;&#x81EA;&#x52A8;&#x8C03;&#x7528;&#x57FA;&#x7C7B;BaseRequestHandler&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x8BE5;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x4E2D;&#x53C8;&#x4F1A;&#x8C03;&#x7528; MyRequestHandler&#x7684;handle&#x65B9;&#x6CD5;&#xFF09; SocketServer&#x7684;ThreadingTCPServer&#x4E4B;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x5F97;&#x76CA;&#x4E8E; select &#x548C; Threading &#x4E24;&#x4E2A;&#x4E1C;&#x897F;&#xFF0C;&#x5176;&#x5B9E;&#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7528;&#x6765;&#x5904;&#x7406;&#x5BF9;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x540C;&#x65F6;n&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x94FE;&#x63A5;&#xFF08;&#x957F;&#x8FDE;&#x63A5;&#xFF09;&#x3002; IO&#x591A;&#x8DEF;&#x590D;&#x7528;I/O&#xFF08;input/output&#xFF09;&#xFF0C;&#x5373;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#x7AEF;&#x53E3;&#x3002;&#x6BCF;&#x4E2A;&#x8BBE;&#x5907;&#x90FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x4E13;&#x7528;&#x7684;I/O&#x5730;&#x5740;&#xFF0C;&#x7528;&#x6765;&#x5904;&#x7406;&#x81EA;&#x5DF1;&#x7684;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x9996;&#x5148;&#x4EC0;&#x4E48;&#x662F;I/O&#xFF1A; I/O&#x5206;&#x4E3A;&#x78C1;&#x76D8;io&#x548C;&#x7F51;&#x7EDC;io&#xFF0C;&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x662F;&#x7F51;&#x7EDC;io IO&#x591A;&#x8DEF;&#x590D;&#x7528;:I/O&#x591A;&#x8DEF;&#x590D;&#x7528;&#x6307;&#xFF1A;&#x901A;&#x8FC7;&#x4E00;&#x79CD;&#x673A;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x76D1;&#x89C6;&#x591A;&#x4E2A;&#x63CF;&#x8FF0;&#x7B26;(socket)&#xFF0C;&#x4E00;&#x65E6;&#x67D0;&#x4E2A;&#x63CF;&#x8FF0;&#x7B26;&#x5C31;&#x7EEA;&#xFF08;&#x4E00;&#x822C;&#x662F;&#x8BFB;&#x5C31;&#x7EEA;&#x6216;&#x8005;&#x5199;&#x5C31;&#x7EEA;&#xFF09;&#xFF0C;&#x80FD;&#x591F;&#x901A;&#x77E5;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x3002; LinuxLinux&#x4E2D;&#x7684; select&#xFF0C;poll&#xFF0C;epoll &#x90FD;&#x662F;IO&#x591A;&#x8DEF;&#x590D;&#x7528;&#x7684;&#x673A;&#x5236;&#x3002; Linux&#x4E0B;&#x7F51;&#x7EDC;I/O&#x4F7F;&#x7528;socket&#x5957;&#x63A5;&#x5B57;&#x6765;&#x901A;&#x4FE1;&#xFF0C;&#x666E;&#x901A;I/O&#x6A21;&#x578B;&#x53EA;&#x80FD;&#x76D1;&#x542C;&#x4E00;&#x4E2A;socket&#xFF0C;&#x800C;I/O&#x591A;&#x8DEF;&#x590D;&#x7528;&#x53EF;&#x540C;&#x65F6;&#x76D1;&#x542C;&#x591A;&#x4E2A;socket. I/O&#x591A;&#x8DEF;&#x590D;&#x7528;&#x907F;&#x514D;&#x963B;&#x585E;&#x5728;io&#x4E0A;&#xFF0C;&#x539F;&#x672C;&#x4E3A;&#x591A;&#x8FDB;&#x7A0B;&#x6216;&#x591A;&#x7EBF;&#x7A0B;&#x6765;&#x63A5;&#x6536;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#x7684;&#x6D88;&#x606F;&#x53D8;&#x4E3A;&#x5355;&#x8FDB;&#x7A0B;&#x6216;&#x5355;&#x7EBF;&#x7A0B;&#x4FDD;&#x5B58;&#x591A;&#x4E2A;socket&#x7684;&#x72B6;&#x6001;&#x540E;&#x8F6E;&#x8BE2;&#x5904;&#x7406;. PythonPython&#x4E2D;&#x6709;&#x4E00;&#x4E2A;select&#x6A21;&#x5757;&#xFF0C;&#x5176;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#xFF1A;select&#x3001;poll&#x3001;epoll&#x4E09;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5206;&#x522B;&#x8C03;&#x7528;&#x7CFB;&#x7EDF;&#x7684; select&#xFF0C;poll&#xFF0C;epoll &#x4ECE;&#x800C;&#x5B9E;&#x73B0;IO&#x591A;&#x8DEF;&#x590D;&#x7528;&#x3002; 1234567891011Windows Python&#xFF1A; &#x63D0;&#x4F9B;&#xFF1A; select Mac Python&#xFF1A; &#x63D0;&#x4F9B;&#xFF1A; select Linux Python&#xFF1A; &#x63D0;&#x4F9B;&#xFF1A; select&#x3001;poll&#x3001;epoll &#x5BF9;&#x4E8E;select&#x6A21;&#x5757;&#x64CD;&#x4F5C;&#x7684;&#x65B9;&#x6CD5;1234567891011&#x53E5;&#x67C4;&#x5217;&#x8868;11, &#x53E5;&#x67C4;&#x5217;&#x8868;22, &#x53E5;&#x67C4;&#x5217;&#x8868;33 = select.select(&#x53E5;&#x67C4;&#x5E8F;&#x5217;1, &#x53E5;&#x67C4;&#x5E8F;&#x5217;2, &#x53E5;&#x67C4;&#x5E8F;&#x5217;3, &#x8D85;&#x65F6;&#x65F6;&#x95F4;) &#x53C2;&#x6570;&#xFF1A; &#x53EF;&#x63A5;&#x53D7;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#xFF08;&#x524D;&#x4E09;&#x4E2A;&#x5FC5;&#x987B;&#xFF09;&#x8FD4;&#x56DE;&#x503C;&#xFF1A;&#x4E09;&#x4E2A;&#x5217;&#x8868; select&#x65B9;&#x6CD5;&#x7528;&#x6765;&#x76D1;&#x89C6;&#x6587;&#x4EF6;&#x53E5;&#x67C4;&#xFF0C;&#x5982;&#x679C;&#x53E5;&#x67C4;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5219;&#x83B7;&#x53D6;&#x8BE5;&#x53E5;&#x67C4;&#x3002;1&#x3001;&#x5F53; &#x53C2;&#x6570;1 &#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x53E5;&#x67C4;&#x53D1;&#x751F;&#x53EF;&#x8BFB;&#x65F6;&#xFF08;accetp&#x548C;read&#xFF09;&#xFF0C;&#x5219;&#x83B7;&#x53D6;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x53E5;&#x67C4;&#x5E76;&#x6DFB;&#x52A0;&#x5230; &#x8FD4;&#x56DE;&#x503C;1 &#x5E8F;&#x5217;&#x4E2D;2&#x3001;&#x5F53; &#x53C2;&#x6570;2 &#x5E8F;&#x5217;&#x4E2D;&#x542B;&#x6709;&#x53E5;&#x67C4;&#x65F6;&#xFF0C;&#x5219;&#x5C06;&#x8BE5;&#x5E8F;&#x5217;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x53E5;&#x67C4;&#x6DFB;&#x52A0;&#x5230; &#x8FD4;&#x56DE;&#x503C;2 &#x5E8F;&#x5217;&#x4E2D;3&#x3001;&#x5F53; &#x53C2;&#x6570;3 &#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x53E5;&#x67C4;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x5219;&#x5C06;&#x8BE5;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x53E5;&#x67C4;&#x6DFB;&#x52A0;&#x5230; &#x8FD4;&#x56DE;&#x503C;3 &#x5E8F;&#x5217;&#x4E2D;4&#x3001;&#x5F53; &#x8D85;&#x65F6;&#x65F6;&#x95F4; &#x672A;&#x8BBE;&#x7F6E;&#xFF0C;&#x5219;select&#x4F1A;&#x4E00;&#x76F4;&#x963B;&#x585E;&#xFF0C;&#x76F4;&#x5230;&#x76D1;&#x542C;&#x7684;&#x53E5;&#x67C4;&#x53D1;&#x751F;&#x53D8;&#x5316;5&#x3001;&#x5F53; &#x8D85;&#x65F6;&#x65F6;&#x95F4; &#xFF1D; 1&#x65F6;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x679C;&#x76D1;&#x542C;&#x7684;&#x53E5;&#x67C4;&#x5747;&#x65E0;&#x4EFB;&#x4F55;&#x53D8;&#x5316;&#xFF0C;&#x5219;select&#x4F1A;&#x963B;&#x585E; 1 &#x79D2;&#xFF0C;&#x4E4B;&#x540E;&#x8FD4;&#x56DE;&#x4E09;&#x4E2A;&#x7A7A;&#x5217;&#x8868;&#xFF0C;&#x5982;&#x679C;&#x76D1;&#x542C;&#x7684;&#x53E5;&#x67C4;&#x6709;&#x53D8;&#x5316;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x3002; &#x5229;&#x7528;select&#x76D1;&#x542C;&#x7EC8;&#x7AEF;&#x64CD;&#x4F5C;&#x5B9E;&#x4F8B;1234567891011121314151617181920212223import socketimport selectsk1 = socket.socket()sk1.bind((&quot;127.0.0.1&quot;,8001))sk1.listen()sk2 = socket.socket()sk2.bind((&quot;127.0.0.1&quot;,8002))sk2.listen()sk3 = socket.socket()sk3.bind((&quot;127.0.0.1&quot;,8003))sk3.listen()li = [sk1,sk2,sk3]while True: r_list,w_list,e_list = select.select(li,[],[],1) # r_list&#x53EF;&#x53D8;&#x5316;&#x7684; for line in r_list: conn,address = line.accept() conn.sendall(bytes(&quot;Hello World !&quot;,encoding=&quot;utf-8&quot;)) &#x5229;&#x7528;select&#x5B9E;&#x73B0;&#x4F2A;&#x540C;&#x65F6;&#x5904;&#x7406;&#x591A;&#x4E2A;Socket&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;12345678910111213141516171819202122232425262728293031323334# &#x670D;&#x52A1;&#x7AEF;&#xFF1A;sk1 = socket.socket()sk1.bind((&quot;127.0.0.1&quot;,8001))sk1.listen()inpu = [sk1,]while True: r_list,w_list,e_list = select.select(inpu,[],[],1) for sk in r_list: if sk == sk1: conn,address = sk.accept() inpu.append(conn) else: try: ret = str(sk.recv(1024),encoding=&quot;utf-8&quot;) sk.sendall(bytes(ret+&quot;hao&quot;,encoding=&quot;utf-8&quot;)) except Exception as ex: inpu.remove(sk)# &#x5BA2;&#x6237;&#x7AEF;import socketobj = socket.socket()obj.connect((&apos;127.0.0.1&apos;,8001))while True: inp = input(&quot;Please(q\&#x9000;&#x51FA;):\n&gt;&gt;&gt;&quot;) obj.sendall(bytes(inp,encoding=&quot;utf-8&quot;)) if inp == &quot;q&quot;: break ret = str(obj.recv(1024),encoding=&quot;utf-8&quot;) print(ret) &#x5229;&#x7528;select&#x5B9E;&#x73B0;&#x4F2A;&#x540C;&#x65F6;&#x5904;&#x7406;&#x591A;&#x4E2A;Socket&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x8BFB;&#x5199;&#x5206;&#x79BB;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# &#x670D;&#x52A1;&#x7AEF;&#xFF1A;import socketsk1 = socket.socket()sk1.bind((&quot;127.0.0.1&quot;,8001))sk1.listen()inputs = [sk1]import selectmessage_dic = {}outputs = []while True: r_list, w_list, e_list = select.select(inputs,[],inputs,1) print(&quot;&#x6B63;&#x5728;&#x76D1;&#x542C;&#x7684;socket&#x5BF9;&#x8C61;%d&quot; % len(inputs)) print(r_list) for sk1_or_conn in r_list: if sk1_or_conn == sk1: conn,address = sk1_or_conn.accept() inputs.append(conn) message_dic[conn] = [] else: try: data_bytes = sk1_or_conn.recv(1024) data_str = str(data_bytes,encoding=&quot;utf-8&quot;) sk1_or_conn.sendall(bytes(data_str+&quot;&#x597D;&quot;,encoding=&quot;utf-8&quot;)) except Exception as ex: inputs.remove(sk1_or_conn) else: data_str = str(data_bytes,encoding=&quot;utf-8&quot;) message_dic[sk1_or_conn].append(data_str) outputs.append(sk1_or_conn) for conn in w_list: recv_str = message_dic[conn][0] del message_dic[conn][0] conn.sendall(bytes(recv_str+&quot;&#x597D;&quot;,encoding=&quot;utf-8&quot;)) for sk in e_list: inputs.remove(sk)# &#x5BA2;&#x6237;&#x7AEF;&#xFF1A;import socketobj = socket.socket()obj.connect((&apos;127.0.0.1&apos;,8001))while True: inp = input(&quot;Please(q\&#x9000;&#x51FA;):\n&gt;&gt;&gt;&quot;) obj.sendall(bytes(inp,encoding=&quot;utf-8&quot;)) if inp == &quot;q&quot;: break ret = str(obj.recv(1024),encoding=&quot;utf-8&quot;) print(ret)]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[postgresql基础学习教程]]></title>
    <url>%2F2016%2F12%2F22%2Flearn-postgresql%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x81EA;&#x4ECE;MySQL&#x88AB;Oracle&#x6536;&#x8D2D;&#x4EE5;&#x540E;&#xFF0C;PostgreSQL&#x9010;&#x6E10;&#x6210;&#x4E3A;&#x5F00;&#x6E90;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x9996;&#x9009;&#x3002; &#x672C;&#x6587;&#x4ECB;&#x7ECD;PostgreSQL&#x7684;&#x5B89;&#x88C5;&#x548C;&#x57FA;&#x672C;&#x7528;&#x6CD5;&#xFF0C;&#x4F9B;&#x521D;&#x6B21;&#x4F7F;&#x7528;&#x8005;&#x4E0A;&#x624B;&#x3002;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#x57FA;&#x4E8E;Debian&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5B9E;&#x5728;&#x6CA1;&#x6709;&#x7CBE;&#x529B;&#x517C;&#x987E;&#xFF0C;&#x4F46;&#x662F;&#x5927;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x5E94;&#x8BE5;&#x666E;&#x904D;&#x9002;&#x7528;&#x3002; &#x672C;&#x6587;&#x5185;&#x5BB9;&#x53D6;&#x81EA;&#x7F51;&#x7EDC;&#xFF0C;&#x539F;&#x6587;&#x5730;&#x5740; &#x5B89;&#x88C5;&#x5B89;&#x88C5;PostgreSQL-client1sudo apt-get install postgresql-client &#x5B89;&#x88C5;PostgreSQL-server1sudo apt-get install postgresql &#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;PostgreSQL&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x81EA;&#x52A8;&#x5728;&#x672C;&#x673A;&#x7684;5432&#x7AEF;&#x53E3;&#x5F00;&#x542F;&#x3002; &#x5982;&#x679C;&#x8FD8;&#x60F3;&#x5B89;&#x88C5;&#x56FE;&#x5F62;&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#xFF0C;&#x4F46;&#x662F;&#x672C;&#x6587;&#x4E0D;&#x6D89;&#x53CA;&#x8FD9;&#x65B9;&#x9762;&#x5185;&#x5BB9;&#x3002; 1sudo apt-get install pgadmin3 &#x6DFB;&#x52A0;&#x65B0;&#x7528;&#x6237;&#x548C;&#x65B0;&#x6570;&#x636E;&#x5E93;&#x521D;&#x6B21;&#x5B89;&#x88C5;&#x540E;&#xFF0C;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;postgres&#x7684;&#x6570;&#x636E;&#x5E93;&#x548C;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;postgres&#x7684;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x3002;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;postgres&#x7684;Linux&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x3002; &#x4E0B;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;postgres&#x7528;&#x6237;&#xFF0C;&#x6765;&#x751F;&#x6210;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x548C;&#x65B0;&#x6570;&#x636E;&#x5E93;&#x3002;&#x597D;&#x51E0;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x7684;&#xFF0C;&#x8FD9;&#x91CC;&#x4ECB;&#x7ECD;&#x4E24;&#x79CD;&#x3002; &#x4F7F;&#x7528;PostgreSQL&#x63A7;&#x5236;&#x53F0;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;Linux&#x65B0;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x53D6;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3A;dbuser&#x3002; 1sudo adduser dbuser &#x5207;&#x6362;&#x5230;postgres&#x7528;&#x6237;1sudo su - postgres &#x4F7F;&#x7528;psql&#x547D;&#x4EE4;&#x767B;&#x5F55;PostgreSQL&#x63A7;&#x5236;&#x53F0;1psql &#x8FD9;&#x65F6;&#x76F8;&#x5F53;&#x4E8E;&#x7CFB;&#x7EDF;&#x7528;&#x6237;postgres&#x4EE5;&#x540C;&#x540D;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8FD9;&#x662F;&#x4E0D;&#x7528;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#xFF0C;&#x7CFB;&#x7EDF;&#x63D0;&#x793A;&#x7B26;&#x4F1A;&#x53D8;&#x4E3A;&#x201D;postgres=#&#x201D;&#xFF0C;&#x8868;&#x793A;&#x8FD9;&#x65F6;&#x5DF2;&#x7ECF;&#x8FDB;&#x5165;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x63A7;&#x5236;&#x53F0;&#x3002;&#x4EE5;&#x4E0B;&#x7684;&#x547D;&#x4EE4;&#x90FD;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x5185;&#x5B8C;&#x6210;&#x3002; &#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x662F;&#x4F7F;&#x7528;\password&#x547D;&#x4EE4;&#xFF0C;&#x4E3A;postgres&#x7528;&#x6237;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5BC6;&#x7801;&#x3002;1\password postgres &#x7B2C;&#x4E8C;&#x4EF6;&#x4E8B;&#x662F;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;dbuser&#xFF08;&#x521A;&#x624D;&#x521B;&#x5EFA;&#x7684;&#x662F;Linux&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF09;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#x3002;1CREATE USER dbuser WITH PASSWORD &apos;password&apos;; &#x7B2C;&#x4E09;&#x4EF6;&#x4E8B;&#x662F;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3A;exampledb&#xFF0C;&#x5E76;&#x6307;&#x5B9A;&#x6240;&#x6709;&#x8005;&#x4E3A;dbuser&#x3002;1CREATE DATABASE exampledb OWNER dbuser; &#x7B2C;&#x56DB;&#x4EF6;&#x4E8B;&#x662F;&#x5C06;exampledb&#x6570;&#x636E;&#x5E93;&#x7684;&#x6240;&#x6709;&#x6743;&#x9650;&#x90FD;&#x8D4B;&#x4E88;dbuser&#xFF0C;&#x5426;&#x5219;dbuser&#x53EA;&#x80FD;&#x767B;&#x5F55;&#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x3002;1GRANT ALL PRIVILEGES ON DATABASE exampledb to dbuser; &#x6700;&#x540E;&#xFF0C;&#x4F7F;&#x7528;\q&#x547D;&#x4EE4;&#x9000;&#x51FA;&#x63A7;&#x5236;&#x53F0;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6309;ctrl+D&#xFF09;&#x3002;1\q &#x4F7F;&#x7528;shell&#x547D;&#x4EE4;&#x884C;&#x6DFB;&#x52A0;&#x65B0;&#x7528;&#x6237;&#x548C;&#x65B0;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x9664;&#x4E86;&#x5728;PostgreSQL&#x63A7;&#x5236;&#x53F0;&#x5185;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5728;shell&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#x5B8C;&#x6210;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;PostgreSQL&#x63D0;&#x4F9B;&#x4E86;&#x547D;&#x4EE4;&#x884C;&#x7A0B;&#x5E8F;createuser&#x548C;createdb&#x3002;&#x8FD8;&#x662F;&#x4EE5;&#x65B0;&#x5EFA;&#x7528;&#x6237;dbuser&#x548C;&#x6570;&#x636E;&#x5E93;exampledb&#x4E3A;&#x4F8B;&#x3002; &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;dbuser&#xFF0C;&#x5E76;&#x6307;&#x5B9A;&#x5176;&#x4E3A;&#x8D85;&#x7EA7;&#x7528;&#x6237;1sudo -u postgres createuser --superuser dbuser &#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x8BBE;&#x7F6E;dbuser&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x5B8C;&#x6210;&#x540E;&#x9000;&#x51FA;&#x63A7;&#x5236;&#x53F0;123sudo -u postgres psql\password dbuser\q &#x5728;shell&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#xFF0C;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;exampledb&#xFF0C;&#x5E76;&#x6307;&#x5B9A;&#x6240;&#x6709;&#x8005;&#x4E3A;dbuser1sudo -u postgres createdb -O dbuser exampledb &#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#x6DFB;&#x52A0;&#x65B0;&#x7528;&#x6237;&#x548C;&#x65B0;&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x540E;&#xFF0C;&#x5C31;&#x8981;&#x4EE5;&#x65B0;&#x7528;&#x6237;&#x7684;&#x540D;&#x4E49;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8FD9;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x662F;psql&#x547D;&#x4EE4;&#x3002; 1psql -U dbuser -d exampledb -h 127.0.0.1 -p 5432 &#x4E0A;&#x9762;&#x547D;&#x4EE4;&#x7684;&#x53C2;&#x6570;&#x542B;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;-U&#x6307;&#x5B9A;&#x7528;&#x6237;&#xFF0C;-d&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#xFF0C;-h&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x5668;&#xFF0C;-p&#x6307;&#x5B9A;&#x7AEF;&#x53E3;&#x3002; &#x8F93;&#x5165;&#x4E0A;&#x9762;&#x547D;&#x4EE4;&#x4EE5;&#x540E;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x63D0;&#x793A;&#x8F93;&#x5165;dbuser&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x3002;&#x8F93;&#x5165;&#x6B63;&#x786E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x767B;&#x5F55;&#x63A7;&#x5236;&#x53F0;&#x4E86;&#x3002; psql&#x547D;&#x4EE4;&#x5B58;&#x5728;&#x7B80;&#x5199;&#x5F62;&#x5F0F;&#x3002;&#x5982;&#x679C;&#x5F53;&#x524D;Linux&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x662F;PostgreSQL&#x7528;&#x6237;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7528;&#x6237;&#x540D;&#xFF08;-U&#x53C2;&#x6570;&#x7684;&#x90E8;&#x5206;&#xFF09;&#x3002;&#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x7684;Linux&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x540D;&#x4E3A;ruanyf&#xFF0C;&#x4E14;PostgreSQL&#x6570;&#x636E;&#x5E93;&#x5B58;&#x5728;&#x540C;&#x540D;&#x7528;&#x6237;&#xFF0C;&#x5219;&#x6211;&#x4EE5;ruanyf&#x8EAB;&#x4EFD;&#x767B;&#x5F55;Linux&#x7CFB;&#x7EDF;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x3002; 1psql exampledb &#x6B64;&#x65F6;&#xFF0C;&#x5982;&#x679C;PostgreSQL&#x5185;&#x90E8;&#x8FD8;&#x5B58;&#x5728;&#x4E0E;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x540C;&#x540D;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5219;&#x8FDE;&#x6570;&#x636E;&#x5E93;&#x540D;&#x90FD;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x5047;&#x5B9A;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x53EB;&#x505A;ruanyf&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x952E;&#x5165;psql&#x5C31;&#x53EF;&#x4EE5;&#x767B;&#x5F55;&#x8BE5;&#x6570;&#x636E;&#x5E93;&#x3002; 1psql &#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x6062;&#x590D;&#x5916;&#x90E8;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x3002; 1psql exampledb &lt; exampledb.sql &#x63A7;&#x5236;&#x53F0;&#x547D;&#x4EE4;&#x9664;&#x4E86;&#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x7528;&#x5230;&#x7684;\password&#x547D;&#x4EE4;&#xFF08;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#xFF09;&#x548C;\q&#x547D;&#x4EE4;&#xFF08;&#x9000;&#x51FA;&#xFF09;&#x4EE5;&#x5916;&#xFF0C;&#x63A7;&#x5236;&#x53F0;&#x8FD8;&#x63D0;&#x4F9B;&#x4E00;&#x7CFB;&#x5217;&#x5176;&#x4ED6;&#x547D;&#x4EE4;&#x3002; 123456789\h&#xFF1A;&#x67E5;&#x770B;SQL&#x547D;&#x4EE4;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x6BD4;&#x5982;\h select&#x3002;\?&#xFF1A;&#x67E5;&#x770B;psql&#x547D;&#x4EE4;&#x5217;&#x8868;&#x3002;\l&#xFF1A;&#x5217;&#x51FA;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x3002;\c [database_name]&#xFF1A;&#x8FDE;&#x63A5;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x3002;\d&#xFF1A;&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6240;&#x6709;&#x8868;&#x683C;&#x3002;\d [table_name]&#xFF1A;&#x5217;&#x51FA;&#x67D0;&#x4E00;&#x5F20;&#x8868;&#x683C;&#x7684;&#x7ED3;&#x6784;&#x3002;\du&#xFF1A;&#x5217;&#x51FA;&#x6240;&#x6709;&#x7528;&#x6237;&#x3002;\e&#xFF1A;&#x6253;&#x5F00;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x3002;\conninfo&#xFF1A;&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x548C;&#x8FDE;&#x63A5;&#x7684;&#x4FE1;&#x606F;&#x3002; &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x4E00;&#x822C;&#x7684;SQL&#x8BED;&#x8A00;&#x3002; &#x521B;&#x5EFA;&#x65B0;&#x8868;1CREATE TABLE user_tbl(name VARCHAR(20), signup_date DATE); &#x63D2;&#x5165;&#x6570;&#x636E;1INSERT INTO user_tbl(name, signup_date) VALUES(&apos;&#x5F20;&#x4E09;&apos;, &apos;2013-12-22&apos;); &#x9009;&#x62E9;&#x8BB0;&#x5F55;1SELECT * FROM user_tbl; &#x66F4;&#x65B0;&#x6570;&#x636E;1UPDATE user_tbl set name = &apos;&#x674E;&#x56DB;&apos; WHERE name = &apos;&#x5F20;&#x4E09;&apos;; &#x5220;&#x9664;&#x8BB0;&#x5F55;1DELETE FROM user_tbl WHERE name = &apos;&#x674E;&#x56DB;&apos; ; &#x6DFB;&#x52A0;&#x680F;&#x4F4D;1ALTER TABLE user_tbl ADD email VARCHAR(40); &#x66F4;&#x65B0;&#x7ED3;&#x6784;1ALTER TABLE user_tbl ALTER COLUMN signup_date SET NOT NULL; &#x66F4;&#x540D;&#x680F;&#x4F4D;1ALTER TABLE user_tbl RENAME COLUMN signup_date TO signup; &#x5220;&#x9664;&#x680F;&#x4F4D;1ALTER TABLE user_tbl DROP COLUMN email; &#x8868;&#x683C;&#x66F4;&#x540D;1ALTER TABLE user_tbl RENAME TO backup_tbl; &#x5220;&#x9664;&#x8868;&#x683C;1DROP TABLE IF EXISTS backup_tbl;]]></content>
      <categories>
        <category>db</category>
        <category>postgres</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>postgres</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sql优化之用索引优化order by语句]]></title>
    <url>%2F2016%2F12%2F21%2Fsql-performance%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;MySQL&#x6570;&#x636E;&#x5E93;&#x6027;&#x80FD;&#x5DEE;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x6162;&#x67E5;&#x8BE2;sql&#x5360;&#x636E;&#x4E86;&#x5F88;&#x5927;&#x7684;&#x6BD4;&#x4F8B;&#xFF0C;&#x4ECE;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#x627E;&#x5230;&#x4E86;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x5E93;&#x6027;&#x80FD;&#x5DEE;&#x7684;sql&#x4E4B;&#x540E;&#xFF0C;&#x914D;&#x5408;sql&#x6267;&#x884C;&#x8BA1;&#x5212;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;sql&#x8FDB;&#x884C;&#x4F18;&#x5316;&#x4E86;&#x3002; MySQL&#x7D22;&#x5F15;&#x901A;&#x5E38;&#x662F;&#x88AB;&#x7528;&#x4E8E;&#x63D0;&#x9AD8;WHERE&#x6761;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x884C;&#x5339;&#x914D;&#x6216;&#x8005;&#x6267;&#x884C;&#x8054;&#x7ED3;&#x64CD;&#x4F5C;&#x65F6;&#x5339;&#x914D;&#x5176;&#x5B83;&#x8868;&#x7684;&#x6570;&#x636E;&#x884C;&#x7684;&#x641C;&#x7D22;&#x901F;&#x5EA6;&#x3002; MySQL&#x4E5F;&#x80FD;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x6765;&#x5FEB;&#x901F;&#x5730;&#x6267;&#x884C;ORDER BY&#x548C;GROUP BY&#x8BED;&#x53E5;&#x7684;&#x6392;&#x5E8F;&#x548C;&#x5206;&#x7EC4;&#x64CD;&#x4F5C;&#x3002; ORDER BY&#x548C;GROUP BY&#x8BED;&#x53E5;&#x4F1A;&#x5148;&#x5BF9;&#x67E5;&#x8BE2;&#x8868;&#x6267;&#x884C;&#x6392;&#x5E8F;&#x6216;&#x5206;&#x7EC4;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6267;&#x884C;where&#x6761;&#x4EF6;&#x91CC;&#x9762;&#x7684;&#x7B5B;&#x9009;&#xFF0C;&#x5E76;&#x4E14;&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#x53EA;&#x4F1A;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x3002; &#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#x53D6;&#x81EA; CSDN&#x535A;&#x5BA2; MySQL&#x80FD;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x6765;&#x4F18;&#x5316; Order By&#x6392;&#x5E8F;&#x7684;&#x60C5;&#x51B5;ORDER BY&#x7684;&#x7D22;&#x5F15;&#x4F18;&#x5316;&#x5982;&#x679C;&#x4E00;&#x4E2A;SQL&#x8BED;&#x53E5;&#x5F62;&#x5982;&#xFF1A; 1SELECT [column1],[column2],&#x2026;. FROM [TABLE] ORDER BY [sort]; &#x5728;[sort]&#x8FD9;&#x4E2A;&#x680F;&#x4F4D;&#x4E0A;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x8FDB;&#x884C;order by &#x4F18;&#x5316;&#x3002; WHERE + ORDER BY&#x7684;&#x7D22;&#x5F15;&#x4F18;&#x5316;&#x5F62;&#x5982;&#xFF1A; 1SELECT [column1],[column2],&#x2026;. FROM [TABLE] WHERE [columnX] = [value] ORDER BY [sort]; &#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x8054;&#x5408;&#x7D22;&#x5F15;(columnX,sort)&#x6765;&#x5B9E;&#x73B0;order by &#x4F18;&#x5316;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;columnX&#x5BF9;&#x5E94;&#x591A;&#x4E2A;&#x503C;&#xFF0C;&#x5982;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x5C31;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x6765;&#x5B9E;&#x73B0;order by&#x7684;&#x4F18;&#x5316; 1SELECT [column1],[column2],&#x2026;. FROM [TABLE] WHERE [columnX] IN ([value1],[value2],&#x2026;) ORDER BY[sort]; WHERE+ &#x591A;&#x4E2A;&#x5B57;&#x6BB5;ORDER BY1SELECT * FROM [table] WHERE uid=1 ORDER x,y LIMIT 0,10; &#x5EFA;&#x7ACB;&#x7D22;&#x5F15;(uid,x,y)&#x5B9E;&#x73B0;order by&#x7684;&#x4F18;&#x5316;,&#x6BD4;&#x5EFA;&#x7ACB;(x,y,uid)&#x7D22;&#x5F15;&#x6548;&#x679C;&#x8981;&#x597D;&#x5F97;&#x591A;&#x3002; MySQL&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x6765;&#x4F18;&#x5316; Order By&#x6392;&#x5E8F;&#x7684;&#x60C5;&#x51B5;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x7D22;&#x5F15;&#x952E;&#x505A; ORDER BY &#xFF1A;(key1,key2&#x5206;&#x522B;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;)1SELECT * FROM t1 ORDER BY key1, key2; &#x5728;&#x975E;&#x8FDE;&#x7EED;&#x7684;&#x7D22;&#x5F15;&#x952E;&#x90E8;&#x5206;&#x4E0A;&#x505A; ORDER BY&#xFF1A;(key_part1,key_part2&#x5EFA;&#x7ACB;&#x8054;&#x5408;&#x7D22;&#x5F15;;key2&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;)1SELECT * FROM t1 WHERE key2=constant ORDER BY key_part2; &#x540C;&#x65F6;&#x4F7F;&#x7528;&#x4E86; ASC &#x548C; DESC&#xFF1A;(key_part1,key_part2&#x5EFA;&#x7ACB;&#x8054;&#x5408;&#x7D22;&#x5F15;)1SELECT * FROM t1 ORDER BY key_part1 DESC, key_part2 ASC; &#x7528;&#x4E8E;&#x641C;&#x7D22;&#x8BB0;&#x5F55;&#x7684;&#x7D22;&#x5F15;&#x952E;&#x548C;&#x505A; ORDER BY &#x7684;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#xFF1A;(key1,key2&#x5206;&#x522B;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;)1SELECT * FROM t1 WHERE key2=constant ORDER BY key1; &#x5982;&#x679C;&#x5728;WHERE&#x548C;ORDER BY&#x7684;&#x680F;&#x4F4D;&#x4E0A;&#x5E94;&#x7528;&#x8868;&#x8FBE;&#x5F0F;(&#x51FD;&#x6570;)&#x65F6;&#xFF0C;&#x5219;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x6765;&#x5B9E;&#x73B0;order by&#x7684;&#x4F18;&#x5316;1SELECT * FROM t1 ORDER BY YEAR(logindate) LIMIT 0,10; &#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2;&#x6765;&#x4F18;&#x5316;order by&#x8BED;&#x53E5;1SELECT [column1],[column2],&#x2026;. FROM [TABLE] WHERE [columnX] = [value] ORDER BY [sort]; &#x53EF;&#x4EE5;&#x6539;&#x6210;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5B50;&#x67E5;&#x8BE2;&#x5148;&#x6267;&#x884C;&#x7B5B;&#x9009;&#xFF0C;&#x5916;&#x5C42;&#x8FDB;&#x884C;&#x6392;&#x5E8F; 1SELECT [column1],[column2],&#x2026;. from (SELECT [column1],[column2],&#x2026;. FROM [TABLE] WHERE [columnX] = [value] ) a ORDER BY [sort]; &#x7279;&#x522B;&#x63D0;&#x793A; mysql&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x3002;&#x5982;&#x679C;&#x8981;&#x5BF9;&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#xFF0C;&#x5EFA;&#x7ACB;&#x590D;&#x5408;&#x7D22;&#x5F15;&#x3002; &#x5728;ORDER BY&#x64CD;&#x4F5C;&#x4E2D;&#xFF0C;MySQL&#x53EA;&#x6709;&#x5728;&#x6392;&#x5E8F;&#x6761;&#x4EF6;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x624D;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x3002;]]></content>
      <categories>
        <category>db</category>
        <category>mysql</category>
        <category>sql</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>mysql</tag>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一些DOCKERFILE实例]]></title>
    <url>%2F2016%2F12%2F14%2Flearn-docker-images%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002;]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[oracle11g静默安装]]></title>
    <url>%2F2016%2F12%2F08%2Foracle-install-quiet%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x56FE;&#x5F62;&#x5316;&#x5B89;&#x88C5;oracle&#x65F6;&#x95F4;&#x53C8;&#x957F;&#xFF0C;&#x8FC7;&#x7A0B;&#x53C8;&#x67AF;&#x71E5;&#xFF0C;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x8FD8;&#x8981;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002; &#x9759;&#x9ED8;&#x5B89;&#x88C5;&#x65E0;&#x9700;&#x56FE;&#x5F62;&#x5316;&#xFF0C;&#x5B89;&#x88C5;&#x65F6;&#x95F4;&#x77ED;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x63D0;&#x524D;&#x8BBE;&#x7F6E;&#x597D;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E5F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7559;&#x5B58;&#xFF0C;&#x7528;&#x4EE5;&#x4EE5;&#x540E;&#x7684;&#x5B89;&#x88C5;&#x3002; &#x5B89;&#x88C5;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x5305;1yum install binutils compat-libcap1 compat-libstdc++-33 gcc gcc-c++ glibc glibc-devel ksh libgcc libstdc libstdc++-devel libaio libaio-devel make sysstat unixODBC unixODBC-devel -y &#x521B;&#x5EFA;&#x7528;&#x6237;&#x3001;&#x7528;&#x6237;&#x7EC4;12345678groupadd -g 2001 oinstallgroupadd -g 2002 dbagroupadd -g 2003 operuseradd -u 2002 -g oinstall -G dba,oper oracleid oracleuid=1002(oracle) gid=1001(oinstall) groups=1001(oinstall),1002(dba),1003(oper)[root@leopard ~]# passwd oracle ==&gt;Oracle@lifec.123sys system Oraclelifec123 &#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;123456789101112echo &quot;export PATHexport TEMP=/tmpexport TEMPDIR=$TMPexport ORACLE_BASE=/server/oracleexport ORACLE_HOME=$ORACLE_BASE/product/11.2/db_1export ORACLE_SID=oracleexport PATH=$ORACLE_HOME/bin:$PATHexport LD_LIBRARY_PATH=$ORACLE_HOME/libexport NLS_LANG=&quot;SIMPLIFIED CHINESE_CHINA.AL32UTF8&quot;;export NLS_DATE_FORMAT=&apos;YYYY-MM-DD HH24:MI:SS&apos;;&quot; &gt;&gt; . bash_profile &#x4FEE;&#x6539;&#x7CFB;&#x7EDF;&#x53C2;&#x6570;123456789101112131415161718192021222324&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[root@leopard ~]# vim /etc/sysctl.confkernel.shmmax = 536870912kernel.shmmni = 4096fs.aio-max-nr = 1048576fs.file-max = 6815744kernel.shmall = 2097152kernel.sem = 250 32000 100 128net.ipv4.ip_local_port_range = 9000 65500net.core.rmem_default = 262144net.core.rmem_max = 4194304net.core.wmem_default = 262144net.core.wmem_max = 1048576[root@leopard ~]# sysctl -p&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[root@leopard ~]# vim /etc/security/limits.conforacle soft nproc 65535oracle hard nproc 65536oracle soft nofile 65535oracle hard nofile 65536oracle soft stack 65535[root@leopard ~]# vim /etc/pam.d/loginsession required pam_limits.so &#x521B;&#x5EFA;&#x76EE;&#x5F55;1234567891011121314151617mkdir -p /server/oraclechown -R oracle:oinstall /server/oraclechmod -R 775 /server/oraclemkdir -p /server/oraInventorychown -R oracle:oinstall /server/oraInventorychmod -R 775 /server/oraInventorymkdir -p /data/oradatachown -R oracle:oinstall /data/oradatachmod -R 775 /data/oradatamkdir -p /data/recovery_areachown -R oracle:oinstall /data/recovery_areachmod -R 775 /data/recovery_areamkdir -p /server/oracle/admin/oracle/adumpchown -R oracle:oinstall /server/oracle/admin/oracle/adumpmkdir -p /data/oradata/oracle/chown -R oracle:oinstall /data/oradata/oracle/&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &#x6302;&#x8F7D;oracle&#x955C;&#x50CF;1234mkdir /mnt/isomount -o loop oracle11g_11204_x86_64.iso /mnt/iso/;cd /mnt/iso/unzip p13390677_112040_Linux-x86-64_1of7.zip -d /home/oracle/unzip p13390677_112040_Linux-x86-64_2of7.zip -d /home/oracle/ &#x4FEE;&#x6539;db_install.rsp&#x6587;&#x4EF6;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; &#x6267;&#x884C;&#x9759;&#x9ED8;&#x5B89;&#x88C5;12./runInstaller -silent -force -responseFile /home/oracle/database/response/db_install.rspps&gt;&gt;&gt;&gt;&gt;&gt;db_install.rsp&#x6587;&#x4EF6;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7F16;&#x8F91;&#x4FEE;&#x6539; &#x540E;&#x7EED;&#x4F18;&#x5316;&#x64CD;&#x4F5C;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081create tablespace MIRACLEdatafile &apos;/data/oradata/oracle/miracle01.dbf&apos;size 10G autoextend on next 100m maxsize 30G,&apos;/data/oradata/oracle/miracle02.dbf&apos;size 10G autoextend on next 100m maxsize 30G;alter tablespace miracle add datafile&apos;/data/oradata/oracle/miracle02.dbf&apos;size 10G autoextend on next 100m maxsize 30G extent management local autoallocate;create tablespace IDX_MIRACLEdatafile &apos;/data/oradata/oracle/idx_miracle01.dbf&apos;size 5Gautoextend on next 100m maxsize 15G,&apos;/data/oradata/oracle/idx_miracle02.dbf&apos;size 5Gautoextend on next 100m maxsize 15G;ALTER USER MIRACLE DEFAULT TABLESPACE MIRACLE;ALTER USER MIRACLE QUOTA UNLIMITED ON MIRACLE;ALTER USER MIRACLE QUOTA UNLIMITED ON IDX_MIRACLE;startup;@cuser.sqlimpdp miracle/miracle directory=pump_dir dumpfile=miracle2015-08-04-06x0.dmp schemas=miracle remap_tablespace=users:MIRACLEALTER TABLE &quot;orders&quot; MOVE TABLESPACE MIRACLE;remap_tablespace=users:MIRACLEcreate tablespace MIRACLEdatafile &apos;/data/oradata/oracle/miracle01.dbf&apos;size 5G autoextend on next 100m maxsize 10G,&apos;/data/oradata/oracle/miracle02.dbf&apos;size 5G autoextend on next 100m maxsize 10G;&#x5F00;&#x542F;&#x5F52;&#x6863;&#x65E5;&#x5FD7;shutdown immediate;startup mount; alter database archivelog; alter database open; archive log list;&#x5F00;&#x542F;&#x95EA;&#x56DE;SQL&gt; shutdown immediate;SQL&gt; startup mount;SQL&gt; alter database flashback on;SQL&gt; alter database open;&#x5F00;&#x542F;&#x5F3A;&#x5236;&#x65E5;&#x5FD7;--&#x7528;&#x4E8E;dgselect force_logging from v$database;alter database force logging;&#x5F00;&#x542F;&#x9644;&#x52A0;&#x65E5;&#x5FD7;--&#x7528;&#x4E8E;&#x65E5;&#x5FD7;&#x6316;&#x6398; select supplemental_log_data_min from v$database; alter database add supplemental log data;&#x5173;&#x95ED;&#x7CFB;&#x7EDF;&#x5BA1;&#x8BA1;aud$alter system set audit_trail=none scope=spfile;shutdown immediate; startup;truncate table SYS.AUD$;&#x4E00;&#x3001;&#x6253;&#x5F00;&#x95EA;&#x56DE;&#x6570;&#x636E;&#x5E93;&#x7279;&#x6027;&#xFF1A;1&#x3001;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x5E93;&#x5904;&#x4E8E;&#x5F52;&#x6863;&#x6A21;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x4E3A;&#x975E;&#x5F52;&#x6863;&#x6A21;&#x5F0F;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x8F6C;&#x6362;&#x6210;&#x5F52;&#x6863;&#x6A21;&#x5F0F;SQL&gt; archive log list;&#x6570;&#x636E;&#x5E93;&#x65E5;&#x5FD7;&#x6A21;&#x5F0F; &#x5B58;&#x6863;&#x6A21;&#x5F0F;&#x81EA;&#x52A8;&#x5B58;&#x6863; &#x542F;&#x7528;&#x5B58;&#x6863;&#x7EC8;&#x70B9; /cwarch&#x6700;&#x65E9;&#x7684;&#x8054;&#x673A;&#x65E5;&#x5FD7;&#x5E8F;&#x5217; 1274&#x4E0B;&#x4E00;&#x4E2A;&#x5B58;&#x6863;&#x65E5;&#x5FD7;&#x5E8F;&#x5217; 1276&#x5F53;&#x524D;&#x65E5;&#x5FD7;&#x5E8F;&#x5217; 12762&#x3001;&#x8BBE;&#x7F6E;&#x95EA;&#x56DE;&#x6062;&#x590D;&#x533A;&#x8BBE;&#x7F6E;&#x95EA;&#x56DE;&#x533A;&#x5927;&#x5C0F;&#xFF1A;SQL&gt; alter system set db_recovery_file_dest_size=80g scope=spfile;&#x8BBE;&#x7F6E;&#x95EA;&#x56DE;&#x533A;&#x4F4D;&#x7F6E;&#xFF1A;SQL&gt; alter system set db_recovery_file_dest=&apos;/workdb/account_flashback_area&apos; scope=spfile;&#x8BBE;&#x7F6E;&#x95EA;&#x56DE;&#x76EE;&#x6807;&#x4E3A;5&#x5929;&#xFF0C;&#x4EE5;&#x5206;&#x949F;&#x4E3A;&#x5355;&#x4F4D;&#xFF0C;&#x6BCF;&#x5929;&#x4E3A;1440&#x5206;&#x949F;&#xFF1A;SQL&gt; alter system set db_flashback_retention_target=7200 scope=spfile;3&#x3001;&#x6253;&#x5F00;&#x95EA;&#x56DE;&#x529F;&#x80FD;SQL&gt; shutdown immediate;SQL&gt; startup mount;SQL&gt; alter database flashback on;SQL&gt; alter database open;4&#x3001;&#x786E;&#x8BA4;&#x6570;&#x636E;&#x5E93;&#x95EA;&#x56DE;&#x7279;&#x6027;&#x5DF2;&#x7ECF;&#x542F;&#x7528;SQL&gt; select flashback_on from v$database;FLASHBACK_ON------------------YES&#x4E8C;&#x3001;&#x5173;&#x95ED;&#x95EA;&#x56DE;&#x6570;&#x636E;&#x5E93;&#x7279;&#x6027;&#xFF1A;SQL&gt; shutdown immediate;SQL&gt; startup mount;SQL&gt; alter database flashback off;SQL&gt; alter database open;]]></content>
      <categories>
        <category>db</category>
        <category>oracle</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL innobackupex全量备份恢复]]></title>
    <url>%2F2016%2F12%2F08%2Fmysql-innobackupex%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x5185;&#x5BB9;&#x53D6;&#x81EA;&#x7F51;&#x7EDC; &#x5148;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;: innobackupex innobackupex&#x6BD4;xtrabackup&#x6709;&#x66F4;&#x5F3A;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5B83;&#x6574;&#x5408;&#x4E86;xtrabackup&#x548C;&#x5176;&#x4ED6;&#x7684;&#x4E00;&#x4E9B;&#x529F;&#x80FD;&#xFF0C;&#x4ED6;&#x4E0D;&#x4F46;&#x53EF;&#x4EE5;&#x5168;&#x91CF;&#x5907;&#x4EFD;/&#x6062;&#x590D;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;&#x65F6;&#x95F4;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x3002; innobackupex&#x5907;&#x4EFD;&#x539F;&#x7406;innobackupex&#x9996;&#x5148;&#x8C03;&#x7528;xtrabackup&#x6765;&#x5907;&#x4EFD;innodb&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x5F53;xtrabackup&#x5B8C;&#x6210;&#x540E;&#xFF0C;innobackupex&#x5C31;&#x67E5;&#x770B;&#x6587;&#x4EF6; xtrabackup_suspended &#xFF1B;&#x7136;&#x540E;&#x6267;&#x884C;&#x201C;FLUSH TABLES WITH READ LOCK&#x201D;&#x6765;&#x5907;&#x4EFD;&#x5176;&#x4ED6;&#x7684;&#x6587;&#x4EF6; innobackupex&#x6062;&#x590D;&#x539F;&#x7406;innobackupex&#x9996;&#x5148;&#x8BFB;&#x53D6;my.cnf&#xFF0C;&#x67E5;&#x770B;&#x53D8;&#x91CF; datadir innodb_data_home_dir innodb_data_file_path innodb_log_group_home_dir &#x5BF9;&#x5E94;&#x7684;&#x76EE;&#x5F55;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x786E;&#x5B9A;&#x76F8;&#x5173;&#x76EE;&#x5F55;&#x5B58;&#x5728;&#x540E;&#xFF0C;&#x7136;&#x540E;&#x5148;copy myisam&#x8868;&#x548C;&#x7D22;&#x5F15;&#xFF0C;&#x7136;&#x540E;&#x5728;copy innodb&#x7684;&#x8868;&#x3001;&#x7D22;&#x5F15;&#x548C;&#x65E5;&#x5FD7;&#x3002; &#x5168;&#x91CF;&#x5907;&#x4EFD;&#x5168;&#x5907;&#x547D;&#x4EE4;1./innobackupex --user=root --password=root --host=172.17.210.112 --parallel=4 --throttle=400 --stream=tar /mysqlbak/innobackupex 2&gt;/mysqlbak/innobackupex/bak.log 1&gt;/mysqlbak/innobackupex/fullbak.tar &#x53C2;&#x6570;&#x89E3;&#x91CA;12345678--user=root &#x5907;&#x4EFD;&#x64CD;&#x4F5C;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x662F;root&#x7528;&#x6237; --password=root123 &#x5BC6;&#x7801;--host=172.17.210.112 &#x4E3B;&#x673A;ip&#xFF0C;&#x672C;&#x5730;&#x53EF;&#x4EE5;&#x4E0D;&#x52A0;--parallel=4 --throttle=400 &#x5E76;&#x884C;&#x4E2A;&#x6570;&#xFF0C;&#x6839;&#x636E;&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;1&#x4E2A;&#xFF0C;&#x591A;&#x4E2A;&#x53EF;&#x4EE5;&#x52A0;&#x5FEB;&#x5907;&#x4EFD;&#x901F;&#x5EA6;&#x3002;--stream=tar &#x538B;&#x7F29;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x91CC;&#x9009;&#x62E9;tar&#x683C;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x52A0;&#xFF0C;&#x53EF;&#x4E0D;&#x52A0;&#x3002;&#x52A0;&#x4E0A;&#x6587;&#x4EF6;&#x5C31;&#x5C0F;&#x4E00;&#x70B9;&#xFF0C;&#x5728;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x5DF2;&#x7ECF;&#x6253;&#x5305;&#x597D;&#x4E86;&#x3002;/mysqlbak/innobackupex &#x5907;&#x4EFD;&#x5B58;&#x653E;&#x7684;&#x76EE;&#x5F55;2&gt;/mysqlbak/innobackupex/bak.log &#x5907;&#x4EFD;&#x65E5;&#x5FD7;&#xFF0C;&#x5C06;&#x5907;&#x4EFD;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x91CD;&#x5B9A;&#x5411;&#x5230;bak.log1&gt;/mysqlbak/innobackupex/fullbak.tar &#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x538B;&#x7F29;&#x540E;&#x7684;&#x540D;&#x5B57; &#x4E0D;&#x538B;&#x7F29;&#x7684;&#x5168;&#x5907;1./innobackupex --user=root --password=root --host=172.17.210.112 --parallel=4 --throttle=400 /mysqlbak/innobackupex 2&gt;/mysqlbak/innobackupex/bak.log 1&gt;/mysqlbak/innobackupex/ &#x67E5;&#x770B;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;12345678910111213141516141011 09:44:02 innobackupex: Executing FLUSH ENGINE LOGS...141011 09:44:02 innobackupex: Waiting for log copying to finishxtrabackup: The latest check point (for incremental): &apos;14275993522&apos;xtrabackup: Stopping log copying thread..&gt;&gt; log scanned up to (14275993522)xtrabackup: Creating suspend file &apos;/tmp/xtrabackup_log_copied&apos; with pid &apos;19659&apos;141011 09:44:03 innobackupex: All tables unlocked141011 09:44:03 innobackupex: Waiting for ibbackup (pid=19659) to finishxtrabackup: Transaction log of lsn (14275990028) to (14275993522) was copied.innobackupex: Backup created in directory &apos;/mysqlbak/innobackupex&apos;141011 09:44:04 innobackupex: Connection to database server closedinnobackupex: You must use -i (--ignore-zeros) option for extraction of the tar stream.141011 09:44:04 innobackupex: completed OK! &#x8868;&#x793A;&#x5907;&#x4EFD;&#x6210;&#x529F;&#x3002; innobackupex&#x7684;&#x5168;&#x91CF;&#x5907;&#x4EFD;&#x811A;&#x672C;12345678910111213141516171819202122#!/bin/bash#set -x#set -uexport PATH=/bin:/usr/bin:/sbin:/usr/sbin:/usr/local/sbin:/usr/local/mysql/bin:/usr/local/percona-xtrabackup/binexport HOME=/var/emptyDATE=$(date +%Y%m%d)RM_DATE=$(date --date &apos;10 days ago&apos; +&apos;%Y%m%d&apos;)BACKUP_DIR=${XTRABACKUP_BACKUP_DIR}[ ! -d &quot;${BACKUP_DIR}&quot; ] &amp;&amp; mkdir -p ${BACKUP_DIR}# Full database backup/usr/local/percona-xtrabackup/bin/innobackupex --defaults-file=/etc/my.cnf --user=root --password=xxxx --no-timestamp ${BACKUP_DIR}/${DATE}# Compress# cd ${BACKUP_DIR} &amp;&amp; tar czf mysql-${DATE}.tar.gz ${DATE} &amp;&amp; rm -rf ${DATE}# Delete backup over 10 daysrm -rf ${BACKUP_DIR}/${RM_DATE} &#x5168;&#x91CF;&#x6062;&#x590D;&#x6062;&#x590D;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x8981;&#x4FDD;&#x8BC1;datadir&#x6587;&#x4EF6;&#x4E3A;&#x7A7A;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x62A5;&#x5982;&#x4E0B;&#x7684;&#x9519;&#x8BEF; 1234567innobackupex --user=root /data/backup/IMPORTANT: Please check that the copy-back run completes successfully. At the end of a successful copy-back run innobackupex prints &quot;completed OK!&quot;.Original data directory is not empty! at /usr/bin/innobackupex line 568. &#x6062;&#x590D;&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x5E94;&#x7528;&#x65E5;&#x5FD7;1./innobackupex --user=root --password=root1 --defaults-file=/etc/my.cnf --apply-log /u02/backup/ &#x6062;&#x590D;&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;1./innobackupex --user=root --password=root1 --defaults-file=/etc/my.cnf --copy-back /u02/backup/ &#x53C2;&#x6570;&#x89E3;&#x91CA;123--defaults-file=/etc/my.cnf &#x6062;&#x590D;&#x4F1A;&#x4F7F;&#x7528;my.cnf&#x6587;&#x4EF6;&#x628A;&#x9700;&#x8981;&#x6062;&#x590D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6062;&#x590D;&#x5230;my.cnf&#x6307;&#x5B9A;&#x7684;&#x4F4D;&#x7F6E;&#x3002;--apply-log &#x8FD9;&#x662F;&#x5907;&#x4EFD;&#x65F6;&#x4EA7;&#x751F;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;--copy-back &#x8FD9;&#x662F;&#x5907;&#x4EFD;&#x6E90;&#xFF0C;&#x89E3;&#x538B;&#x540E;&#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x3002; &#x6062;&#x590D;&#x9700;&#x8981;&#x4E00;&#x70B9;&#x70B9;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x51FA;&#x73B0;&#x4E0B;&#x9762;&#x4FE1;&#x606F;&#x8868;&#x793A;&#x6062;&#x590D;&#x6210;&#x529F;&#x3002; 123456789101112131415innobackupex: Starting to copy InnoDB system tablespaceinnobackupex: in &apos;/u02/backup&apos;innobackupex: back to original InnoDB data directory &apos;/u01/mysql/data&apos;innobackupex: Copying &apos;/u02/backup/ibdata1&apos; to &apos;/u01/mysql/data/ibdata1&apos;innobackupex: Starting to copy InnoDB undo tablespacesinnobackupex: in &apos;/u02/backup&apos;innobackupex: back to &apos;/u01/mysql/data&apos;innobackupex: Starting to copy InnoDB log filesinnobackupex: in &apos;/u02/backup&apos;innobackupex: back to original InnoDB log directory &apos;/u01/mysql/data&apos;innobackupex: Copying &apos;/u02/backup/ib_logfile1&apos; to &apos;/u01/mysql/data/ib_logfile1&apos;innobackupex: Copying &apos;/u02/backup/ib_logfile0&apos; to &apos;/u01/mysql/data/ib_logfile0&apos;innobackupex: Finished copying back files. &#x6062;&#x590D;&#x7B2C;&#x4E09;&#x6B65;&#xFF1A;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x6743;&#x9650;12cd /datachown -R mysql.mysql data/ &#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x62A5;&#x9519;&#xFF1A;&#x51FA;&#x73B0;&#x4E0B;&#x9762;&#x9519;&#x8BEF;&#xFF0C;&#x5148;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E0B;mysql123./mysql.server startStarting MySQL...The server quit without updating PID file (/u01/mysql/data/newbidb.pid).[FAILED][root@newbidb script]# ./mysql_install_db --basedir=/u01/mysql --no-defaults --skip-name-resolve --user=mysql --datadir=/u01/mysql/data &#x6743;&#x9650;:&#x5E94;&#x8BE5;&#x6062;&#x590D;&#x4F7F;&#x7528;&#x7684;&#x662F;root&#x7528;&#x6237;&#xFF0C;&#x4F46;&#x662F;MySQL&#x9700;&#x8981;MySQL&#x7528;&#x6237;&#x53BB;&#x8BBF;&#x95EE;&#x3002;123./mysql.server restartMySQL server PID file could not be found![FAILED]Starting MySQL.The server quit without updating PID file (/u01/mysql/data/newbidb.pid).[FAILED] &#x8FDE;&#x63A5;MySQL&#x7684;&#x65F6;&#x5019;1234./mysql -uroot -pEnter password:ERROR 2002 (HY000): Can&apos;t connect to local MySQL server through socket &apos;/tmp/mysql.sock&apos; (2)&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;touch mysql.sock &#x5E76;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x6743;&#x9650;&#x3002;]]></content>
      <categories>
        <category>db</category>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python正则表达式]]></title>
    <url>%2F2016%2F12%2F08%2Fpython-re%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5B57;&#x7B26;&#x5E8F;&#x5217;&#xFF0C;&#x5B83;&#x80FD;&#x5E2E;&#x52A9;&#x4F60;&#x65B9;&#x4FBF;&#x7684;&#x68C0;&#x67E5;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5426;&#x4E0E;&#x67D0;&#x79CD;&#x6A21;&#x5F0F;&#x5339;&#x914D;&#x3002;Python &#x81EA;1.5&#x7248;&#x672C;&#x8D77;&#x589E;&#x52A0;&#x4E86;re &#x6A21;&#x5757;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B; Perl &#x98CE;&#x683C;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6A21;&#x5F0F;&#x3002; re &#x6A21;&#x5757;&#x4F7F; Python &#x8BED;&#x8A00;&#x62E5;&#x6709;&#x5168;&#x90E8;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x529F;&#x80FD;&#x3002; compile &#x51FD;&#x6570;&#x6839;&#x636E;&#x4E00;&#x4E2A;&#x6A21;&#x5F0F;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x53EF;&#x9009;&#x7684;&#x6807;&#x5FD7;&#x53C2;&#x6570;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x8C61;&#x3002;&#x8BE5;&#x5BF9;&#x8C61;&#x62E5;&#x6709;&#x4E00;&#x7CFB;&#x5217;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5339;&#x914D;&#x548C;&#x66FF;&#x6362;&#x3002; re &#x6A21;&#x5757;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x4E0E;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x529F;&#x80FD;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x6A21;&#x5F0F;&#x5B57;&#x7B26;&#x4E32;&#x505A;&#x4E3A;&#x5B83;&#x4EEC;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x3002; re.match&#x51FD;&#x6570;re.match &#x5C1D;&#x8BD5;&#x4ECE;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x4E00;&#x4E2A;&#x6A21;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x6210;&#x529F;&#x7684;&#x8BDD;&#xFF0C;match()&#x5C31;&#x8FD4;&#x56DE;none&#x3002; &#x51FD;&#x6570;&#x8BED;&#x6CD5;&#xFF1A;1re.match(pattern, string, flags=0) &#x51FD;&#x6570;&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A; &#x53C2;&#x6570; &#x63CF;&#x8FF0; pattern &#x5339;&#x914D;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; string &#x8981;&#x5339;&#x914D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002; flags &#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x7528;&#x4E8E;&#x63A7;&#x5236;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5339;&#x914D;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#xFF1A;&#x662F;&#x5426;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x591A;&#x884C;&#x5339;&#x914D;&#x7B49;&#x7B49;&#x3002; &#x5339;&#x914D;&#x6210;&#x529F;re.match&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;None&#x3002; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;group(num) &#x6216; groups() &#x5339;&#x914D;&#x5BF9;&#x8C61;&#x51FD;&#x6570;&#x6765;&#x83B7;&#x53D6;&#x5339;&#x914D;&#x8868;&#x8FBE;&#x5F0F;&#x3002; &#x5339;&#x914D;&#x5BF9;&#x8C61;&#x65B9;&#x6CD5; &#x63CF;&#x8FF0; group(num=0) &#x5339;&#x914D;&#x7684;&#x6574;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;group() &#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x8F93;&#x5165;&#x591A;&#x4E2A;&#x7EC4;&#x53F7;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x5B83;&#x5C06;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x90A3;&#x4E9B;&#x7EC4;&#x6240;&#x5BF9;&#x5E94;&#x503C;&#x7684;&#x5143;&#x7EC4;&#x3002; groups() &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6240;&#x6709;&#x5C0F;&#x7EC4;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5143;&#x7EC4;&#xFF0C;&#x4ECE; 1 &#x5230; &#x6240;&#x542B;&#x7684;&#x5C0F;&#x7EC4;&#x53F7;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;12345678910111213#!/usr/bin/pythonimport re line = &quot;Cats are smarter than dogs&quot; matchObj = re.match( r&apos;(.*) are (.*?) .*&apos;, line, re.M|re.I) if matchObj: print &quot;matchObj.group() : &quot;, matchObj.group() print &quot;matchObj.group(1) : &quot;, matchObj.group(1) print &quot;matchObj.group(2) : &quot;, matchObj.group(2)else: print &quot;No match!!&quot; &#x4EE5;&#x4E0A;&#x5B9E;&#x4F8B;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 123matchObj.group() : Cats are smarter than dogsmatchObj.group(1) : CatsmatchObj.group(2) : smarter re.search&#x65B9;&#x6CD5;re.search &#x626B;&#x63CF;&#x6574;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5E76;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x6210;&#x529F;&#x7684;&#x5339;&#x914D;&#x3002; &#x51FD;&#x6570;&#x8BED;&#x6CD5;&#xFF1A;1re.search(pattern, string, flags=0) &#x51FD;&#x6570;&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A; &#x53C2;&#x6570; &#x63CF;&#x8FF0; pattern &#x5339;&#x914D;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; string &#x8981;&#x5339;&#x914D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002; flags &#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x7528;&#x4E8E;&#x63A7;&#x5236;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5339;&#x914D;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#xFF1A;&#x662F;&#x5426;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x591A;&#x884C;&#x5339;&#x914D;&#x7B49;&#x7B49;&#x3002; &#x5339;&#x914D;&#x6210;&#x529F;re.search&#x65B9;&#x6CD5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;None&#x3002; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;group(num) &#x6216; groups() &#x5339;&#x914D;&#x5BF9;&#x8C61;&#x51FD;&#x6570;&#x6765;&#x83B7;&#x53D6;&#x5339;&#x914D;&#x8868;&#x8FBE;&#x5F0F;&#x3002; &#x5339;&#x914D;&#x5BF9;&#x8C61;&#x65B9;&#x6CD5; &#x63CF;&#x8FF0; group(num=0) &#x5339;&#x914D;&#x7684;&#x6574;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;group() &#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x8F93;&#x5165;&#x591A;&#x4E2A;&#x7EC4;&#x53F7;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x5B83;&#x5C06;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x90A3;&#x4E9B;&#x7EC4;&#x6240;&#x5BF9;&#x5E94;&#x503C;&#x7684;&#x5143;&#x7EC4;&#x3002; groups() &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6240;&#x6709;&#x5C0F;&#x7EC4;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5143;&#x7EC4;&#xFF0C;&#x4ECE; 1 &#x5230; &#x6240;&#x542B;&#x7684;&#x5C0F;&#x7EC4;&#x53F7;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;12345678910111213#!/usr/bin/pythonimport re line = &quot;Cats are smarter than dogs&quot;; matchObj = re.match( r&apos;(.*) are (.*?) .*&apos;, line, re.M|re.I) if matchObj: print &quot;matchObj.group() : &quot;, matchObj.group() print &quot;matchObj.group(1) : &quot;, matchObj.group(1) print &quot;matchObj.group(2) : &quot;, matchObj.group(2)else: print &quot;No match!!&quot; &#x4EE5;&#x4E0A;&#x5B9E;&#x4F8B;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 123matchObj.group() : Cats are smarter than dogsmatchObj.group(1) : CatsmatchObj.group(2) : smarter re.match&#x4E0E;re.search&#x7684;&#x533A;&#x522B;re.match&#x53EA;&#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F00;&#x59CB;&#xFF0C;&#x5982;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x5F00;&#x59CB;&#x4E0D;&#x7B26;&#x5408;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5219;&#x5339;&#x914D;&#x5931;&#x8D25;&#xFF0C;&#x51FD;&#x6570;&#x8FD4;&#x56DE;None&#xFF1B;&#x800C;re.search&#x5339;&#x914D;&#x6574;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x76F4;&#x5230;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;12345678910111213141516#!/usr/bin/pythonimport re line = &quot;Cats are smarter than dogs&quot;; matchObj = re.match( r&apos;dogs&apos;, line, re.M|re.I)if matchObj: print &quot;match --&gt; matchObj.group() : &quot;, matchObj.group()else: print &quot;No match!!&quot; matchObj = re.search( r&apos;dogs&apos;, line, re.M|re.I)if matchObj: print &quot;search --&gt; matchObj.group() : &quot;, matchObj.group()else: print &quot;No match!!&quot; &#x4EE5;&#x4E0A;&#x5B9E;&#x4F8B;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 12No match!!search --&gt; matchObj.group() : dogs &#x68C0;&#x7D22;&#x548C;&#x66FF;&#x6362; re.subPython &#x7684;re&#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x4E86;re.sub&#x7528;&#x4E8E;&#x66FF;&#x6362;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#x5339;&#x914D;&#x9879;&#x3002; &#x8BED;&#x6CD5;&#xFF1A;1re.sub(pattern, repl, string, max=0) pattern : &#x6B63;&#x5219;&#x4E2D;&#x7684;&#x6A21;&#x5F0F;&#x5B57;&#x7B26;&#x4E32;&#x3002;repl : &#x66FF;&#x6362;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4E5F;&#x53EF;&#x4E3A;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;string : &#x8981;&#x88AB;&#x67E5;&#x627E;&#x66FF;&#x6362;&#x7684;&#x539F;&#x59CB;&#x5B57;&#x7B26;&#x4E32;&#x3002;count : &#x6A21;&#x5F0F;&#x5339;&#x914D;&#x540E;&#x66FF;&#x6362;&#x7684;&#x6700;&#x5927;&#x6B21;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4; 0 &#x8868;&#x793A;&#x66FF;&#x6362;&#x6240;&#x6709;&#x7684;&#x5339;&#x914D;&#x3002; &#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7528; RE &#x6700;&#x5DE6;&#x8FB9;&#x4E0D;&#x91CD;&#x590D;&#x7684;&#x5339;&#x914D;&#x6765;&#x66FF;&#x6362;&#x3002;&#x5982;&#x679C;&#x6A21;&#x5F0F;&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#xFF0C;&#x5B57;&#x7B26;&#x5C06;&#x88AB;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#x5730;&#x8FD4;&#x56DE;&#x3002; &#x53EF;&#x9009;&#x53C2;&#x6570; count &#x662F;&#x6A21;&#x5F0F;&#x5339;&#x914D;&#x540E;&#x66FF;&#x6362;&#x7684;&#x6700;&#x5927;&#x6B21;&#x6570;&#xFF1B;count &#x5FC5;&#x987B;&#x662F;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;&#x7F3A;&#x7701;&#x503C;&#x662F; 0 &#x8868;&#x793A;&#x66FF;&#x6362;&#x6240;&#x6709;&#x7684;&#x5339;&#x914D;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;123456789101112#!/usr/bin/pythonimport re phone = &quot;2004-959-559 # This is Phone Number&quot; # Delete Python-style commentsnum = re.sub(r&apos;#.*$&apos;, &quot;&quot;, phone)print &quot;Phone Num : &quot;, num # Remove anything other than digitsnum = re.sub(r&apos;\D&apos;, &quot;&quot;, phone) print &quot;Phone Num : &quot;, num &#x4EE5;&#x4E0A;&#x5B9E;&#x4F8B;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 12Phone Num : 2004-959-559Phone Num : 2004959559 re.findallPython &#x7684;re&#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x4E86;re.findall&#x7528;&#x4E8E;&#x627E;&#x51FA;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x5339;&#x914D;&#x9879;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;12str1 = &quot;This is a apple! This is a pen!&quot;print(re.findall(r&quot;is&quot;, str1)) &#x6267;&#x884C;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4E3A;&#xFF1A; 1[&apos;is&apos;, &apos;is&apos;, &apos;is&apos;, &apos;is&apos;] repl &#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x4EE5;&#x4E0B;&#x5B9E;&#x4F8B;&#x4E2D;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#x5339;&#x914D;&#x7684;&#x6570;&#x5B57;&#x4E58;&#x4E8E; 2&#xFF1A; 123456789101112#!/usr/bin/python# -*- coding: UTF-8 -*-import re# &#x5C06;&#x5339;&#x914D;&#x7684;&#x6570;&#x5B57;&#x4E58;&#x4E8E; 2def double(matched): value = int(matched.group(&apos;value&apos;)) return str(value * 2)s = &apos;A23G4HFD567&apos;print(re.sub(&apos;(?P&lt;value&gt;\d+)&apos;, double, s)) &#x6267;&#x884C;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4E3A;&#xFF1A; 1A46G8HFD1134 &#x4E00;&#x4E9B;&#x6B63;&#x5219;&#x5B9E;&#x4F8B;&#x201C;abbbcccbba&#x201D; -&gt; &#x201C;abcba&#x201D;12345&gt;&gt;&gt; import re&gt;&gt;&gt; p = re.compile(ur&quot;([a-zA-Z])(\1+)&quot;)&gt;&gt;&gt; s = &quot;abbbcccbba&quot;&gt;&gt;&gt; p.sub(ur&quot;\1&quot;,s)&apos;abcba&apos; &#x201C;abbbcccbba&#x201D; -&gt; &#x201C;a1b3c3b2a1&#x201D;12345&gt;&gt;&gt; import re&gt;&gt;&gt; p = re.compile(ur&quot;([a-zA-Z])(\1*)&quot;)&gt;&gt;&gt; s = &quot;abbbcccbba&quot;&gt;&gt;&gt; p.sub(lambda m: m.group(1)+str(1+len(m.group(2))), s)&apos;a1b3c3b2a1&apos; &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x4FEE;&#x9970;&#x7B26; - &#x53EF;&#x9009;&#x6807;&#x5FD7;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x53EF;&#x9009;&#x6807;&#x5FD7;&#x4FEE;&#x9970;&#x7B26;&#x6765;&#x63A7;&#x5236;&#x5339;&#x914D;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x4FEE;&#x9970;&#x7B26;&#x88AB;&#x6307;&#x5B9A;&#x4E3A;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x6807;&#x5FD7;&#x3002;&#x591A;&#x4E2A;&#x6807;&#x5FD7;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6309;&#x4F4D; OR(|) &#x5B83;&#x4EEC;&#x6765;&#x6307;&#x5B9A;&#x3002;&#x5982; re.I | re.M &#x88AB;&#x8BBE;&#x7F6E;&#x6210; I &#x548C; M &#x6807;&#x5FD7;&#xFF1A; &#x4FEE;&#x9970;&#x7B26; &#x63CF;&#x8FF0; re.I &#x4F7F;&#x5339;&#x914D;&#x5BF9;&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F; re.L &#x505A;&#x672C;&#x5730;&#x5316;&#x8BC6;&#x522B;&#xFF08;locale-aware&#xFF09;&#x5339;&#x914D; re.M &#x591A;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x5F71;&#x54CD; ^ &#x548C; $ re.S &#x4F7F; . &#x5339;&#x914D;&#x5305;&#x62EC;&#x6362;&#x884C;&#x5728;&#x5185;&#x7684;&#x6240;&#x6709;&#x5B57;&#x7B26; re.U &#x6839;&#x636E;Unicode&#x5B57;&#x7B26;&#x96C6;&#x89E3;&#x6790;&#x5B57;&#x7B26;&#x3002;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x5F71;&#x54CD; \w, \W, \b, \B. re.X &#x8BE5;&#x6807;&#x5FD7;&#x901A;&#x8FC7;&#x7ED9;&#x4E88;&#x4F60;&#x66F4;&#x7075;&#x6D3B;&#x7684;&#x683C;&#x5F0F;&#x4EE5;&#x4FBF;&#x4F60;&#x5C06;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5199;&#x5F97;&#x66F4;&#x6613;&#x4E8E;&#x7406;&#x89E3;&#x3002; &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6A21;&#x5F0F;&#x6A21;&#x5F0F;&#x5B57;&#x7B26;&#x4E32;&#x4F7F;&#x7528;&#x7279;&#x6B8A;&#x7684;&#x8BED;&#x6CD5;&#x6765;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A; &#x5B57;&#x6BCD;&#x548C;&#x6570;&#x5B57;&#x8868;&#x793A;&#x4ED6;&#x4EEC;&#x81EA;&#x8EAB;&#x3002;&#x4E00;&#x4E2A;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x5B57;&#x6BCD;&#x548C;&#x6570;&#x5B57;&#x5339;&#x914D;&#x540C;&#x6837;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#x591A;&#x6570;&#x5B57;&#x6BCD;&#x548C;&#x6570;&#x5B57;&#x524D;&#x52A0;&#x4E00;&#x4E2A;&#x53CD;&#x659C;&#x6760;&#x65F6;&#x4F1A;&#x62E5;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x542B;&#x4E49;&#x3002; &#x6807;&#x70B9;&#x7B26;&#x53F7;&#x53EA;&#x6709;&#x88AB;&#x8F6C;&#x4E49;&#x65F6;&#x624D;&#x5339;&#x914D;&#x81EA;&#x8EAB;&#xFF0C;&#x5426;&#x5219;&#x5B83;&#x4EEC;&#x8868;&#x793A;&#x7279;&#x6B8A;&#x7684;&#x542B;&#x4E49;&#x3002; &#x53CD;&#x659C;&#x6760;&#x672C;&#x8EAB;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x53CD;&#x659C;&#x6760;&#x8F6C;&#x4E49;&#x3002; &#x7531;&#x4E8E;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x90FD;&#x5305;&#x542B;&#x53CD;&#x659C;&#x6760;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x6700;&#x597D;&#x4F7F;&#x7528;&#x539F;&#x59CB;&#x5B57;&#x7B26;&#x4E32;&#x6765;&#x8868;&#x793A;&#x5B83;&#x4EEC;&#x3002;&#x6A21;&#x5F0F;&#x5143;&#x7D20;(&#x5982; r&#x2019;/t&#x2019;&#xFF0C;&#x7B49;&#x4EF7;&#x4E8E;&#x2019;//t&#x2019;)&#x5339;&#x914D;&#x76F8;&#x5E94;&#x7684;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x3002; &#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6A21;&#x5F0F;&#x8BED;&#x6CD5;&#x4E2D;&#x7684;&#x7279;&#x6B8A;&#x5143;&#x7D20;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x7684;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x4E86;&#x53EF;&#x9009;&#x7684;&#x6807;&#x5FD7;&#x53C2;&#x6570;&#xFF0C;&#x67D0;&#x4E9B;&#x6A21;&#x5F0F;&#x5143;&#x7D20;&#x7684;&#x542B;&#x4E49;&#x4F1A;&#x6539;&#x53D8;&#x3002; &#x6A21;&#x5F0F; &#x63CF;&#x8FF0; ^ &#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F00;&#x5934; $ &#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x672B;&#x5C3E;&#x3002; . &#x5339;&#x914D;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#xFF0C;&#x9664;&#x4E86;&#x6362;&#x884C;&#x7B26;&#xFF0C;&#x5F53;re.DOTALL&#x6807;&#x8BB0;&#x88AB;&#x6307;&#x5B9A;&#x65F6;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x5305;&#x62EC;&#x6362;&#x884C;&#x7B26;&#x7684;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x3002; [&#x2026;] &#x7528;&#x6765;&#x8868;&#x793A;&#x4E00;&#x7EC4;&#x5B57;&#x7B26;,&#x5355;&#x72EC;&#x5217;&#x51FA;&#xFF1A;[amk] &#x5339;&#x914D; &#x2018;a&#x2019;&#xFF0C;&#x2019;m&#x2019;&#x6216;&#x2019;k&#x2019; [^&#x2026;] &#x4E0D;&#x5728;[]&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#xFF1A;[^abc] &#x5339;&#x914D;&#x9664;&#x4E86;a,b,c&#x4E4B;&#x5916;&#x7684;&#x5B57;&#x7B26;&#x3002; re* &#x5339;&#x914D;0&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002; re+ &#x5339;&#x914D;1&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002; re? &#x5339;&#x914D;0&#x4E2A;&#x6216;1&#x4E2A;&#x7531;&#x524D;&#x9762;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5B9A;&#x4E49;&#x7684;&#x7247;&#x6BB5;&#xFF0C;&#x8D2A;&#x5A6A;&#x65B9;&#x5F0F; re{ n} re{ n,} &#x7CBE;&#x786E;&#x5339;&#x914D;n&#x4E2A;&#x524D;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x3002; re{ n, m} &#x5339;&#x914D; n &#x5230; m &#x6B21;&#x7531;&#x524D;&#x9762;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5B9A;&#x4E49;&#x7684;&#x7247;&#x6BB5;&#xFF0C;&#x8D2A;&#x5A6A;&#x65B9;&#x5F0F; a&#x4E28;b &#x5339;&#x914D;a&#x6216;b (re) G&#x5339;&#x914D;&#x62EC;&#x53F7;&#x5185;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4E5F;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x7EC4; (?imx) &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5305;&#x542B;&#x4E09;&#x79CD;&#x53EF;&#x9009;&#x6807;&#x5FD7;&#xFF1A;i, m, &#x6216; x &#x3002;&#x53EA;&#x5F71;&#x54CD;&#x62EC;&#x53F7;&#x4E2D;&#x7684;&#x533A;&#x57DF;&#x3002; (?-imx) &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5173;&#x95ED; i, m, &#x6216; x &#x53EF;&#x9009;&#x6807;&#x5FD7;&#x3002;&#x53EA;&#x5F71;&#x54CD;&#x62EC;&#x53F7;&#x4E2D;&#x7684;&#x533A;&#x57DF;&#x3002; (?: re) &#x7C7B;&#x4F3C; (&#x2026;), &#x4F46;&#x662F;&#x4E0D;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x7EC4; (?imx: re) &#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;i, m, &#x6216; x &#x53EF;&#x9009;&#x6807;&#x5FD7; (?-imx: re) &#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4E0D;&#x4F7F;&#x7528;i, m, &#x6216; x &#x53EF;&#x9009;&#x6807;&#x5FD7; (?#&#x2026;) &#x6CE8;&#x91CA;. (?= re) &#x524D;&#x5411;&#x80AF;&#x5B9A;&#x754C;&#x5B9A;&#x7B26;&#x3002;&#x5982;&#x679C;&#x6240;&#x542B;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4EE5; &#x2026; &#x8868;&#x793A;&#xFF0C;&#x5728;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x6210;&#x529F;&#x5339;&#x914D;&#x65F6;&#x6210;&#x529F;&#xFF0C;&#x5426;&#x5219;&#x5931;&#x8D25;&#x3002;&#x4F46;&#x4E00;&#x65E6;&#x6240;&#x542B;&#x8868;&#x8FBE;&#x5F0F;&#x5DF2;&#x7ECF;&#x5C1D;&#x8BD5;&#xFF0C;&#x5339;&#x914D;&#x5F15;&#x64CE;&#x6839;&#x672C;&#x6CA1;&#x6709;&#x63D0;&#x9AD8;&#xFF1B;&#x6A21;&#x5F0F;&#x7684;&#x5269;&#x4F59;&#x90E8;&#x5206;&#x8FD8;&#x8981;&#x5C1D;&#x8BD5;&#x754C;&#x5B9A;&#x7B26;&#x7684;&#x53F3;&#x8FB9;&#x3002; (?! re) &#x524D;&#x5411;&#x5426;&#x5B9A;&#x754C;&#x5B9A;&#x7B26;&#x3002;&#x4E0E;&#x80AF;&#x5B9A;&#x754C;&#x5B9A;&#x7B26;&#x76F8;&#x53CD;&#xFF1B;&#x5F53;&#x6240;&#x542B;&#x8868;&#x8FBE;&#x5F0F;&#x4E0D;&#x80FD;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x65F6;&#x6210;&#x529F; (?&gt; re) &#x5339;&#x914D;&#x7684;&#x72EC;&#x7ACB;&#x6A21;&#x5F0F;&#xFF0C;&#x7701;&#x53BB;&#x56DE;&#x6EAF;&#x3002; \w &#x5339;&#x914D;&#x5B57;&#x6BCD;&#x6570;&#x5B57; \W &#x5339;&#x914D;&#x975E;&#x5B57;&#x6BCD;&#x6570;&#x5B57; \s &#x5339;&#x914D;&#x4EFB;&#x610F;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#xFF0C;&#x7B49;&#x4EF7;&#x4E8E; [\t\n\r\f]. \S &#x5339;&#x914D;&#x4EFB;&#x610F;&#x975E;&#x7A7A;&#x5B57;&#x7B26; \d &#x5339;&#x914D;&#x4EFB;&#x610F;&#x6570;&#x5B57;&#xFF0C;&#x7B49;&#x4EF7;&#x4E8E; [0-9]. \D &#x5339;&#x914D;&#x4EFB;&#x610F;&#x975E;&#x6570;&#x5B57; \A &#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x5F00;&#x59CB; \Z &#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x7ED3;&#x675F;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5B58;&#x5728;&#x6362;&#x884C;&#xFF0C;&#x53EA;&#x5339;&#x914D;&#x5230;&#x6362;&#x884C;&#x524D;&#x7684;&#x7ED3;&#x675F;&#x5B57;&#x7B26;&#x4E32;&#x3002;c \z &#x5339;&#x914D;&#x5B57;&#x7B26;&#x4E32;&#x7ED3;&#x675F; \G &#x5339;&#x914D;&#x6700;&#x540E;&#x5339;&#x914D;&#x5B8C;&#x6210;&#x7684;&#x4F4D;&#x7F6E;&#x3002; \b &#x5339;&#x914D;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#x8FB9;&#x754C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6307;&#x5355;&#x8BCD;&#x548C;&#x7A7A;&#x683C;&#x95F4;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x4F8B;&#x5982;&#xFF0C; &#x2018;er\b&#x2019; &#x53EF;&#x4EE5;&#x5339;&#x914D;&#x201D;never&#x201D; &#x4E2D;&#x7684; &#x2018;er&#x2019;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x5339;&#x914D; &#x201C;verb&#x201D; &#x4E2D;&#x7684; &#x2018;er&#x2019;&#x3002; \B &#x5339;&#x914D;&#x975E;&#x5355;&#x8BCD;&#x8FB9;&#x754C;&#x3002;&#x2019;er\B&#x2019; &#x80FD;&#x5339;&#x914D; &#x201C;verb&#x201D; &#x4E2D;&#x7684; &#x2018;er&#x2019;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x5339;&#x914D; &#x201C;never&#x201D; &#x4E2D;&#x7684; &#x2018;er&#x2019;&#x3002; \n, \t, &#x7B49;. &#x5339;&#x914D;&#x4E00;&#x4E2A;&#x6362;&#x884C;&#x7B26;&#x3002;&#x5339;&#x914D;&#x4E00;&#x4E2A;&#x5236;&#x8868;&#x7B26;&#x3002;&#x7B49; \1&#x2026;\9 &#x5339;&#x914D;&#x7B2C;n&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x3002; \10 &#x5339;&#x914D;&#x7B2C;n&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x7ECF;&#x5339;&#x914D;&#x3002;&#x5426;&#x5219;&#x6307;&#x7684;&#x662F;&#x516B;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x7801;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;/ &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5B9E;&#x4F8B;&#x5B57;&#x7B26;&#x5339;&#x914D; &#x5B9E;&#x4F8B; &#x63CF;&#x8FF0; python &#x5339;&#x914D; &#x201C;python&#x201D;. &#x5B57;&#x7B26;&#x7C7B; &#x5B9E;&#x4F8B; &#x63CF;&#x8FF0; [Pp]ython &#x5339;&#x914D; &#x201C;Python&#x201D; &#x6216; &#x201C;python&#x201D; rub[ye] &#x5339;&#x914D; &#x201C;ruby&#x201D; &#x6216; &#x201C;rube&#x201D; [aeiou] &#x5339;&#x914D;&#x4E2D;&#x62EC;&#x53F7;&#x5185;&#x7684;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD; [0-9] &#x5339;&#x914D;&#x4EFB;&#x4F55;&#x6570;&#x5B57;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E; [0123456789] [a-z] &#x5339;&#x914D;&#x4EFB;&#x4F55;&#x5C0F;&#x5199;&#x5B57;&#x6BCD; [A-Z] &#x5339;&#x914D;&#x4EFB;&#x4F55;&#x5927;&#x5199;&#x5B57;&#x6BCD; [a-zA-Z0-9] &#x5339;&#x914D;&#x4EFB;&#x4F55;&#x5B57;&#x6BCD;&#x53CA;&#x6570;&#x5B57; [^aeiou] &#x9664;&#x4E86;aeiou&#x5B57;&#x6BCD;&#x4EE5;&#x5916;&#x7684;&#x6240;&#x6709;&#x5B57;&#x7B26; [^0-9] &#x5339;&#x914D;&#x9664;&#x4E86;&#x6570;&#x5B57;&#x5916;&#x7684;&#x5B57;&#x7B26; &#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x7C7B; &#x5B9E;&#x4F8B; &#x63CF;&#x8FF0; . &#x5339;&#x914D;&#x9664; &#x201C;\n&#x201D; &#x4E4B;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x5355;&#x4E2A;&#x5B57;&#x7B26;&#x3002;&#x8981;&#x5339;&#x914D;&#x5305;&#x62EC; &#x2018;\n&#x2019; &#x5728;&#x5185;&#x7684;&#x4EFB;&#x4F55;&#x5B57;&#x7B26;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x8C61; &#x2018;[.\n]&#x2019; &#x7684;&#x6A21;&#x5F0F;&#x3002; \d &#x5339;&#x914D;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5B57;&#x7B26;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; [0-9]&#x3002; \D &#x5339;&#x914D;&#x4E00;&#x4E2A;&#x975E;&#x6570;&#x5B57;&#x5B57;&#x7B26;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; [^0-9]&#x3002; \s &#x5339;&#x914D;&#x4EFB;&#x4F55;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#xFF0C;&#x5305;&#x62EC;&#x7A7A;&#x683C;&#x3001;&#x5236;&#x8868;&#x7B26;&#x3001;&#x6362;&#x9875;&#x7B26;&#x7B49;&#x7B49;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; [ \f\n\r\t\v]&#x3002; \S &#x5339;&#x914D;&#x4EFB;&#x4F55;&#x975E;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; [^ \f\n\r\t\v]&#x3002; \w &#x5339;&#x914D;&#x5305;&#x62EC;&#x4E0B;&#x5212;&#x7EBF;&#x7684;&#x4EFB;&#x4F55;&#x5355;&#x8BCD;&#x5B57;&#x7B26;&#x3002;&#x7B49;&#x4EF7;&#x4E8E;&#x2019;[A-Za-z0-9_]&#x2019;&#x3002; \W &#x5339;&#x914D;&#x4EFB;&#x4F55;&#x975E;&#x5355;&#x8BCD;&#x5B57;&#x7B26;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; &#x2018;[^A-Za-z0-9_]&#x2019;&#x3002;]]></content>
      <categories>
        <category>python</category>
        <category>module</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>re</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[rsync+sersync实现两端实时同步]]></title>
    <url>%2F2016%2F12%2F05%2Frsync-sersync%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x63D0;&#x5230;&#x6570;&#x636E;&#x540C;&#x6B65;&#x5C31;&#x5FC5;&#x7136;&#x4F1A;&#x8C08;&#x5230;rsync&#xFF0C;&#x4E00;&#x822C;&#x7B80;&#x5355;&#x7684;&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x4F1A;&#x4F7F;&#x7528;ftp/sftp&#x7B49;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x6548;&#x7387;&#x4E0D;&#x9AD8;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x5DEE;&#x5F02;&#x5316;&#x589E;&#x91CF;&#x540C;&#x6B65;&#x4E5F;&#x4E0D;&#x652F;&#x6301;&#x5B9E;&#x65F6;&#x4F20;&#x8F93;&#x3002;&#x9488;&#x5BF9;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x540C;&#x6B65;&#x9700;&#x6C42;&#x5927;&#x591A;&#x6570;&#x4EBA;&#x4F1A;&#x9009;&#x62E9;rsync+inotify-tools&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6848;&#x4E5F;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x7F3A;&#x9677;&#xFF08;&#x6587;&#x7AE0;&#x4E2D;&#x4F1A;&#x5177;&#x4F53;&#x6307;&#x51FA;&#xFF09;&#xFF0C;sersync&#x662F;&#x56FD;&#x4EBA;&#x57FA;&#x4E8E;&#x524D;&#x4E24;&#x8005;&#x5F00;&#x53D1;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x4E0D;&#x4EC5;&#x4FDD;&#x7559;&#x4E86;&#x4F18;&#x70B9;&#x540C;&#x65F6;&#x8FD8;&#x5F3A;&#x5316;&#x4E86;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#xFF0C;&#x6587;&#x4EF6;&#x8FC7;&#x6EE4;&#xFF0C;&#x7B80;&#x5316;&#x914D;&#x7F6E;&#x7B49;&#x529F;&#x80FD;&#xFF0C;&#x5E2E;&#x52A9;&#x7528;&#x6237;&#x63D0;&#x9AD8;&#x8FD0;&#x884C;&#x6548;&#x7387;&#xFF0C;&#x8282;&#x7701;&#x65F6;&#x95F4;&#x548C;&#x7F51;&#x7EDC;&#x8D44;&#x6E90;&#x3002; &#x53EF;&#x9760;&#x9AD8;&#x6548;&#x7684;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x540C;&#x6B65;&#x65B9;&#x5F0F; &#x5728;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5F00;&#x542F;sersync&#xFF0C;&#x5C06;&#x76D1;&#x63A7;&#x8DEF;&#x5F84;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x540C;&#x6B65;&#x5230;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5728;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6570;&#x636E;&#x6E90;&#x914D;&#x7F6E;sersync&#xFF0C;&#x5728;&#x540C;&#x6B65;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;rsync&#x3002; sersync&#x5229;&#x7528;inotify&#x4E0E;rsync&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x5B9E;&#x65F6;&#x540C;&#x6B65;&#xFF0C;&#x5176;&#x4E2D;inotify&#x7528;&#x4E8E;&#x76D1;&#x63A7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E8B;&#x4EF6;&#xFF0C;rsync&#x662F;&#x76EE;&#x524D;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;&#x7684;&#x540C;&#x6B65;&#x7B97;&#x6CD5;&#xFF0C;&#x5176;&#x4F18;&#x70B9;&#x662F;&#x53EA;&#x5BF9;&#x6587;&#x4EF6;&#x4E0D;&#x540C;&#x7684;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x4F18;&#x52BF;&#x5927;&#x5927;&#x8D85;&#x8FC7;&#x4F7F;&#x7528;&#x6302;&#x63A5;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x955C;&#x50CF;&#x540C;&#x6B65;&#x3002; sersync&#x7531;&#x91D1;&#x5C71;&#x7684;&#x5468;&#x6D0B;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x662F;&#x76EE;&#x524D;&#x4F7F;&#x7528;&#x8F83;&#x591A;&#x7684;&#x6587;&#x4EF6;&#x540C;&#x6B65;&#x5DE5;&#x5177;&#x4E4B;&#x4E00;&#x3002;&#x8BE5;&#x5DE5;&#x5177;&#x548C;&#x5176;&#x4ED6;&#x7684;&#x5DE5;&#x5177;&#x76F8;&#x6BD4;&#x6709;&#x5982;&#x4E0B;&#x4F18;&#x70B9;&#xFF1A; sersync&#x662F;&#x4F7F;&#x7528;c++&#x7F16;&#x5199;&#xFF0C;&#x7531;&#x4E8E;&#x53EA;&#x540C;&#x6B65;&#x53D1;&#x751F;&#x66F4;&#x6539;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64;&#x6BD4;&#x5176;&#x4ED6;&#x540C;&#x6B65;&#x5DE5;&#x5177;&#x66F4;&#x8282;&#x7EA6;&#x65F6;&#x95F4;&#x3001;&#x5E26;&#x5BBD;&#xFF1B; &#x5B89;&#x88C5;&#x65B9;&#x4FBF;&#x3001;&#x914D;&#x7F6E;&#x7B80;&#x5355;&#xFF1B; &#x4F7F;&#x7528;&#x591A;&#x7EBF;&#x7A0B;&#x8FDB;&#x884C;&#x540C;&#x6B65;&#xFF0C;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x65F6;&#x4FDD;&#x6301;&#x540C;&#x6B65;&#x72B6;&#x6001;&#xFF1B; &#x81EA;&#x5E26;&#x51FA;&#x9519;&#x5904;&#x7406;&#x673A;&#x5236;&#xFF0C;&#x901A;&#x8FC7;&#x5931;&#x8D25;&#x961F;&#x5217;&#x5BF9;&#x51FA;&#x9519;&#x7684;&#x6587;&#x4EF6;&#x91CD;&#x65B0;&#x51FA;&#x9519;&#xFF0C;&#x5982;&#x679C;&#x4ECD;&#x65E7;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x6BCF;10&#x4E2A;&#x5C0F;&#x65F6;&#x5BF9;&#x540C;&#x6B65;&#x5931;&#x8D25;&#x7684;&#x6587;&#x4EF6;&#x91CD;&#x65B0;&#x540C;&#x6B65;&#xFF1B; &#x81EA;&#x5E26;crontab&#x529F;&#x80FD;&#xFF0C;&#x53EA;&#x9700;&#x5728;xml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5F00;&#x542F;&#xFF0C;&#x5373;&#x53EF;&#x6309;&#x60A8;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x6574;&#x4F53;&#x540C;&#x6B65;&#x4E00;&#x6B21;&#xFF1B; &#x81EA;&#x5E26;socket&#x4E0E;http&#x534F;&#x8BAE;&#x6269;&#x5C55;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x7684;&#x8FDB;&#x884C;&#x4E8C;&#x6B21;&#x5F00;&#x53D1;&#xFF1B; &#x9605;&#x8BFB;&#x539F;&#x6587; - http://wsgzao.github.io/post/sersync/ &#x6269;&#x5C55;&#x9605;&#x8BFB; &#x57FA;&#x4E8E;rsync+sersync&#x7684;&#x670D;&#x52A1;&#x5668;&#x6587;&#x4EF6;&#x540C;&#x6B65;&#x5B9E;&#x6218; - http://www.markdream.com/technologies/server/syncfile-by-rsync.shtml&#x901A;&#x8FC7; rsync sersync &#x5B9E;&#x73B0;&#x9AD8;&#x6548;&#x7684;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x540C;&#x6B65;&#x67B6;&#x6784; - https://www.cnhzz.com/rsync_sersync/rsync - https://rsync.samba.org/inotify-tools - https://github.com/rvoicilas/inotify-toolssersync - http://code.google.com/p/sersync/ &#x73AF;&#x5883;&#x5355;&#x65B9;&#x9762;&#x540C;&#x6B65; 192.168.115.129 &#x540C;&#x6B65;&#x7AEF; 192.168.115.135 &#x6570;&#x636E;&#x6E90; &#x53CC;&#x5411;&#x540C;&#x6B65; 192.168.115.129 &#x540C;&#x6B65;&#x7AEF;&amp;&#x6570;&#x636E;&#x6E90; 192.168.115.135 &#x6570;&#x636E;&#x6E90;&amp;&#x540C;&#x6B65;&#x7AEF; &#x540C;&#x6B65;&#x7AEF;&#x914D;&#x7F6E;rsync &#x5728;192.168.115.129&#x673A;&#x5668;&#x4E0A;&#x914D;&#x7F6E;&#x597D;rsync&#x540C;&#x6B65;&#x6A21;&#x5757;123456789101112131415161718192021222324yum install -y rsyncvim /etc/rsyncd.confuid = rootgid = rootport = 873max connections = 64read only = nouse chroot = notimeout = 600hosts allow = 192.168.115.135hosts deny = *log file = /data/logs/rsyncd.logpidfile = /var/run/rsyncd.pidlock file = /var/run/rsyncd.locksecrets file = /etc/rsync.passmotd file = /etc/rsyncd.Motdauth users = rsync[rsyncftp]path = /data/ftpcomment = rsyncftpignore errorslist = no &#x542F;&#x52A8;rsync123echo &quot;rsync:rsync@123&quot; &gt; /etc/rsync.passchmod 600 /etc/rsync.passrsync --daemon --config=/etc/rsyncd.conf &#x5728;192.168.115.135&#x505A;&#x6D4B;&#x8BD5;12345echo &quot;rsync@123&quot; &gt; /etc/rsync.passchmod 600 /etc/rsync.passmkdir /data/ftptouch /data/ftp/testrsync -avz --delete --progress /data/ftp/ rsync@192.168.115.129::rsyncftp --password-file=/etc/rsync.pass &#x6570;&#x636E;&#x6E90;&#x505A;sersync2&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;sersync21234wget https://github.com/wsgzao/sersync/raw/master/sersync2.5.4_64bit_binary_stable_final.tar.gztar xvf sersync2.5.4_64bit_binary_stable_final.tar.gzcp GNU-Linux-x86/sersync2 /usr/local/bincp GNU-Linux-x86/confxml.xml /etc &#x4FEE;&#x6539;sersync2&#x914D;&#x7F6E;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687vim /etc/confxml.xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;&lt;head version=&quot;2.5&quot;&gt;# &#x8BBE;&#x7F6E;&#x672C;&#x5730;ip&#x4EE5;&#x53CA;&#x7AEF;&#x53E3; &lt;host hostip=&quot;localhost&quot; port=&quot;8008&quot;&gt;&lt;/host&gt; # &#x662F;&#x5426;&#x5F00;&#x542F;debug &lt;debug start=&quot;false&quot;/&gt; # &#x662F;&#x5426;&#x5F00;&#x542F;xfs&#x7CFB;&#x7EDF; &lt;fileSystem xfs=&quot;false&quot;/&gt; # &#x540C;&#x6B65;&#x65F6;&#x5FFD;&#x7565;&#x63A8;&#x9001;&#x7684;&#x6587;&#x4EF6;(&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;),&#x9ED8;&#x8BA4;&#x5173;&#x95ED; &lt;filter start=&quot;false&quot;&gt; &lt;exclude expression=&quot;(.*)\.svn&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;(.*)\.gz&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;^info/*&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;^static/*&quot;&gt;&lt;/exclude&gt; &lt;/filter&gt; # &#x8BBE;&#x7F6E;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x4E8B;&#x4EF6; &lt;inotify&gt; &lt;delete start=&quot;true&quot;/&gt; &lt;createFolder start=&quot;true&quot;/&gt; &lt;createFile start=&quot;false&quot;/&gt; &lt;closeWrite start=&quot;true&quot;/&gt; &lt;moveFrom start=&quot;true&quot;/&gt; &lt;moveTo start=&quot;true&quot;/&gt; &lt;attrib start=&quot;false&quot;/&gt; &lt;modify start=&quot;false&quot;/&gt; &lt;/inotify&gt; &lt;sersync&gt; # &#x672C;&#x5730;&#x540C;&#x6B65;&#x7684;&#x76EE;&#x5F55;&#x8DEF;&#x5F84; &lt;localpath watch=&quot;/data/ftp&quot;&gt; # &#x8FDC;&#x7A0B;IP&#x548C;rsync&#x6A21;&#x5757;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x5199;&#x591A;&#x4E2A; &lt;remote ip=&quot;192.168.115.129&quot; name=&quot;rsyncftp&quot;/&gt; &lt;!--&lt;remote ip=&quot;192.168.8.39&quot; name=&quot;tongbu&quot;/&gt;--&gt; &lt;!--&lt;remote ip=&quot;192.168.8.40&quot; name=&quot;tongbu&quot;/&gt;--&gt; &lt;/localpath&gt; &lt;rsync&gt; # rsync&#x6307;&#x4EE4;&#x53C2;&#x6570; &lt;commonParams params=&quot;-artuz&quot;/&gt; # rsync&#x540C;&#x6B65;&#x8BA4;&#x8BC1; &lt;auth start=&quot;true&quot; users=&quot;rsync&quot; passwordfile=&quot;/etc/rsync.pass&quot;/&gt; # &#x8BBE;&#x7F6E;rsync&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x7AEF;&#x53E3;&#xFF0C;&#x8FDC;&#x7A0B;&#x975E;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x5219;&#x9700;&#x6253;&#x5F00;&#x81EA;&#x5B9A;&#x4E49; &lt;userDefinedPort start=&quot;false&quot; port=&quot;873&quot;/&gt;&lt;!-- port=874 --&gt; # &#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &lt;timeout start=&quot;false&quot; time=&quot;100&quot;/&gt;&lt;!-- timeout=100 --&gt; # &#x8BBE;&#x7F6E;rsync+ssh&#x52A0;&#x5BC6;&#x4F20;&#x8F93;&#x6A21;&#x5F0F;,&#x9ED8;&#x8BA4;&#x5173;&#x95ED;&#xFF0C;&#x5F00;&#x542F;&#x9700;&#x8BBE;&#x7F6E;SSH&#x52A0;&#x5BC6;&#x8BC1;&#x4E66; &lt;ssh start=&quot;false&quot;/&gt; &lt;/rsync&gt; # sersync&#x4F20;&#x8F93;&#x5931;&#x8D25;&#x65E5;&#x5FD7;&#x811A;&#x672C;&#x8DEF;&#x5F84;&#xFF0C;&#x6BCF;&#x9694;60&#x4F1A;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x4F1A;&#x81EA;&#x52A8;&#x6E05;&#x7A7A;&#x3002; &lt;failLog path=&quot;/tmp/rsync_fail_log.sh&quot; timeToExecute=&quot;60&quot;/&gt;&lt;!--default every 60mins execute once--&gt; # &#x8BBE;&#x7F6E;rsync+crontab&#x5B9A;&#x65F6;&#x4F20;&#x8F93;&#xFF0C;&#x9ED8;&#x8BA4;&#x5173;&#x95ED; &lt;crontab start=&quot;false&quot; schedule=&quot;600&quot;&gt;&lt;!--600mins--&gt; &lt;crontabfilter start=&quot;false&quot;&gt; &lt;exclude expression=&quot;*.php&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;info/*&quot;&gt;&lt;/exclude&gt; &lt;/crontabfilter&gt; &lt;/crontab&gt; # &#x8BBE;&#x7F6E;sersync&#x4F20;&#x8F93;&#x540E;&#x8C03;&#x7528;name&#x6307;&#x5B9A;&#x7684;&#x63D2;&#x4EF6;&#x811A;&#x672C;&#xFF0C;&#x9ED8;&#x8BA4;&#x5173;&#x95ED; &lt;plugin start=&quot;false&quot; name=&quot;command&quot;/&gt; &lt;/sersync&gt; # &#x63D2;&#x4EF6;&#x811A;&#x672C;&#x8303;&#x4F8B; &lt;plugin name=&quot;command&quot;&gt; &lt;param prefix=&quot;/bin/sh&quot; suffix=&quot;&quot; ignoreError=&quot;true&quot;/&gt; &lt;!--prefix /opt/tongbu/mmm.sh suffix--&gt; &lt;filter start=&quot;false&quot;&gt; &lt;include expression=&quot;(.*)\.php&quot;/&gt; &lt;include expression=&quot;(.*)\.sh&quot;/&gt; &lt;/filter&gt; &lt;/plugin&gt; # &#x63D2;&#x4EF6;&#x811A;&#x672C;&#x8303;&#x4F8B; &lt;plugin name=&quot;socket&quot;&gt; &lt;localpath watch=&quot;/opt/tongbu&quot;&gt; &lt;deshost ip=&quot;192.168.138.20&quot; port=&quot;8009&quot;/&gt; &lt;/localpath&gt; &lt;/plugin&gt; &lt;plugin name=&quot;refreshCDN&quot;&gt; &lt;localpath watch=&quot;/data0/htdocs/cms.xoyo.com/site/&quot;&gt; &lt;cdninfo domainname=&quot;ccms.chinacache.com&quot; port=&quot;80&quot; username=&quot;xxxx&quot; passwd=&quot;xxxx&quot;/&gt; &lt;sendurl base=&quot;http://pic.xoyo.com/cms&quot;/&gt; &lt;regexurl regex=&quot;false&quot; match=&quot;cms.xoyo.com/site([/a-zA-Z0-9]*).xoyo.com/images&quot;/&gt; &lt;/localpath&gt; &lt;/plugin&gt;&lt;/head&gt; &#x542F;&#x52A8;sersync2123456sersync2 -r -d -o /etc/confxml.xml-r &#x5F00;&#x542F;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x4E4B;&#x524D;&#x505A;&#x4E00;&#x6B21;&#x6574;&#x4F53;&#x540C;&#x6B65;-d &#x540E;&#x53F0;&#x8FD0;&#x884C;-o &#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-n &#x6307;&#x5B9A;&#x7EBF;&#x7A0B;-m &#x4E0D;&#x8FD0;&#x884C;&#x540C;&#x6B65;&#xFF0C;&#x53EA;&#x8FD0;&#x884C;&#x63D2;&#x4EF6; &#x53E6;&#x4E00;&#x7AEF;&#x914D;&#x7F6E;&#x5728;192.168.115.135&#x673A;&#x5668;&#x4E0A;&#x914D;&#x7F6E;&#x597D;rsync&#x540C;&#x6B65;&#x6A21;&#x5757;123456789101112131415161718192021222324yum install -y rsyncvim /etc/rsyncd.confuid = rootgid = rootport = 873max connections = 64read only = nouse chroot = notimeout = 600hosts allow = 192.168.115.129hosts deny = *log file = /data/logs/rsyncd.logpidfile = /var/run/rsyncd.pidlock file = /var/run/rsyncd.lockmotd file = /etc/rsyncd.Motdsecrets file = /etc/rsync.passtauth users = rsync[rsyncftp]path = /data/ftpcomment = rsyncftp#ignore errors#list = no &#x542F;&#x52A8;rsync123echo &quot;rsync:rsync@123&quot; &gt; /etc/rsync.passtchmod 600 /etc/rsync.passtrsync --daemon --config=/etc/rsyncd.conf &#x5728;192.168.115.129&#x505A;&#x6D4B;&#x8BD5;12345echo &quot;rsync@123&quot; &gt; /etc/rsync.passtchmod 600 /etc/rsync.passtmkdir /data/ftptouch /data/ftp/test1rsync -avzR --delete --progress /data/ftp/ rsync@192.168.115.135::rsyncftp --password-file=/etc/rsync.passt &#x4FEE;&#x6539;sersync2&#x914D;&#x7F6E;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687vim /etc/confxml.xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;&lt;head version=&quot;2.5&quot;&gt;# &#x8BBE;&#x7F6E;&#x672C;&#x5730;ip&#x4EE5;&#x53CA;&#x7AEF;&#x53E3; &lt;host hostip=&quot;localhost&quot; port=&quot;8008&quot;&gt;&lt;/host&gt; # &#x662F;&#x5426;&#x5F00;&#x542F;debug &lt;debug start=&quot;false&quot;/&gt; # &#x662F;&#x5426;&#x5F00;&#x542F;xfs&#x7CFB;&#x7EDF; &lt;fileSystem xfs=&quot;false&quot;/&gt; # &#x540C;&#x6B65;&#x65F6;&#x5FFD;&#x7565;&#x63A8;&#x9001;&#x7684;&#x6587;&#x4EF6;(&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;),&#x9ED8;&#x8BA4;&#x5173;&#x95ED; &lt;filter start=&quot;false&quot;&gt; &lt;exclude expression=&quot;(.*)\.svn&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;(.*)\.gz&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;^info/*&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;^static/*&quot;&gt;&lt;/exclude&gt; &lt;/filter&gt; # &#x8BBE;&#x7F6E;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x4E8B;&#x4EF6; &lt;inotify&gt; &lt;delete start=&quot;true&quot;/&gt; &lt;createFolder start=&quot;true&quot;/&gt; &lt;createFile start=&quot;false&quot;/&gt; &lt;closeWrite start=&quot;true&quot;/&gt; &lt;moveFrom start=&quot;true&quot;/&gt; &lt;moveTo start=&quot;true&quot;/&gt; &lt;attrib start=&quot;false&quot;/&gt; &lt;modify start=&quot;false&quot;/&gt; &lt;/inotify&gt; &lt;sersync&gt; # &#x672C;&#x5730;&#x540C;&#x6B65;&#x7684;&#x76EE;&#x5F55;&#x8DEF;&#x5F84; &lt;localpath watch=&quot;/data/ftp&quot;&gt; # &#x8FDC;&#x7A0B;IP&#x548C;rsync&#x6A21;&#x5757;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x5199;&#x591A;&#x4E2A; &lt;remote ip=&quot;192.168.115.135&quot; name=&quot;rsyncftp&quot;/&gt; &lt;!--&lt;remote ip=&quot;192.168.8.39&quot; name=&quot;tongbu&quot;/&gt;--&gt; &lt;!--&lt;remote ip=&quot;192.168.8.40&quot; name=&quot;tongbu&quot;/&gt;--&gt; &lt;/localpath&gt; &lt;rsync&gt; # rsync&#x6307;&#x4EE4;&#x53C2;&#x6570; &lt;commonParams params=&quot;-artuz&quot;/&gt; # rsync&#x540C;&#x6B65;&#x8BA4;&#x8BC1; &lt;auth start=&quot;true&quot; users=&quot;rsync&quot; passwordfile=&quot;/etc/rsync.passt&quot;/&gt; # &#x8BBE;&#x7F6E;rsync&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x7AEF;&#x53E3;&#xFF0C;&#x8FDC;&#x7A0B;&#x975E;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x5219;&#x9700;&#x6253;&#x5F00;&#x81EA;&#x5B9A;&#x4E49; &lt;userDefinedPort start=&quot;false&quot; port=&quot;873&quot;/&gt;&lt;!-- port=874 --&gt; # &#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &lt;timeout start=&quot;false&quot; time=&quot;100&quot;/&gt;&lt;!-- timeout=100 --&gt; # &#x8BBE;&#x7F6E;rsync+ssh&#x52A0;&#x5BC6;&#x4F20;&#x8F93;&#x6A21;&#x5F0F;,&#x9ED8;&#x8BA4;&#x5173;&#x95ED;&#xFF0C;&#x5F00;&#x542F;&#x9700;&#x8BBE;&#x7F6E;SSH&#x52A0;&#x5BC6;&#x8BC1;&#x4E66; &lt;ssh start=&quot;false&quot;/&gt; &lt;/rsync&gt; # sersync&#x4F20;&#x8F93;&#x5931;&#x8D25;&#x65E5;&#x5FD7;&#x811A;&#x672C;&#x8DEF;&#x5F84;&#xFF0C;&#x6BCF;&#x9694;60&#x4F1A;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x4F1A;&#x81EA;&#x52A8;&#x6E05;&#x7A7A;&#x3002; &lt;failLog path=&quot;/tmp/rsync_fail_log.sh&quot; timeToExecute=&quot;60&quot;/&gt;&lt;!--default every 60mins execute once--&gt; # &#x8BBE;&#x7F6E;rsync+crontab&#x5B9A;&#x65F6;&#x4F20;&#x8F93;&#xFF0C;&#x9ED8;&#x8BA4;&#x5173;&#x95ED; &lt;crontab start=&quot;false&quot; schedule=&quot;600&quot;&gt;&lt;!--600mins--&gt; &lt;crontabfilter start=&quot;false&quot;&gt; &lt;exclude expression=&quot;*.php&quot;&gt;&lt;/exclude&gt; &lt;exclude expression=&quot;info/*&quot;&gt;&lt;/exclude&gt; &lt;/crontabfilter&gt; &lt;/crontab&gt; # &#x8BBE;&#x7F6E;sersync&#x4F20;&#x8F93;&#x540E;&#x8C03;&#x7528;name&#x6307;&#x5B9A;&#x7684;&#x63D2;&#x4EF6;&#x811A;&#x672C;&#xFF0C;&#x9ED8;&#x8BA4;&#x5173;&#x95ED; &lt;plugin start=&quot;false&quot; name=&quot;command&quot;/&gt; &lt;/sersync&gt; # &#x63D2;&#x4EF6;&#x811A;&#x672C;&#x8303;&#x4F8B; &lt;plugin name=&quot;command&quot;&gt; &lt;param prefix=&quot;/bin/sh&quot; suffix=&quot;&quot; ignoreError=&quot;true&quot;/&gt; &lt;!--prefix /opt/tongbu/mmm.sh suffix--&gt; &lt;filter start=&quot;false&quot;&gt; &lt;include expression=&quot;(.*)\.php&quot;/&gt; &lt;include expression=&quot;(.*)\.sh&quot;/&gt; &lt;/filter&gt; &lt;/plugin&gt; # &#x63D2;&#x4EF6;&#x811A;&#x672C;&#x8303;&#x4F8B; &lt;plugin name=&quot;socket&quot;&gt; &lt;localpath watch=&quot;/opt/tongbu&quot;&gt; &lt;deshost ip=&quot;192.168.138.20&quot; port=&quot;8009&quot;/&gt; &lt;/localpath&gt; &lt;/plugin&gt; &lt;plugin name=&quot;refreshCDN&quot;&gt; &lt;localpath watch=&quot;/data0/htdocs/cms.xoyo.com/site/&quot;&gt; &lt;cdninfo domainname=&quot;ccms.chinacache.com&quot; port=&quot;80&quot; username=&quot;xxxx&quot; passwd=&quot;xxxx&quot;/&gt; &lt;sendurl base=&quot;http://pic.xoyo.com/cms&quot;/&gt; &lt;regexurl regex=&quot;false&quot; match=&quot;cms.xoyo.com/site([/a-zA-Z0-9]*).xoyo.com/images&quot;/&gt; &lt;/localpath&gt; &lt;/plugin&gt;&lt;/head&gt; &#x542F;&#x52A8;sersync2123456sersync2 -r -d -o /etc/confxml.xml-r &#x5F00;&#x542F;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x4E4B;&#x524D;&#x505A;&#x4E00;&#x6B21;&#x6574;&#x4F53;&#x540C;&#x6B65;-d &#x540E;&#x53F0;&#x8FD0;&#x884C;-o &#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-n &#x6307;&#x5B9A;&#x7EBF;&#x7A0B;-m &#x4E0D;&#x8FD0;&#x884C;&#x540C;&#x6B65;&#xFF0C;&#x53EA;&#x8FD0;&#x884C;&#x63D2;&#x4EF6; &#x53CC;&#x5411;&#x540C;&#x6B65;&#x5B8C;&#x6210; &#x8FDB;&#x884C;&#x6D4B;&#x8BD5;192.168.115.12912cd /data/ftpfor i in `seq 1 20`;do dd if=/dev/zero of=$i bs=1024k count=10 ;done 192.168.115.13512cd /data/ftpfor i in `seq 21 40`;do dd if=/dev/zero of=$i bs=1024k count=10 ;done &#x5728;&#x4E24;&#x7AEF;&#x67E5;&#x770B;&#x6587;&#x4EF6;&#x540C;&#x6B65;&#x7ED3;&#x679C;&#x6D4B;&#x8BD5;&#x5B8C;&#x6210;]]></content>
      <categories>
        <category>linux</category>
        <category>rsync</category>
        <category>sersync</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>rsync</tag>
        <tag>sersync</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一次 docker 容器迁移]]></title>
    <url>%2F2016%2F11%2F24%2Fdocker-move%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x539F;&#x73AF;&#x5883;&#x662F;&#x8D2D;&#x4E70;&#x7684;&#x56FD;&#x5185;&#x4E00;&#x5BB6;docker&#x4E91;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x516C;&#x53F8;&#x7684;&#x4E00;&#x5957;&#x79C1;&#x6709;&#x73AF;&#x5883;&#xFF0C;&#x642D;&#x5EFA;&#x5728;&#x516C;&#x53F8;&#x7684;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002; &#x6574;&#x5957;&#x73AF;&#x5883;&#x5305;&#x62EC;registry&#x3001;web&#x7BA1;&#x7406;&#x754C;&#x9762;&#x3001;api&#x63A5;&#x53E3;&#x7B49;&#xFF1B;&#x4E3B;&#x8981;&#x4F7F;&#x7528;&#x5355;&#x673A;&#x7684;&#x5F62;&#x5F0F;&#x8FD0;&#x884C;&#xFF0C;&#x65B0;&#x7248;&#x672C;&#x529F;&#x80FD;&#x8F83;&#x4E3A;&#x5B8C;&#x5584;&#xFF0C;&#x4F46;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8D2D;&#x4E70;&#xFF0C;&#x56E0;&#x6B64;&#x51B3;&#x5B9A;&#x64A4;&#x6389;&#x8FD9;&#x5957;&#x73AF;&#x5883;&#x3002; &#x7531;&#x4E8E;&#x4E4B;&#x524D;&#x662F;&#x5C06;&#x5BB9;&#x5668;&#x5F53;&#x505A;&#x865A;&#x62DF;&#x673A;&#x7684;&#x5F62;&#x5F0F;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B;&#x53EA;&#x8FC1;&#x79FB;&#x4EE5;&#x4E0B;&#x90E8;&#x5206;&#xFF1A; registry&#x4E2D;&#x955C;&#x50CF; dockerfile &#x6240;&#x6709;&#x5BB9;&#x5668;&#xFF08;&#x4FDD;&#x7559;&#x539F;ip&#xFF09; &#x73AF;&#x5883;&#x8BF4;&#x660E;&#x539F;&#x73AF;&#x5883; &#x7CFB;&#x7EDF;&#xFF1A;ubuntu14.04 &#x4E00;&#x53F0;master&#xFF08;web,api,registry,etcd&#xFF09; &#x56DB;&#x53F0;node (30.7/24 ~ 30.10/24) &#x8FC1;&#x79FB;&#x73AF;&#x5883; &#x7CFB;&#x7EDF;&#xFF1A;ubuntu14.04 &#x4E00;&#x53F0;master&#xFF08;web,api,registry,etcd&#xFF09; &#x56DB;&#x53F0;node (30.7/24 ~ 30.10/24)&#xFF0C;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x914D;&#x7F6E;&#x4E09;&#x4E2A;docker&#x7F51;&#x6865; &#x642D;&#x5EFA;etcd&#x96C6;&#x7FA4; &#x73AF;&#x5883;&#x642D;&#x5EFA;&#x5B89;&#x88C5;docker 172.16.7.1 master docker0 172.30.1.1/24 172.16.7.2 node01 docker0 172.30.2.1/24 docker1 172.30.7.1/24 docker2 172.30.9.1/24 172.16.7.3 node02 docker0 172.30.3.1/24 docker1 172.30.8.1/24 docker2 172.30.10.1/24 123456789apt update &amp;&amp; apt upgradeapt install -y curlcurl https://get.docker.com/ | shvim /etc/default/dockerDOCKER_OPTS=&quot;-g /data/docker --insecure-registry opreg.chinawayltd.com -b=docker0 -H tcp://0.0.0.0:4273 -H unix:///var/run/docker.sock&quot; /etc/init.d/docker restartdocker info &#x914D;&#x7F6E;etcd&#x96C6;&#x7FA4; &#x53C2;&#x8003; etcd-cluster &#x96C6;&#x7FA4;&#x90E8;&#x7F72; master&#x914D;&#x7F6E;&#x5B89;&#x88C5;&#x914D;&#x7F6E;registry &#x53C2;&#x8003; docker registry v2 &#x79C1;&#x6709;&#x4ED3;&#x5E93;&#x642D;&#x5EFA; &#x7F51;&#x6865;&#x914D;&#x7F6E;123456789$ cat ip0.ship link set dev docker0 downbrctl delbr docker0brctl addbr docker0ip addr add 172.30.1.1/24 dev docker0ip link set dev docker0 upsh ip0.sh/etc/init.d/docker restart node&#x914D;&#x7F6E;&#x7F51;&#x6865;&#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829$ cat ip0.ship link set dev docker0 downbrctl delbr docker0brctl addbr docker0ip addr add 172.30.2.1/24 dev docker0ip link set dev docker0 up$ cat br.shdocker network rm bridge1docker network rm bridge2docker network create --subnet 172.30.7.1/24 \--opt com.docker.network.bridge.name=docker1 \--opt com.docker.network.driver.mtu=1500 \--opt com.docker.network.bridge.enable_icc=true \--opt com.docker.network.bridge.enable_ip_masquerade=true \--opt com.docker.network.bridge.host_binding_ipv4=0.0.0.0 \bridge1docker network create --subnet 172.30.9.1/24 \--opt com.docker.network.bridge.name=docker2 \--opt com.docker.network.driver.mtu=1500 \--opt com.docker.network.bridge.enable_icc=true \--opt com.docker.network.bridge.enable_ip_masquerade=true \--opt com.docker.network.bridge.host_binding_ipv4=0.0.0.0 \bridge2sh ip0.shsh br.sh/etc/init.d/docker restartip a &#x5BB9;&#x5668;ip&#x914D;&#x7F6E;&#x811A;&#x672C;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859cat set_ip.sh#!/usr/bin/env bash# filename: set_ip.shif [ `id -u` -ne 0 ];then echo &apos;&#x5FC5;&#x987B;&#x4F7F;&#x7528;root&#x6743;&#x9650;&apos; exitficontainer_name=$1bind_ip=$2dobr=$3if [ -z $dobr ]; then dobr=&quot;docker0&quot;ficontainer_id=`docker inspect -f &apos;{{.Id}}&apos; $container_name 2&gt; /dev/null`if [ ! $container_id ];then echo &quot;&#x5BB9;&#x5668;&#x4E0D;&#x5B58;&#x5728;&quot; exit 2fibind_ip=`echo $bind_ip | egrep &apos;^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$&apos;`if [ ! $bind_ip ];then echo &quot;IP&#x5730;&#x5740;&#x683C;&#x5F0F;&#x4E0D;&#x6B63;&#x786E;&quot; exit 3fiif ifconfig $dobr &amp;&gt; /dev/null; then echo &quot;&#x7F51;&#x6865;&#x4E0D;&#x5B58;&#x5728;&quot; exit 4ficontainer_minid=`echo $container_id | cut -c 1-10`container_netmask=`ip addr show $dobr | grep &quot;inet\b&quot; | awk &apos;{print $2}&apos; | cut -d / -f2`container_gw=`ip addr show $dobr | grep &quot;inet\b&quot; | awk &apos;{print $2}&apos; | cut -d / -f1`bridge_name=&quot;veth_$container_minid&quot;container_ip=$bind_ip/$container_netmaskpid=`docker inspect -f &apos;{{.State.Pid}}&apos; $container_name 2&gt; /dev/null`if [ ! $pid ];then echo &quot;&#x83B7;&#x53D6;&#x5BB9;&#x5668;$container_name&#x7684;id&#x5931;&#x8D25;&quot; exit 5fiif [ ! -d /var/run/netns ];then mkdir -p /var/run/netnsfiln -sf /proc/$pid/ns/net /var/run/netns/$pidip link add $bridge_name type veth peer name Xbrctl addif $dobr $bridge_nameip link set $bridge_name upip link set X netns $pidip netns exec $pid ip link set dev X name eth0ip netns exec $pid ip link set eth0 upip netns exec $pid ip addr add $container_ip dev eth0ip netns exec $pid ip route add default via $container_gw &#x5BB9;&#x5668;&#x542F;&#x52A8;&#x811A;&#x672C;12345cat create.shdocker run -d --name cont_name-01-9.82 --cpuset-cpus 0-3 --memory 8G --net=none img_namecat sip.shsh /data/bin/set_ip.sh cont_name-01-9.82 172.30.9.82 docker2 &#x8FC1;&#x79FB;&#x6B65;&#x9AA4; &#x5C06;&#x5BB9;&#x5668;&#x6253;&#x5305;&#x6210;&#x955C;&#x50CF; &#x5C06;&#x6253;&#x5305;&#x597D;&#x7684;&#x955C;&#x50CF;&#x5BFC;&#x51FA;&#x6210;tar&#x5305; &#x5C06;&#x5BFC;&#x51FA;&#x7684;tar&#x5305;scp&#x5230;&#x5BFC;&#x5165;&#x7AEF;&#x8FDB;&#x884C;&#x5BFC;&#x5165; &#x542F;&#x52A8;&#x5BB9;&#x5668;&#xFF0C;&#x914D;&#x7F6E;ip &#x4FEE;&#x6539;&#x8DEF;&#x7531; 123456docker commit -p cont_name img_namedocker save -o /data/img_name.tar img_namedocker load -i img_name.tarsh create.shsh sip.sh &#x4FEE;&#x590D;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5076;&#x7136;&#x53D1;&#x73B0;&#x540C;&#x4E00;&#x4E2A;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x4E24;&#x4E2A;&#x7F51;&#x6BB5;&#x673A;&#x5668;&#x4E0D;&#x901A;&#xFF0C;&#x53D1;&#x73B0;&#x662F;docker&#x81EA;&#x5DF1;&#x52A0;&#x4E86;iptables&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x56E0;&#x4E3A;&#x8D44;&#x6E90;&#x9694;&#x79BB;&#x7684;&#x95EE;&#x9898;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263# Generated by iptables-save v1.4.21 on Fri Feb 24 15:32:26 2017*nat:PREROUTING ACCEPT [129399744:173285947397]:INPUT ACCEPT [30953:1451912]:OUTPUT ACCEPT [98806:7478654]:POSTROUTING ACCEPT [118180652:172566860675]:CATTLE_NAT_POSTROUTING - [0:0]:CATTLE_OUTPUT - [0:0]:CATTLE_POSTROUTING - [0:0]:CATTLE_PREROUTING - [0:0]:DOCKER - [0:0]-A PREROUTING -m addrtype --dst-type LOCAL -j CATTLE_PREROUTING-A PREROUTING -m addrtype --dst-type LOCAL -j DOCKER-A OUTPUT -m addrtype --dst-type LOCAL -j CATTLE_OUTPUT-A OUTPUT ! -d 127.0.0.0/8 -m addrtype --dst-type LOCAL -j DOCKER-A POSTROUTING -j CATTLE_NAT_POSTROUTING-A POSTROUTING -s 172.30.3.0/24 ! -o docker0 -j MASQUERADE-A POSTROUTING -s 172.30.10.0/24 ! -o docker2 -j MASQUERADE-A POSTROUTING -s 172.30.8.0/24 ! -o docker1 -j MASQUERADE-A CATTLE_NAT_POSTROUTING -s 10.42.0.0/16 ! -o docker0 -p tcp -j MASQUERADE --to-ports 1024-65535-A CATTLE_NAT_POSTROUTING -s 10.42.0.0/16 ! -o docker0 -p udp -j MASQUERADE --to-ports 1024-65535-A CATTLE_NAT_POSTROUTING -s 10.42.0.0/16 ! -o docker0 -j MASQUERADE-A CATTLE_NAT_POSTROUTING -o docker0 -m addrtype --src-type LOCAL --dst-type UNICAST -j MASQUERADE-A DOCKER -i docker0 -j RETURN-A DOCKER -i docker2 -j RETURN-A DOCKER -i docker1 -j RETURNCOMMIT# Completed on Fri Feb 24 15:32:26 2017# Generated by iptables-save v1.4.21 on Fri Feb 24 15:32:26 2017*filter:INPUT ACCEPT [218437:116429305]:FORWARD ACCEPT [417068536:662927571688]:OUTPUT ACCEPT [14372495:1274827596]:CATTLE_FORWARD - [0:0]:DOCKER - [0:0]:DOCKER-ISOLATION - [0:0]-A FORWARD -j CATTLE_FORWARD-A FORWARD -j DOCKER-ISOLATION-A FORWARD -o docker0 -j DOCKER-A FORWARD -o docker0 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT-A FORWARD -i docker0 ! -o docker0 -j ACCEPT-A FORWARD -i docker0 -o docker0 -j ACCEPT-A FORWARD -o docker2 -j DOCKER-A FORWARD -o docker2 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT-A FORWARD -i docker2 ! -o docker2 -j ACCEPT-A FORWARD -i docker2 -o docker2 -j ACCEPT-A FORWARD -o docker1 -j DOCKER-A FORWARD -o docker1 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT-A FORWARD -i docker1 ! -o docker1 -j ACCEPT-A FORWARD -i docker1 -o docker1 -j ACCEPT-A CATTLE_FORWARD -m mark --mark 0x1068 -j ACCEPT# &#x5220;&#x6389;&#x4E0B;&#x9762;&#x51E0;&#x884C;-A DOCKER-ISOLATION -i docker2 -o docker0 -j DROP-A DOCKER-ISOLATION -i docker0 -o docker2 -j DROP-A DOCKER-ISOLATION -i docker1 -o docker0 -j DROP-A DOCKER-ISOLATION -i docker0 -o docker1 -j DROP-A DOCKER-ISOLATION -i docker1 -o docker2 -j DROP-A DOCKER-ISOLATION -i docker2 -o docker1 -j DROP-A DOCKER-ISOLATION -j RETURNCOMMIT# Completed on Fri Feb 24 15:32:26 2017]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[svn安装文档]]></title>
    <url>%2F2016%2F11%2F23%2Fsvn-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;SVN&#x662F;Subversion&#x7684;&#x7B80;&#x79F0;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x7248;&#x672C;&#x63A7;&#x5236;&#x7CFB;&#x7EDF;&#xFF0C;&#x76F8;&#x8F83;&#x4E8E;RCS&#x3001;CVS&#xFF0C;&#x5B83;&#x91C7;&#x7528;&#x4E86;&#x5206;&#x652F;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x7684;&#x8BBE;&#x8BA1;&#x76EE;&#x6807;&#x5C31;&#x662F;&#x53D6;&#x4EE3;CVS&#x3002;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x5F88;&#x591A;&#x7248;&#x672C;&#x63A7;&#x5236;&#x670D;&#x52A1;&#x5DF2;&#x4ECE;CVS&#x8FC1;&#x79FB;&#x5230;Subversion&#x3002;&#x8BF4;&#x5F97;&#x7B80;&#x5355;&#x4E00;&#x70B9;SVN&#x5C31;&#x662F;&#x7528;&#x4E8E;&#x591A;&#x4E2A;&#x4EBA;&#x5171;&#x540C;&#x5F00;&#x53D1;&#x540C;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x5171;&#x7528;&#x8D44;&#x6E90;&#x7684;&#x76EE;&#x7684;&#x3002; &#x8FD0;&#x884C;&#x65B9;&#x5F0F;svn&#x670D;&#x52A1;&#x5668;&#x6709;2&#x79CD;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#xFF1A;&#x72EC;&#x7ACB;&#x670D;&#x52A1;&#x5668;&#x548C;&#x501F;&#x52A9;apache&#x8FD0;&#x884C;&#x3002;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x5404;&#x6709;&#x5229;&#x5F0A;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x9009;&#x62E9;&#x3002; &#x4F5C;&#x4E3A;&#x7248;&#x672C;&#x63A7;&#x5236;&#x670D;&#x52A1;&#xFF0C;&#x76EE;&#x524D;&#x6765;&#x8BF4;git&#x7684;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x529F;&#x80FD;&#x66F4;&#x5F3A;&#x5927;&#x4E00;&#x4E9B;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x516C;&#x53F8;&#x9879;&#x76EE;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x8FD8;&#x662F;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;gitlab&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x5C0F;&#x9879;&#x76EE;&#xFF0C;&#x6216;&#x8005;&#x4E2A;&#x4EBA;&#x4F7F;&#x7528;&#xFF0C;svn&#x8FD8;&#x662F;&#x5F88;&#x8F7B;&#x91CF;&#x3001;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x3002; svn&#x642D;&#x5EFA;svn&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x4EE5;&#x53CA;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A; http://subversion.apache.org/download/ http://archive.apache.org/dist/subversion/ &#x51C6;&#x5907;&#x5B89;&#x88C5;&#x5305;&#x672C;&#x6587;&#x4F7F;&#x7528;&#x6700;&#x65B0;&#x7684;svn1.9.5&#x7248;&#x672C;&#x3002; 12345678wget https://mirrors.aliyun.com/apache/subversion/subversion-1.9.5.tar.gzwget http://mirrors.hust.edu.cn/apache/apr/apr-1.5.2.tar.gzwget http://mirrors.hust.edu.cn/apache/apr/apr-util-1.5.4.tar.gzwget http://www.sqlite.org/sqlite-amalgamation-3071501.zipsubversion-deps&#x91CC;&#x9762;&#x5305;&#x542B;&#x4E86;svn&#x6240;&#x9700;&#x7684;apr apr-util sqlite zlib &#x7B49;&#x5305;&#xFF0C;&#x4E0B;&#x4E86;&#x8FD9;&#x4E2A;&#x4E0A;&#x9762;&#x7684;&#x51E0;&#x4E2A;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x4E0B;&#x8F7D;wget http://archive.apache.org/dist/subversion/subversion-deps-1.6.21.tar.gz &#x5B89;&#x88C5;&#x4F9D;&#x8D56;1yum install gcc gcc-c++ unzip zlib zlib-devel -y &#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#xFF1A;svn+http&#x73AF;&#x5883;&#x642D;&#x5EFA;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x5206;&#x914D;&#x6743;&#x9650;&#x3001;svn&#x914D;&#x5408;http&#x63A8;&#x9001;&#x7ACB;&#x5373;&#x751F;&#x6548;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#xFF1A;http&#x591A;&#x8282;&#x70B9;&#x901A;&#x8FC7;rsync&#xFF08;sersync2&#x3001;rsync+inotify&#xFF09;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x81EA;&#x52A8;&#x540C;&#x6B65;&#xFF0C;&#x786E;&#x8BA4;&#x4E0D;&#x540C;&#x65B9;&#x5F0F;&#x7684;&#x6027;&#x80FD;&#x548C;&#x6548;&#x7387; &#x7F16;&#x8BD1;&#x5B89;&#x88C5;123456789101112131415161718192021222324252627tar -xvf apr-1.5.2.tar.gz &amp;&amp; \cd apr-1.5.2 &amp;&amp; \./configure &amp;&amp; \make &amp;&amp; make install &amp;&amp; \cd ..tar -xvf apr-util-1.5.4.tar.gz &amp;&amp; \cd apr-util-1.5.4 &amp;&amp; \./configure --with-apr=/usr/local/apr/bin/apr-1-config &amp;&amp; \make &amp;&amp; make install &amp;&amp; \cd ..tar xvf subversion-1.9.5.tar.gz &amp;&amp; \unzip sqlite-amalgamation-3071501.zip -d subversion-1.9.5/ &amp;&amp; \cd subversion-1.9.5 &amp;&amp; \mv sqlite-amalgamation-3071501/ sqlite-amalgamation &amp;&amp; \./configure --prefix=/usr/local/product/subversion-1.9.5 --with-apr=/usr/local/apr/bin/apr-1-config --with-apr-util=/usr/local/apr/bin/apu-1-config &amp;&amp; \make &amp;&amp; make install &amp;&amp; \cd ..# --enable-all-static 1.9.5&#x52A0;&#x4E0A;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4F1A;&#x6709;warnning &#x6682;&#x65F6;&#x53BB;&#x6389;ln -s /usr/local/product/subversion-1.9.5 /usr/local/subversion&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;echo &quot;PATH=$PATH:/usr/local/subversion/bin&quot; &gt;&gt; /etc/profilesource /etc/profile &#x521B;&#x5EFA;svn&#x7248;&#x672C;&#x5E93;1234svnadmin create /data/svn_home/&#x542F;&#x52A8;svnserve -d -r /data/svn_home &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5E76;&#x5206;&#x914D;&#x6743;&#x9650;1234567891011121314151617cd /data/svn_home/confvim svnserve.conf&#x53BB;&#x6389;&#x4EE5;&#x4E0B;&#x51E0;&#x884C;&#x7684;&#x6CE8;&#x91CA;&#xFF0C;&#x6700;&#x597D;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x9876;&#x5934;&#xFF0C;&#x4E0D;&#x8981;&#x6709;&#x7A7A;&#x683C;anon-access = readauth-access = writepassword-db = passwdauthz-db = authzvim passwd wowo = wowovim authz [groups] m = wowo [/] @m = rw &#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x8BF7;&#x65E0;&#x89C6;&#x4E0B;&#x9762;&#x7684;&#x4E2D;&#x6587;&#x63D0;&#x793A; 123456789101112131415161718192021222324252627282930313233343536373839mkdir /data/svn &amp;&amp; cd /data/svnsvn co svn://192.168.115.129/&#x8BA4;&#x8BC1;&#x9886;&#x57DF;: &lt;svn://192.168.115.129:3690&gt; 55f0ec50-b83b-11e6-a20b-89f442082b87&#x201C;root&#x201D;&#x7684;&#x5BC6;&#x7801;:&#x8BA4;&#x8BC1;&#x9886;&#x57DF;: &lt;svn://192.168.115.129:3690&gt; 55f0ec50-b83b-11e6-a20b-89f442082b87&#x7528;&#x6237;&#x540D;: wowo&#x201C;wowo&#x201D;&#x7684;&#x5BC6;&#x7801;: ****-----------------------------------------------------------------------&#x6CE8;&#x610F;! &#x4F60;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x5BF9;&#x4E8E;&#x8BA4;&#x8BC1;&#x57DF;: &lt;svn://192.168.115.129:3690&gt; 55f0ec50-b83b-11e6-a20b-89f442082b87&#x53EA;&#x80FD;&#x660E;&#x6587;&#x4FDD;&#x5B58;&#x5728;&#x78C1;&#x76D8;&#x4E0A;! &#x5982;&#x679C;&#x53EF;&#x80FD;&#x7684;&#x8BDD;&#xFF0C;&#x8BF7;&#x8003;&#x8651;&#x914D;&#x7F6E;&#x4F60;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x8BA9; Subversion&#x53EF;&#x4EE5;&#x4FDD;&#x5B58;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x5BC6;&#x7801;&#x3002;&#x8BF7;&#x53C2;&#x9605;&#x6587;&#x6863;&#x4EE5;&#x83B7;&#x5F97;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x201C;/root/.subversion/servers&#x201D;&#x4E2D;&#x8BBE;&#x7F6E;&#x9009;&#x9879;&#x201C;store-plaintext-passwords&#x201D;&#x4E3A;&#x201C;yes&#x201D;&#x6216;&#x201C;no&#x201D;&#xFF0C;&#x6765;&#x907F;&#x514D;&#x518D;&#x6B21;&#x51FA;&#x73B0;&#x6B64;&#x8B66;&#x544A;&#x3002;-----------------------------------------------------------------------&#x4FDD;&#x5B58;&#x672A;&#x52A0;&#x5BC6;&#x7684;&#x5BC6;&#x7801;(yes/no)?yessvn info &#x8DEF;&#x5F84;: .&#x5DE5;&#x4F5C;&#x526F;&#x672C;&#x6839;&#x76EE;&#x5F55;: /data/svnURL: svn://192.168.115.129Relative URL: ^/&#x7248;&#x672C;&#x5E93;&#x6839;: svn://192.168.115.129&#x7248;&#x672C;&#x5E93; UUID: 55f0ec50-b83b-11e6-a20b-89f442082b87&#x7248;&#x672C;: 0&#x8282;&#x70B9;&#x79CD;&#x7C7B;: &#x76EE;&#x5F55;&#x8C03;&#x5EA6;: &#x6B63;&#x5E38;&#x6700;&#x540E;&#x4FEE;&#x6539;&#x7684;&#x7248;&#x672C;: 0&#x6700;&#x540E;&#x4FEE;&#x6539;&#x7684;&#x65F6;&#x95F4;: 2016-12-02 10:59:26 +0800 (&#x4E94;, 2016-12-02)cp /data/soft/* . -asvn add * svn ci -m &quot;update&quot; &#x6D4B;&#x8BD5;&#x5B8C;&#x6210; svn+http&#x6A21;&#x5F0F;&#x5B89;&#x88C5;httpd &#x5EFA;&#x8BAE;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x3002;apache &#x5B98;&#x7F51; http://httpd.apache.org/ &#x5B89;&#x88C5;&#x4F9D;&#x8D56;1yum install gcc gcc-c++ unzip zlib zlib-devel epel* -y &#x5B89;&#x88C5;httpd1234567yum install httpd httpd-devel pcre-devel mod_dav_svn -ytar -xvf httpd-2.4.17.tar.gz &amp;&amp; cd httpd-2.4.17./configure --prefix=/usr/local/httpd-2.4.17/ --enable-modules=most --enable-mods-shared=all --with-apr=/usr/local/apr/bin/apr-1-config --with-apr-until=/usr/local/apr/bin/apu-1-config --enable-dav --enable-so --with-mpm=prefork -enable-maintainer-mode -enable-rewritemake &amp;&amp; make install &#x7F16;&#x8BD1;&#x5B89;&#x88C5;123456789101112131415161718192021222324252627tar -xvf apr-1.5.2.tar.gz &amp;&amp; \cd apr-1.5.2 &amp;&amp; \./configure &amp;&amp; \make &amp;&amp; make install &amp;&amp; \cd ..tar -xvf apr-util-1.5.4.tar.gz &amp;&amp; \cd apr-util-1.5.4 &amp;&amp; \./configure --with-apr=/usr/local/apr/bin/apr-1-config &amp;&amp; \make &amp;&amp; make install &amp;&amp; \cd ..tar xvf subversion-1.9.5.tar.gz &amp;&amp; \unzip sqlite-amalgamation-3071501.zip -d subversion-1.9.5/ &amp;&amp; \cd subversion-1.9.5 &amp;&amp; \mv sqlite-amalgamation-3071501/ sqlite-amalgamation &amp;&amp; \./configure --prefix=/usr/local/product/subversion-1.9.5 --with-apr=/usr/local/apr/bin/apr-1-config --with-apr-util=/usr/local/apr/bin/apu-1-config --with-apxs &amp;&amp; \make &amp;&amp; make install &amp;&amp; \cd ..# --enable-all-static 1.9.5&#x52A0;&#x4E0A;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4F1A;&#x6709;warnning &#x6682;&#x65F6;&#x53BB;&#x6389;ln -s /usr/local/product/subversion-1.9.5 /usr/local/subversion&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;echo &quot;PATH=$PATH:/usr/local/subversion/bin&quot; &gt;&gt; /etc/profilesource /etc/profile &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; svn post-commit&#x5F85;&#x7EED;&#x3002;&#x3002;&#x3002; svn&#x547D;&#x4EE4;&#x8BE6;&#x89E3;&#x68C0;&#x51FA;123456789101112svn co http://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;)&#x3000;[&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;] --username &#x7528;&#x6237;&#x540D; --password &#x5BC6;&#x7801;svn co svn://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;)&#x3000;[&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;] --username &#x7528;&#x6237;&#x540D; --password &#x5BC6;&#x7801;svn checkout http://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;)&#x3000;[&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;] --username&#x3000;&#x7528;&#x6237;&#x540D;svn checkout svn://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;)&#x3000;[&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;] --username&#x3000;&#x7528;&#x6237;&#x540D;&#x6CE8;&#xFF1A;&#x5982;&#x679C;&#x4E0D;&#x5E26;--password &#x53C2;&#x6570;&#x4F20;&#x8F93;&#x5BC6;&#x7801;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x5EFA;&#x8BAE;&#x4E0D;&#x8981;&#x7528;&#x660E;&#x6587;&#x7684;--password &#x9009;&#x9879;&#x3002;&#x3000;&#x3000;&#x5176;&#x4E2D; username &#x4E0E; password&#x524D;&#x662F;&#x4E24;&#x4E2A;&#x77ED;&#x7EBF;&#xFF0C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x3002;&#x3000;&#x3000;&#x4E0D;&#x6307;&#x5B9A;&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;&#xFF0C;&#x5219;&#x68C0;&#x51FA;&#x5230;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x3002;&#x4F8B;&#x5B50;&#xFF1A;svn co svn://localhost/&#x6D4B;&#x8BD5;&#x5DE5;&#x5177; /home/testtools --username wzhnscsvn co http://localhost/test/testapp --username wzhnscsvn checkout svn://localhost/&#x6D4B;&#x8BD5;&#x5DE5;&#x5177; /home/testtools --username wzhnscsvn checkouthttp://localhost/test/testapp --username wzhnsc &#x5BFC;&#x51FA;(&#x5BFC;&#x51FA;&#x4E00;&#x4E2A;&#x5E72;&#x51C0;&#x7684;&#x4E0D;&#x5E26;.svn&#x6587;&#x4EF6;&#x5939;&#x7684;&#x76EE;&#x5F55;&#x6811;)12345678910111213svn export [-r &#x7248;&#x672C;&#x53F7;] http://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;) [&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;]&#x3000;--username&#x3000;&#x7528;&#x6237;&#x540D;svn export [-r &#x7248;&#x672C;&#x53F7;] svn://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;) [&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;]&#x3000;--username&#x3000;&#x7528;&#x6237;&#x540D;svn export &#x672C;&#x5730;&#x68C0;&#x51FA;&#x7684;(&#x5373;&#x5E26;&#x6709;.svn&#x6587;&#x4EF6;&#x5939;&#x7684;)&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84; &#x8981;&#x5BFC;&#x51FA;&#x7684;&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;&#x6CE8;&#xFF1A;&#x7B2C;&#x4E00;&#x79CD;&#x4ECE;&#x7248;&#x672C;&#x5E93;&#x5BFC;&#x51FA;&#x5E72;&#x51C0;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x6811;&#x7684;&#x5F62;&#x5F0F;&#x662F;&#x6307;&#x5B9A;URL&#xFF0C;&#x3000;&#x3000;&#x3000;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86;&#x4FEE;&#x8BA2;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x4F1A;&#x5BFC;&#x51FA;&#x76F8;&#x5E94;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x3000;&#x3000;&#x3000;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x4FEE;&#x8BA2;&#x7248;&#x672C;&#xFF0C;&#x5219;&#x4F1A;&#x5BFC;&#x51FA;&#x6700;&#x65B0;&#x7684;&#xFF0C;&#x5BFC;&#x51FA;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x3002;&#x3000;&#x3000;&#x3000;&#x5982;&#x679C;&#x7701;&#x7565; &#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;&#xFF0C;URL&#x7684;&#x6700;&#x540E;&#x4E00;&#x90E8;&#x5206;&#x4F1A;&#x4F5C;&#x4E3A;&#x672C;&#x5730;&#x76EE;&#x5F55;&#x7684;&#x540D;&#x5B57;&#x3002;&#x3000;&#x3000;&#x7B2C;&#x4E8C;&#x79CD;&#x5F62;&#x5F0F;&#x662F;&#x6307;&#x5B9A; &#x672C;&#x5730;&#x68C0;&#x51FA;&#x7684;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84; &#x5230; &#x8981;&#x5BFC;&#x51FA;&#x7684;&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x672C;&#x5730;&#x4FEE;&#x6539;&#x5C06;&#x4F1A;&#x4FDD;&#x7559;&#xFF0C;&#x3000;&#x3000;&#x3000;&#x4F46;&#x662F;&#x4E0D;&#x5728;&#x7248;&#x672C;&#x63A7;&#x5236;&#x4E0B;(&#x5373;&#x6CA1;&#x63D0;&#x4EA4;&#x7684;&#x65B0;&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x4E3A;.svn&#x6587;&#x4EF6;&#x5939;&#x91CC;&#x6CA1;&#x6709;&#x4E0E;&#x4E4B;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#x8BB0;&#x5F55;)&#x7684;&#x6587;&#x4EF6;&#x4E0D;&#x4F1A;&#x62F7;&#x8D1D;&#x3002;&#x4F8B;&#x5B50;&#xFF1A;svn export svn://localhost/&#x6D4B;&#x8BD5;&#x5DE5;&#x5177; /home/testtools --username wzhnscsvn export svn://localhost/test/testapp --username wzhnscsvn export /home/testapp /home/testtools &#x6DFB;&#x52A0;&#x65B0;&#x6587;&#x4EF6;1234567svn&#x3000;add&#x3000;&#x6587;&#x4EF6;&#x540D;&#x6CE8;&#xFF1A;&#x544A;&#x8BC9;SVN&#x670D;&#x52A1;&#x5668;&#x8981;&#x6DFB;&#x52A0;&#x6587;&#x4EF6;&#x4E86;&#xFF0C;&#x8FD8;&#x8981;&#x7528;svn commint -m&#x771F;&#x5B9E;&#x7684;&#x4E0A;&#x4F20;&#x4E0A;&#x53BB;&#xFF01;&#x4F8B;&#x5B50;&#xFF1A;svn add test.php &#xFF1C;&#xFF0D; &#x6DFB;&#x52A0;test.php svn commit -m &#x201C;&#x6DFB;&#x52A0;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#x7528;test.php&#x201C; test.phpsvn add *.php &#xFF1C;&#xFF0D; &#x6DFB;&#x52A0;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x7684;php&#x6587;&#x4EF6;svn commit -m &#x201C;&#x6DFB;&#x52A0;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x5168;&#x90E8;php&#x6587;&#x4EF6;&#x201C; *.php &#x63D0;&#x4EA4;12345678910svn&#x3000;commit&#x3000;-m&#x3000;&#x201C;&#x63D0;&#x4EA4;&#x5907;&#x6CE8;&#x4FE1;&#x606F;&#x6587;&#x672C;&#x201C;&#x3000;[-N]&#x3000;[--no-unlock]&#x3000;&#x6587;&#x4EF6;&#x540D;svn&#x3000;ci&#x3000;-m&#x3000;&#x201C;&#x63D0;&#x4EA4;&#x5907;&#x6CE8;&#x4FE1;&#x606F;&#x6587;&#x672C;&#x201C;&#x3000;[-N]&#x3000;[--no-unlock]&#x3000;&#x6587;&#x4EF6;&#x540D;&#x5FC5;&#x987B;&#x5E26;&#x4E0A;-m&#x53C2;&#x6570;&#xFF0C;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x4E3A;&#x7A7A;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x5199;&#x4E0A;-m&#x4F8B;&#x5B50;&#xFF1A;svn commit -m &#x201C;&#x63D0;&#x4EA4;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x5168;&#x90E8;&#x5728;&#x7248;&#x672C;&#x63A7;&#x5236;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x201C; * &#xFF1C;&#xFF0D; &#x6CE8;&#x610F;&#x8FD9;&#x4E2A;*&#x8868;&#x793A;&#x5168;&#x90E8;&#x6587;&#x4EF6;svn commit -m &#x201C;&#x63D0;&#x4EA4;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#x7528;test.php&#x201C; test.phpsvn commit -m &#x201C;&#x63D0;&#x4EA4;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#x7528;test.php&#x201C; -N --no-unlock test.php &#xFF1C;&#xFF0D; &#x4FDD;&#x6301;&#x9501;&#x5C31;&#x7528;&#x2013;no-unlock&#x5F00;&#x5173;svn ci -m &#x201C;&#x63D0;&#x4EA4;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x5168;&#x90E8;&#x5728;&#x7248;&#x672C;&#x63A7;&#x5236;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x201C; * &#xFF1C;&#xFF0D; &#x6CE8;&#x610F;&#x8FD9;&#x4E2A;*&#x8868;&#x793A;&#x5168;&#x90E8;&#x6587;&#x4EF6;svn ci -m &#x201C;&#x63D0;&#x4EA4;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#x7528;test.php&#x201C; test.phpsvn ci -m &#x201C;&#x63D0;&#x4EA4;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#x7528;test.php&#x201C; -N --no-unlock test.php &#xFF1C;&#xFF0D; &#x4FDD;&#x6301;&#x9501;&#x5C31;&#x7528;&#x2013;no-unlock&#x5F00;&#x5173; &#x66F4;&#x65B0;&#x6587;&#x4EF6;123456789svn&#x3000;updatesvn&#x3000;update&#x3000;-r&#x3000;&#x4FEE;&#x6B63;&#x7248;&#x672C;&#x3000;&#x6587;&#x4EF6;&#x540D;svn&#x3000;update&#x3000;&#x6587;&#x4EF6;&#x540D;&#x4F8B;&#x5B50;&#xFF1A;svn update &#xFF1C;&#xFF0D; &#x540E;&#x9762;&#x6CA1;&#x6709;&#x76EE;&#x5F55;&#xFF0C;&#x9ED8;&#x8BA4;&#x5C06;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4EE5;&#x53CA;&#x5B50;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x90FD;&#x66F4;&#x65B0;&#x5230;&#x6700;&#x65B0;&#x7248;&#x672C;svn update -r 200 test.cpp &#xFF1C;&#xFF0D; &#x5C06;&#x7248;&#x672C;&#x5E93;&#x4E2D;&#x7684;&#x6587;&#x4EF6; test.cpp &#x8FD8;&#x539F;&#x5230;&#x4FEE;&#x6B63;&#x7248;&#x672C;&#xFF08;revision&#xFF09;200svn update test.php &#xFF1C;&#xFF0D; &#x66F4;&#x65B0;&#x4E0E;&#x7248;&#x672C;&#x5E93;&#x540C;&#x6B65;&#x3002;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; &#x63D0;&#x4EA4;&#x7684;&#x65F6;&#x5019;&#x63D0;&#x793A;&#x8FC7;&#x671F;&#x51B2;&#x7A81;&#xFF0C;&#x9700;&#x8981;&#x5148; update &#x4FEE;&#x6539;&#x6587;&#x4EF6;&#xFF0C;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000; &#x7136;&#x540E;&#x6E05;&#x9664;svn resolved&#xFF0C;&#x6700;&#x540E;&#x518D;&#x63D0;&#x4EA4;commit&#x3002; &#x5220;&#x9664;&#x6587;&#x4EF6;123456789svn&#x3000;delete&#x3000;svn://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;) -m &#x201C;&#x5220;&#x9664;&#x5907;&#x6CE8;&#x4FE1;&#x606F;&#x6587;&#x672C;&#x201D;&#x63A8;&#x8350;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A;svn&#x3000;delete&#x3000;&#x6587;&#x4EF6;&#x540D; svn&#x3000;ci&#x3000;-m&#x3000;&#x201C;&#x5220;&#x9664;&#x5907;&#x6CE8;&#x4FE1;&#x606F;&#x6587;&#x672C;&#x201D;&#x4F8B;&#x5B50;&#xFF1A;svn delete svn://localhost/testapp/test.php -m &#x201C;&#x5220;&#x9664;&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;test.php&#x201D;&#x63A8;&#x8350;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A;svn delete test.php svn ci -m &#x201C;&#x5220;&#x9664;&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;test.php&#x201D; &#x52A0;&#x9501;/&#x89E3;&#x9501;12345svn&#x3000;lock&#x3000;-m&#x3000;&#x201C;&#x52A0;&#x9501;&#x5907;&#x6CE8;&#x4FE1;&#x606F;&#x6587;&#x672C;&#x201C;&#x3000;[--force]&#x3000;&#x6587;&#x4EF6;&#x540D; svn&#x3000;unlock&#x3000;&#x6587;&#x4EF6;&#x540D;&#x4F8B;&#x5B50;&#xFF1A;svn lock -m &#x201C;&#x9501;&#x4FE1;&#x6D4B;&#x8BD5;&#x7528;test.php&#x6587;&#x4EF6;&#x201C; test.php svn unlock test.php &#x6BD4;&#x8F83;&#x5DEE;&#x5F02;12345svn&#x3000;diff&#x3000;&#x6587;&#x4EF6;&#x540D; svn&#x3000;diff&#x3000;-r&#x3000;&#x4FEE;&#x6B63;&#x7248;&#x672C;&#x53F7;m:&#x4FEE;&#x6B63;&#x7248;&#x672C;&#x53F7;n&#x3000;&#x6587;&#x4EF6;&#x540D;&#x4F8B;&#x5B50;&#xFF1A;svn diff test.php&#xFF1C;&#xFF0D; &#x5C06;&#x4FEE;&#x6539;&#x7684;&#x6587;&#x4EF6;&#x4E0E;&#x57FA;&#x7840;&#x7248;&#x672C;&#x6BD4;&#x8F83;svn diff -r 200:201 test.php&#xFF1C;&#xFF0D; &#x5BF9; &#x4FEE;&#x6B63;&#x7248;&#x672C;&#x53F7;200 &#x548C; &#x4FEE;&#x6B63;&#x7248;&#x672C;&#x53F7;201 &#x6BD4;&#x8F83;&#x5DEE;&#x5F02; &#x67E5;&#x770B;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x76EE;&#x5F55;&#x72B6;&#x6001;12345678910svn st &#x76EE;&#x5F55;&#x8DEF;&#x5F84;/&#x540D;svn status &#x76EE;&#x5F55;&#x8DEF;&#x5F84;/&#x540D;&#xFF1C;&#xFF0D; &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x5B50;&#x76EE;&#x5F55;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6B63;&#x5E38;&#x72B6;&#x6001;&#x4E0D;&#x663E;&#x793A; &#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3010;?&#xFF1A;&#x4E0D;&#x5728;svn&#x7684;&#x63A7;&#x5236;&#x4E2D;&#xFF1B; M&#xFF1A;&#x5185;&#x5BB9;&#x88AB;&#x4FEE;&#x6539;&#xFF1B;C&#xFF1A;&#x53D1;&#x751F;&#x51B2;&#x7A81;&#xFF1B;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;A&#xFF1A;&#x9884;&#x5B9A;&#x52A0;&#x5165;&#x5230;&#x7248;&#x672C;&#x5E93;&#xFF1B;K&#xFF1A;&#x88AB;&#x9501;&#x5B9A;&#x3011; svn -v &#x76EE;&#x5F55;&#x8DEF;&#x5F84;/&#x540D;svn status -v &#x76EE;&#x5F55;&#x8DEF;&#x5F84;/&#x540D;&#xFF1C;&#xFF0D; &#x663E;&#x793A;&#x6587;&#x4EF6;&#x548C;&#x5B50;&#x76EE;&#x5F55;&#x72B6;&#x6001;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3010;&#x7B2C;&#x4E00;&#x5217;&#x4FDD;&#x6301;&#x76F8;&#x540C;&#xFF0C;&#x7B2C;&#x4E8C;&#x5217;&#x663E;&#x793A;&#x5DE5;&#x4F5C;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x3000;&#x7B2C;&#x4E09;&#x548C;&#x7B2C;&#x56DB;&#x5217;&#x663E;&#x793A;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x4FEE;&#x6539;&#x7684;&#x7248;&#x672C;&#x53F7;&#x548C;&#x4FEE;&#x6539;&#x4EBA;&#x3011; &#x6CE8;&#xFF1A;svn status&#x3001;svn diff&#x548C; svn revert&#x8FD9;&#x4E09;&#x6761;&#x547D;&#x4EE4;&#x5728;&#x6CA1;&#x6709;&#x7F51;&#x7EDC;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E5F;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x3000;&#x3000;&#x539F;&#x56E0;&#x662F;svn&#x5728;&#x672C;&#x5730;&#x7684;.svn&#x4E2D;&#x4FDD;&#x7559;&#x4E86;&#x672C;&#x5730;&#x7248;&#x672C;&#x7684;&#x539F;&#x59CB;&#x62F7;&#x8D1D;&#x3002; &#x67E5;&#x770B;&#x65E5;&#x5FD7;123svn&#x3000;log&#x3000;&#x6587;&#x4EF6;&#x540D;&#x4F8B;&#x5B50;&#xFF1A;svn log test.php&#xFF1C;&#xFF0D; &#x663E;&#x793A;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x4FEE;&#x6539;&#x8BB0;&#x5F55;&#xFF0C;&#x53CA;&#x5176;&#x7248;&#x672C;&#x53F7;&#x7684;&#x53D8;&#x5316; &#x67E5;&#x770B;&#x6587;&#x4EF6;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;123svn&#x3000;info&#x3000;&#x6587;&#x4EF6;&#x540D;&#x4F8B;&#x5B50;&#xFF1A;svn info test.php SVN &#x5E2E;&#x52A9;12svn&#x3000;help &#xFF1C;&#xFF0D; &#x5168;&#x90E8;&#x529F;&#x80FD;&#x9009;&#x9879;svn&#x3000;help&#x3000;ci &#xFF1C;&#xFF0D; &#x5177;&#x4F53;&#x529F;&#x80FD;&#x7684;&#x8BF4;&#x660E; &#x67E5;&#x770B;&#x7248;&#x672C;&#x5E93;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x5217;&#x8868;12345svn&#x3000;list&#x3000;svn://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;)svn&#x3000;ls&#x3000;svn://&#x8DEF;&#x5F84;(&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;)&#x4F8B;&#x5B50;&#xFF1A;svn list svn://localhost/testsvn ls svn://localhost/test &#xFF1C;&#xFF0D; &#x663E;&#x793A;svn://localhost/test&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x4E8E;&#x7248;&#x672C;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55; &#x521B;&#x5EFA;&#x7EB3;&#x5165;&#x7248;&#x672C;&#x63A7;&#x5236;&#x4E0B;&#x7684;&#x65B0;&#x76EE;&#x5F55;123456789101112131415161718svn&#x3000;mkdir&#x3000;&#x76EE;&#x5F55;&#x540D;svn&#x3000;mkdir&#x3000;-m&#x3000;&quot;&#x65B0;&#x589E;&#x76EE;&#x5F55;&#x5907;&#x6CE8;&#x6587;&#x672C;&quot;&#x3000;http://&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;&#x4F8B;&#x5B50;&#xFF1A;svn mkdir newdirsvn mkdir -m &quot;Making a new dir.&quot; svn://localhost/test/newdir &#x6CE8;&#xFF1A;&#x6DFB;&#x52A0;&#x5B8C;&#x5B50;&#x76EE;&#x5F55;&#x540E;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x56DE;&#x5230;&#x6839;&#x76EE;&#x5F55;&#x66F4;&#x65B0;&#x4E00;&#x4E0B;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x63D0;&#x4EA4;&#x6587;&#x4EF6;&#x4F1A;&#x63D0;&#x793A;&#x201C;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&#x201D;svn update&#x6CE8;&#xFF1A;&#x5982;&#x679C;&#x624B;&#x5DE5;&#x5728;checkout&#x51FA;&#x6765;&#x7684;&#x76EE;&#x5F55;&#x91CC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x6587;&#x4EF6;&#x5939;newsubdir&#xFF0C;&#x3000;&#x3000;&#x518D;&#x7528;svn mkdir newsubdir&#x547D;&#x4EE4;&#x540E;&#xFF0C;SVN&#x4F1A;&#x63D0;&#x793A;&#xFF1A;&#x3000;&#x3000;svn: &#x5C1D;&#x8BD5;&#x7528; &#x201C;svn add&#x201D;&#x6216; &#x201C;svn add --non-recursive&#x201D;&#x4EE3;&#x66FF;&#xFF1F;&#x3000;&#x3000;svn: &#x65E0;&#x6CD5;&#x521B;&#x5EFA;&#x76EE;&#x5F55;&#x201C;hello&#x201D;: &#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x3000;&#x3000;&#x6B64;&#x65F6;&#xFF0C;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x89E3;&#x51B3;&#xFF1A;&#x3000;&#x3000;svn add --non-recursive newsubdir&#x3000;&#x3000;&#x5728;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;newsubdir&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x7528;ls -a&#x67E5;&#x770B;&#x5B83;&#x4E0B;&#x9762;&#x7684;&#x5168;&#x90E8;&#x76EE;&#x5F55;&#x4E0E;&#x6587;&#x4EF6;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x591A;&#x4E86;&#xFF1A;.svn&#x76EE;&#x5F55;&#x3000;&#x3000;&#x518D;&#x7528; svn mkdir -m &quot;&#x6DFB;hello&#x529F;&#x80FD;&#x6A21;&#x5757;&#x6587;&#x4EF6;&quot; svn://localhost/test/newdir/newsubdir &#x547D;&#x4EE4;&#xFF0C;&#x3000;&#x3000;SVN&#x63D0;&#x793A;&#xFF1A;&#x3000;&#x3000;svn: File already exists: filesystem &apos;/data/svnroot/test/db&apos;, transaction &apos;4541-1&apos;,&#x3000;&#x3000;path &apos;/newdir/newsubdir &apos; &#x6062;&#x590D;&#x672C;&#x5730;&#x4FEE;&#x6539;12345svn&#x3000;revert&#x3000;[--recursive]&#x3000;&#x6587;&#x4EF6;&#x540D;&#x6CE8;&#x610F;: &#x672C;&#x5B50;&#x547D;&#x4EE4;&#x4E0D;&#x4F1A;&#x5B58;&#x53D6;&#x7F51;&#x7EDC;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x89E3;&#x9664;&#x51B2;&#x7A81;&#x7684;&#x72B6;&#x51B5;&#x3002;&#x4F46;&#x662F;&#x5B83;&#x4E0D;&#x4F1A;&#x6062;&#x590D;&#x88AB;&#x5220;&#x9664;&#x7684;&#x76EE;&#x5F55;&#x3002;&#x4F8B;&#x5B50;&#xFF1A;svn revert foo.c &#xFF1C;&#xFF0D; &#x4E22;&#x5F03;&#x5BF9;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4FEE;&#x6539;svn revert --recursive . &#xFF1C;&#xFF0D;&#x6062;&#x590D;&#x4E00;&#x6574;&#x4E2A;&#x76EE;&#x5F55;&#x7684;&#x6587;&#x4EF6;&#xFF0C;. &#x4E3A;&#x5F53;&#x524D;&#x76EE;&#x5F55; &#x628A;&#x5DE5;&#x4F5C;&#x62F7;&#x8D1D;&#x66F4;&#x65B0;&#x5230;&#x522B;&#x7684;URL123svn&#x3000;switch&#x3000;http://&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;&#x3000;&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;&#x4F8B;&#x5B50;&#xFF1A;svn switch http://localhost/test/456 . &#xFF1C;&#xFF0D; (&#x539F;&#x4E3A;123&#x7684;&#x5206;&#x652F;)&#x5F53;&#x524D;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x5206;&#x652F;&#x5230;localhost/test/456 &#x89E3;&#x51B3;&#x51B2;&#x7A81;12345678910111213svn&#x3000;resolved&#x3000;[&#x672C;&#x5730;&#x76EE;&#x5F55;&#x5168;&#x8DEF;&#x5F84;]&#x4F8B;&#x5B50;&#xFF1A;$ svn updateC foo.cUpdated to revision 31.&#x5982;&#x679C;&#x4F60;&#x5728;&#x66F4;&#x65B0;&#x65F6;&#x5F97;&#x5230;&#x51B2;&#x7A81;&#xFF0C;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x62F7;&#x8D1D;&#x4F1A;&#x4EA7;&#x751F;&#x4E09;&#x4E2A;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#xFF1A;$ lsfoo.cfoo.c.minefoo.c.r30foo.c.r31&#x5F53;&#x4F60;&#x89E3;&#x51B3;&#x4E86;foo.c&#x7684;&#x51B2;&#x7A81;&#xFF0C;&#x5E76;&#x4E14;&#x51C6;&#x5907;&#x63D0;&#x4EA4;&#xFF0C;&#x8FD0;&#x884C;svn resolved&#x8BA9;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x62F7;&#x8D1D;&#x77E5;&#x9053;&#x4F60;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x4E86;&#x6240;&#x6709;&#x4E8B;&#x60C5;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x4EC5;&#x4EC5;&#x5220;&#x9664;&#x51B2;&#x7A81;&#x7684;&#x6587;&#x4EF6;&#x5E76;&#x4E14;&#x63D0;&#x4EA4;&#xFF0C;&#x4F46;&#x662F;svn resolved&#x9664;&#x4E86;&#x5220;&#x9664;&#x51B2;&#x7A81;&#x6587;&#x4EF6;&#xFF0C;&#x8FD8;&#x4FEE;&#x6B63;&#x4E86;&#x4E00;&#x4E9B;&#x8BB0;&#x5F55;&#x5728;&#x5DE5;&#x4F5C;&#x62F7;&#x8D1D;&#x7BA1;&#x7406;&#x533A;&#x57DF;&#x7684;&#x8BB0;&#x5F55;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x63A8;&#x8350;&#x4F60;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x3002; &#x4E0D;checkout&#x800C;&#x67E5;&#x770B;&#x8F93;&#x51FA;&#x7279;&#x5B9A;&#x6587;&#x4EF6;&#x6216;URL&#x7684;&#x5185;&#x5BB9;123svn&#x3000;cat&#x3000;http://&#x6587;&#x4EF6;&#x5168;&#x8DEF;&#x5F84;&#x4F8B;&#x5B50;&#xFF1A;svn cat http://localhost/test/readme.txt &#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5206;&#x652F;copy1svn copy branchA branchB -m &quot;make B branch&quot; // &#x4ECE;branchA&#x62F7;&#x8D1D;&#x51FA;&#x4E00;&#x4E2A;&#x65B0;&#x5206;&#x652F;branchB &#x5408;&#x5E76;&#x5185;&#x5BB9;&#x5230;&#x5206;&#x652F;merge1svn merge branchA branchB // &#x628A;&#x5BF9;branchA&#x7684;&#x4FEE;&#x6539;&#x5408;&#x5E76;&#x5230;&#x5206;&#x652F;branchB]]></content>
      <categories>
        <category>linux</category>
        <category>svn</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>svn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker-kubernetes 集群化配置]]></title>
    <url>%2F2016%2F11%2F22%2Fdocker-kubernetes%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x65F6;&#x95F4;&#x8DE8;&#x8D8A;&#x6709;&#x70B9;&#x4E45;&#x4E86;&#xFF0C;&#x4E4B;&#x524D;&#x7684;&#x5B9E;&#x9A8C;&#x548C;&#x6587;&#x7AE0;&#x90FD;&#x6CA1;&#x6709;&#x5199;&#x5B8C;&#xFF0C;&#x6700;&#x8FD1;&#x91CD;&#x65B0;&#x5F00;&#x59CB;&#x8D9F;&#x8FD9;&#x4E2A;&#x5751;&#x3002; docker&#x5B89;&#x88C5; &#x8BF7;&#x79FB;&#x6B65; docker&#x5B89;&#x88C5;&#x5B66;&#x4E60;&#x8BB0;&#x5F55; kubernetes&#x672C;&#x8282;&#x8BB2;&#x4EE5;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x5B89;&#x88C5;kubernets&#xFF08;&#x4E00;&#x4E0B;&#x7B80;&#x79F0;k8s&#xFF09;&#x96C6;&#x7FA4;&#xFF1B; &#x4F7F;&#x7528;kubeadm&#x521B;&#x5EFA;&#x96C6;&#x7FA4; &#x4F7F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x5305;&#x521B;&#x5EFA;&#x96C6;&#x7FA4; &#x7531;&#x4E8E;k8s&#x96C6;&#x7FA4;&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x53BB;google&#x7684;&#x4ED3;&#x5E93;&#x62C9;&#x53D6;&#x4E00;&#x4E9B;&#x955C;&#x50CF;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x4ED3;&#x5E93;&#x5728;&#x56FD;&#x5185;&#x662F;&#x8BBF;&#x95EE;&#x4E0D;&#x5230;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x4E24;&#x79CD;&#x89E3;&#x51B3;&#x529E;&#x6CD5; &#x79D1;&#x5B66;&#x4E0A;&#x7F51; &#x4F7F;&#x7528;dockerhub&#x6784;&#x5EFA;&#xFF0C;&#x8BF7;&#x79FB;&#x6B65; kubeadm &#x642D;&#x5EFA; Kubernetes &#x96C6;&#x7FA4; &#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x642D;&#x5EFA;&#x96C6;&#x7FA4;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x4E3B;&#x8981;&#x670D;&#x52A1;&#x90FD;&#x662F;&#x4EE5;&#x5BB9;&#x5668;&#x7684;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x7684;; &#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;&#x642D;&#x5EFA;&#x8D77;&#x6765;&#x9EBB;&#x70E6;&#x4E00;&#x70B9;&#xFF0C;&#x4F18;&#x70B9;&#x662F;&#x53EF;&#x4EE5;&#x4E86;&#x89E3;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x7684;&#x7EC4;&#x4EF6;&#x67B6;&#x6784;&#xFF1B; &#x4E0B;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x4E24;&#x79CD;&#x642D;&#x5EFA;&#x65B9;&#x5F0F;&#x516C;&#x7528;&#x7684;&#x90E8;&#x5206;&#x3002; &#x4F7F;&#x7528;repo&#x5B89;&#x88C5; kubectl&#x3001;kubelet and kubeadmcentos7123456789101112131415161718192021222324# &#x963F;&#x91CC;&#x6E90;cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo[kubernetes]name=Kubernetesbaseurl=http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/enabled=1gpgcheck=0repo_gpgcheck=0EOF# &#x5B98;&#x65B9;&#x6E90;cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo[kubernetes]name=Kubernetesbaseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64enabled=1gpgcheck=1repo_gpgcheck=1gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpgEOFsetenforce 0yum install -y kubectl kubelet kubeadm ubuntu1234567apt-get update &amp;&amp; apt-get install -y apt-transport-httpscurl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -cat &lt;&lt;EOF &gt;/etc/apt/sources.list.d/kubernetes.listdeb http://apt.kubernetes.io/ kubernetes-xenial mainEOFapt-get updateapt-get install -y kubelet kubeadm kubectl &#x4FEE;&#x6539;&#x5185;&#x6838;&#x53C2;&#x6570;123456vim /etc/sysctl.confnet.ipv4.ip_forward = 1net.ipv4.conf.all.rp_filter = 0echo 1 &gt; /proc/sys/net/bridge/bridge-nf-call-iptables &#x73AF;&#x5883;&#x914D;&#x7F6E;1234rm -r -f /etc/kubernetes /var/lib/kubelet /var/lib/etcd;echo &quot;10.0.0.176.master&quot; &gt; /etc/hostname echo &quot;127.0.0.1 10.0.0.176.master&quot; &gt;&gt; /etc/hostssysctl kernel.hostname=10.0.0.176.master &#x4F7F;&#x7528;kubeadm&#x6784;&#x5EFA;k8s&#x96C6;&#x7FA4;&#x4FEE;&#x6539;&#x914D;&#x7F6E;12345678vim /etc/systemd/system/kubelet.service.d/10-kubeadm.conf# &#x628A; systemd &#x6539;&#x6210; cgroupfsKUBELET_CGROUP_ARGS=--cgroup-driver=cgroupfs# &#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x4E00;&#x5B9A;&#x8981;&#x5148;&#x542F;&#x52A8;&#x4E00;&#x6B21;&#xFF0C;systemctl enable kubelet &amp;&amp; systemctl start kubelet# &#x67E5;&#x770B;&#x542F;&#x52A8;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x7B97;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x4E5F;&#x662F;&#x65E0;&#x6240;&#x8C13;&#x7684;systemctl status kubelet &#x521D;&#x59CB;&#x5316;&#x96C6;&#x7FA4;12345kubeadm init \ --apiserver-advertise-address=0.0.0.0 \ --pod-network-cidr 10.244.0.0/16## --pod-network-cidr&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;flannel&#x7B49;&#x7BA1;&#x7406;&#x7F51;&#x7EDC;&#x4E00;&#x5B9A;&#x8981;&#x52A0;&#x8FD9;&#x4E2A; &#x96C6;&#x7FA4;&#x521D;&#x59CB;&#x5316;&#x4F1A;&#x53BB;&#x62C9;&#x53D6;&#x955C;&#x50CF;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x63D0;&#x524D;&#x5904;&#x7406;&#x597D;&#xFF0C;&#x6B63;&#x5E38;&#x6267;&#x884C;&#x51E0;&#x5206;&#x949F;&#x5C31;&#x5E94;&#x8BE5;&#x521D;&#x59CB;&#x5316;&#x5B8C;&#x6210;&#x3002; 1234567891011121314151617181920212223242526272829303132333435363738[kubeadm] WARNING: kubeadm is in beta, please do not use it for production clusters.[init] Using Kubernetes version: v1.7.1[init] Using Authorization modes: [Node RBAC][preflight] Running pre-flight checks[preflight] WARNING: docker version is greater than the most recently validated version. Docker version: 17.03.1-ce. Max validated version: 1.12[preflight] WARNING: docker service is not enabled, please run &apos;systemctl enable docker.service&apos;[preflight] Starting the kubelet service[certificates] Generated CA certificate and key.[certificates] Generated API server certificate and key.[certificates] API Server serving cert is signed for DNS names [bjo-ep-dep-039.dev.fwmrm.net kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.17.139][certificates] Generated API server kubelet client certificate and key.[certificates] Generated service account token signing key and public key.[certificates] Generated front-proxy CA certificate and key.[certificates] Generated front-proxy client certificate and key.[certificates] Valid certificates and keys now exist in &quot;/etc/kubernetes/pki&quot;[kubeconfig] Wrote KubeConfig file to disk: &quot;/etc/kubernetes/admin.conf&quot;[kubeconfig] Wrote KubeConfig file to disk: &quot;/etc/kubernetes/kubelet.conf&quot;[kubeconfig] Wrote KubeConfig file to disk: &quot;/etc/kubernetes/controller-manager.conf&quot;[kubeconfig] Wrote KubeConfig file to disk: &quot;/etc/kubernetes/scheduler.conf&quot;[apiclient] Created API client, waiting for the control plane to become ready[apiclient] All control plane components are healthy after 31.001311 seconds[token] Using token: 472def.6bbb304791b76492[apiconfig] Created RBAC rules[addons] Applied essential addon: kube-proxy[addons] Applied essential addon: kube-dnsYour Kubernetes master has initialized successfully!To start using your cluster, you need to run (as a regular user):mkdir -p $HOME/.kubesudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/configsudo chown $(id -u):$(id -g) $HOME/.kube/configYou should now deploy a pod network to the cluster.Run &quot;kubectl apply -f [podnetwork].yaml&quot; with one of the options listed at:http://kubernetes.io/docs/admin/addons/You can now join any number of machines by running the following on each node as root:kubeadm join --token e5698b.f0ad65ab9db2a951 10.0.0.176:6443 &#x914D;&#x7F6E;config&#x6839;&#x636E;&#x63D0;&#x793A;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4; 123mkdir -p $HOME/.kubesudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/configsudo chown $(id -u):$(id -g) $HOME/.kube/config Master Isolation&#x7531;&#x4E8E;&#x5B89;&#x5168;&#x539F;&#x56E0;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;pod&#x4E0D;&#x4F1A;&#x88AB;schedule&#x5230;master&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#x89E3;&#x9664;&#x8FD9;&#x79CD;&#x9650;&#x5236; 1kubectl taint nodes --all node-role.kubernetes.io/master- &#x6DFB;&#x52A0;node&#x8282;&#x70B9;123456# &#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x96C6;&#x7FA4;tokenkubeadm token listTOKEN TTL EXPIRES USAGES DESCRIPTIONe7d41c.e3faa005ab37c4cf &lt;forever&gt; &lt;never&gt; authentication,signing The default bootstrap token generated by &apos;kubeadm init&apos;.kubeadm join --token e7d41c.e3faa005ab37c4cf 10.0.0.176:6443 --skip-preflight-checks &#x68C0;&#x67E5;&#x72B6;&#x6001;123456789101112131415kubectl get nodeNAME STATUS AGE VERSION10.0.0.176.master Ready 9h v1.7.210.0.0.177.node Ready 9h v1.7.2kubectl get po -o wide -n kube-systemNAME READY STATUS RESTARTS AGE IP NODEetcd-10.0.0.176.master 1/1 Running 2 9h 10.0.0.176 10.0.0.176.masterkube-apiserver-10.0.0.176.master 1/1 Running 2 9h 10.0.0.176 10.0.0.176.masterkube-controller-manager-10.0.0.176.master 1/1 Running 3 9h 10.0.0.176 10.0.0.176.masterkube-dns-2425271678-bz6n6 0/3 Pending 6 9h 10.244.0.93 10.0.0.176.masterkube-proxy-bx6qb 1/1 Running 1 9h 10.0.0.177 a10.0.0.177.nodekube-proxy-pt73w 1/1 Running 2 9h 10.0.0.176 10.0.0.176.masterkube-scheduler-10.0.0.176.master 1/1 Running 3 9h 10.0.0.176 10.0.0.176.master &#x6B64;&#x65F6;dns&#x5E94;&#x8BE5;&#x5904;&#x4E8E;Pending&#x72B6;&#x6001;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x7BA1;&#x7406;pod&#x7684;&#x7F51;&#x7EDC;&#x6A21;&#x5757;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x53EF;&#x63A7;&#x5236;&#x7684;node&#x8282;&#x70B9;&#x4E5F;&#x4F1A;&#x5904;&#x4E8E;&#x6B64;&#x72B6;&#x6001;&#x3002; &#x5B89;&#x88C5;flannel&#x7BA1;&#x7406;pod&#x7F51;&#x7EDC;123456kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel-rbac.ymlkubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml# weavewget https://git.io/weave-kube -O weave-kube.yaml &#x67E5;&#x770B;&#x72B6;&#x6001;12345678910111213141516171819202122232425262728kubectl get po -o wide -n kube-systemNAME READY STATUS RESTARTS AGE IP NODEetcd-10.0.0.176.master 1/1 Running 2 9h 10.0.0.176 10.0.0.176.masterkube-apiserver-10.0.0.176.master 1/1 Running 2 9h 10.0.0.176 10.0.0.176.masterkube-controller-manager-10.0.0.176.master 1/1 Running 3 9h 10.0.0.176 10.0.0.176.masterkube-dns-2425271678-bz6n6 3/3 Running 6 9h 10.244.0.93 10.0.0.176.masterkube-flannel-ds-08mfq 2/2 Running 8 9h 10.0.0.176 10.0.0.176.masterkube-flannel-ds-jn41h 2/2 Running 3 9h 10.0.0.177 a10.0.0.177.nodekube-proxy-bx6qb 1/1 Running 1 9h 10.0.0.177 a10.0.0.177.nodekube-proxy-pt73w 1/1 Running 2 9h 10.0.0.176 10.0.0.176.masterkube-scheduler-10.0.0.176.master 1/1 Running 3 9h 10.0.0.176 10.0.0.176.masterkubectl describe svc kube-dns -n kube-systemName: kube-dnsNamespace: kube-systemLabels: k8s-app=kube-dns kubernetes.io/cluster-service=true kubernetes.io/name=KubeDNSAnnotations: &lt;none&gt;Selector: k8s-app=kube-dnsType: ClusterIPIP: 10.96.0.10Port: dns 53/UDPEndpoints: 10.244.0.93:53Port: dns-tcp 53/TCPEndpoints: 10.244.0.93:53Session Affinity: NoneEvents: &lt;none&gt; &#x4FEE;&#x6539;&#x914D;&#x7F6E;1234vim /etc/systemd/system/kubelet.service.d/10-kubeadm.conf# --cluster-dns=10.244.0.79 &#x4FEE;&#x6539;&#x6210; --cluster-dns=10.244.0.93# &#x91CD;&#x542F;kubelet kube-dashboard&#x83B7;&#x53D6;yml&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102curl https://rawgit.com/kubernetes/dashboard/master/src/deploy/kubernetes-dashboard.yaml &gt; kubernetes-dashboard.yaml# &#x4FEE;&#x6539;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#xFF0C;&#x914D;&#x7F6E;nodeport# Copyright 2015 Google Inc. All Rights Reserved.## Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);# you may not use this file except in compliance with the License.# You may obtain a copy of the License at## http://www.apache.org/licenses/LICENSE-2.0## Unless required by applicable law or agreed to in writing, software# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.# See the License for the specific language governing permissions and# limitations under the License.# Configuration to deploy release version of the Dashboard UI compatible with# Kubernetes 1.6 (RBAC enabled).## Example usage: kubectl create -f &lt;this_file&gt;apiVersion: v1kind: ServiceAccountmetadata: labels: k8s-app: kubernetes-dashboard name: kubernetes-dashboard namespace: kube-system---apiVersion: rbac.authorization.k8s.io/v1beta1kind: ClusterRoleBindingmetadata: name: kubernetes-dashboard labels: k8s-app: kubernetes-dashboardroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-adminsubjects:- kind: ServiceAccount name: kubernetes-dashboard namespace: kube-system---kind: DeploymentapiVersion: extensions/v1beta1metadata: labels: k8s-app: kubernetes-dashboard name: kubernetes-dashboard namespace: kube-systemspec: replicas: 1 revisionHistoryLimit: 10 selector: matchLabels: k8s-app: kubernetes-dashboard template: metadata: labels: k8s-app: kubernetes-dashboard spec: containers: - name: kubernetes-dashboard image: gcr.io/google_containers/kubernetes-dashboard-amd64:v1.6.3 ports: - containerPort: 9090 protocol: TCP args: # Uncomment the following line to manually specify Kubernetes API server Host # If not specified, Dashboard will attempt to auto discover the API server and connect # to it. Uncomment only if the default does not work. # - --apiserver-host=http://my-address:port livenessProbe: httpGet: path: / port: 9090 initialDelaySeconds: 30 timeoutSeconds: 30 serviceAccountName: kubernetes-dashboard # Comment the following tolerations if Dashboard must not be deployed on master tolerations: - key: node-role.kubernetes.io/master effect: NoSchedule---kind: ServiceapiVersion: v1metadata: labels: k8s-app: kubernetes-dashboard name: kubernetes-dashboard namespace: kube-systemspec: type: NodePort ports: - port: 80 targetPort: 9090 nodePort: 31001 selector: k8s-app: kubernetes-dashboard &#x542F;&#x52A8;12345kubectl create -f kubernetes-dashboard.yamlhttps://github.com/kubernetes/heapster/blob/master/deploy/kube-config/rbac/heapster-rbac.yamlhttps://github.com/kubernetes/heapster/tree/master/deploy/kube-config/influxdbkubectl create -f deploy/kube-config/influxdb Kubernetes 1.6&#x5F00;&#x59CB;API Server&#x542F;&#x7528;&#x4E86;RBAC&#x6388;&#x6743;&#xFF0C;kubernetes-dashboard.yaml&#x4E2D;&#x5E76;&#x672A;&#x5B9A;&#x4E49;&#x9700;&#x8981;&#x6388;&#x6743;&#x7684;ServiceAccount&#xFF0C;&#x5982;&#x679C;&#x8BBF;&#x95EE;Dashborad&#xFF1A;http://ClusterIP:NodePort&#x4F1A;&#x88AB;&#x62D2;&#x7EDD;&#x3002; ServiceAccount&#x7684;&#x914D;&#x7F6E;&#x4EE5;&#x540E;&#x518D;&#x8BF4;&#xFF0C;&#x76EE;&#x524D;&#x8FD8;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x6CA1;&#x6709;&#x89E3;&#x51B3; &#x4F7F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x90E8;&#x7F72;k8setcd&#x96C6;&#x7FA4;&#x5B89;&#x88C5; &#x672C;&#x6587;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x914D;&#x7F6E;&#x7684;&#x65B9;&#x5F0F;&#x642D;&#x5EFA;&#xFF0C;&#x8BE6;&#x7EC6;&#x64CD;&#x4F5C;&#x4EE5;&#x53CA;&#x4ECB;&#x7ECD;&#x8BF7;&#x79FB;&#x6B65; etcd-cluster &#x90E8;&#x7F72; &#x5B89;&#x88C5;etcd123456789ETCD_VER=&quot;v3.2.4&quot;DOWNLOAD_URL=&quot;https://github.com/coreos/etcd/releases/download&quot;LOCAL_DIR=&quot;/data/soft&quot;mkdir ${LOCAL_DIR}curl -L ${DOWNLOAD_URL}/${ETCD_VER}/etcd-${ETCD_VER}-linux-amd64.tar.gz -o ${LOCAL_DIR}/etcd-${ETCD_VER}-linux-amd64.tar.gzmkdir -p ${LOCAL_DIR}/etcd &amp;&amp; tar xzvf ${LOCAL_DIR}/etcd-${ETCD_VER}-linux-amd64.tar.gz -C ${LOCAL_DIR}/etcd --strip-components=1cd ${LOCAL_DIR}/etcd/ &amp;&amp; cp etcd etcdctl /usr/local/binetcd -version &#x9759;&#x6001;&#x914D;&#x7F6E;&#x9759;&#x6001;&#x914D;&#x7F6E;&#x4E3B;&#x8981;&#x9884;&#x5148;&#x5C06;&#x96C6;&#x7FA4;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x5206;&#x914D;&#x597D;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x96C6;&#x7FA4;&#x5206;&#x5E03;&#x542F;&#x52A8;&#xFF0C;&#x96C6;&#x7FA4;&#x5C06;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x7EC4;&#x6210;&#x96C6;&#x7FA4;&#x3002;&#x8FD9;&#x91CC;&#x6309;&#x5982;&#x4E0B;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x5206;&#x522B;&#x542F;&#x52A8;&#x4E09;&#x4E2A;etcd&#x3002; 12345678910111213141516171819202122232425262728293031mkdir /data/bin -p &amp;&amp; cd /data/bin &amp;&amp; touch etcd.sh# &#x57FA;&#x672C;&#x914D;&#x7F6E; &#x5728;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x8981;&#x6DFB;&#x52A0;NAME_1=infra1NAME_2=infra2NAME_3=infra3HOST_1=172.16.1.16HOST_2=172.16.1.17HOST_3=172.16.1.13ETCD_DATA_DIR=&quot;/data/infra.etcd/&quot;# &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x8282;&#x70B9;&#x4FEE;&#x6539;# ETCD_NAME=&quot;${NAME_1}&quot;# ETCD_IP=&quot;${HOST_1}&quot;ETCD_LISTEN_PEER_URLS=&quot;http://${ETCD_IP}:2380&quot;ETCD_LISTEN_CLIENT_URLS=&quot;http://${ETCD_IP}:2379,http://127.0.0.1:2379&quot;ETCD_INITIAL_ADVERTISE_PEER_URLS=&quot;http://${ETCD_IP}&quot;:2380ETCD_INITIAL_CLUSTER=${NAME_1}=http://${HOST_1}:2380,${NAME_2}=http://${HOST_2}:2380,${NAME_3}=http://${HOST_3}:2380ETCD_INITIAL_CLUSTER_STATE=&quot;new&quot;ETCD_INITIAL_CLUSTER_TOKEN=&quot;etcd-cluster-test&quot;ETCD_ADVERTISE_CLIENT_URLS=&quot;http://${ETCD_IP}:2379&quot;pkill etcdetcd --name ${ETCD_NAME} --data-dir ${ETCD_DATA_DIR} \ --listen-peer-urls ${ETCD_LISTEN_PEER_URLS} \ --listen-client-urls ${ETCD_LISTEN_CLIENT_URLS} \ --initial-advertise-peer-urls ${ETCD_INITIAL_ADVERTISE_PEER_URLS} \ --advertise-client-urls ${ETCD_ADVERTISE_CLIENT_URLS} \ --initial-cluster ${ETCD_INITIAL_CLUSTER} \ --initial-cluster-state ${ETCD_INITIAL_CLUSTER_STATE} \ --initial-cluster-token ${ETCD_INITIAL_CLUSTER_TOKEN} &#x914D;&#x7F6E;supervisor &#x8BE6;&#x60C5;&#x8BF7;&#x79FB;&#x6B65; etcd-cluster &#x90E8;&#x7F72; 123456789101112131415161718192021222324252627282930313233343536373839404142mkdir -p /etc/supervisor/conf.d/mkdir -p /data/logs/supervisor/vim /etc/supervisor/supervisord.conf[unix_http_server]file=/var/run/supervisor.sock ; (the path to the socket file)chmod=0700 ; sockef file mode (default 0700)[supervisord]logfile=/data/logs/supervisor/supervisord.log ; (main log file;default $CWD/supervisord.log)pidfile=/var/run/supervisord.pid ; (supervisord pidfile;default supervisord.pid)childlogdir=/data/logs/supervisor ; (&apos;AUTO&apos; child log dir, default $TEMP)logfile_maxbytes=50MB ; (max main logfile bytes b4 rotation;default 50MB)logfile_backups=10 ; (num of main logfile rotation backups;default 10)loglevel=info ; (log level;default info; others: debug,warn,trace)nodaemon=false ; (start in foreground if true;default false)minfds=1024 ; (min. avail startup file descriptors;default 1024)[rpcinterface:supervisor]supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface[supervisorctl]serverurl=unix:///var/run/supervisor.sock ; use a unix:// URL for a unix socket[include]files = /etc/supervisor/conf.d/*.conf#########################################vim /etc/supervisor/conf.d/etcd.conf[program:etcd]directory = /data/bin/command = /bin/sh etcd.shuser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/etcd.logstderr_logfile = /data/logs/supervisor/etcd_err.logsupervisord -c /etc/supervisor/supervisord.conf &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E; &#x672C;&#x6587;&#x6700;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x7684;&#x662F;etcd2&#x63A5;&#x53E3;&#xFF0C;&#x76EE;&#x524D;etcd3&#x63A5;&#x53E3;&#x53D8;&#x5316;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#x73B0;&#x5728;&#x76F4;&#x63A5;&#x91CD;&#x65B0;&#x6309;&#x7167;etcd3&#x7684;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x914D;&#x7F6E; 1234567891011cd /data/bin &amp;&amp; vim etcd.env#export ETCDCTL_API=3export ETCDCTL_API=2export HOST_1=172.16.1.16export HOST_2=172.16.1.17export HOST_3=172.16.1.13export ENDPOINTS=http://$HOST_1:2379,http://$HOST_2:2379,http://$HOST_3:2379alias etcdctl=&apos;etcdctl --endpoints=$ENDPOINTS&apos;source /data/bin/etcd.env &#x96C6;&#x7FA4;&#x9A8C;&#x8BC1;&#x6309;&#x5982;&#x4E0A;&#x914D;&#x7F6E;&#x5206;&#x522B;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#xFF0C;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#x540E;&#xFF0C;&#x5C06;&#x4F1A;&#x8FDB;&#x5165;&#x96C6;&#x7FA4;&#x9009;&#x4E3E;&#x72B6;&#x6001;&#xFF0C;&#x82E5;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x8D85;&#x65F6;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x4E3B;&#x673A;&#x7684;&#x9632;&#x706B;&#x5899;&#x662F;&#x5426;&#x5173;&#x95ED;&#xFF0C;&#x6216;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x662F;&#x5426;&#x80FD;&#x901A;&#x8FC7;2380&#x7AEF;&#x53E3;&#x901A;&#x4FE1;&#xFF0C;&#x96C6;&#x7FA4;&#x5EFA;&#x7ACB;&#x540E;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x68C0;&#x67E5;&#x96C6;&#x7FA4;&#x72B6;&#x6001;&#x3002; 123456789101112131415etcdctl member list -w table+------------------+---------+--------+-------------------------+-------------------------+| ID | STATUS | NAME | PEER ADDRS | CLIENT ADDRS |+------------------+---------+--------+-------------------------+-------------------------+| cd1adc80e78ec1cf | started | infra3 | http://172.16.1.13:2380 | http://172.16.1.13:2379 || e74b186f7d620f76 | started | infra2 | http://172.16.1.17:2380 | http://172.16.1.17:2379 || ea91822d14c58cfb | started | infra1 | http://172.16.1.16:2380 | http://172.16.1.16:2379 |+------------------+---------+--------+-------------------------+-------------------------+etcdctl cluster-healthetcdctl endpoint health172.16.1.13:2379 is healthy: successfully committed proposal: took = 1.683776ms172.16.1.17:2379 is healthy: successfully committed proposal: took = 2.115015ms172.16.1.16:2379 is healthy: successfully committed proposal: took = 2.494229ms &#x5728;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x6267;&#x884C; 12345678# api2etcdctl mkdir /k8s/networketcdctl set /k8s/network/config &apos;{&quot;network&quot;:&quot;172.100.0.0/16&quot;}&apos;{&quot;network&quot;:&quot;172.100.0.0/16&quot;}# api3etcdctl put /k8s/network/config &apos;{&quot;network&quot;:&quot;172.100.0.0/16&quot;}&apos;OK &#x5176;&#x4ED6;&#x8282;&#x70B9;&#x6267;&#x884C;&#x6709;&#x6B63;&#x5E38;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x8BF4;&#x660E;&#x96C6;&#x7FA4;&#x642D;&#x5EFA;&#x6210;&#x529F; 123etcdctl get /k8s/network/config/k8s/network/config{&quot;network&quot;:&quot;172.100.0.0/16&quot;} &#x8BE5;&#x547D;&#x4EE4;&#x542B;&#x4E49;&#x662F;&#xFF0C;&#x671F;&#x671B;docker&#x8FD0;&#x884C;&#x7684;container&#x5B9E;&#x4F8B;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x90FD;&#x5728; 172.100.0.0/16&#x7F51;&#x6BB5;&#x4E2D; flanneld&#x4F1A;&#x8BFB;&#x53D6;/k8s/network&#x76EE;&#x5F55;&#x4E2D;config&#x503C;&#xFF0C;&#x7136;&#x540E;&#x63A5;&#x7BA1;docker&#x7684;&#x5730;&#x5740;&#x5206;&#x914D;&#xFF0C;&#x5E76;&#x628A;docker&#x548C;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x7F51;&#x7EDC;&#x6865;&#x63A5;&#x8D77;&#x6765;&#x3002; flannel&#x5B89;&#x88C5;flannel1234567FLANNEL_VERSION=&quot;v0.8.0&quot;LOCAL_DIR=&quot;/data/soft&quot;FLANNEL_URL=&quot;https://github.com/coreos/flannel/releases/download&quot;mkdir ${LOCAL_DIR}cd ${LOCAL_DIR} &amp;&amp; wget ${FLANNEL_URL}/${FLANNEL_VERSION}/flannel-${FLANNEL_VERSION}-linux-amd64.tar.gztar xvf flannel-${FLANNEL_VERSION}-linux-amd64.tar.gzcp flanneld /usr/local/bin &amp;&amp; flanneld -version &#x542F;&#x52A8;flannel1234567891011cd /data/bin &amp;&amp; touch flanneld.shHOST_1=172.16.1.16HOST_2=172.16.1.17HOST_3=172.16.1.13ENDPOINTS=http://$HOST_1:2379,http://$HOST_2:2379,http://$HOST_3:2379pkill flanneldflanneld \ -etcd-endpoints=${ENDPOINTS} \ -etcd-prefix=/k8s/network supervisor1234567891011121314vim /etc/supervisor/conf.d/flanneld.conf[program:flanneld]directory = /data/bin/command = /bin/sh flanneld.shuser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/flanneld.logstderr_logfile = /data/logs/supervisor/flanneld_err.logsupervisorctl updatesupervisorctl statusetcd RUNNING pid 30867, uptime 0:34:13flanneld RUNNING pid 41079, uptime 0:00:25 docker&#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829303132333435363738394041source /run/flannel/subnet.envcat &lt;&lt;E0F&gt; /etc/docker/daemon.json{ &quot;max-concurrent-downloads&quot;: 3, &quot;max-concurrent-uploads&quot;: 3, &quot;disable-legacy-registry&quot;: true, &quot;insecure-registries&quot;: [ &quot;http://r.isme.pub&quot; ], &quot;registry-mirrors&quot;: [ &quot;https://uss7pbj4.mirror.aliyuncs.com&quot; ], &quot;log-driver&quot;: &quot;json-file&quot;, &quot;log-opts&quot;: { &quot;labels&quot;: &quot;io.cass.isme.pub,log.ignore&quot;, &quot;max-size&quot;: &quot;1g&quot;, &quot;max-file&quot;: &quot;10&quot; }, &quot;graph&quot;: &quot;/data/docker&quot;, &quot;storage-driver&quot;: &quot;overlay&quot;, &quot;bip&quot;: &quot;${FLANNEL_SUBNET}&quot;, &quot;mtu&quot;: ${FLANNEL_MTU}, &quot;hosts&quot;: [ &quot;tcp://127.0.0.1:4243&quot;, &quot;unix:///var/run/docker.sock&quot; ]}E0Frc=0ip link show docker0 &gt;/dev/null 2&gt;&amp;1 || rc=&quot;$?&quot;if [[ &quot;$rc&quot; -eq &quot;0&quot; ]]; thenip link set dev docker0 downip link delete docker0fisystemctl daemon-reloadsystemctl enable dockersystemctl restart docker &#x5B89;&#x88C5;k8s12345678910KUB_VERSION=&quot;v1.7.2&quot;LOCAL_DIR=&quot;/data/soft&quot;K8S_URL=&quot;https://github.com/kubernetes/kubernetes/releases/download&quot;mkdir ${LOCAL_DIR}cd ${LOCAL_DIR} &amp;&amp; wget ${K8S_URL}/${KUB_VERSION}/kubernetes.tar.gztar xvf kubernetes.tar.gz &amp;&amp; cd kubernetes/cluster./get-kube-binaries.shcd ../server/ &amp;&amp; tar xvf kubernetes-server-linux-amd64.tar.gzcd kubernetes/server/bincp kube-apiserver kube-controller-manager kube-proxy kube-scheduler /usr/local/bin/ &#x542F;&#x52A8;k8s&#x96C6;&#x7FA4;Master123456789101112131415161718192021222324252627282930313233343536373839mkdir /data/logs/k8s/{apiserver,controller-manager,scheduler} -pcd /data/bin &amp;&amp; touch kube.env kube-api.sh kube-con.sh kube-sche.shHOST_1=172.16.1.16HOST_2=172.16.1.17HOST_3=172.16.1.13ENDPOINTS=http://$HOST_1:2379,http://$HOST_2:2379,http://$HOST_3:2379LOG_DIR=&quot;/data/logs/k8s&quot;source /data/bin/kube.envTHIS_IP=${HOST_1}pkill kube-apiserverkube-apiserver \ --insecure-bind-address=0.0.0.0 \ --insecure-port=8080 \ --etcd_servers=${ENDPOINTS} \ --logtostderr=false \ --allow-privileged=false \ --admission-control=NamespaceLifecycle,LimitRanger,ServiceAccount,SecurityContextDeny,ResourceQuota \ --service-node-port-range=30000-32767 \ --advertise-address=${THIS_IP} \ --log_dir=${LOG_DIR}/apiserver \ --service-cluster-ip-range=172.100.0.0/16source /data/bin/kube.envTHIS_IP=${HOST_1}pkill kube-controller-managerkube-controller-manager \ --master=${THIS_IP}:8080 \ --enable-hostpath-provisioner=false \ --logtostderr=false \ --log_dir=${LOG_DIR}/controller-managersource /data/bin/kube.envTHIS_IP=${HOST_1}pkill kube-schedulerkube-scheduler --master=${THIS_IP}:8080 \ --logtostderr=false \ --log_dir=${LOG_DIR}/scheduler master-supervisor12345678910111213141516171819202122232425262728293031323334353637383940414243cd /etc/supervisor/conf.d/ &amp;&amp; touch kube-api.conf kube-con.conf kube-sche.confvim kube-api.conf[program:kube-api]directory = /data/bin/command = /bin/sh kube-api.shuser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/kube-api.logstderr_logfile = /data/logs/supervisor/kube-api_err.logvim kube-con.conf[program:kube-con]directory = /data/bin/command = /bin/sh kube-con.shuser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/kube-con.logstderr_logfile = /data/logs/supervisor/kube-con_err.logvim kube-sche.conf[program:kube-sche]directory = /data/bin/command = /bin/sh kube-sche.shuser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/kube-sche.logstderr_logfile = /data/logs/supervisor/kube-sche_err.logsupervisorctl updatekube-api: added process groupkube-con: added process groupkube-sche: added process groupsupervisorctl statusetcd RUNNING pid 30867, uptime 2:11:59flanneld RUNNING pid 41079, uptime 1:38:11kube-api RUNNING pid 41543, uptime 0:00:04kube-con RUNNING pid 41544, uptime 0:00:04kube-sche RUNNING pid 41547, uptime 0:00:04 node1234567891011121314151617181920212223242526mkdir /data/logs/k8s/{kubelet,proxy} -pcd /data/bin &amp;&amp; touch kube.env kubelet.sh kube-proxy.shHOST_1=172.16.1.16HOST_2=172.16.1.17HOST_3=172.16.1.13MASTER=${HOST_1}THIS_IP=${HOST_2}LOG_DIR=&quot;/data/logs/k8s&quot;source /data/bin/kube.envpkill kubeletkubelet \ --address=0.0.0.0 \ --port=10250 \ --log_dir=${LOG_DIR}/kubelet \ --hostname_override=${THIS_IP} \ --api_servers=http://${MASTER}:8080 \ --logtostderr=falsesource /data/bin/kube.envpkill kube-proxykube-proxy \ --master=${MASTER}:8080 \ --logtostderr=false node-supervisor1234567891011121314151617181920212223242526272829303132cd /etc/supervisor/conf.d/ &amp;&amp; touch kubelet.conf kube-proxy.confvim kubelet.conf[program:kubelet]directory = /data/bin/command = /bin/sh kubelet.shuser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/kubelet.logstderr_logfile = /data/logs/supervisor/kubelet_err.logvim kube-proxy.conf[program:kube-proxy]directory = /data/bin/command = /bin/sh kube-proxy.shuser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/kube-proxy.logstderr_logfile = /data/logs/supervisor/kube-proxy_err.logsupervisorctl updatekube-proxy: added process groupkubelet: added process groupsupervisorctl statusetcd RUNNING pid 30890, uptime 2:25:32flanneld RUNNING pid 41025, uptime 1:56:50kube-proxy RUNNING pid 41805, uptime 0:01:34kubelet RUNNING pid 41742, uptime 0:01:38 &#x914D;&#x7F6E;skydns1etcdctl mk /skydns/config &apos;{&quot;dns-addr&quot;:&quot;172.100.81.2:53&quot;,&quot;ttl&quot;:3600,&quot;domain&quot;:&quot;sky.&quot;}&apos;]]></content>
      <categories>
        <category>docker</category>
        <category>k8s</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>k8s</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sftp安装配置]]></title>
    <url>%2F2016%2F11%2F21%2Fsftp-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;sftp &#x642D;&#x5EFA;&#xFF0C;&#x7981;&#x6B62;sftp&#x7528;&#x6237;ssh&#x767B;&#x9646;&#x5E76;&#x505A;&#x597D;chroot &#x914D;&#x7F6E;123456789101112131415161718192021222324252627282930313233Allow SFTP and chroot, but deny SSH.export SFTP_GROUP=&quot;sftp&quot;export SFTP_USER=&quot;httx_upload_user&quot;export BASE_DIR=&quot;/data/sftp&quot;mkdir ${BASE_DIR}groupadd ${SFTP_GROUP}useradd -g ${SFTP_GROUP} \-s /sbin/nologin \-d ${BASE_DIR}/${SFTP_USER} \${SFTP_USER}mkpasswd -l 15passwd ${SFTP_USER}mkdir ${BASE_DIR}/${SFTP_USER}/.sshchmod 755 ${BASE_DIR}/${SFTP_USER}chmod 700 ${BASE_DIR}/${SFTP_USER}/.sshchown root:${SFTP_GROUP} ${BASE_DIR}/${SFTP_USER}chown ${SFTP_USER}:${SFTP_GROUP} ${BASE_DIR}/${SFTP_USER}/.sshvi /etc/ssh/sshd_configSubsystem sftp internal-sftpMatch group sftpChrootDirectory /data/sftp/%uX11Forwarding noAllowTcpForwarding noForceCommand internal-sftpservice sshd restart]]></content>
      <categories>
        <category>linux</category>
        <category>sftp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>sftp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker安装学习记录]]></title>
    <url>%2F2016%2F11%2F21%2Flearn-docker-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x6211;&#x5728;&#x5B66;&#x4E60;docker&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x8BB0;&#x5F55;&#x7684;&#xFF0C;&#x4EC5;&#x4F9B;&#x53C2;&#x8003; &#x672C;&#x6587;&#x540E;&#x9762;&#x5927;&#x90E8;&#x5206;&#x5B9E;&#x4F8B;&#x90FD;&#x662F;&#x53D6;&#x81EA;&#x300A;&#x7B2C;&#x4E00;&#x672C;docker&#x4E66;&#x300B;&#xFF0C;&#x5185;&#x5BB9;&#x5DF2;&#x7ECF;&#x5F88;&#x8001;&#x4E86;&#xFF0C;&#x6BD4;&#x8F83;&#x9648;&#x65E7;&#xFF0C;&#x53C2;&#x8003;&#x4E00;&#x4E0B;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x53BB;&#x81EA;&#x5DF1;&#x8BD5;&#x9A8C;&#x4E86;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x6709;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x8BB0;&#x5F55;&#x65E5;&#x5E38;&#x8BD5;&#x9A8C;&#x7684;&#x8FC7;&#x7A0B;&#x3002; &#x672C;&#x6587;&#x4E3B;&#x8981;docker&#x73AF;&#x5883;&#x4E3A; ubuntu 16.04.1&#x3002; docker&#x7684;&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;ubuntu&#x5B89;&#x88C5;&#x542F;&#x52A8;&#x9879;&#x7BA1;&#x7406;&#x5DE5;&#x5177;1apt-get install sysv-rc-conf &#x5B89;&#x88C5;docker12345678910apt update &amp;&amp; apt upgrade -yapt install -y curl&#x4F7F;&#x7528;docker&#x5B98;&#x65B9;&#x811A;&#x672C;&#x5B89;&#x88C5;curl -sSL https://get.docker.com | sh -curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun&#x4F7F;&#x7528;&#x963F;&#x91CC;&#x4E91;&#x6E90;&#x811A;&#x672C;&#x5B89;&#x88C5;curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh - &#x624B;&#x52A8;&#x5B89;&#x88C5;ubuntu 123456789101112131415161718# step 1: &#x5B89;&#x88C5;&#x5FC5;&#x8981;&#x7684;&#x4E00;&#x4E9B;&#x7CFB;&#x7EDF;&#x5DE5;&#x5177;sudo apt-get updatesudo apt-get -y install apt-transport-https ca-certificates curl software-properties-common# step 2: &#x5B89;&#x88C5;GPG&#x8BC1;&#x4E66;curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -# Step 3: &#x5199;&#x5165;&#x8F6F;&#x4EF6;&#x6E90;&#x4FE1;&#x606F;sudo add-apt-repository &quot;deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable&quot;# Step 4: &#x66F4;&#x65B0;&#x5E76;&#x5B89;&#x88C5; Docker-CEsudo apt-get -y updatesudo apt-get -y install docker-ce# &#x5B89;&#x88C5;&#x6307;&#x5B9A;&#x7248;&#x672C;&#x7684;Docker-CE:# Step 1: &#x67E5;&#x627E;Docker-CE&#x7684;&#x7248;&#x672C;:# apt-cache madison docker-ce# docker-ce | 17.03.1~ce-0~ubuntu-xenial | http://mirrors.aliyun.com/docker-ce/linux/ubuntu xenial/stable amd64 Packages# docker-ce | 17.03.0~ce-0~ubuntu-xenial | http://mirrors.aliyun.com/docker-ce/linux/ubuntu xenial/stable amd64 Packages# Step 2: &#x5B89;&#x88C5;&#x6307;&#x5B9A;&#x7248;&#x672C;&#x7684;Docker-CE: (VERSION &#x4F8B;&#x5982;&#x4E0A;&#x9762;&#x7684; 17.03.1~ce-0~ubuntu-xenial)# sudo apt-get -y install docker-ce=[VERSION] centos 1234567891011121314151617181920212223242526# step 1: &#x5B89;&#x88C5;&#x5FC5;&#x8981;&#x7684;&#x4E00;&#x4E9B;&#x7CFB;&#x7EDF;&#x5DE5;&#x5177;sudo yum install -y yum-utils device-mapper-persistent-data lvm2# Step 2: &#x6DFB;&#x52A0;&#x8F6F;&#x4EF6;&#x6E90;&#x4FE1;&#x606F;sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo# Step 3: &#x66F4;&#x65B0;&#x5E76;&#x5B89;&#x88C5; Docker-CEsudo yum makecache fastsudo yum -y install docker-ce# Step 4: &#x5F00;&#x542F;Docker&#x670D;&#x52A1;sudo service docker start# &#x6CE8;&#x610F;&#xFF1A;# &#x5B98;&#x65B9;&#x8F6F;&#x4EF6;&#x6E90;&#x9ED8;&#x8BA4;&#x542F;&#x7528;&#x4E86;&#x6700;&#x65B0;&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F16;&#x8F91;&#x8F6F;&#x4EF6;&#x6E90;&#x7684;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x5404;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x3002;&#x4F8B;&#x5982;&#x5B98;&#x65B9;&#x5E76;&#x6CA1;&#x6709;&#x5C06;&#x6D4B;&#x8BD5;&#x7248;&#x672C;&#x7684;&#x8F6F;&#x4EF6;&#x6E90;&#x7F6E;&#x4E3A;&#x53EF;&#x7528;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x65B9;&#x5F0F;&#x5F00;&#x542F;&#x3002;&#x540C;&#x7406;&#x53EF;&#x4EE5;&#x5F00;&#x542F;&#x5404;&#x79CD;&#x6D4B;&#x8BD5;&#x7248;&#x672C;&#x7B49;&#x3002;# vim /etc/yum.repos.d/docker-ce.repo# &#x5C06; [docker-ce-test] &#x4E0B;&#x65B9;&#x7684; enabled=0 &#x4FEE;&#x6539;&#x4E3A; enabled=1## &#x5B89;&#x88C5;&#x6307;&#x5B9A;&#x7248;&#x672C;&#x7684;Docker-CE:# Step 1: &#x67E5;&#x627E;Docker-CE&#x7684;&#x7248;&#x672C;:# yum list docker-ce.x86_64 --showduplicates | sort -r# Loading mirror speeds from cached hostfile# Loaded plugins: branch, fastestmirror, langpacks# docker-ce.x86_64 17.03.1.ce-1.el7.centos docker-ce-stable# docker-ce.x86_64 17.03.1.ce-1.el7.centos @docker-ce-stable# docker-ce.x86_64 17.03.0.ce-1.el7.centos docker-ce-stable# Available Packages# Step2 : &#x5B89;&#x88C5;&#x6307;&#x5B9A;&#x7248;&#x672C;&#x7684;Docker-CE: (VERSION &#x4F8B;&#x5982;&#x4E0A;&#x9762;&#x7684; 17.03.0.ce.1-1.el7.centos)# sudo yum -y install docker-ce-[VERSION] &#x4FEE;&#x6539;ufw1234vim /etc/default/ufw #DEFAULT_FORWARD_POLICY=&quot;DROP&quot; DEFAULT_FORWARD_POLICY=&quot;ACCEPT&quot;ufw reload &#x4FEE;&#x6539;&#x542F;&#x52A8;&#x53C2;&#x6570;&#xFF08;new&#xFF09;dockerd&#x53C2;&#x6570;&#x5217;&#x8868; &#x8BBE;&#x5907;&#x9009;&#x62E9; devicemapper 12345678910111213141516171819202122&#x521B;&#x5EFA; /etc/docker/daemon.json{ &quot;max-concurrent-downloads&quot;: 3, &quot;max-concurrent-uploads&quot;: 3, &quot;disable-legacy-registry&quot;: true, &quot;insecure-registries&quot;: [ &quot;http://r.isme.pub&quot; ], &quot;registry-mirrors&quot;: [ &quot;https://uss7pbj4.mirror.aliyuncs.com&quot; ], &quot;log-driver&quot;: &quot;json-file&quot;, &quot;log-opts&quot;: { &quot;labels&quot;: &quot;io.cass.isme.pub,log.ignore&quot;, &quot;max-size&quot;: &quot;1g&quot;, &quot;max-file&quot;: &quot;100&quot; }, &quot;graph&quot;: &quot;/data/docker&quot;, &quot;storage-driver&quot;: &quot;overlay&quot;, &quot;bip&quot;: &quot;192.168.1.1/16&quot;} &#x5B8C;&#x6574;&#x914D;&#x7F6E;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667{ &quot;api-cors-header&quot;: &quot;&quot;, &quot;authorization-plugins&quot;: [], &quot;bip&quot;: &quot;&quot;, &quot;bridge&quot;: &quot;&quot;, &quot;cgroup-parent&quot;: &quot;&quot;, &quot;cluster-store&quot;: &quot;&quot;, &quot;cluster-store-opts&quot;: {}, &quot;cluster-advertise&quot;: &quot;&quot;, &quot;debug&quot;: true, &quot;default-gateway&quot;: &quot;&quot;, &quot;default-gateway-v6&quot;: &quot;&quot;, &quot;default-runtime&quot;: &quot;runc&quot;, &quot;default-ulimits&quot;: {}, &quot;disable-legacy-registry&quot;: false, &quot;dns&quot;: [], &quot;dns-opts&quot;: [], &quot;dns-search&quot;: [], &quot;exec-opts&quot;: [], &quot;exec-root&quot;: &quot;&quot;, &quot;fixed-cidr&quot;: &quot;&quot;, &quot;fixed-cidr-v6&quot;: &quot;&quot;, &quot;graph&quot;: &quot;&quot;, &quot;group&quot;: &quot;&quot;, &quot;hosts&quot;: [], &quot;icc&quot;: false, &quot;insecure-registries&quot;: [], &quot;ip&quot;: &quot;0.0.0.0&quot;, &quot;iptables&quot;: false, &quot;ipv6&quot;: false, &quot;ip-forward&quot;: false, &quot;ip-masq&quot;: false, &quot;labels&quot;: [], &quot;live-restore&quot;: true, &quot;log-driver&quot;: &quot;&quot;, &quot;log-level&quot;: &quot;&quot;, &quot;log-opts&quot;: {}, &quot;max-concurrent-downloads&quot;: 3, &quot;max-concurrent-uploads&quot;: 5, &quot;mtu&quot;: 0, &quot;oom-score-adjust&quot;: -500, &quot;pidfile&quot;: &quot;&quot;, &quot;raw-logs&quot;: false, &quot;registry-mirrors&quot;: [], &quot;runtimes&quot;: { &quot;runc&quot;: { &quot;path&quot;: &quot;runc&quot; }, &quot;custom&quot;: { &quot;path&quot;: &quot;/usr/local/bin/my-runc-replacement&quot;, &quot;runtimeArgs&quot;: [ &quot;--debug&quot; ] } }, &quot;selinux-enabled&quot;: false, &quot;storage-driver&quot;: &quot;&quot;, &quot;storage-opts&quot;: [], &quot;swarm-default-advertise-addr&quot;: &quot;&quot;, &quot;tls&quot;: true, &quot;tlscacert&quot;: &quot;&quot;, &quot;tlscert&quot;: &quot;&quot;, &quot;tlskey&quot;: &quot;&quot;, &quot;tlsverify&quot;: true, &quot;userland-proxy&quot;: false, &quot;userns-remap&quot;: &quot;&quot;} &#x4FEE;&#x6539;&#x542F;&#x52A8;&#x53C2;&#x6570;&#xFF08;old&#xFF09;12345678910111213vim /etc/default/dockerDOCKER_OPTS=&quot;--graph=/data/docker --insecure-registry r.isme.pub -H tcp://0.0.0.0:4273 -H unix:///var/run/docker.sock&quot;--graph=/data/docker &#x4FEE;&#x6539;docker&#x9ED8;&#x8BA4;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;--insecure-registry r.isme.pub &#x6DFB;&#x52A0;docker&#x4FE1;&#x4EFB;registry-H tcp://0.0.0.0:4273 &#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x76D1;&#x542C;&#x5730;&#x5740;-H unix:///var/run/docker.sock &#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x76D1;&#x542C;&#x5730;&#x5740;&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;# &#x53D6;&#x6D88;docker daemon&#x65E5;&#x5FD7;&#x6253;&#x5230;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;vim /etc/systemd/journald.conf#ForwardToSyslog=yesForwardToSyslog=no systemd&#x914D;&#x7F6E;&#x5982;&#x679C;&#x662F;init&#x7BA1;&#x7406;&#x8FDB;&#x7A0B;&#x5219;&#x4E0D;&#x7528;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4; &#x5982;&#x679C;&#x662F;systemd&#x7BA1;&#x7406;&#x8FDB;&#x7A0B;&#x8981;&#x505A;&#x4EE5;&#x4E0B;&#x4FEE;&#x6539; 1234567891011vim /lib/systemd/system/docker.service# &#x6DFB;&#x52A0;&#x4E0B;&#x9762;EnvironmentFile=-/etc/default/docker#&#x7136;&#x540E;&#xFF0C;&#x4FEE;&#x6539;:ExecStart=/usr/bin/docker -d -H fd://&#x6539;&#x6210;: ExecStart=/usr/bin/docker -d -H fd:// $DOCKER_OPTSsystemctl daemon-reload/etc/init.d/docker restart centos7&#x51C6;&#x5907;&#x5E72;&#x51C0;&#x7684; CentOS 7&#xFF08;Kernel &gt; 3.10&#xFF09;&#x73AF;&#x5883; &#x5B89;&#x88C5;12yum -y updateyum -y install lvm2 Kernel &#x9700;&#x8981;&#x4F7F;&#x7528; 3.10.0-514.6.1.el7.x86_64 &#x4EE5;&#x4E0A; &#x5F53;&#x524D;&#x7A33;&#x5B9A;&#x7248;&#x672C; 1.13.0 12345678910111213export YUM_URL=&quot;http://mirrors.aliyun.com/docker-engine/yum&quot;cat &gt; /etc/yum.repos.d/docker-main.repo &lt;&lt;-EOF[docker-main-repo]name=Docker main Repositorybaseurl=${YUM_URL}/repo/main/centos/7enabled=1gpgcheck=1gpgkey=${YUM_URL}/gpgEOFyum install docker-engine-1.13.0# yum downgrade docker-engine-1.13.0 &#x914D;&#x7F6E; firewalld41234567891011121314151617# &#x5173;&#x95ED; Dockerservice docker stop# &#x5173;&#x95ED; NetworkManagerservice NetworkManager stop # &#x68C0;&#x67E5; docker0firewall-cmd --permanent --zone=trusted --change-interface=docker0# &#x542F;&#x52A8; NetworkManagerservice NetworkManager start# &#x8BBE;&#x7F6E; docker0 trustednmcli connection modify docker0 connection.zone trusted# &#x542F;&#x52A8; Dockerservice docker start &#x914D;&#x7F6E; LVM123456789101112131415161718192021222324252627282930313233Docker Storage Driver 23export DEVICE_NAME=/dev/xvdbexport VG_NAME=dockermkfs.ext4 ${DEVICE_NAME}pvcreate ${DEVICE_NAME}vgcreate ${VG_NAME} ${DEVICE_NAME}echo &quot;activation { thin_pool_autoextend_threshold=80 thin_pool_autoextend_percent=20}&quot; &gt; /etc/lvm/profile/docker-thinpool.profile lvcreate -y --wipesignatures y -n thinpool ${VG_NAME} -l 38%VG lvcreate -y --wipesignatures y -n thinpoolmeta ${VG_NAME} -l 1%VGlvconvert -y --zero n -c 512K --thinpool ${VG_NAME}/thinpool --poolmetadata ${VG_NAME}/thinpoolmetalvchange -y --metadataprofile docker-thinpool ${VG_NAME}/thinpoollvcreate -y --wipesignatures y -n bootstrap ${VG_NAME} -l 40%VGlvcreate -y --wipesignatures y -n data ${VG_NAME} -l 20%VGmkfs.ext4 /dev/mapper/docker-datamount /dev/mapper/docker-data /datamkfs.ext4 /dev/mapper/docker-bootstrapmount /dev/mapper/docker-bootstrap /var/lib/dockerecho -e &quot;/dev/mapper/docker-data /data ext4 defaults 0 0&quot; &gt;&gt; /etc/fstabecho -e &quot;/dev/mapper/docker-bootstrap /var/lib/docker ext4 defaults 0 0&quot; &gt;&gt; /etc/fstab&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4E3A; /var/lib/docker &#x521B;&#x5EFA; data &#x903B;&#x8F91;&#x5377;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x7F6E; Docker&#xFF0C;&#x4E14;&#xFF0C;&#x91CD;&#x65B0;&#x751F;&#x6210; thinpool&#xFF0C;&#x4E00;&#x4E2A; thinpool &#x53EA;&#x80FD;&#x88AB;&#x4E00;&#x4E2A; docker daemon &#x4F7F;&#x7528;&#x3002; &#x914D;&#x7F6E; Dockerdockerd&#x53C2;&#x6570;&#x5217;&#x8868; 1234567891011121314151617181920212223&#x521B;&#x5EFA; /etc/docker/daemon.json{ &quot;max-concurrent-downloads&quot;: 3, &quot;max-concurrent-uploads&quot;: 3, &quot;disable-legacy-registry&quot;: true, &quot;registry-mirrors&quot;: [ &quot;https://wlzfs4t4.mirror.aliyuncs.com&quot; ], &quot;log-driver&quot;: &quot;json-file&quot;, &quot;log-opts&quot;: { &quot;labels&quot;: &quot;io.cass.isme.pub,log.ignore&quot;, &quot;max-size&quot;: &quot;1g&quot;, &quot;max-file&quot;: &quot;10&quot; }, &quot;storage-driver&quot;: &quot;overlay&quot;, &quot;storage-opts&quot;: [ &quot;dm.thinpooldev=/dev/mapper/docker-thinpool&quot;, &quot;dm.use_deferred_removal=true&quot;, &quot;dm.use_deferred_deletion=true&quot; ], &quot;bip&quot;: &quot;192.168.1.1/16&quot;} Docker &#x7BA1;&#x7406;12345678systemctl enable dockersystemctl disable dockersystemctl daemon-reloadsystemctl start dockersystemctl stop dockersystemctl restart docker docker &#x5B88;&#x62A4;&#x8FDB;&#x7A0B;docker&#x7684;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x4F1A;&#x76D1;&#x542C;/var/run/docker.sock&#x8FD0;&#x884C;docker&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x7528;-H&#x6307;&#x5B9A;&#x7ED1;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x4FE1;&#x606F; 1docker -d -H tcp://0.0.0.0:2375 &#x5982;&#x679C;&#x4FEE;&#x6539;&#x4E86;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x4F1A;&#x81EA;&#x884C;&#x53D8;&#x66F4;&#xFF0C;&#x9700;&#x8981; 1docker -H :2375 &#x6216;&#x8005;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;DOCKER_HOST&#x53C2;&#x6570; 1export DOCKER_HOST=&quot;tcp://0.0.0.0:2375&quot; &#x4E5F;&#x53EF;&#x4EE5;&#x7ED1;&#x5B9A;&#x591A;&#x4E2A;&#x76D1;&#x542C;&#x5730;&#x5740; 1docker -d -H tcp://0.0.0.0:2375 -H unix://home/docker/docker.sock &#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;/etc/default/docker&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6765;&#x914D;&#x7F6E; docker&#x7684;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x67E5;&#x770B;&#x57FA;&#x672C;&#x4FE1;&#x606F;1docker info &#x51FA;&#x73B0;&#x8FD9;&#x4E2A; WARNING: No swap limit support&#x89E3;&#x51B3;&#x529E;&#x6CD5; 1234vim /etc/default/grub GRUB_CMDLINE_LINUX=&quot;cgroup_enable=memory swapaccount=1&quot;update-grubreboot 123456789101112131415161718192021222324252627282930313233343536Containers: 0 Running: 0 Paused: 0 Stopped: 0Images: 0Server Version: 1.12.4Storage Driver: aufs Root Dir: /data/docker/aufs Backing Filesystem: extfs Dirs: 0 Dirperm1 Supported: trueLogging Driver: json-fileCgroup Driver: cgroupfsPlugins: Volume: local Network: host null overlay bridgeSwarm: inactiveRuntimes: runcDefault Runtime: runcSecurity Options: apparmor seccompKernel Version: 4.4.0-53-genericOperating System: Ubuntu 16.04.1 LTSOSType: linuxArchitecture: x86_64CPUs: 1Total Memory: 974.9 MiBName: cass-uID: LT5P:B6FE:VARB:NNSJ:HYGP:3AQZ:GWDT:YOHL:6WW3:TJED:JYR6:G2GTDocker Root Dir: /data/dockerDebug Mode (client): falseDebug Mode (server): falseRegistry: https://index.docker.io/v1/WARNING: No swap limit supportInsecure Registries: r.isme.pub 127.0.0.0/8 &#x8FD0;&#x884C;&#x7B2C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;1docker run -it ubuntu /bin/bash ubuntu&#x662F;&#x955C;&#x50CF;&#xFF0C;&#x5982;&#x679C;&#x672C;&#x5730;&#x6CA1;&#x6709;&#x4F1A;&#x81EA;&#x884C;&#x4E0B;&#x8F7D; 1234docker ps &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;-l &#x4E0A;&#x6B21;&#x8FD0;&#x884C;&#x7684; -a &#x6240;&#x6709;&#x7684;docker iamges &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6240;&#x6709;&#x7684;&#x666F;&#x8C61; &#x7ED9;&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;&#x547D;&#x540D; 1234docker run --name my -it ubuntu /bin/bash-i &#x8868;&#x793A;&#x5BB9;&#x5668;&#x7684;STDIN&#x662F;&#x5F00;&#x542F;&#x7684;-t &#x8868;&#x793A;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x4F2A;tty&#x7EC8;&#x7AEF; &#x4E34;&#x65F6;&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;&#x9000;&#x51FA;&#x4F1A;&#x81EA;&#x52A8;&#x5173;&#x95ED; 12docker start mydocker attach my &#x521B;&#x5EFA;&#x5B88;&#x62A4;&#x5BB9;&#x5668;123docker run --name daemon_my -d ubuntu /bin/sh -c &quot;while true;do echo hello world;sleep 1;done&quot;-d &#x8868;&#x793A;&#x540E;&#x53F0;&#x8FD0;&#x884C; &#x4E00;&#x4E9B;&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x4FE1;&#x606F;&#x7684;&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x65E5;&#x5FD7;1234docker logs -ft daemon_my-f &#x8868;&#x793A;&#x6301;&#x7EED;&#x8F93;&#x51FA; &#x7C7B;&#x4F3C; tail -f-t &#x8868;&#x793A;&#x52A0;&#x4E0A;&#x65F6;&#x95F4;&#x6233; &#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x8D44;&#x6E90;&#x4F7F;&#x7528;&#x60C5;&#x51B5;1docker stats daemon_my &#x67E5;&#x770B;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x8FDB;&#x7A0B;1docker top daemon_my &#x67E5;&#x770B;&#x955C;&#x50CF;&#x6784;&#x5EFA;&#x5386;&#x53F2;1docker history imageid &#x67E5;&#x770B;&#x955C;&#x50CF;&#x5F00;&#x653E;&#x7684;&#x7AEF;&#x53E3;1docker port sinaapp &#x542F;&#x52A8;&#x65F6;&#x8BBE;&#x5B9A;&#x4E3B;&#x673A;&#x540D;1docker run -h|--hostname xxx docker&#x955C;&#x50CF;&#x8FC1;&#x79FB;12docker save -o ooppwwqq0.sinatra.tar ooppwwqq0/sinatradocker load -i ooppwwqq0.sinatra.tar &#x5728;&#x5BB9;&#x5668;&#x5185;&#x8FD0;&#x884C;&#x8FDB;&#x7A0B;exec&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#x5185;&#x8FD0;&#x884C;&#x65B0;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF1A;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#x548C;&#x4EA4;&#x4E92;&#x4EFB;&#x52A1; 12&#x540E;&#x53F0;&#x4EFB;&#x52A1;docker exec -d daemon_my touch /root/my_file 12&#x4EA4;&#x4E92;&#x4EFB;&#x52A1;docker exec -it daemon_my /bin/bash &#x505C;&#x6B62;&#x5B88;&#x62A4;&#x5F0F;&#x5BB9;&#x5668; 1docker stop daemon_my &#x53EF;&#x4EE5;&#x7528;stop&#x5411;&#x5BB9;&#x5668;&#x53D1;&#x51FA;SIGTERM&#x4FE1;&#x53F7;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;kill&#x5411;&#x5BB9;&#x5668;&#x53D1;&#x51FA;SIGKILL&#x4FE1;&#x53F7; &#x81EA;&#x52A8;&#x91CD;&#x542F;&#x5BB9;&#x5668;12345678docker run --restart=always --name daemon_my -d ubuntu /bin/sh -c &quot;while true;do echo hello world;sleep 1;done&quot;--restart &#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x6210;always&#xFF0C;&#x53EA;&#x8981;&#x5BB9;&#x5668;&#x9000;&#x51FA;&#x4E86;&#x5C31;&#x4F1A;&#x91CD;&#x542F;&#x8FD8;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6210;on-failure&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x53EA;&#x6709;&#x9000;&#x51FA;&#x4EE3;&#x7801;&#x4E3A;&#x975E;0&#x624D;&#x4F1A;&#x91CD;&#x542F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x91CD;&#x542F;&#x6B21;&#x6570;--restart=unless-stopped--restart=on-failure&#xFF1A;5 &#x6DF1;&#x5165;&#x5BB9;&#x5668;docker ps&#x53EA;&#x80FD;&#x83B7;&#x53D6;&#x5BB9;&#x5668;&#x7684;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;inspect&#x6765;&#x83B7;&#x53D6;&#x5BB9;&#x5668;&#x7684; &#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002; 1docker inspect daemon_my &#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-f&#x6216;&#x8005;&#x2013;format &#x6765;&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x7ED3;&#x679C;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x652F;&#x6301;Go&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x677F; 1docker inspect --format=&apos;{{ .State.Running }}&apos; daemon_my &#x8FD8;&#x53EF;&#x4EE5;&#x53BB;/var/lib/docker&#x67E5;&#x770B;docker&#x7684;&#x6587;&#x4EF6;,&#x955C;&#x50CF;&#xFF0C;&#x5BB9;&#x5668;&#x90FD;&#x4FDD;&#x5B58;&#x5728;&#x8FD9;&#x91CC;&#x76EE;&#x5F55;&#x4E0B; &#x5220;&#x9664;&#x5BB9;&#x5668;1234docker rm `docker ps -aq`-a &#x663E;&#x793A;&#x6240;&#x6709;&#x5BB9;&#x5668;-q &#x53EA;&#x8FD4;&#x56DE;&#x5BB9;&#x5668;ID docker&#x955C;&#x50CF;&#x548C;&#x4ED3;&#x5E93;docker&#x955C;&#x50CF;&#x7B80;&#x4ECB;docker&#x955C;&#x50CF;&#x662F;&#x7531;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x53E0;&#x52A0;&#x800C;&#x6210;&#x7684;&#x3002;&#x6700;&#x5E95;&#x7AEF;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;bootfs&#x3002; &#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x79FB;&#x52A8;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x800C;&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x88AB;&#x5378;&#x8F7D;&#xFF0C;&#x7559;&#x51FA;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;&#x7ED9;initrd&#x78C1;&#x76D8;&#x955C;&#x50CF;&#x4F7F;&#x7528;&#x3002; &#x5B9E;&#x9645;&#x4E0A;&#xFF0C;docker&#x955C;&#x50CF;&#x7684;&#x7B2C;&#x4E8C;&#x5C42;&#x662F;root&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;rootfs&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x79CD;&#x6216;&#x8005;&#x591A;&#x79CD;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;&#x4F20;&#x7EDF;&#x7684;linux&#x7CFB;&#x7EDF;&#xFF1A;&#x5F15;&#x5BFC;&#x542F;&#x52A8;&#x65F6;&#xFF0C;rootfs&#x5148;&#x4EE5;&#x53EA;&#x8BFB;&#x7684;&#x65B9;&#x5F0F;&#x52A0;&#x8F7D;&#xFF0C;&#x5F15;&#x5BFC;&#x7ED3;&#x675F;&#x5E76;&#x4E14;&#x5B8C;&#x6210;&#x5B8C;&#x6574;&#x6027;&#x68C0;&#x67E5;&#x540E;&#x624D;&#x4F1A;&#x5207;&#x6362;&#x6210;&#x8BFB;&#x5199;&#x6A21;&#x5F0F;&#x3002;&#x800C;docker&#x7684;rootfs&#x4E00;&#x76F4;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#xFF0C;&#x5E76;&#x4E14;docker&#x5229;&#x7528;&#x8054;&#x5408;&#x52A0;&#x8F7D;&#x6280;&#x672F;&#x5728;rootfs&#x4E0A;&#x52A0;&#x8F7D;&#x66F4;&#x591A;&#x53EA;&#x8BFB;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;&#x8054;&#x5408;&#x52A0;&#x8F7D;&#x6307;&#x7684;&#x662F;&#x4E00;&#x6B21;&#x540C;&#x65F6;&#x52A0;&#x8F7D;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5916;&#x9762;&#x770B;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;&#x5B83;&#x4F1A;&#x628A;&#x5404;&#x5C42;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x53E0;&#x52A0;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x8FD9;&#x6837;&#x6700;&#x7EC8;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4F1A;&#x5305;&#x542B;&#x6240;&#x6709;&#x5E95;&#x5C42;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x3002;&#x8FD9;&#x5C31;&#x662F;docker&#x7684;&#x955C;&#x50CF;&#x3002; docker&#x7684;&#x955C;&#x50CF;&#x53EF;&#x4EE5;&#x653E;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x7684;&#x9876;&#x90E8;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x53EB;&#x7236;&#x955C;&#x50CF;&#xFF0C;&#x6700;&#x5E95;&#x90E8;&#x7684;&#x79F0;&#x4E3A;&#x57FA;&#x7840;&#x955C;&#x50CF;&#xFF0C;&#x4ECE;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;docker&#x4F1A;&#x5728;&#x8BE5;&#x955C;&#x50CF;&#x7684;&#x6700;&#x9876;&#x5C42;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;&#x8BFB;&#x5199;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x6211;&#x4EEC;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x5C31;&#x662F;&#x5728;&#x8FD9;&#x4E2A;&#x8BFB;&#x5199;&#x5C42;&#x6267;&#x884C;&#x7684;&#x3002; docker&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5199;&#x65F6;&#x590D;&#x5236;&#x673A;&#x5236;&#x3002; &#x57FA;&#x672C;&#x64CD;&#x4F5C;12345678910&#x5217;&#x51FA;&#x955C;&#x50CF;docker imagesdocker images ubuntu&#x62C9;&#x53D6;&#x955C;&#x50CF;docker pull ubuntu:16.04&#x5192;&#x53F7;&#x540E;&#x9762;&#x5199;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x52A0;&#x67E5;&#x627E;&#x955C;&#x50CF;docker search ubuntu &#x6784;&#x5EFA;&#x955C;&#x50CF;1docker commit -m=&quot;xxx&quot; --author=&quot;cass&quot; xxxxxx xx/xx:tag Dockerfile &#x548C; docker build123mkdir static_web &amp;&amp; cd static_web &amp;&amp; touch Dockerfile&#x7528;static_web&#x76EE;&#x5F55;&#x6765;&#x5B58;&#x653E;Dockerfile&#xFF0C;static_web&#x4F5C;&#x4E3A;&#x6784;&#x5EFA;&#x73AF;&#x5883;&#xFF0C;Docker&#x79F0;&#x6B64;&#x73AF;&#x5883;&#x4E3A;&#x6784;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587; 12345678910111213141516171819202122232425262728&#x7F16;&#x5199;Dockerfile vim Dockerfile # Version: 0.0.1 FROM ubuntu:16.04 MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot; RUN apt update #RUN apt installedl nginx -y RUN [&quot;apt&quot;, &quot;install&quot;, &quot;-y&quot;, &quot;nginx&quot;] RUN echo &quot;Hi, I am in your container&quot; \ &gt; /usr/share/nginx/html/index.html EXPOSE 80 # Version: 0.0.1 FROM centos:6.7 MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot; ENV REFRESHED_AT 2016-06-07 RUN [&quot;yum&quot;,&quot;install&quot;,&quot;-y&quot;,&quot;httpd&quot;] RUN echo &quot;Hi, I am in your container&quot; \ &gt; /var/www/html/index.html EXPOSE 80&#x6784;&#x5EFA;&#x955C;&#x50CF;docker build -t=&quot;ooppwwqq0/sw:v1&quot; .&#x4F7F;&#x7528;&#x65B0;&#x955C;&#x50CF;&#x542F;&#x52A8;&#x5BB9;&#x5668;docker run -d -p 8080:80 --name myweb ooppwwqq0/sa:v2 nginx -g &quot;daemon off;&quot;-p&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x5F00;&#x653E;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#xFF0C;-P&#x53EF;&#x4EE5;&#x5F00;&#x653E;&#x5BB9;&#x5668;&#x6240;&#x6709;&#x8981;&#x5F00;&#x653E;&#x7684;&#x7AEF;&#x53E3; &#x5220;&#x9664;&#x955C;&#x50CF;1docker rmi Dockerfile&#x6307;&#x4EE4;CMD12345&#x6784;&#x5EFA;&#x955C;&#x50CF;&#x540E;&#xFF0C;&#x60C5;&#x52A8;&#x5BB9;&#x5668;&#x9ED8;&#x8BA4;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x521D;&#x59CB;&#x5316;&#x73AF;&#x5883;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;run&#x7684;&#x65F6;&#x5019;&#x88AB;&#x8986;&#x76D6;CMD&#x53EA;&#x80FD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#xFF0C;&#x5982;&#x679C;&#x591A;&#x4E2A;&#xFF0C;&#x4F1A;&#x8FD0;&#x884C;&#x6700;&#x540E;&#x4E00;&#x4E2A;CMD [&quot;/bin/ps&quot;]docker run -it ooppwwqq0/sa:v2 /bin/bash ENTRYPOINT123456&#x4E0E;CMD&#x547D;&#x4EE4;&#x6709;&#x4E9B;&#x50CF;&#xFF0C;&#x4F46;&#x662F;&#x9ED8;&#x8BA4;&#x4E0D;&#x80FD;&#x88AB;&#x8986;&#x76D6;&#x4E00;&#x822C;&#x4E0E;CMD&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x914D;&#x5408;docker run &#x4F20;&#x9012;&#x53C2;&#x6570;ENTRYPOINT [&quot;/usr/sbin/nginx&quot;]CMD [&quot;-h&quot;]&#x5982;&#x679C;&#x60F3;&#x8986;&#x76D6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;--entrypoint&#x6765;&#x8986;&#x76D6; WORKDIR123456789&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5207;&#x6362;&#x76EE;&#x5F55;&#xFF0C;&#x9650;&#x5B9A;&#x4E00;&#x4E9B;&#x6307;&#x4EE4;&#x5728;&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4E3A;&#x6700;&#x7EC8;&#x7684;&#x955C;&#x50CF;&#x8BBE;&#x7F6E;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;WORKDIR /opt/webapp/dbRUN touch filenameWORKDIR /opt/webappENTRYPOINT [&quot;pwd&quot;]&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-w&#x9009;&#x9879;&#x8986;&#x76D6;docker run -it -w /data/logs ubuntu pwd ENV1234&#x53EF;&#x4EE5;&#x5728;&#x955C;&#x50CF;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x5EF6;&#x7EED;&#x5230;&#x4EE5;&#x6B64;&#x955C;&#x50CF;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;-e&#x9009;&#x9879;&#x6765;&#x4F20;&#x9012;&#x73AF;&#x5883;&#x53D8;&#x91CF;ENV WEB_PATH /home/web WORKDIR $WEB_PATH USER1234&#x6307;&#x5B9A;&#x542F;&#x52A8;&#x7684;&#x955C;&#x50CF;&#x4F7F;&#x7528;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;rootUSER user:groupUSER uid:gidUSER user:gid VOLUME12345&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x6DFB;&#x52A0;&#x5377;&#xFF0C;&#x4E00;&#x4E2A;&#x5377;&#x53EF;&#x4EE5;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x7279;&#x5B9A;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5C06;&#x6570;&#x636E;&#x6216;&#x8005;&#x4EE3;&#x7801;&#x6DFB;&#x52A0;&#x5230;&#x955C;&#x50CF;&#x4E2D;&#x800C;&#x4E0D;&#x662F;&#x63D0;&#x4EA4;&#x5230;&#x955C;&#x50CF;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x5141;&#x8BB8;&#x591A;&#x4E2A;&#x5BB9;&#x5668;&#x5171;&#x4EAB;VOLUME [&quot;/opt/project&quot;, &quot;/data&quot;]&#x524D;&#x9762;&#x7684;&#x5BBF;&#x4E3B;&#x673A;&#x5730;&#x5740;&#x6302;&#x8F7D;&#x5230;&#x540E;&#x9762;&#x5BB9;&#x5668;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x540E;&#x9762;&#x4E0D;&#x5199;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x548C;&#x524D;&#x9762;&#x4E00;&#x6837;&#x7684;&#x8DEF;&#x5F84;&#x5E76;&#x6302;&#x8F7D;-v&#x9009;&#x9879;&#x5728;run&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x6307;&#x5B9A; ADD123456&#x7528;&#x6765;&#x5C06;&#x6784;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x590D;&#x5236;&#x5230;&#x955C;&#x50CF;&#x4E2D;ADD conf.php /opt/app/conf/conf.php&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;url&#xFF0C;&#x4E0D;&#x80FD;&#x5BF9;&#x6784;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;&#x5916;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;.Docker&#x901A;&#x8FC7;&#x76EE;&#x6807;&#x5730;&#x5740;&#x7684;&#x7ED3;&#x5C3E;&#x5B57;&#x7B26;&#x5224;&#x65AD;&#x6587;&#x4EF6;&#x6E90;&#x662F;&#x6587;&#x4EF6;&#x8FD8;&#x662F;&#x76EE;&#x5F55;&#xFF0C;&#x201C;/&#x201D;&#x7ED3;&#x5C3E;&#x5219;&#x6E90;&#x662F;&#x76EE;&#x5F55;&#xFF0C;&#x5426;&#x5219;&#x8BA4;&#x4E3A;&#x662F;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x6E90;&#x6587;&#x4EF6;&#x5728;&#x672C;&#x5730;&#x662F;&#x538B;&#x7F29;&#x5305;&#xFF0C;&#x5982;gzip&#x3001;bzip2&#x3001;xz&#xFF0C;ADD&#x53EF;&#x4EE5;&#x89E3;&#x538B;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55; COPY1234COPY&#x4E0E;ADD&#x6BD4;&#x8F83;&#x50CF;&#xFF0C;&#x4F46;&#x662F;COPY&#x4E0D;&#x4F1A;&#x505A;&#x89E3;&#x538B;&#x5DE5;&#x4F5C;&#xFF0C;&#x53EA;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x62F7;&#x8D1D;&#x3002;&#x539F;&#x8DEF;&#x5F84;&#x8981;&#x5728;&#x6784;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#xFF0C;&#x76EE;&#x6807;&#x8DEF;&#x5F84;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x76EE;&#x6807;&#x76EE;&#x5F55;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;mkdir -pCOPY conf.d/ /etc/apache/&#x5982;&#x679C;&#x539F;&#x8DEF;&#x5F84;&#x662F;&#x76EE;&#x5F55;&#xFF0C;&#x90A3;&#x4E2A;&#x6574;&#x4E2A;&#x76EE;&#x5F55;&#x90FD;&#x4F1A;&#x62F7;&#x8D1D;&#x5230;&#x76EE;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#x3002; ONBUILD12345ONBUILD&#x6307;&#x4EE4;&#x80FD;&#x4E3A;&#x955C;&#x50CF;&#x6DFB;&#x52A0;&#x89E6;&#x53D1;&#x5668;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x88AB;&#x5176;&#x4ED6;&#x955C;&#x50CF;&#x7528;&#x4F5C;&#x57FA;&#x7840;&#x955C;&#x50CF;&#x65F6;&#xFF0C;&#x8BE5;&#x955C;&#x50CF;&#x7684;&#x89E6;&#x53D1;&#x5668;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF08;&#x5982;&#x4F60;&#x7684;&#x955C;&#x50CF;&#x9700;&#x8981;&#x4ECE;&#x672A;&#x51C6;&#x5907;&#x597D;&#x7684;&#x4F4D;&#x7F6E;&#x6DFB;&#x52A0;&#x4EE3;&#x7801;&#xFF0C;&#x6216;&#x8005;&#x4F60;&#x9700;&#x8981;&#x6267;&#x884C;&#x7279;&#x5B9A;&#x4E8E;&#x6784;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x73AF;&#x5883;&#x7684;&#x6784;&#x5EFA;&#x811A;&#x672C;&#xFF09;&#x89E6;&#x53D1;&#x5668;&#x4F1A;&#x5728;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x63D2;&#x5165;&#x65B0;&#x6307;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x8FD9;&#x4E9B;&#x6307;&#x4EE4;&#x662F;&#x7D27;&#x8DDF;&#x5728;FROM&#x4E4B;&#x540E;&#x7684;&#xFF0C;&#x89E6;&#x53D1;&#x5668;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;&#x6307;&#x4EE4;&#x3002;ONBUILD ADD . /app/srcONBUILD RUN cd /app/src &amp;&amp; make &#x5728;&#x6D4B;&#x8BD5;&#x4E2D;&#x4F7F;&#x7528;docker&#x6784;&#x5EFA;&#x7B80;&#x5355;&#x53EF;&#x4FEE;&#x6539;&#x7684;web123456789101112131415161718192021222324252627282930313233343536wget https://raw.githubusercontent.com/jamtur01/dockerbook-code/master/code/5/sample/nginx/global.confwget https://raw.githubusercontent.com/jamtur01/dockerbook-code/master/code/5/sample/nginx/nginx.confcat Dockerfile.bak # Version: 0.0.1FROM centos:6.7MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-21RUN yum install -y epel*RUN [&quot;yum&quot;,&quot;install&quot;,&quot;-y&quot;,&quot;nginx&quot;]RUN mkdir -p /var/www/htmlADD nginx/global.conf /etc/nginx/conf.d/ADD nginx/nginx.conf /etc/nginx/nginx.confEXPOSE 80cat Dockerfile# Version: 0.0.1FROM ooppwwqq0/sa:v2MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-21RUN mkdir -p /var/www/htmlADD nginx/global.conf /etc/nginx/conf.d/ADD nginx/nginx.conf /etc/nginx/nginx.confEXPOSE 80cat Dockerfile # Version: 0.0.1FROM ooppwwqq0/usa:v1MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-22RUN mkdir -p /var/www/htmlADD nginx/global.conf /etc/nginx/conf.d/ADD nginx/nginx.conf /etc/nginx/nginx.confEXPOSE 80 1234567docker build -t ooppwwqq0/nginx .&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x6784;&#x5EFA;&#x955C;&#x50CF;&#x7684;&#x6240;&#x6709;&#x8FC7;&#x7A0B;&#xFF0C;&#x8FFD;&#x6EAF;&#x5230;&#x6700;&#x5F00;&#x59CB;&#x7684;&#x955C;&#x50CF;docker history ooppwwqq0/nginxdocker run -d -p 8080:8081 --name website -v $PWD/website:/var/www/html/website ooppwwqq0/unginx nginx -v &#x5C06;&#x672C;&#x5730;&#x5377;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x4E2D; &#x6784;&#x5EFA;sinatra&#x5E94;&#x7528;12345678910111213141516171819202122232425262728293031cat Dockerfile # Version: 0.0.1FROM ubuntu:16.04MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-21RUN apt-get -y updateRUN apt-get -y install ruby ruby-dev build-essential redis-toolsRUN gem source -r https://rubygems.org/RUN gem source -a https://ruby.taobao.org/RUN gem install --no-rdoc --no-ri sinatra json redisRUN mkdir -p /opt/webappEXPOSE 4567CMD [&quot;/opt/webapp/bin/webapp&quot;]wget --cut-dirs=3 -nH -r --no-parent http://dockerbook.com/code/5/sinatra/webappdocker run -d -p 4567:4567 --name sinaapp -v $PWD/webapp:/opt/webapp ooppwwqq0/sinatracurl -i -H &apos;Accept: application/json&apos; &quot;http://127.0.0.1:4567/jsons/?name=Foo&amp;status=Bar&quot;HTTP/1.1 200 OK Content-Type: text/html;charset=utf-8Content-Length: 29X-Xss-Protection: 1; mode=blockX-Content-Type-Options: nosniffX-Frame-Options: SAMEORIGINServer: WEBrick/1.3.1 (Ruby/2.3.0/2015-12-25)Date: Thu, 23 Jun 2016 05:23:04 GMTConnection: Keep-Alive{&quot;name&quot;:&quot;Foo&quot;,&quot;status&quot;:&quot;Bar&quot;} &#x6784;&#x5EFA;redis1234567891011121314151617cat Dockerfile # Version: 0.0.1FROM ubuntu:16.04MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-21RUN apt-get -y updateRUN apt-get -y install redis-server redis-toolsEXPOSE 6379ENTRYPOINT [&quot;/usr/bin/redis-server&quot;]CMD []docker run -d -p 6379:6379 --name uredis ooppwwqq0/uredisapt install redis-toolsredis-cli -h 127.0.0.1 -p 6379127.0.0.1:6379&gt; &#x8FDE;&#x63A5;&#x5230;redis&#x5BB9;&#x5668;1234567ip a show docker03: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP link/ether 02:42:ad:ff:f8:e1 brd ff:ff:ff:ff:ff:ff inet 172.17.0.1/16 scope global docker0 valid_lft forever preferred_lft forever inet6 fe80::42:adff:feff:f8e1/64 scope link valid_lft forever preferred_lft forever 1docker inspect -f &apos;{{ .andSettings.IPAddress }}&apos; uredis &#x4EE5;&#x524D;docker&#x7684;&#x5BB9;&#x5668;&#x6BCF;&#x6B21;&#x91CD;&#x542F;ip&#x90FD;&#x4F1A;&#x6539;&#x53D8;&#xFF0C;&#x73B0;&#x5728;&#x597D;&#x50CF;&#x4E0D;&#x53D8;&#x4E86;&#xFF0C;&#x4E0D;&#x8FC7;&#x4F7F;&#x7528;ip&#x6765;&#x8FDE;&#x63A5;&#x8FD8;&#x662F;&#x633A;low&#x7684;&#xFF0C;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;docker&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x53EB;&#x505A;link&#x7684;&#x529F;&#x80FD;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;link&#x7684;&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;docker&#x5BB9;&#x5668; 123docker run -d --name uredis ooppwwqq0/uredisdocker run -p 4567 --name webapp --link uredis:db -it -v $PWD/webapp:/opt/webapp ooppwwqq0/sinatra /bin/bash 1234567891011121314151617cat /etc/hosts172.17.0.4 db afd4353f7aaa uredis172.17.0.5 71de6997261ccurl -i -H &apos;Accept: application/json&apos; -d &apos;name=Foo&amp;statu/json/ http://127.0.0.1:32769/HTTP/1.1 200 OK Content-Type: text/html;charset=utf-8Content-Length: 29X-Xss-Protection: 1; mode=blockX-Content-Type-Options: nosniffX-Frame-Options: SAMEORIGINServer: WEBrick/1.3.1 (Ruby/2.3.0/2015-12-25)Date: Fri, 24 Jun 2016 03:55:43 GMTConnection: Keep-Alive{&quot;name&quot;:&quot;Foo&quot;,&quot;status&quot;:&quot;Bar&quot;} &#x6301;&#x7EED;&#x96C6;&#x6210;&#x6784;&#x5EFA;jenkins12345678910111213141516171819202122232425262728293031cat Dockerfile # Version: 0.0.1FROM ubuntu:16.04MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-24RUN apt-get -y updateRUN apt-get install -qqy curl apt-transport-httpsRUN apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609DRUN echo deb https://apt.dockerproject.org/repo ubuntu-trusty main &gt; /etc/apt/sources.list.d/docker.listRUN apt-get -y updateRUN apt-get install -qqy iptables ca-certificates default-jdk git-core docker#RUN apt-get install -qqy iptables ca-certificates openjdk-7-jdk git-core docker-engineENV JENKINS_HOME /opt/jenkins/dataENV JENKINS_MIRROR http://mirrors.jenkins-ci.orgRUN mkdir -p $JENKINS_HOME/pluginsRUN curl -sf -o /opt/jenkins/jenkins.war -L $JENKINS_MIRROR/war-stable/latest/jenkins.warRUN for plugin in chucknorris greenballs scm-api git-client git ws-cleanup ;\ do curl -sf -o $JENKINS_HOME/plugins/${plugin}.hpi \ -L $JENKINS_MIRROR/plugins/${plugin}/latest/${plugin}.hpi ; doneADD ./dockerjenkins.sh /usr/local/bin/dockerjenkins.shRUN chmod +x /usr/local/bin/dockerjenkins.shVOLUME /var/lib/dockerEXPOSE 8080ENTRYPOINT [ &quot;/usr/local/bin/dockerjenkins.sh&quot; ] 123456docker run -p 8080:8080 --name jenkins --privileged -d ooppwwqq0/udockerjenkins--privileged &#x7528;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x542F;&#x52A8;&#x5BB9;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x542F;&#x52A8;docker&#x7684;&#x7279;&#x6743;&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x4EE5;&#x5176;&#x5BBF;&#x4E3B;&#x673A;&#x5177;&#x6709;&#x7684;&#xFF08;&#x51E0;&#x4E4E;&#xFF09;&#x6240;&#x6709;&#x80FD;&#x529B;&#x6765;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#xFF0C;&#x5305;&#x62EC;&#x4E00;&#x4E9B;&#x5185;&#x6838;&#x548C;&#x8BBE;&#x5907;&#x8BBF;&#x95EE;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x662F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x5728;docker&#x91CC;&#x9762;&#x8FD0;&#x884C;docker--cidfile=/tmp/c.txt &#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x52A0;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F1A;&#x5C06;docker&#x8FD4;&#x56DE;&#x7684;&#x5BB9;&#x5668;id&#x4FDD;&#x5B58;&#x5728;&#x6587;&#x4EF6;&#x4E2D; &#x6784;&#x5EFA;jekyll&#x535A;&#x5BA2;12345678910111213141516171819cat Dockerfile # Version: 0.0.1FROM ooppwwqq0/sinatraMAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-27RUN apt-get -y updateRUN apt-get -y install make nodejs ruby ruby-dev gccRUN gem source -r https://rubygems.org/RUN gem source -a https://ruby.taobao.org/RUN gem install --no-rdoc --no-ri jekyllVOLUME /data/VOLUME /var/www/htmlWORKDIR /dataENTRYPOINT [&quot;jekyll&quot;, &quot;build&quot;, &quot;--destination=/var/www/html&quot;]docker build -t ooppwwqq0/ujekyll . 1234567891011121314151617181920212223242526 cat Dockerfile # Version: 0.0.1FROM ubuntu:16.04MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-27RUN apt-get -y updateRUN apt-get -y install apache2VOLUME [&quot;/var/www/html&quot;]WORKDIR /var/www/htmlENV APACHE_RUN_USER www-dataENV APACHE_RUN_GROUP www-dataENV APACHE_LOG_DIR /data/logs/apache2ENV APACHE_PID_FILE /var/run/apache2.pidENV APACHE_RUN_DIR /var/run/apache2ENV APACHE_LOCK_DIR /var/lock/apache2RUN mkdir -p $APACHE_RUN_DIR $APACHE_LOCK_DIR $ APACHE_LOG_DIREXPOSE 80ENTRYPOINT [&quot;/usr/sbin/apache2&quot;]CMD [&quot;-D&quot;, &quot;FOREGROUND&quot;]docker build -t ooppwwqq0/uapache2 . 123456789git clone https://github.com/jamtur01/james_blog.git docker run -v $PWD/james_blog:/data --name james_blog ooppwwqq0/ujekylldocker run -d -P --volumes-from james_blog ooppwwqq0/uapache2&#x6211;&#x4EEC;&#x9996;&#x5148;&#x4F7F;&#x7528;jekyll&#x955C;&#x50CF;&#x7F16;&#x8BD1;&#x597D;&#x4E86;&#x9700;&#x8981;&#x7684;&#x7F51;&#x7AD9;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x4E14;&#x653E;&#x5728;&#x4E86;/var/www/html&#x4E0B;&#xFF0C;&#x7136;&#x540E;apache2 &#x5BB9;&#x5668;&#x542F;&#x52A8;&#x65F6;&#x76F4;&#x63A5;&#x4F7F;&#x7528;--volumes-from&#x9009;&#x9879;&#x628A;jekyll&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x5377;&#x52A0;&#x5165;&#x5230;&#x65B0;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x5373;&#x4F7F;jekyll&#x5BB9;&#x5668;&#x5E76;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#xFF0C;apache&#x5BB9;&#x5668;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5230;&#x8FD9;&#x4E9B;&#x5377;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528;rm&#x5220;&#x9664;&#x5BB9;&#x5668;&#xFF0C;&#x4F1A;&#x628A;&#x5377;&#x540C;&#x65F6;&#x5220;&#x6389;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x5377;&#x5C31;&#x4E0D;&#x5B58;&#x5728;&#x4E86;&#x3002;&#x6BCF;&#x6B21;&#x66F4;&#x65B0;&#x6587;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;start&#x4E00;&#x4E0B;jekyll&#x955C;&#x50CF;&#x5C31;&#x53EF;&#x4EE5;&#x66F4;&#x65B0;&#x4EE3;&#x7801; &#x5907;&#x4EFD;jekyll&#x5377; 1docker run --rm --volumes-from james_blog -v $PWD:/backup ubuntu tar cvf /backup/james_blog_backup.tar /var/www/html &#x4F7F;&#x7528;docker&#x6784;&#x5EFA;&#x4E00;&#x4E2A;java&#x5E94;&#x7528; &#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x7528;&#x6765;&#x901A;&#x8FC7;&#x5236;&#x5B9A;url&#x83B7;&#x53D6;war&#x5305;&#xFF0C;&#x5E76;&#x4E14;&#x653E;&#x5728;&#x6307;&#x5B9A;&#x5377;&#x4E2D; &#x53E6;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x8FD0;&#x884C;tomcat&#x8FD0;&#x884C;&#x4E0B;&#x8F7D;&#x7684;war&#x6587;&#x4EF6; 123456789101112131415161718cat Dockerfile # Version: 0.0.1FROM ubuntu:16.04MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-27RUN apt-get -y updateRUN apt-get -y install wgetVOLUME [&quot;/var/lib/tomcat7/webapps/&quot;]WORKDIR /var/lib/tomcat7/webapps/ENTRYPOINT [&quot;wget&quot;]CMD [&quot;-?&quot;]docker build -t ooppwwqq0/ufetcher .docker run -it --name sample ooppwwqq0/ufetcher https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/sample.war 1234567891011121314151617181920212223cat Dockerfile # Version: 0.0.1FROM ubuntu:16.04MAINTAINER ooppwwqq0 &quot;emo_ooppwwqq0@163.com&quot;ENV REFRESHED_AT 2016-06-27RUN apt-get -y updateRUN apt-get -y install tomcat7 default-jdkENV CATALINA_HOME /usr/share/tomcat7ENV CATALINA_BASE /var/lib/tomcat7ENV CATALINA_PID /var/run/tomcat7.pidENV CATALINA_SH /usr/share/tomcat7/bin/catalina.shENV CATALINA_TMPDIR /tmp/tomcat7-tomcat7-tmpRUN mkdir -p $CATALINA_TMPDIRVOLUME [&quot;/var/lib/tomcat7/webapps/&quot;]EXPOSE 8080ENTRYPOINT [&quot;/usr/share/tomcat7/bin/catalina.sh&quot;, &quot;run&quot;]docker build -t ooppwwqq0/utomcat7 . &#x591A;&#x5BB9;&#x5668;&#x7684;&#x5E94;&#x7528;&#x6808; &#x4E00;&#x4E2A;nodejs&#x5BB9;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x8FD0;&#x884C;node&#x5E94;&#x7528;&#xFF1B; &#x4E00;&#x4E2A;redis&#x4E3B;&#x5BB9;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x4FDD;&#x5B58;&#x548C;&#x96C6;&#x7FA4;&#x5316;&#x5E94;&#x7528;&#x72B6;&#x6001;&#xFF1B; &#x4E24;&#x4E2A;redis&#x5907;&#x4EFD;&#x5BB9;&#x5668;&#xFF1B; &#x4E00;&#x4E2A;&#x65E5;&#x5FD7;&#x5BB9;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x6355;&#x6349;&#x5E94;&#x7528;&#x65E5;&#x5FD7;&#x3002;]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[etcd-cluster 集群部署]]></title>
    <url>%2F2016%2F11%2F21%2Fetcd-cluster%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;etcd &#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x4E00;&#x81F4;&#x6027;k-v&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x53D1;&#x73B0;&#x4E0E;&#x5171;&#x4EAB;&#x914D;&#x7F6E;&#xFF0C;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x4F18;&#x70B9;&#x3002; &#x7B80;&#x5355; &#xFF1A; &#x76F8;&#x6BD4;&#x4E8E;&#x6666;&#x6DA9;&#x96BE;&#x61C2;&#x7684;paxos&#x7B97;&#x6CD5;&#xFF0C;etcd&#x57FA;&#x4E8E;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#x4E14;&#x6613;&#x5B9E;&#x73B0;&#x7684;raft&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;gRPC&#x63D0;&#x4F9B;&#x63A5;&#x53E3;&#x8C03;&#x7528; &#x5B89;&#x5168;&#xFF1A;&#x652F;&#x6301;TLS&#x901A;&#x4FE1;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x5BF9;key&#x7684;&#x8BFB;&#x5199;&#x63A7;&#x5236; &#x9AD8;&#x6027;&#x80FD;&#xFF1A;10,000 /&#x79D2;&#x7684;&#x5199;&#x6027;&#x80FD; &#x5B89;&#x88C5;etcd123456789ETCD_VER=&quot;v3.2.4&quot;DOWNLOAD_URL=&quot;https://github.com/coreos/etcd/releases/download&quot;LOCAL_DIR=&quot;/data/soft&quot;mkdir ${LOCAL_DIR}curl -L ${DOWNLOAD_URL}/${ETCD_VER}/etcd-${ETCD_VER}-linux-amd64.tar.gz -o ${LOCAL_DIR}/etcd-${ETCD_VER}-linux-amd64.tar.gzmkdir -p ${LOCAL_DIR}/etcd &amp;&amp; tar xzvf ${LOCAL_DIR}/etcd-${ETCD_VER}-linux-amd64.tar.gz -C ${LOCAL_DIR}/etcd --strip-components=1cd ${LOCAL_DIR}/etcd/ &amp;&amp; cp etcd etcdctl /usr/local/binetcd -version &#x5355;&#x673A;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x8FD0;&#x884C;etcd&#xFF0C;&#x76D1;&#x542C;&#x672C;&#x5730;&#x7684;2379&#x7AEF;&#x53E3;&#xFF0C;&#x7528;&#x4E8E;&#x4E0E;client&#x7AEF;&#x4EA4;&#x4E92;&#xFF0C;&#x76D1;&#x542C;2380&#x7528;&#x4E8E;etcd&#x5185;&#x90E8;&#x4EA4;&#x4E92;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x91CC;&#x5355;&#x673A;&#x4E0D;&#x4F1A;&#x4F7F;&#x7528;&#x5230;&#x3002; 1234567891011121314localip=`ifconfig eth0 | grep &quot;inet&quot; | awk &apos;{print $2}&apos;`etcd --name infra0 -data-dir /data/default.etcd \ --initial-advertise-peer-urls http://${localip}:2380 \ --listen-peer-urls http://${localip}:2380 \ --listen-client-urls http://${localip}:2329,http://127.0.0.1:2329 \ --advertise-client-urls http://${localip}:2329 &amp;etcdctl set hello worldworldetcdctl get helloworld&#x901A;&#x8FC7;etcdctl&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x4EE5;&#x4E0A;&#x8868;&#x793A;&#x5355;&#x673A;&#x53EF;&#x4EE5;&#x5DE5;&#x4F5C;&#x3002; etcdctl &#x4F7F;&#x7528;&#x8BF7;&#x79FB;&#x6B65;etcd&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F; &#x914D;&#x7F6E;&#x9879;&#x8BF4;&#x660E;12345678910111213141516--name# etcd&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x540D;&#xFF0C;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#xFF0C;&#x53EF;&#x533A;&#x5206;&#x4E14;&#x4E0D;&#x91CD;&#x590D;&#x5C31;&#x884C; --listen-peer-urls# &#x76D1;&#x542C;&#x7684;&#x7528;&#x4E8E;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;&#x7684;url&#xFF0C;&#x53EF;&#x76D1;&#x542C;&#x591A;&#x4E2A;&#xFF0C;&#x96C6;&#x7FA4;&#x5185;&#x90E8;&#x5C06;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;url&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;(&#x5982;&#x9009;&#x4E3E;&#xFF0C;&#x6570;&#x636E;&#x540C;&#x6B65;&#x7B49;)--initial-advertise-peer-urls # &#x5EFA;&#x8BAE;&#x7528;&#x4E8E;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;&#x7684;url&#xFF0C;&#x8282;&#x70B9;&#x95F4;&#x5C06;&#x4EE5;&#x8BE5;&#x503C;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x3002;--listen-client-urls# &#x76D1;&#x542C;&#x7684;&#x7528;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x4FE1;&#x7684;url,&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x76D1;&#x542C;&#x591A;&#x4E2A;&#x3002;--advertise-client-urls# &#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x4FE1;url,&#x8BE5;&#x503C;&#x7528;&#x4E8E;etcd&#x4EE3;&#x7406;&#x6216;etcd&#x6210;&#x5458;&#x4E0E;etcd&#x8282;&#x70B9;&#x901A;&#x4FE1;&#x3002;--initial-cluster-token etcd-cluster-1# &#x8282;&#x70B9;&#x7684;token&#x503C;&#xFF0C;&#x8BBE;&#x7F6E;&#x8BE5;&#x503C;&#x540E;&#x96C6;&#x7FA4;&#x5C06;&#x751F;&#x6210;&#x552F;&#x4E00;id,&#x5E76;&#x4E3A;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x4E5F;&#x751F;&#x6210;&#x552F;&#x4E00;id,&#x5F53;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x518D;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x65F6;&#xFF0C;&#x53EA;&#x8981;&#x8BE5;token&#x503C;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;etcd&#x96C6;&#x7FA4;&#x5C31;&#x4E0D;&#x4F1A;&#x76F8;&#x4E92;&#x5F71;&#x54CD;&#x3002;--initial-cluster# &#x4E5F;&#x5C31;&#x662F;&#x96C6;&#x7FA4;&#x4E2D;&#x6240;&#x6709;&#x7684;initial-advertise-peer-urls &#x7684;&#x5408;&#x96C6;--initial-cluster-state new# &#x65B0;&#x5EFA;&#x96C6;&#x7FA4;&#x7684;&#x6807;&#x5FD7; etcd&#x96C6;&#x7FA4;&#x6A21;&#x5F0F;&#x96C6;&#x7FA4;&#x642D;&#x5EFA;&#x6709;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5206;&#x522B;&#x662F; &#x9759;&#x6001;&#x914D;&#x7F6E; etcd&#x53D1;&#x73B0; dns&#x53D1;&#x73B0; &#x9759;&#x6001;&#x6A21;&#x5F0F;&#x672C;&#x6587;&#x5C06;&#x5728;&#x4E09;&#x53F0;&#x8282;&#x70B9;&#x4E3B;&#x673A;&#x642D;&#x5EFA;etcd&#x96C6;&#x7FA4; &#x9759;&#x6001;&#x914D;&#x7F6E;&#x4E3B;&#x8981;&#x9884;&#x5148;&#x5C06;&#x96C6;&#x7FA4;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x5206;&#x914D;&#x597D;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x96C6;&#x7FA4;&#x5206;&#x5E03;&#x542F;&#x52A8;&#xFF0C;&#x96C6;&#x7FA4;&#x5C06;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x7EC4;&#x6210;&#x96C6;&#x7FA4;&#x3002;&#x8FD9;&#x91CC;&#x6309;&#x5982;&#x4E0B;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x5206;&#x522B;&#x542F;&#x52A8;&#x4E09;&#x4E2A;etcd&#x3002; &#x8282;&#x70B9;&#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829# &#x57FA;&#x672C;&#x914D;&#x7F6E; &#x5728;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x8981;&#x6DFB;&#x52A0;NAME_1=infra1NAME_2=infra2NAME_3=infra3HOST_1=172.16.7.1HOST_2=172.16.7.2HOST_3=172.16.7.3ETCD_DATA_DIR=&quot;/data/infra.etcd/&quot;# &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x8282;&#x70B9;&#x4FEE;&#x6539;ETCD_NAME=&quot;${NAME_1}&quot;ETCD_IP=&quot;${HOST_1}&quot;ETCD_LISTEN_PEER_URLS=&quot;http://${ETCD_IP}:2380&quot;ETCD_LISTEN_CLIENT_URLS=&quot;http://${ETCD_IP}:2379,http://127.0.0.1:2379&quot;ETCD_INITIAL_ADVERTISE_PEER_URLS=&quot;http://${ETCD_IP}&quot;:2380ETCD_INITIAL_CLUSTER=${NAME_1}=http://${HOST_1}:2380,${NAME_2}=http://${HOST_2}:2380,${NAME_3}=http://${HOST_3}:2380ETCD_INITIAL_CLUSTER_STATE=&quot;new&quot;ETCD_INITIAL_CLUSTER_TOKEN=&quot;etcd-cluster-test&quot;ETCD_ADVERTISE_CLIENT_URLS=&quot;http://${ETCD_IP}:2379&quot;etcd --name ${ETCD_NAME} --data-dir ${ETCD_DATA_DIR} \ --listen-peer-urls ${ETCD_LISTEN_PEER_URLS} \ --listen-client-urls ${ETCD_LISTEN_CLIENT_URLS} \ --initial-advertise-peer-urls ${ETCD_INITIAL_ADVERTISE_PEER_URLS} \ --advertise-client-urls ${ETCD_ADVERTISE_CLIENT_URLS} \ --initial-cluster ${ETCD_INITIAL_CLUSTER} \ --initial-cluster-state ${ETCD_INITIAL_CLUSTER_STATE} \ --initial-cluster-token ${ETCD_INITIAL_CLUSTER_TOKEN} &#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;123456export ETCDCTL_API=3export HOST_1=172.16.7.1export HOST_2=172.16.7.2export HOST_3=172.16.7.3export ENDPOINTS=$HOST_1:2379,$HOST_2:2379,$HOST_3:2379alias etcdctl=&apos;etcdctl --endpoints=$ENDPOINTS&apos; &#x96C6;&#x7FA4;&#x6D4B;&#x8BD5;&#x6309;&#x5982;&#x4E0A;&#x914D;&#x7F6E;&#x5206;&#x522B;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#xFF0C;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#x540E;&#xFF0C;&#x5C06;&#x4F1A;&#x8FDB;&#x5165;&#x96C6;&#x7FA4;&#x9009;&#x4E3E;&#x72B6;&#x6001;&#xFF0C;&#x82E5;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x8D85;&#x65F6;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x4E3B;&#x673A;&#x7684;&#x9632;&#x706B;&#x5899;&#x662F;&#x5426;&#x5173;&#x95ED;&#xFF0C;&#x6216;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x662F;&#x5426;&#x80FD;&#x901A;&#x8FC7;2380&#x7AEF;&#x53E3;&#x901A;&#x4FE1;&#xFF0C;&#x96C6;&#x7FA4;&#x5EFA;&#x7ACB;&#x540E;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x68C0;&#x67E5;&#x96C6;&#x7FA4;&#x72B6;&#x6001;&#x3002; 1234567891011121314151617etcdctl member list45eebb14ca4227e4: name=infra2 peerURLs=http://172.16.7.2:2380 clientURLs=http://172.16.7.2:2379 isLeader=false6a50d44f947522d1: name=infra3 peerURLs=http://172.16.7.3:2380 clientURLs=http://172.16.7.3:2379 isLeader=false75c1b1800f01ef51: name=infra1 peerURLs=http://172.16.7.1:2380 clientURLs=http://172.16.7.1:2379 isLeader=true# api2etcdctl cluster-healthmember 45eebb14ca4227e4 is healthy: got healthy result from http://172.16.7.2:2379member 6a50d44f947522d1 is healthy: got healthy result from http://172.16.7.3:2379member 75c1b1800f01ef51 is healthy: got healthy result from http://172.16.7.1:2379cluster is healthy# api3etcdctl endpoint health172.16.7.1:2379 is healthy: successfully committed proposal: took = 2.580148ms172.16.7.2:2379 is healthy: successfully committed proposal: took = 2.862738ms172.16.7.3:2379 is healthy: successfully committed proposal: took = 2.981795ms &#x5728;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x6267;&#x884C; 123456# api2etcdctl set my xxxxxx# api3etcdctl put my xxxOK &#x5176;&#x4ED6;&#x8282;&#x70B9;&#x6267;&#x884C;&#x6709;&#x6B63;&#x5E38;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x8BF4;&#x660E;&#x96C6;&#x7FA4;&#x642D;&#x5EFA;&#x6210;&#x529F; 12etcdctl get myxxx &#x9759;&#x6001;&#x914D;&#x7F6E;&#x7684;&#x8282;&#x70B9;&#x6269;&#x5BB9;12345678910111213141516171819202122232425262728293031323334curl -XPOST http://127.0.0.1:2379/v2/members \ -H &quot;Content-Type: application/json&quot; \ -d &apos;{&quot;peerURLs&quot;: [&quot;http://172.16.7.4:2380&quot;]}&apos;NAME_1=infra1NAME_2=infra2NAME_3=infra3NAME_4=infra4HOST_1=172.16.7.1HOST_2=172.16.7.2HOST_3=172.16.7.3HOST_4=172.16.7.4ETCD_DATA_DIR=&quot;/data/infra.etcd/&quot;ETCD_NAME=&quot;${NAME_4}&quot;ETCD_IP=&quot;${HOST_4}&quot;ETCD_LISTEN_PEER_URLS=&quot;http://${ETCD_IP}:2380&quot;ETCD_LISTEN_CLIENT_URLS=&quot;http://${ETCD_IP}:2379,http://127.0.0.1:2379&quot;ETCD_INITIAL_ADVERTISE_PEER_URLS=&quot;http://${ETCD_IP}&quot;:2380ETCD_INITIAL_CLUSTER=${NAME_1}=http://${HOST_1}:2380,${NAME_2}=http://${HOST_2}:2380,${NAME_3}=http://${HOST_3}:2380,$ETCD_INITIAL_CLUSTER_STATE=&quot;existing&quot;ETCD_INITIAL_CLUSTER_TOKEN=&quot;etcd-cluster-test&quot;ETCD_ADVERTISE_CLIENT_URLS=&quot;http://${ETCD_IP}:2379&quot;# For machine 4etcd --name ${ETCD_NAME} --data-dir ${ETCD_DATA_DIR} \ --listen-peer-urls ${ETCD_LISTEN_PEER_URLS} \ --listen-client-urls ${ETCD_LISTEN_CLIENT_URLS} \ --initial-advertise-peer-urls ${ETCD_INITIAL_ADVERTISE_PEER_URLS} \ --advertise-client-urls ${ETCD_ADVERTISE_CLIENT_URLS} \ --initial-cluster ${ETCD_INITIAL_CLUSTER} \ --initial-cluster-state ${ETCD_INITIAL_CLUSTER_STATE} \ --initial-cluster-token ${ETCD_INITIAL_CLUSTER_TOKEN} &#x4F7F;&#x7528;supervisord&#x7BA1;&#x7406;etcd&#x8FDB;&#x7A0B; supervisord&#x7684;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#x8BF7;&#x79FB;&#x6B65;supervisord&#x5B89;&#x88C5;&#x914D;&#x7F6E; &#x4F7F;&#x7528;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4E2A;&#x4EBA;&#x4F7F;&#x7528;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F; &#x6839;&#x636E;&#x73B0;&#x6709;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x811A;&#x672C; systemd&#x914D;&#x7F6E;service &#x5B8C;&#x5168;&#x914D;&#x7F6E;&#x5230;supervisor&#x91CC;&#x9762; &#x521B;&#x5EFA;&#x76EE;&#x5F55; 12mkdir -p /etc/supervisor/conf.d/mkdir -p /data/logs/supervisor/ &#x6839;&#x636E;&#x73B0;&#x6709;&#x811A;&#x672C;&#x914D;&#x7F6E; /etc/supervisor/supervisord.conf 12345678910111213141516171819202122[unix_http_server]file=/var/run/supervisor.sock ; (the path to the socket file)chmod=0700 ; sockef file mode (default 0700)[supervisord]logfile=/data/logs/supervisor/supervisord.log ; (main log file;default $CWD/supervisord.log)pidfile=/var/run/supervisord.pid ; (supervisord pidfile;default supervisord.pid)childlogdir=/data/logs/supervisor ; (&apos;AUTO&apos; child log dir, default $TEMP)logfile_maxbytes=50MB ; (max main logfile bytes b4 rotation;default 50MB)logfile_backups=10 ; (num of main logfile rotation backups;default 10)loglevel=info ; (log level;default info; others: debug,warn,trace)nodaemon=false ; (start in foreground if true;default false)minfds=1024 ; (min. avail startup file descriptors;default 1024)[rpcinterface:supervisor]supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface[supervisorctl]serverurl=unix:///var/run/supervisor.sock ; use a unix:// URL for a unix socket[include]files = /etc/supervisor/conf.d/*.conf &#x914D;&#x7F6E; /etc/supervisor/conf.d/etcd.conf 12345678[program:etcd]directory = /data/bin/command = /bin/sh etcd.shuser = rootautostart = trueautorestart = truestdout_logfile = /data/logs/supervisor/etcd.logstderr_logfile = /data/logs/supervisor/etcd_err.log &#x542F;&#x52A8;&#x670D;&#x52A1; 1234supervisord -c /etc/supervisor/supervisord.confsupervisorctl status etcd etcd RUNNING pid 18721, uptime 0:01:45 systemd&#x914D;&#x7F6E;service&#x5206;&#x522B;&#x914D;&#x7F6E;&#x4E0D;&#x540C;&#x8282;&#x70B9;&#x7684;etcd&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1mkdir /etc/etcd/ &amp;&amp; vim /etc/etcd/etcd.conf 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849tee /etc/etcd/etcd.conf &lt;&lt;-&apos;EOF&apos;# [member]ETCD_NAME=&quot;infra1&quot;ETCD_IP=&quot;172.16.7.1&quot;ETCD_DATA_DIR=&quot;/data/infra.etcd/&quot;#ETCD_WAL_DIR=&quot;&quot;#ETCD_SNAPSHOT_COUNT=&quot;10000&quot;#ETCD_HEARTBEAT_INTERVAL=&quot;100&quot;#ETCD_ELECTION_TIMEOUT=&quot;1000&quot;ETCD_LISTEN_PEER_URLS=&quot;http://172.16.7.1:2380&quot;ETCD_LISTEN_CLIENT_URLS=&quot;http://172.16.7.1:2379,http://127.0.0.1:2379&quot;#ETCD_MAX_SNAPSHOTS=&quot;5&quot;#ETCD_MAX_WALS=&quot;5&quot;#ETCD_CORS=&quot;&quot;# [cluster]ETCD_INITIAL_ADVERTISE_PEER_URLS=&quot;http://172.16.7.1:2380&quot;ETCD_INITIAL_CLUSTER=&quot;infra1=http://172.16.7.1:2380,infra2=http://172.16.7.2:2380,infra3=http://172.16.7.3:2380&quot;ETCD_INITIAL_CLUSTER_STATE=&quot;new&quot;ETCD_INITIAL_CLUSTER_TOKEN=&quot;etcd-cluster-test&quot;ETCD_ADVERTISE_CLIENT_URLS=&quot;http://172.16.7.1:2379&quot;#ETCD_DISCOVERY=&quot;&quot;#ETCD_DISCOVERY_SRV=&quot;&quot;#ETCD_DISCOVERY_FALLBACK=&quot;proxy&quot;#ETCD_DISCOVERY_PROXY=&quot;&quot;# [proxy]#ETCD_PROXY=&quot;off&quot;#ETCD_PROXY_FAILURE_WAIT=&quot;5000&quot;#ETCD_PROXY_REFRESH_INTERVAL=&quot;30000&quot;#ETCD_PROXY_DIAL_TIMEOUT=&quot;1000&quot;#ETCD_PROXY_WRITE_TIMEOUT=&quot;5000&quot;#ETCD_PROXY_READ_TIMEOUT=&quot;0&quot;# [security]#ETCD_CERT_FILE=&quot;&quot;#ETCD_KEY_FILE=&quot;&quot;#ETCD_CLIENT_CERT_AUTH=&quot;false&quot;#ETCD_TRUSTED_CA_FILE=&quot;&quot;#ETCD_PEER_CERT_FILE=&quot;&quot;#ETCD_PEER_KEY_FILE=&quot;&quot;#ETCD_PEER_CLIENT_CERT_AUTH=&quot;false&quot;#ETCD_PEER_TRUSTED_CA_FILE=&quot;&quot;# [logging]#ETCD_DEBUG=&quot;false&quot;# examples for -log-package-levels etcdserver=WARNING,security=DEBUG#ETCD_LOG_PACKAGE_LEVELS=&quot;&quot;EOF &#x4FEE;&#x6539; /usr/lib/systemd/system/etcd.service 123456789101112131415161718192021tee /usr/lib/systemd/system/etcd.service &lt;&lt;-&apos;EOF&apos;[Unit]Description=Etcd ServerAfter=network.targetAfter=network-online.targetWants=network-online.target[Service]Type=notifyNotifyAccess=allWorkingDirectory=/EnvironmentFile=-/etc/etcd/etcd.confUser=root# set GOMAXPROCS to number of processorsExecStart=/bin/bash -c &quot;GOMAXPROCS=$(nproc) /usr/local/bin/etcd --name=\&quot;${ETCD_NAME}\&quot; --data-dir=\&quot;${ETCD_DATA_DIR}\&quot; --listen-client-urls=\&quot;${ETCD_LISTEN_CLIENT_URLS}\&quot; --listen-peer-urls=\&quot;${ETCD_LISTEN_PEER_URLS}\&quot; --advertise-client-urls=\&quot;${ETCD_ADVERTISE_CLIENT_URLS}\&quot; --initial-advertise-peer-urls=\&quot;${ETCD_INITIAL_ADVERTISE_PEER_URLS}\&quot; --initial-cluster=\&quot;${ETCD_INITIAL_CLUSTER}\&quot; --initial-cluster-state=\&quot;${ETCD_INITIAL_CLUSTER_STATE}\&quot; --initial-cluster-token=\&quot;${ETCD_INITIAL_CLUSTER_TOKEN}\&quot;&quot;Restart=on-failureLimitNOFILE=65536[Install]WantedBy=multi-user.targetEOF &#x6DFB;&#x52A0;&#x670D;&#x52A1; 1systemctl enable etcd.service &#x542F;&#x52A8;&#x670D;&#x52A1; 1systemctl start etcd.service &#x5B8C;&#x5168;&#x914D;&#x7F6E;supervisor&#x5B9E;&#x9A8C;&#x5931;&#x8D25;&#x4E86;&#xFF0C;&#x6682;&#x65F6;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x5427; etcd&#x53D1;&#x73B0;&#x6A21;&#x5F0F;&#x9759;&#x6001;&#x914D;&#x7F6E;&#x524D;&#x63D0;&#x662F;&#x5728;&#x642D;&#x5EFA;&#x96C6;&#x7FA4;&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x63D0;&#x524D;&#x77E5;&#x9053;&#x5404;&#x8282;&#x70B9;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x9884;&#x5148;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x5404;&#x8282;&#x70B9;ip&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x8FD9;&#x65F6;&#x53EF;&#x901A;&#x8FC7;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x7684;etcd&#x6765;&#x8F85;&#x52A9;&#x642D;&#x5EFA;&#x65B0;&#x7684;etcd&#x96C6;&#x7FA4;&#xFF0C;&#x5177;&#x4F53;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;, &#x57FA;&#x4E8E;&#x73B0;&#x6709;etcd&#x9996;&#x5148;&#x9700;&#x8981;&#x5728;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x7684;etcd&#x4E2D;&#x521B;&#x5EFA;&#x7528;&#x4E8E;&#x53D1;&#x73B0;&#x7684;url 1234curl -X PUT http://10.0.1.33:2379/v2/keys/discovery/etcd-cluster-1/_config/size -d value=3&#x8FD4;&#x56DE;&#xFF1A;{&quot;action&quot;:&quot;set&quot;,&quot;node&quot;:{&quot;key&quot;:&quot;/discovery/etcd-cluster-1/_config/size&quot;,&quot;value&quot;:&quot;3&quot;,&quot;modifiedIndex&quot;:170010,&quot;createdIndex&quot;:170010}} &#x5982;&#x4E0A;&#x8868;&#x793A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x5927;&#x5C0F;&#x4E3A;3&#x7684;etcd&#x53D1;&#x73B0;url&#xFF0C;&#x521B;&#x5EFA;&#x6210;&#x529F;&#x540E;&#x6309;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x542F;&#x52A8;&#x5404;&#x8282;&#x70B9; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970# masterlocalip=`ifconfig eth0 | grep &quot;inet&quot; | awk &apos;{print $2}&apos;`etcd --name infra0 -data-dir /data/bin/default.etcd \ --initial-advertise-peer-urls http://${localip}:2382 \ --listen-peer-urls http://${localip}:2382 \ --listen-client-urls http://${localip}:2381,http://127.0.0.1:2381 \ --advertise-client-urls http://${localip}:2381 &amp;sleep 1curl -X PUT http://127.0.0.1:2381/v2/keys/discovery/etcd-cluster-1/_config/size -d value=3# baseNAME_1=infra1NAME_2=infra2NAME_3=infra3NAME_4=infra4HOST_1=172.16.7.1HOST_2=172.16.7.2HOST_3=172.16.7.3HOST_4=172.16.7.4ETCD_DATA_DIR=&quot;/data/infra.etcd/&quot;# &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x8282;&#x70B9;&#x4FEE;&#x6539;# ETCD_NAME=&quot;${NAME_1}&quot;# ETCD_IP=&quot;${HOST_1}&quot;ETCD_LISTEN_PEER_URLS=&quot;http://${ETCD_IP}:2380&quot;ETCD_LISTEN_CLIENT_URLS=&quot;http://${ETCD_IP}:2379,http://127.0.0.1:2379&quot;ETCD_INITIAL_ADVERTISE_PEER_URLS=&quot;http://${ETCD_IP}&quot;:2380ETCD_INITIAL_CLUSTER=${NAME_1}=http://${HOST_1}:2380,${NAME_2}=http://${HOST_2}:2380,${NAME_3}=http://${HOST_3}:2380,$ETCD_INITIAL_CLUSTER_STATE=&quot;existing&quot;ETCD_INITIAL_CLUSTER_TOKEN=&quot;etcd-cluster-test&quot;ETCD_ADVERTISE_CLIENT_URLS=&quot;http://${ETCD_IP}:2379&quot;ETCD_DISCOVERY=&quot;http://172.16.7.1:2381/v2/keys/discovery/${ETCD_INITIAL_CLUSTER_TOKEN}&quot;# For machine 1ETCD_NAME=&quot;${NAME_1}&quot;ETCD_IP=&quot;${HOST_1}&quot;etcd --name ${ETCD_NAME} --data-dir ${ETCD_DATA_DIR} \ --listen-peer-urls ${ETCD_LISTEN_PEER_URLS} \ --listen-client-urls ${ETCD_LISTEN_CLIENT_URLS} \ --initial-advertise-peer-urls ${ETCD_INITIAL_ADVERTISE_PEER_URLS} \ --advertise-client-urls ${ETCD_ADVERTISE_CLIENT_URLS} \ --discovery ${ETCD_DISCOVERY} \ --initial-cluster-state ${ETCD_INITIAL_CLUSTER_STATE} \ --initial-cluster-token ${ETCD_INITIAL_CLUSTER_TOKEN}# For machine 2ETCD_NAME=&quot;${NAME_2}&quot;ETCD_IP=&quot;${HOST_2}&quot;etcd --name ${ETCD_NAME} --data-dir ${ETCD_DATA_DIR} \ --listen-peer-urls ${ETCD_LISTEN_PEER_URLS} \ --listen-client-urls ${ETCD_LISTEN_CLIENT_URLS} \ --initial-advertise-peer-urls ${ETCD_INITIAL_ADVERTISE_PEER_URLS} \ --advertise-client-urls ${ETCD_ADVERTISE_CLIENT_URLS} \ --discovery ${ETCD_DISCOVERY} \ --initial-cluster-state ${ETCD_INITIAL_CLUSTER_STATE} \ --initial-cluster-token ${ETCD_INITIAL_CLUSTER_TOKEN} # For machine 3ETCD_NAME=&quot;${NAME_3}&quot;ETCD_IP=&quot;${HOST_3}&quot;etcd --name ${ETCD_NAME} --data-dir ${ETCD_DATA_DIR} \ --listen-peer-urls ${ETCD_LISTEN_PEER_URLS} \ --listen-client-urls ${ETCD_LISTEN_CLIENT_URLS} \ --initial-advertise-peer-urls ${ETCD_INITIAL_ADVERTISE_PEER_URLS} \ --advertise-client-urls ${ETCD_ADVERTISE_CLIENT_URLS} \ --discovery ${ETCD_DISCOVERY} \ --initial-cluster-state ${ETCD_INITIAL_CLUSTER_STATE} \ --initial-cluster-token ${ETCD_INITIAL_CLUSTER_TOKEN} &#x5982;&#x4E0A;&#x5F53;&#x6240;&#x6709;etcd&#x5747;&#x6CE8;&#x518C;&#x5230;&#x7528;&#x4E8E;&#x53D1;&#x73B0;&#x7684;url&#x540E;&#xFF0C;&#x72EC;&#x7ACB;&#x7684;&#x5404;&#x8282;&#x70B9;&#x5C06;&#x5F62;&#x6210;&#x96C6;&#x7FA4;&#x3002; &#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x642D;&#x5EFA;&#x597D;&#x7684;etcd&#x96C6;&#x7FA4;&#x7528;&#x4E8E;&#x6CE8;&#x518C;&#x548C;&#x53D1;&#x73B0;&#xFF0C;&#x53EF;&#x4F7F;&#x7528;etcd&#x516C;&#x6709;&#x670D;&#x52A1;&#x6765;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x53D1;&#x73B0;&#x3002; &#x57FA;&#x4E8E;&#x516C;&#x6709;etcd&#x5728;&#x516C;&#x6709;etcd&#x670D;&#x52A1;&#x4E0A;&#x521B;&#x5EFA;&#x7528;&#x4E8E;&#x53D1;&#x73B0;&#x7684;url: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950curl https://discovery.etcd.io/new?size=3https://discovery.etcd.io/a81b5818e67a6ea83e9d4daea5ecbc92# grab this tokenTOKEN=token-01CLUSTER_STATE=newNAME_1=machine-1NAME_2=machine-2NAME_3=machine-3HOST_1=10.240.0.17HOST_2=10.240.0.18HOST_3=10.240.0.19DATA_DIR=/data/infra.etcdDISCOVERY=https://discovery.etcd.io/a81b5818e67a6ea83e9d4daea5ecbc92# For machine 1THIS_NAME=${NAME_1}THIS_IP=${HOST_1}etcd --name ${THIS_NAME} --data-dir ${DATA_DIR} \ --initial-advertise-peer-urls http://${THIS_IP}:2380 \ --listen-peer-urls http://${THIS_IP}:2380 \ --advertise-client-urls http://${THIS_IP}:2379 \ --listen-client-urls http://${THIS_IP}:2379,http://127.0.0.1:2379 \ --discovery ${DISCOVERY} \ --initial-cluster-state ${CLUSTER_STATE} \ --initial-cluster-token ${TOKEN}# For machine 2THIS_NAME=${NAME_2}THIS_IP=${HOST_2}etcd --name ${THIS_NAME} --data-dir ${DATA_DIR} \ --initial-advertise-peer-urls http://${THIS_IP}:2380 \ --listen-peer-urls http://${THIS_IP}:2380 \ --advertise-client-urls http://${THIS_IP}:2379 \ --listen-client-urls http://${THIS_IP}:2379,http://127.0.0.1:2379 \ --discovery ${DISCOVERY} \ --initial-cluster-state ${CLUSTER_STATE} \ --initial-cluster-token ${TOKEN} # For machine 3THIS_NAME=${NAME_3}THIS_IP=${HOST_3}etcd --name ${THIS_NAME} --data-dir ${DATA_DIR} \ --initial-advertise-peer-urls http://${THIS_IP}:2380 \ --listen-peer-urls http://${THIS_IP}:2380 \ --advertise-client-urls http://${THIS_IP}:2379 \ --listen-client-urls http://${THIS_IP}:2379,http://127.0.0.1:2379 \ --discovery ${DISCOVERY} \ --initial-cluster-state ${CLUSTER_STATE} \ --initial-cluster-token ${TOKEN} &#x5C06;&#x8FD4;&#x56DE;&#x7684;url&#x66FF;&#x6362;&#x4E0A;&#x9762;&#x7684; &#x2013;discovery&#x90E8;&#x5206;&#xFF0C;&#x542F;&#x52A8;&#x5404;&#x4E2A;&#x8282;&#x70B9;etcd&#xFF0C;&#x5EFA;&#x7ACB;&#x96C6;&#x7FA4;&#x3002; dns&#x53D1;&#x73B0;&#x6A21;&#x5F0F;dns &#x53D1;&#x73B0;&#x4E3B;&#x8981;&#x901A;&#x8FC7;dns&#x670D;&#x52A1;&#x6765;&#x8BB0;&#x5F55;&#x96C6;&#x7FA4;&#x4E2D;&#x5404;&#x8282;&#x70B9;&#x7684;&#x57DF;&#x540D;&#x4FE1;&#x606F;&#xFF0C;&#x5404;&#x8282;&#x70B9;&#x5230;dns&#x670D;&#x52A1;&#x4E2D;&#x83B7;&#x53D6;&#x76F8;&#x4E92;&#x7684;&#x5730;&#x5740;&#x4FE1;&#x606F;&#xFF0C;&#x4ECE;&#x800C;&#x5EFA;&#x7ACB;&#x96C6;&#x7FA4;&#x3002;etcd&#x5404;&#x8282;&#x70B9;&#x901A;&#x8FC7;&#x2013;discovery-serv&#x914D;&#x7F6E;&#x6765;&#x83B7;&#x53D6;&#x57DF;&#x540D;&#x4FE1;&#x606F;,&#x8282;&#x70B9;&#x95F4;&#x5C06;&#x83B7;&#x53D6;&#x4EE5;&#x4E0B;&#x57DF;&#x540D;&#x4E0B;&#x7684;&#x5404;&#x8282;&#x70B9;&#x57DF;&#x540D;&#xFF0C; _etcd-server-ssl._tcp.example.com _etcd-server._tcp.example.com &#x5982;&#x679C;_etcd-server-ssl._tcp.example.com&#x4E0B;&#x6709;&#x503C;&#x8868;&#x793A;&#x8282;&#x70B9;&#x95F4;&#x5C06;&#x4F7F;&#x7528;ssl&#x534F;&#x8BAE;&#xFF0C;&#x76F8;&#x53CD;&#x5219;&#x4F7F;&#x7528;&#x975E;ssl&#x3002; _etcd-client._tcp.example.com _etcd-client-ssl._tcp.example.com &#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;client&#x7AEF;&#x5C06;&#x83B7;&#x53D6;&#x4EE5;&#x4E0A;&#x57DF;&#x540D;&#x4E0B;&#x7684;&#x8282;&#x70B9;&#x57DF;&#x540D;&#xFF0C;&#x7528;&#x4E8E;client&#x7AEF;&#x4E0E;etcd&#x901A;&#x4FE1;&#xFF0C;ssl&#x4E0E;&#x975E;ssl&#x7684;&#x4F7F;&#x7528;&#x53D6;&#x51B3;&#x4E8E;&#x4EE5;&#x4E0A;&#x90A3;&#x4E2A;&#x57DF;&#x540D;&#x4E0B;&#x6709;&#x503C;&#x3002; &#x521B;&#x5EFA;dns&#x8BB0;&#x5F55;1234567891011121314$ dig +noall +answer SRV _etcd-server._tcp.example.com_etcd-server._tcp.example.com. 300 IN SRV 0 0 2380 infra0.example.com._etcd-server._tcp.example.com. 300 IN SRV 0 0 2380 infra1.example.com._etcd-server._tcp.example.com. 300 IN SRV 0 0 2380 infra2.example.com.$ dig +noall +answer SRV _etcd-client._tcp.example.com_etcd-client._tcp.example.com. 300 IN SRV 0 0 2379 infra0.example.com._etcd-client._tcp.example.com. 300 IN SRV 0 0 2379 infra1.example.com._etcd-client._tcp.example.com. 300 IN SRV 0 0 2379 infra2.example.com.$ dig +noall +answer infra0.example.com infra1.example.com infra2.example.cominfra0.example.com. 300 IN A 10.0.1.111infra1.example.com. 300 IN A 10.0.1.109infra2.example.com. 300 IN A 10.0.1.110 &#x542F;&#x52A8;&#x5404;&#x4E2A;&#x8282;&#x70B9;1234567891011121314151617181920212223242526$ etcd --name infra0 \--discovery-srv example.com \--initial-advertise-peer-urls http://infra0.example.com:2380 \--initial-cluster-token etcd-cluster-1 \--initial-cluster-state new \--advertise-client-urls http://infra0.example.com:2379 \--listen-client-urls http://infra0.example.com:2379 \--listen-peer-urls http://infra0.example.com:2380$ etcd --name infra1 \--discovery-srv example.com \--initial-advertise-peer-urls http://infra1.example.com:2380 \--initial-cluster-token etcd-cluster-1 \--initial-cluster-state new \--advertise-client-urls http://infra1.example.com:2379 \--listen-client-urls http://infra1.example.com:2379 \--listen-peer-urls http://infra1.example.com:2380$ etcd --name infra2 \--discovery-srv example.com \--initial-advertise-peer-urls http://infra2.example.com:2380 \--initial-cluster-token etcd-cluster-1 \--initial-cluster-state new \--advertise-client-urls http://infra2.example.com:2379 \--listen-client-urls http://infra2.example.com:2379 \--listen-peer-urls http://infra2.example.com:2380 etcd&#x63A5;&#x53E3;&#x8BBF;&#x95EE;&#x76EE;&#x524D;etcd&#x5DF2;&#x7ECF;&#x652F;&#x6301;&#x5F88;&#x591A;&#x8BED;&#x8A00;&#x7684;client&#x7AEF;&#xFF0C;&#x76EE;&#x6D4B;&#x4E3B;&#x6D41;&#x8BED;&#x8A00;&#x5747;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x5E93;&#xFF0C; &#x5177;&#x4F53;&#x89C1;https://github.com/coreos/etcd/blob/master/Documentation/libraries-and-tools.md&#xFF0C;&#x4E0D;&#x540C;&#x8BED;&#x8A00;&#x53EA;&#x9700;&#x8981;&#x5BFC;&#x5165;&#x76F8;&#x5E94;&#x7684;&#x5E93;&#x5373;&#x53EF;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#x3002; &#x540E;&#x7EED;&#x4F1A;&#x6709;&#x5176;&#x4ED6;&#x6587;&#x7AE0;&#x5355;&#x72EC;&#x5199;&#x8FD9;&#x91CC;&#x7684;&#x8BE6;&#x7EC6;&#x64CD;&#x4F5C; etcd&#x4F7F;&#x7528;&#x573A;&#x666F;&#x7B80;&#x8FF0;&#x8BF4;&#x5B8C;etcd&#x7684;&#x642D;&#x5EFA;&#xFF0C;&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x7684;&#x63CF;&#x8FF0;&#x4E24;&#x4E2A;&#x5E38;&#x7528;&#x7684;etcd&#x4F7F;&#x7528;&#x573A;&#x666F;,&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x53D1;&#x73B0;&#x4EE5;&#x53CA;&#x5171;&#x4EAB;&#x914D;&#x7F6E; &#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0; &#x968F;&#x7740;&#x8FD1;&#x6765;&#x5FAE;&#x670D;&#x52A1;&#x6982;&#x5FF5;&#x7684;&#x63D0;&#x51FA;&#xFF0C;&#x670D;&#x52A1;&#x7684;&#x5206;&#x89E3;&#x5FC5;&#x7136;&#x5F15;&#x5165;&#x5927;&#x91CF;&#x7684;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#xFF0C;&#x800C;&#x4F20;&#x7EDF;&#x7684;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x4E00;&#x822C;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;ip&#x8FDB;&#x884C;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x8BF8;&#x591A;&#x9650;&#x5236;&#xFF0C;&#x5982;&#x4E0D;&#x7075;&#x6D3B;&#xFF0C;&#x65E0;&#x6CD5;&#x611F;&#x77E5;&#x670D;&#x52A1;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x590D;&#x6742;&#x7B49;&#x7F3A;&#x70B9;&#xFF0C;&#x800C;&#x5F15;&#x5165;etcd&#x540E;&#xFF0C;&#x95EE;&#x9898;&#x5C06;&#x5927;&#x5927;&#x5316;&#x7B80;&#xFF0C;&#x8FD9;&#x91CC;&#x5212;&#x5206;&#x4E3A;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4; &#x670D;&#x52A1;&#x542F;&#x52A8;&#x540E;&#x5411;etcd&#x6CE8;&#x518C;&#xFF0C;&#x5E76;&#x4E0A;&#x62A5;&#x81EA;&#x5DF1;&#x7684;&#x76D1;&#x542C;&#x7684;&#x7AEF;&#x53E3;&#x4EE5;&#x53CA;&#x5F53;&#x524D;&#x7684;&#x6743;&#x91CD;&#x56E0;&#x5B50;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x4E14;&#x5BF9;&#x8BE5;&#x4FE1;&#x606F;&#x8BBE;&#x7F6E;ttl&#x503C;&#x3002;&#x670D;&#x52A1;&#x5728;ttl&#x7684;&#x65F6;&#x95F4;&#x5185;&#x5468;&#x671F;&#x6027;&#x4E0A;&#x62A5;&#x6743;&#x91CD;&#x56E0;&#x5B50;&#x7B49;&#x4FE1;&#x606F;&#x3002; client&#x7AEF;&#x8C03;&#x7528;&#x670D;&#x52A1;&#x65F6;&#x5411;etcd&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#xFF0C;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#xFF0C;&#x540C;&#x65F6;&#x76D1;&#x542C;&#x8BE5;&#x670D;&#x52A1;&#x662F;&#x5426;&#x53D8;&#x5316;(&#x901A;&#x8FC7;watch&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;)&#x3002;&#x5F53;&#x65B0;&#x589E;&#x670D;&#x52A1;&#x65F6;watch&#x65B9;&#x6CD5;&#x76D1;&#x542C;&#x5230;&#x53D8;&#x5316;&#xFF0C;&#x5C06;&#x670D;&#x52A1;&#x52A0;&#x5165;&#x4EE3;&#x7528;&#x5217;&#x8868;&#xFF0C;&#x5F53;&#x670D;&#x52A1;&#x6302;&#x6389;&#x65F6;ttl&#x5931;&#x6548;&#xFF0C;client&#x7AEF;&#x68C0;&#x6D4B;&#x5230;&#x53D8;&#x5316;&#xFF0C;&#x5C06;&#x670D;&#x52A1;&#x8E22;&#x51FA;&#x8C03;&#x7528;&#x5217;&#x8868;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x7684;&#x52A8;&#x6001;&#x6269;&#x5C55;&#x3002; &#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;client&#x7AEF;&#x901A;&#x8FC7;&#x6BCF;&#x6B21;&#x53D8;&#x5316;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x6743;&#x91CD;&#x56E0;&#x5B50;&#x6765;&#x8FDB;&#x884C;client&#x7AEF;&#x7684;&#x52A0;&#x6743;&#x8C03;&#x7528;&#x7B56;&#x7565;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3002; &#x5171;&#x4EAB;&#x914D;&#x7F6E; &#x4E00;&#x822C;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x65F6;&#x9700;&#x8981;&#x52A0;&#x8F7D;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF0C;&#x8FDE;&#x63A5;&#x914D;&#x7F6E;&#xFF0C;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x90FD;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x5982;&#x679C;&#x901A;&#x8FC7;&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x4F1A;&#x5B58;&#x5728;&#x8981;&#x5199;&#x591A;&#x4EFD;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E14;&#x6BCF;&#x6B21;&#x66F4;&#x6539;&#x65F6;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x90FD;&#x8981;&#x66F4;&#x6539;&#xFF0C;&#x4E14;&#x66F4;&#x6539;&#x914D;&#x7F6E;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x540E;&#x624D;&#x80FD;&#x751F;&#x6548;&#xFF0C;&#x8FD9;&#x4E9B;&#x65E0;&#x7591;&#x8BA9;&#x914D;&#x7F6E;&#x6781;&#x4E0D;&#x7075;&#x6D3B;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x653E;&#x5165;&#x5230;etcd&#x4E2D;&#xFF0C;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#x8FDB;&#x884C;&#x52A0;&#x8F7D;&#x5E76;&#x8FD0;&#x884C;&#xFF0C;&#x540C;&#x65F6;&#x76D1;&#x542C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x66F4;&#x6539;&#xFF0C;&#x5F53;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53D1;&#x751F;&#x66F4;&#x6539;&#x65F6;&#xFF0C;&#x81EA;&#x52A8;&#x5C06;&#x65E7;&#x503C;&#x66FF;&#x6362;&#x65B0;&#x503C;&#xFF0C;&#x8FD9;&#x6837;&#x65E0;&#x7591;&#x7B80;&#x5316;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#xFF0C;&#x66F4;&#x65B9;&#x4FBF;&#x4E8E;&#x670D;&#x52A1;&#x90E8;&#x7F72;&#x3002; &#x603B;&#x7ED3;&#x672C;&#x6587;&#x8BB2;&#x89E3;&#x4E86;etcd&#x96C6;&#x7FA4;&#x7684;&#x642D;&#x5EFA;&#xFF0C;&#x4EE5;&#x53CA;&#x7B80;&#x8FF0;&#x4E86;&#x4E00;&#x4E9B;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x76F8;&#x6BD4;&#x4E8E;zookeeper&#x5185;&#x90E8;&#x4F7F;&#x7528;paxos&#x7B97;&#x6CD5;&#x4FDD;&#x8BC1;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x800C;etcd&#x5219;&#x4F7F;&#x7528;&#x66F4;&#x7B80;&#x5355;&#x7684;raft&#x7B97;&#x6CD5;&#x3002;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x76F8;&#x6BD4;zookeeper, etcd&#x7B97;&#x662F;&#x65B0;&#x5174;&#x9879;&#x76EE;&#xFF0C;&#x56E0;&#x800C;&#x5728;&#x77E5;&#x540D;&#x5EA6;&#x53CA;&#x4F7F;&#x7528;&#x91CF;&#x6765;&#x8BF4;&#x548C;zookeeper&#x6709;&#x4E00;&#x5B9A;&#x5DEE;&#x8DDD;&#xFF0C;&#x4E0D;&#x8FC7;,&#x968F;&#x7740;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x77E5;&#x540D;&#x9879;&#x76EE;&#x5728;&#x9010;&#x6E10;&#x4F7F;&#x7528;etcd(&#x5982;docker),&#x76F8;&#x4FE1;etcd&#x5C06;&#x4F1A;&#x5728;&#x672A;&#x6765;&#x66F4;&#x591A;&#x7684;&#x51FA;&#x73B0;&#x5728;&#x5404;&#x79CD;&#x670D;&#x52A1;&#x4F53;&#x7CFB;&#x4E2D;&#x3002;&#x76EE;&#x524D;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x5927;&#x91CF;&#x4F7F;&#x7528;etcd&#xFF0C;&#x4ECE;&#x4F7F;&#x7528;&#x6548;&#x679C;&#x6765;&#x770B;&#xFF0C;&#x7A33;&#x5B9A;&#x6027;&#x8FD8;&#x662F;&#x4E0D;&#x9519;&#x7684;&#xFF0C;&#x76EE;&#x524D;&#x8FD8;&#x6CA1;&#x9047;&#x5230;&#x4EC0;&#x4E48;&#x5927;&#x5751;&#x3002; 123&#x53C2;&#x8003;&#x8D44;&#x6599;https://coreos.com/etcd/https://github.com/coreos/etcd]]></content>
      <categories>
        <category>db</category>
        <category>etcd</category>
      </categories>
      <tags>
        <tag>etcd</tag>
        <tag>db</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nginx & tengine 编译安装]]></title>
    <url>%2F2016%2F11%2F21%2Fnginx-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x7F16;&#x8BD1;&#x5B89;&#x88C5;nginx-1.13.3(&#x6700;&#x8FD1;&#x65B0;&#x62A5;&#x51FA;&#x6765;&#x7684;&#x6F0F;&#x6D1E;&#xFF0C;&#x6240;&#x4EE5;&#x5347;&#x7EA7;&#x5230;&#x65B0;&#x7248;&#x672C;) &#x7F16;&#x8BD1;&#x5B89;&#x88C5;tengine-2.1.2 nginx&#x7248;&#x672C;&#x66F4;&#x65B0;&#x5230;1.13.10 nginx&#x4ECE;1.19&#x7248;&#x672C;&#x5F00;&#x59CB;&#x652F;&#x6301;tcp&#x4EE5;&#x53CA;udp&#x7684;&#x8F6C;&#x53D1;&#xFF0C;&#x800C;&#x76EE;&#x524D;tengine&#x6700;&#x65B0;&#x7248;&#x672C;2.2.0&#x8FD8;&#x662F;&#x57FA;&#x4E8E;1.6.2&#x7248;&#x672C;&#x7684;nginx&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x662F;&#x4E0D;&#x652F;&#x6301;tcp&#x4EE5;&#x53CA;udp&#x7684;&#x8F6C;&#x53D1;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x662F;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;nginx&#x3002; &#x7F16;&#x8BD1;&#x5B89;&#x88C5;nginx&#x5B89;&#x88C5;&#x4F9D;&#x8D56;12345# centosyum -y install wget curl gcc gcc-c++ autoconf automake zlib zlib-devel openssl openssl-devel pcre*# ubuntuapt-get install wget curl libpcre3 libpcre3-dev zlib1g-dev libssl-dev build-essential apache2-utils &#x4E0B;&#x8F7D;nginx&#x6E90;&#x7801;&#x5305;12345678cd /usr/local/srcINSTALL_DIR=&quot;/usr/local/product&quot;NGINX_VERSION=&quot;1.13.10&quot;wget http://nginx.org/download/nginx-${NGINX_VERSION}.tar.gztar xvf nginx-${NGINX_VERSION}.tar.gz &amp;&amp; cd nginx-${NGINX_VERSION}TENGINE_VERSION=&quot;2.1.2&quot;wget http://tengine.taobao.org/download/tengine-${TENGINE_VERSION}.tar.gz &#x521B;&#x5EFA;&#x7528;&#x6237;&#x3001;&#x7528;&#x6237;&#x7EC4;123groupadd -g 1101 wwwuseradd -s /sbin/nologin -g www -u 1101 www &#x7F16;&#x8BD1;&#x5B89;&#x88C5;1234567891011121314151617181920212223242526272829303132./configure \--prefix=${INSTALL_DIR}/nginx-${NGINX_VERSION} \--user=www \--group=www \--with-pcre \--with-http_ssl_module \--with-http_v2_module \--with-http_realip_module \--with-http_addition_module \--with-http_sub_module \--with-http_dav_module \--with-http_flv_module \--with-http_mp4_module \--with-http_gunzip_module \--with-http_gzip_static_module \--with-http_random_index_module \--with-http_secure_link_module \--with-http_stub_status_module \--with-http_auth_request_module \--with-mail \--with-mail_ssl_module \--with-file-aio \--with-stream \--with-cc-opt=&apos;-O2 -g -pipe -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic&apos;make &amp;&amp; make installln -s ${INSTALL_DIR}/nginx-${NGINX_VERSION} /usr/local/nginx# &#x53BB;&#x6389;ipv6&#x53C2;&#x6570;# &#x6DFB;&#x52A0;tcp&#x4EE3;&#x7406;&#x652F;&#x6301;&#x53C2;&#x6570;- --with-ipv6+ --with-stream &#x521B;&#x5EFA;nginx&#x542F;&#x52A8;&#x6587;&#x4EF6;init12curl http://c.isme.pub/2017/08/30/service-install/nginx.init -o /etc/init.d/nginxchmod +x /etc/init.d/nginx systemd1234# curl http://c.isme.pub/2017/08/30/service-install/nginx.service -o /usr/lib/systemd/system/nginx.servicecurl http://c.isme.pub/2017/08/30/service-install/nginx.service -o /lib/systemd/system/nginx.servicesystemctl enable nginx.service &#x521B;&#x5EFA;nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6;1curl http://c.isme.pub/2017/08/30/service-install/nginx.conf -o /usr/local/nginx/conf/nginx.conf &#x865A;&#x62DF;&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445upstream web{ server 127.0.0.1:8000;}server { listen 80; server_name xxx.com; #access_log off; #error_log off; location / { proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header remote_addr $remote_addr; proxy_pass http://web; }}server { listen 80; server_name xxx.com; access_log /data/logs/nginx_log/xxx_access.log; error_log /data/logs/nginx_log/xxx_error.log error; location / { root /data/web_data/web/app/xxx/www/; index index.php index.html index.htm; } location ~ \.php$ { root /data/web_data/web/app/xxx/www/; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.html; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; include fastcgi_params; } location /php-fpm_status { fastcgi_pass 127.0.0.1:9000; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; include fastcgi_params; } } &#x521B;&#x5EFA;&#x7F13;&#x5B58;&#x3001;&#x65E5;&#x5FD7;&#x76EE;&#x5F55;123mkdir -p /usr/local/nginx/conf/{vhosts,ssl}mkdir -p /usr/local/nginx/var/tmp/client_bodymkdir /data/logs/nginx &#x53C2;&#x6570;&#x89E3;&#x6790;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153--help print this message --prefix=PATH set installation prefix --sbin-path=PATH set nginx binary pathname --conf-path=PATH set nginx.conf pathname --error-log-path=PATH set error log pathname --pid-path=PATH set nginx.pid pathname --lock-path=PATH set nginx.lock pathname --user=USER set non-privileged user for worker processes --group=GROUP set non-privileged group for worker processes --build=NAME set build name --builddir=DIR set build directory --with-select_module enable select module --without-select_module disable select module --with-poll_module enable poll module --without-poll_module disable poll module --with-threads enable thread pool support --with-file-aio enable file AIO support --with-ipv6 enable IPv6 support --with-http_ssl_module enable ngx_http_ssl_module --with-http_spdy_module enable ngx_http_spdy_module --with-http_realip_module enable ngx_http_realip_module --with-http_addition_module enable ngx_http_addition_module --with-http_xslt_module enable ngx_http_xslt_module --with-http_image_filter_module enable ngx_http_image_filter_module --with-http_geoip_module enable ngx_http_geoip_module --with-http_sub_module enable ngx_http_sub_module --with-http_dav_module enable ngx_http_dav_module --with-http_flv_module enable ngx_http_flv_module --with-http_mp4_module enable ngx_http_mp4_module --with-http_gunzip_module enable ngx_http_gunzip_module --with-http_gzip_static_module enable ngx_http_gzip_static_module --with-http_auth_request_module enable ngx_http_auth_request_module --with-http_random_index_module enable ngx_http_random_index_module --with-http_secure_link_module enable ngx_http_secure_link_module --with-http_degradation_module enable ngx_http_degradation_module --with-http_stub_status_module enable ngx_http_stub_status_module --without-http_charset_module disable ngx_http_charset_module --without-http_gzip_module disable ngx_http_gzip_module --without-http_ssi_module disable ngx_http_ssi_module --without-http_userid_module disable ngx_http_userid_module --without-http_access_module disable ngx_http_access_module --without-http_auth_basic_module disable ngx_http_auth_basic_module --without-http_autoindex_module disable ngx_http_autoindex_module --without-http_geo_module disable ngx_http_geo_module --without-http_map_module disable ngx_http_map_module --without-http_split_clients_module disable ngx_http_split_clients_module --without-http_referer_module disable ngx_http_referer_module --without-http_rewrite_module disable ngx_http_rewrite_module --without-http_proxy_module disable ngx_http_proxy_module --without-http_fastcgi_module disable ngx_http_fastcgi_module --without-http_uwsgi_module disable ngx_http_uwsgi_module --without-http_scgi_module disable ngx_http_scgi_module --without-http_memcached_module disable ngx_http_memcached_module --without-http_limit_conn_module disable ngx_http_limit_conn_module --without-http_limit_req_module disable ngx_http_limit_req_module --without-http_empty_gif_module disable ngx_http_empty_gif_module --without-http_browser_module disable ngx_http_browser_module --without-http_upstream_hash_module disable ngx_http_upstream_hash_module --without-http_upstream_ip_hash_module disable ngx_http_upstream_ip_hash_module --without-http_upstream_least_conn_module disable ngx_http_upstream_least_conn_module --without-http_upstream_keepalive_module disable ngx_http_upstream_keepalive_module --without-http_upstream_zone_module disable ngx_http_upstream_zone_module --with-http_perl_module enable ngx_http_perl_module --with-perl_modules_path=PATH set Perl modules path --with-perl=PATH set perl binary pathname --http-log-path=PATH set http access log pathname --http-client-body-temp-path=PATH set path to store http client request body temporary files --http-proxy-temp-path=PATH set path to store http proxy temporary files --http-fastcgi-temp-path=PATH set path to store http fastcgi temporary files --http-uwsgi-temp-path=PATH set path to store http uwsgi temporary files --http-scgi-temp-path=PATH set path to store http scgi temporary files --without-http disable HTTP server --without-http-cache disable HTTP cache --with-mail enable POP3/IMAP4/SMTP proxy module --with-mail_ssl_module enable ngx_mail_ssl_module --without-mail_pop3_module disable ngx_mail_pop3_module --without-mail_imap_module disable ngx_mail_imap_module --without-mail_smtp_module disable ngx_mail_smtp_module --with-stream enable TCP proxy module --with-stream_ssl_module enable ngx_stream_ssl_module --without-stream_access_module disable ngx_stream_access_module --without-stream_upstream_hash_module disable ngx_stream_upstream_hash_module --without-stream_upstream_least_conn_module disable ngx_stream_upstream_least_conn_module --without-stream_upstream_zone_module disable ngx_stream_upstream_zone_module --with-google_perftools_module enable ngx_google_perftools_module --with-cpp_test_module enable ngx_cpp_test_module --add-module=PATH enable an external module --with-cc=PATH set C compiler pathname --with-cpp=PATH set C preprocessor pathname --with-cc-opt=OPTIONS set additional C compiler options --with-ld-opt=OPTIONS set additional linker options --with-cpu-opt=CPU build for the specified CPU, valid values: pentium, pentiumpro, pentium3, pentium4, athlon, opteron, sparc32, sparc64, ppc64 --without-pcre disable PCRE library usage --with-pcre force PCRE library usage --with-pcre=DIR set path to PCRE library sources --with-pcre-opt=OPTIONS set additional build options for PCRE --with-pcre-jit build PCRE with JIT compilation support --with-md5=DIR set path to md5 library sources --with-md5-opt=OPTIONS set additional build options for md5 --with-md5-asm use md5 assembler sources --with-sha1=DIR set path to sha1 library sources --with-sha1-opt=OPTIONS set additional build options for sha1 --with-sha1-asm use sha1 assembler sources --with-zlib=DIR set path to zlib library sources --with-zlib-opt=OPTIONS set additional build options for zlib --with-zlib-asm=CPU use zlib assembler sources optimized for the specified CPU, valid values: pentium, pentiumpro --with-libatomic force libatomic_ops library usage --with-libatomic=DIR set path to libatomic_ops library sources --with-openssl=DIR set path to OpenSSL library sources --with-openssl-opt=OPTIONS set additional build options for OpenSSL --with-debug enable debug logging]]></content>
      <categories>
        <category>linux</category>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>nginx</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sql优化&执行计划（explain & desc）]]></title>
    <url>%2F2016%2F11%2F17%2Fmysql-explain%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x672C;&#x6587;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x6765;&#x6E90;&#x4E8E;&#x7F51;&#x7EDC; SQL&#x4F18;&#x5316;&#x51C6;&#x5219;12345678910111213141516171819202122&#x7981;&#x7528;select *&#x4F7F;&#x7528;select count(*) &#x7EDF;&#x8BA1;&#x884C;&#x6570;&#x5C3D;&#x91CF;&#x5C11;&#x8FD0;&#x7B97;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF0C;&#x5982;&#x679C;&#x53EF;&#x4EE5;&#xFF0C;&#x5728;&#x8FC7;&#x6EE4;&#x5217;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728;where&#x5B50;&#x53E5;&#x5BF9;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;null&#x5224;&#x65AD;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728;where&#x5B50;&#x53E5;&#x4F7F;&#x7528;!= &#x6216;&#x8005;&lt;&gt;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728;where&#x5B50;&#x53E5;&#x4F7F;&#x7528;or&#x8FDE;&#x63A5;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5BF9;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5BF9;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x51FD;&#x6570;&#x64CD;&#x4F5C;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x4E0D;&#x662F;&#x590D;&#x5408;&#x7D22;&#x5F15;&#x7684;&#x524D;&#x7F00;&#x5217;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x8FDE;&#x63A5;&#x5C3D;&#x91CF;&#x5C11;&#x6392;&#x5E8F;&#xFF0C;&#x5982;&#x679C;&#x53EF;&#x4EE5;&#xFF0C;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x5C3D;&#x91CF;&#x5C11;join&#x5C3D;&#x91CF;&#x7528;join&#x4EE3;&#x66FF;&#x5B50;&#x67E5;&#x8BE2;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728;where&#x5B50;&#x53E5;&#x4E2D;&#x4F7F;&#x7528;in,not in&#x6216;&#x8005;having&#xFF0C;&#x4F7F;&#x7528;exists,not exists&#x4EE3;&#x66FF;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x4E24;&#x7AEF;&#x6A21;&#x7CCA;&#x5339;&#x914D; like %***%&#x5C3D;&#x91CF;&#x7528;union all&#x4EE3;&#x66FF;union&#x5C3D;&#x91CF;&#x65E9;&#x8FC7;&#x6EE4;&#x907F;&#x514D;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5C3D;&#x91CF;&#x6279;&#x91CF;insert&#x4F18;&#x5148;&#x4F18;&#x5316;&#x9AD8;&#x5E76;&#x53D1;sql&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9891;&#x7387;&#x4F4E;&#x7684;&#x5927;sql&#x5C3D;&#x53EF;&#x80FD;&#x5BF9;&#x6BCF;&#x4E00;&#x6761;sql&#x8FDB;&#x884C;explain&#x5C3D;&#x53EF;&#x80FD;&#x4ECE;&#x5168;&#x5C40;&#x51FA;&#x53D1; &#x6267;&#x884C;&#x8BA1;&#x5212;12explain select ...;desc select ...; &#x8FD9;&#x4FE9;&#x8BED;&#x53E5;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x771F;&#x4E0D;&#x592A;&#x6E05;&#x695A;&#xFF0C;&#x4E0D;&#x8FC7;&#x770B;&#x4E00;&#x4E9B;&#x6587;&#x6863;&#x8BF4;explain&#x53EA;&#x80FD;&#x89E3;&#x91CA;select&#x7684;sql&#x8BED;&#x53E5;&#xFF0C;&#x53CD;&#x6B63;&#x6211;&#x7528;desc&#x662F;&#x80FD;&#x89E3;&#x6790;update&#x8BED;&#x53E5;&#x7684;&#xFF08;update&#x5176;&#x5B9E;&#x4E5F;&#x53EF;&#x4EE5;&#x7B97;&#x662F;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x7684;&#x4E00;&#x79CD;&#x5427;&#xFF0C;&#x6709;where&#xFF09;&#xFF0C;insert&#x6CA1;&#x6D4B;&#x8BD5;&#x8FC7;&#xFF0C;&#x6709;&#x65F6;&#x95F4;&#x7684;&#x8BDD;&#x518D;&#x8BF4;&#x5427;&#x3002; &#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#x76F4;&#x63A5;&#x53D6;&#x81EA;&#x7F51;&#x7EDC;&#x539F;&#x6587;&#x5730;&#x5740;&#xFF08;http://blog.csdn.net/c_enhui/article/details/9021271&#xFF09; Explain&#x8BED;&#x6CD5;EXPLAIN SELECT &#x2026;&#x2026; &#x53D8;&#x4F53;&#xFF1A; 1&#x3001;EXPLAIN EXTENDED SELECT &#x2026;&#x2026; &#x5C06;&#x6267;&#x884C;&#x8BA1;&#x5212;&#x201C;&#x53CD;&#x7F16;&#x8BD1;&#x201D;&#x6210;SELECT&#x8BED;&#x53E5;&#xFF0C;&#x8FD0;&#x884C;SHOW WARNINGS &#x53EF;&#x5F97;&#x5230;&#x88AB;MySQL&#x4F18;&#x5316;&#x5668;&#x4F18;&#x5316;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5; 2&#x3001;EXPLAIN PARTITIONS SELECT &#x2026;&#x2026; &#x7528;&#x4E8E;&#x5206;&#x533A;&#x8868;&#x7684;EXPLAIN&#x6267;&#x884C;&#x8BA1;&#x5212;&#x5305;&#x542B;&#x7684;&#x4FE1;&#x606F; id&#x5305;&#x542B;&#x4E00;&#x7EC4;&#x6570;&#x5B57;&#xFF0C;&#x8868;&#x793A;&#x67E5;&#x8BE2;&#x4E2D;&#x6267;&#x884C;select&#x5B50;&#x53E5;&#x6216;&#x64CD;&#x4F5C;&#x8868;&#x7684;&#x987A;&#x5E8F; id&#x76F8;&#x540C;&#xFF0C;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x7531;&#x4E0A;&#x81F3;&#x4E0B; &#x5982;&#x679C;&#x662F;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;id&#x7684;&#x5E8F;&#x53F7;&#x4F1A;&#x9012;&#x589E;&#xFF0C;id&#x503C;&#x8D8A;&#x5927;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x9AD8;&#xFF0C;&#x8D8A;&#x5148;&#x88AB;&#x6267;&#x884C; id&#x5982;&#x679C;&#x76F8;&#x540C;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x4E00;&#x7EC4;&#xFF0C;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x987A;&#x5E8F;&#x6267;&#x884C;&#xFF1B;&#x5728;&#x6240;&#x6709;&#x7EC4;&#x4E2D;&#xFF0C;id&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x9AD8;&#xFF0C;&#x8D8A;&#x5148;&#x6267;&#x884C; select_type&#x8868;&#x793A;&#x67E5;&#x8BE2;&#x4E2D;&#x6BCF;&#x4E2A;select&#x5B50;&#x53E5;&#x7684;&#x7C7B;&#x578B;&#xFF08;&#x7B80;&#x5355; OR&#x590D;&#x6742;&#xFF09; a.SIMPLE&#xFF1A;&#x67E5;&#x8BE2;&#x4E2D;&#x4E0D;&#x5305;&#x542B;&#x5B50;&#x67E5;&#x8BE2;&#x6216;&#x8005;UNION b.&#x67E5;&#x8BE2;&#x4E2D;&#x82E5;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x590D;&#x6742;&#x7684;&#x5B50;&#x90E8;&#x5206;&#xFF0C;&#x6700;&#x5916;&#x5C42;&#x67E5;&#x8BE2;&#x5219;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#xFF1A;PRIMARY c.&#x5728;SELECT&#x6216;WHERE&#x5217;&#x8868;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x8BE5;&#x5B50;&#x67E5;&#x8BE2;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#xFF1A;SUBQUERY d.&#x5728;FROM&#x5217;&#x8868;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#xFF1A;DERIVED&#xFF08;&#x884D;&#x751F;&#xFF09; e.&#x82E5;&#x7B2C;&#x4E8C;&#x4E2A;SELECT&#x51FA;&#x73B0;&#x5728;UNION&#x4E4B;&#x540E;&#xFF0C;&#x5219;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;UNION&#xFF1B;&#x82E5;UNION&#x5305;&#x542B;&#x5728; FROM&#x5B50;&#x53E5;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5916;&#x5C42;SELECT&#x5C06;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#xFF1A;DERIVED f.&#x4ECE;UNION&#x8868;&#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x7684;SELECT&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#xFF1A;UNION RESULT type&#x8868;&#x793A;MySQL&#x5728;&#x8868;&#x4E2D;&#x627E;&#x5230;&#x6240;&#x9700;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x53C8;&#x79F0;&#x201C;&#x8BBF;&#x95EE;&#x7C7B;&#x578B;&#x201D;&#xFF0C;&#x5E38;&#x89C1;&#x7C7B;&#x578B;&#x5982;&#x4E0B;&#xFF1A; &#x7531;&#x5DE6;&#x81F3;&#x53F3;&#xFF0C;&#x7531;&#x6700;&#x5DEE;&#x5230;&#x6700;&#x597D; a.ALL&#xFF1A;Full Table Scan&#xFF0C; MySQL&#x5C06;&#x904D;&#x5386;&#x5168;&#x8868;&#x4EE5;&#x627E;&#x5230;&#x5339;&#x914D;&#x7684;&#x884C; b.index&#xFF1A;Full Index Scan&#xFF0C;index&#x4E0E;ALL&#x533A;&#x522B;&#x4E3A;index&#x7C7B;&#x578B;&#x53EA;&#x904D;&#x5386;&#x7D22;&#x5F15;&#x6811; c.range&#xFF1A;&#x7D22;&#x5F15;&#x8303;&#x56F4;&#x626B;&#x63CF;&#xFF0C;&#x5BF9;&#x7D22;&#x5F15;&#x7684;&#x626B;&#x63CF;&#x5F00;&#x59CB;&#x4E8E;&#x67D0;&#x4E00;&#x70B9;&#xFF0C;&#x8FD4;&#x56DE;&#x5339;&#x914D;&#x503C;&#x57DF;&#x7684;&#x884C;&#xFF0C;&#x5E38;&#x89C1;&#x4E8E;between&#x3001;&lt;&#x3001;&gt;&#x7B49;&#x7684;&#x67E5;&#x8BE2; range&#x8BBF;&#x95EE;&#x7C7B;&#x578B;&#x7684;&#x4E0D;&#x540C;&#x5F62;&#x5F0F;&#x7684;&#x7D22;&#x5F15;&#x8BBF;&#x95EE;&#x6027;&#x80FD;&#x5DEE;&#x5F02; d.ref&#xFF1A;&#x975E;&#x552F;&#x4E00;&#x6027;&#x7D22;&#x5F15;&#x626B;&#x63CF;&#xFF0C;&#x8FD4;&#x56DE;&#x5339;&#x914D;&#x67D0;&#x4E2A;&#x5355;&#x72EC;&#x503C;&#x7684;&#x6240;&#x6709;&#x884C;&#x3002;&#x5E38;&#x89C1;&#x4E8E;&#x4F7F;&#x7528;&#x975E;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x5373;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x7684;&#x975E;&#x552F;&#x4E00;&#x524D;&#x7F00;&#x8FDB;&#x884C;&#x7684;&#x67E5;&#x627E; e.eq_ref&#xFF1A;&#x552F;&#x4E00;&#x6027;&#x7D22;&#x5F15;&#x626B;&#x63CF;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x7D22;&#x5F15;&#x952E;&#xFF0C;&#x8868;&#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x4E0E;&#x4E4B;&#x5339;&#x914D;&#x3002;&#x5E38;&#x89C1;&#x4E8E;&#x4E3B;&#x952E;&#x6216;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x626B;&#x63CF; f.const&#x3001;system&#xFF1A;&#x5F53;MySQL&#x5BF9;&#x67E5;&#x8BE2;&#x67D0;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#xFF0C;&#x5E76;&#x8F6C;&#x6362;&#x4E3A;&#x4E00;&#x4E2A;&#x5E38;&#x91CF;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x7C7B;&#x578B;&#x8BBF;&#x95EE;&#x3002;&#x5982;&#x5C06;&#x4E3B;&#x952E;&#x7F6E;&#x4E8E;where&#x5217;&#x8868;&#x4E2D;&#xFF0C;MySQL&#x5C31;&#x80FD;&#x5C06;&#x8BE5;&#x67E5;&#x8BE2;&#x8F6C;&#x6362;&#x4E3A;&#x4E00;&#x4E2A;&#x5E38;&#x91CF; system&#x662F;const&#x7C7B;&#x578B;&#x7684;&#x7279;&#x4F8B;&#xFF0C;&#x5F53;&#x67E5;&#x8BE2;&#x7684;&#x8868;&#x53EA;&#x6709;&#x4E00;&#x884C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C; &#x4F7F;&#x7528;system g.NULL&#xFF1A;MySQL&#x5728;&#x4F18;&#x5316;&#x8FC7;&#x7A0B;&#x4E2D;&#x5206;&#x89E3;&#x8BED;&#x53E5;&#xFF0C;&#x6267;&#x884C;&#x65F6;&#x751A;&#x81F3;&#x4E0D;&#x7528;&#x8BBF;&#x95EE;&#x8868;&#x6216;&#x7D22;&#x5F15; possible_keys&#x6307;&#x51FA;MySQL&#x80FD;&#x4F7F;&#x7528;&#x54EA;&#x4E2A;&#x7D22;&#x5F15;&#x5728;&#x8868;&#x4E2D;&#x627E;&#x5230;&#x884C;&#xFF0C;&#x67E5;&#x8BE2;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x5B57;&#x6BB5;&#x4E0A;&#x82E5;&#x5B58;&#x5728;&#x7D22;&#x5F15;&#xFF0C;&#x5219;&#x8BE5;&#x7D22;&#x5F15;&#x5C06;&#x88AB;&#x5217;&#x51FA;&#xFF0C;&#x4F46;&#x4E0D;&#x4E00;&#x5B9A;&#x88AB;&#x67E5;&#x8BE2;&#x4F7F;&#x7528; key&#x663E;&#x793A;MySQL&#x5728;&#x67E5;&#x8BE2;&#x4E2D;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x82E5;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#xFF0C;&#x663E;&#x793A;&#x4E3A;NULLTIPS&#xFF1A;&#x67E5;&#x8BE2;&#x4E2D;&#x82E5;&#x4F7F;&#x7528;&#x4E86;&#x8986;&#x76D6;&#x7D22;&#x5F15;&#xFF0C;&#x5219;&#x8BE5;&#x7D22;&#x5F15;&#x4EC5;&#x51FA;&#x73B0;&#x5728;key&#x5217;&#x8868;&#x4E2D; key_len&#x8868;&#x793A;&#x7D22;&#x5F15;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x8BE5;&#x5217;&#x8BA1;&#x7B97;&#x67E5;&#x8BE2;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x7D22;&#x5F15;&#x7684;&#x957F;&#x5EA6; key_len&#x663E;&#x793A;&#x7684;&#x503C;&#x4E3A;&#x7D22;&#x5F15;&#x5B57;&#x6BB5;&#x7684;&#x6700;&#x5927;&#x53EF;&#x80FD;&#x957F;&#x5EA6;&#xFF0C;&#x5E76;&#x975E;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x957F;&#x5EA6;&#xFF0C;&#x5373;key_len&#x662F;&#x6839;&#x636E;&#x8868;&#x5B9A;&#x4E49;&#x8BA1;&#x7B97;&#x800C;&#x5F97;&#xFF0C;&#x4E0D;&#x662F;&#x901A;&#x8FC7;&#x8868;&#x5185;&#x68C0;&#x7D22;&#x51FA;&#x7684; ref&#x8868;&#x793A;&#x4E0A;&#x8FF0;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x5339;&#x914D;&#x6761;&#x4EF6;&#xFF0C;&#x5373;&#x54EA;&#x4E9B;&#x5217;&#x6216;&#x5E38;&#x91CF;&#x88AB;&#x7528;&#x4E8E;&#x67E5;&#x627E;&#x7D22;&#x5F15;&#x5217;&#x4E0A;&#x7684;&#x503C; &#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x7531;key_len&#x53EF;&#x77E5;t1&#x8868;&#x7684;idx_col1_col2&#x88AB;&#x5145;&#x5206;&#x4F7F;&#x7528;&#xFF0C;col1&#x5339;&#x914D;t2&#x8868;&#x7684;col1&#xFF0C;col2&#x5339;&#x914D;&#x4E86;&#x4E00;&#x4E2A;&#x5E38;&#x91CF;&#xFF0C;&#x5373; &#x2019;ac&#x2019; rows&#x8868;&#x793A;MySQL&#x6839;&#x636E;&#x8868;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x53CA;&#x7D22;&#x5F15;&#x9009;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x4F30;&#x7B97;&#x7684;&#x627E;&#x5230;&#x6240;&#x9700;&#x7684;&#x8BB0;&#x5F55;&#x6240;&#x9700;&#x8981;&#x8BFB;&#x53D6;&#x7684;&#x884C;&#x6570; Extra&#x5305;&#x542B;&#x4E0D;&#x9002;&#x5408;&#x5728;&#x5176;&#x4ED6;&#x5217;&#x4E2D;&#x663E;&#x793A;&#x4F46;&#x5341;&#x5206;&#x91CD;&#x8981;&#x7684;&#x989D;&#x5916;&#x4FE1;&#x606F; a.Using index &#x8BE5;&#x503C;&#x8868;&#x793A;&#x76F8;&#x5E94;&#x7684;select&#x64CD;&#x4F5C;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x8986;&#x76D6;&#x7D22;&#x5F15;&#xFF08;Covering Index&#xFF09; TIPS&#xFF1A;&#x8986;&#x76D6;&#x7D22;&#x5F15;&#xFF08;Covering Index&#xFF09; MySQL&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x8FD4;&#x56DE;select&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x6839;&#x636E;&#x7D22;&#x5F15;&#x518D;&#x6B21;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x6587;&#x4EF6; &#x5305;&#x542B;&#x6240;&#x6709;&#x6EE1;&#x8DB3;&#x67E5;&#x8BE2;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E;&#x7684;&#x7D22;&#x5F15;&#x79F0;&#x4E3A; &#x8986;&#x76D6;&#x7D22;&#x5F15;&#xFF08;Covering Index&#xFF09; &#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x8986;&#x76D6;&#x7D22;&#x5F15;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;select&#x5217;&#x8868;&#x4E2D;&#x53EA;&#x53D6;&#x51FA;&#x9700;&#x8981;&#x7684;&#x5217;&#xFF0C;&#x4E0D;&#x53EF;select *&#xFF0C;&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x5C06;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x4E00;&#x8D77;&#x505A;&#x7D22;&#x5F15;&#x4F1A;&#x5BFC;&#x81F4;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x8FC7;&#x5927;&#xFF0C;&#x67E5;&#x8BE2;&#x6027;&#x80FD;&#x4E0B;&#x964D; b.Using where &#x8868;&#x793A;MySQL&#x670D;&#x52A1;&#x5668;&#x5728;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x53D7;&#x5230;&#x8BB0;&#x5F55;&#x540E;&#x8FDB;&#x884C;&#x201C;&#x540E;&#x8FC7;&#x6EE4;&#x201D;&#xFF08;Post-filter&#xFF09;,&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x672A;&#x80FD;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#xFF0C;Using where&#x7684;&#x4F5C;&#x7528;&#x53EA;&#x662F;&#x63D0;&#x9192;&#x6211;&#x4EEC;MySQL&#x5C06;&#x7528;where&#x5B50;&#x53E5;&#x6765;&#x8FC7;&#x6EE4;&#x7ED3;&#x679C;&#x96C6; c.Using temporary &#x8868;&#x793A;MySQL&#x9700;&#x8981;&#x4F7F;&#x7528;&#x4E34;&#x65F6;&#x8868;&#x6765;&#x5B58;&#x50A8;&#x7ED3;&#x679C;&#x96C6;&#xFF0C;&#x5E38;&#x89C1;&#x4E8E;&#x6392;&#x5E8F;&#x548C;&#x5206;&#x7EC4;&#x67E5;&#x8BE2; d.Using filesort MySQL&#x4E2D;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x5B8C;&#x6210;&#x7684;&#x6392;&#x5E8F;&#x64CD;&#x4F5C;&#x79F0;&#x4E3A;&#x201C;&#x6587;&#x4EF6;&#x6392;&#x5E8F;&#x201D; MySQL&#x6267;&#x884C;&#x8BA1;&#x5212;&#x7684;&#x5C40;&#x9650; EXPLAIN&#x4E0D;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x5173;&#x4E8E;&#x89E6;&#x53D1;&#x5668;&#x3001;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x4FE1;&#x606F;&#x6216;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x5BF9;&#x67E5;&#x8BE2;&#x7684;&#x5F71;&#x54CD;&#x60C5;&#x51B5; EXPLAIN&#x4E0D;&#x8003;&#x8651;&#x5404;&#x79CD;Cache EXPLAIN&#x4E0D;&#x80FD;&#x663E;&#x793A;MySQL&#x5728;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x65F6;&#x6240;&#x4F5C;&#x7684;&#x4F18;&#x5316;&#x5DE5;&#x4F5C; &#x90E8;&#x5206;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x662F;&#x4F30;&#x7B97;&#x7684;&#xFF0C;&#x5E76;&#x975E;&#x7CBE;&#x786E;&#x503C; EXPALIN&#x53EA;&#x80FD;&#x89E3;&#x91CA;SELECT&#x64CD;&#x4F5C;&#xFF0C;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;&#x8981;&#x91CD;&#x5199;&#x4E3A;SELECT&#x540E;&#x67E5;&#x770B;&#x6267;&#x884C;&#x8BA1;&#x5212;]]></content>
      <categories>
        <category>db</category>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>mysql</tag>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mysql性能查询以及简单处理]]></title>
    <url>%2F2016%2F11%2F17%2Fmysql-performance%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x7531;&#x4E8E;&#x6700;&#x8FD1;&#x78B0;&#x5230;&#x5F88;&#x591A;&#x5173;&#x4E8E;mysql&#x6027;&#x80FD;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#xFF1A;cpu&#x3001;&#x5185;&#x5B58;&#x8DD1;&#x6EE1;&#xFF0C;&#x6216;&#x8005;&#x8FDE;&#x63A5;&#x6570;&#x8DD1;&#x6EE1;&#xFF08;rds&#xFF09;&#x7B49;&#xFF0C;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#x5728;&#x6392;&#x67E5;&#x8FC7;&#x7A0B;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x672C;&#x6587;&#x76EE;&#x524D;&#x5927;&#x90E8;&#x5206;&#x8D44;&#x6599;&#x6458;&#x81EA;&#x7F51;&#x7EDC;&#xFF0C;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x4E0D;&#x592A;&#x5B8C;&#x5584;&#xFF0C;&#x540E;&#x671F;&#x53EF;&#x80FD;&#x4F1A;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF08;&#x770B;&#x5FC3;&#x60C5;&#xFF09;&#x3002; 123456789101112131415show processlist;show full processlist;select * from information_scema.processlist;select concat(&apos;KILL &apos;,id,&apos;;&apos;) from information_schema.processlist where ...;show open tables;show status like &apos;%lock%&apos;;show engine innodb status\G;show variables like &apos;%timeout%&apos;;show status;show create table table_name;show index from table_name;show table status from table_name;show table status from db_name where name=&quot;table_name&quot;;alter table table_name engine=innodb;alter table table_name engine=myisam; &#x5927;&#x90E8;&#x5206;&#x8D44;&#x6599;&#x53D6;&#x81EA;&#x7F51;&#x7EDC; show processlist;&#x663E;&#x793A;&#x54EA;&#x4E9B;&#x7EBF;&#x7A0B;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x3002;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;mysqladmin processlist&#x8BED;&#x53E5;&#x5F97;&#x5230;&#x6B64;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x679C;&#x60A8;&#x6709;SUPER&#x6743;&#x9650;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x60A8;&#x53EA;&#x80FD;&#x770B;&#x5230;&#x60A8;&#x81EA;&#x5DF1;&#x7684;&#x7EBF;&#x7A0B;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#xFF0C;&#x4E0E;&#x60A8;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;MySQL&#x8D26;&#x6237;&#x76F8;&#x5173;&#x7684;&#x7EBF;&#x7A0B;&#xFF09;&#x3002; &#x5982;&#x679C;&#x60A8;&#x5F97;&#x5230;&#x201C;too many connections&#x201D;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x4E14;&#x60F3;&#x8981;&#x4E86;&#x89E3;&#x6B63;&#x5728;&#x53D1;&#x751F;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x672C;&#x8BED;&#x53E5;&#x662F;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x3002;MySQL&#x4FDD;&#x7559;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x8BA9;&#x62E5;&#x6709;SUPER&#x6743;&#x9650;&#x7684; &#x8D26;&#x6237;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x7BA1;&#x7406;&#x5458;&#x80FD;&#x591F;&#x968F;&#x65F6;&#x8FDE;&#x63A5;&#x548C;&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#xFF08;&#x5047;&#x8BBE;&#x60A8;&#x6CA1;&#x6709;&#x628A;&#x6B64;&#x6743;&#x9650;&#x7ED9;&#x4E88;&#x6240;&#x6709;&#x7684;&#x7528;&#x6237;&#xFF09;&#x3002; 12345678910show processlist;Id: &#x4F1A;&#x8BDD;idUser: &#x6267;&#x884C;&#x7528;&#x6237;Host: &#x6267;&#x884C;&#x4E3B;&#x673A;db: &#x6570;&#x636E;&#x5E93;&#x540D;Command: Time: &#x6267;&#x884C;&#x65F6;&#x95F4;State: &#x6570;&#x636E;&#x5E93;&#x72B6;&#x6001;&#xFF08;&#x91CD;&#x8981;&#xFF09;Info: &#x6267;&#x884C;sql&#xFF08;&#x524D;100&#x5B57;&#x7B26;&#xFF09; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5927;&#x81F4;&#x770B;&#x4E00;&#x4E0B;&#x662F;&#x5426;&#x6709;&#x5927;&#x91CF;&#x7C7B;&#x4F3C;&#x7684;sql&#xFF0C;&#x5982;&#x679C;&#x6709;&#xFF0C;&#x5219;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x5927;&#x91CF;&#x6027;&#x80FD;&#x5F88;&#x5DEE;&#x7684;sql&#x9020;&#x6210;&#x7684;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x67E5;&#x770B;&#x5B8C;&#x6574;sql&#x4FE1;&#x606F;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#xFF1A; 123show full processlist;orselect * from information_scema.processlist; &#x5982;&#x679C;&#x80FD;&#x5B9A;&#x4F4D;&#x5230;sql&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x4E0B;&#x4E00;&#x6B65;&#x5904;&#x7406;&#x4E86;&#x3002; &#x5982;&#x679C;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x5F71;&#x54CD;&#x4E0D;&#x5927;&#x7684;sql&#xFF08;&#x5982;select&#xFF0C;&#x4E00;&#x4E9B;&#x4E0D;&#x8981;&#x7D27;&#x3001;&#x5B9A;&#x65F6;&#x6267;&#x884C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x540E;&#x7EED;&#x91CD;&#x590D;&#x6267;&#x884C;&#x7684;update&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x4E34;&#x65F6;&#x901A;&#x8FC7;&#x6267;&#x884C;kill&#x6740;&#x6389;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#x3002; 1kill &#x4F1A;&#x8BDD;id&#xFF1B; &#x6279;&#x91CF;kill 1select concat(&apos;KILL &apos;,id,&apos;;&apos;) from information_schema.processlist where ...; kill&#x4F1A;&#x8BDD;&#x6BD5;&#x7ADF;&#x53EA;&#x662F;&#x4E34;&#x65F6;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x6CBB;&#x6807;&#x4E0D;&#x6CBB;&#x672C;&#xFF0C;&#x771F;&#x6B63;&#x8981;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x8FD8;&#x8981;&#x4ECE;&#x4F18;&#x5316;sql&#x5165;&#x624B;&#xFF08;&#x6CE8;&#xFF1A;sql&#x4F18;&#x5316;&#x8BF7;&#x770B;&#x53E6;&#x4E00;&#x7BC7;sql&#x6267;&#x884C;&#x8BA1;&#x5212;&#xFF09;&#x3002; &#x4EE5;&#x4E0B;&#x53D6;&#x81EA;&#x7F51;&#x7EDC; &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x4E2D;&#x6700;&#x5173;&#x952E;&#x7684;&#x5C31;&#x662F;state&#x5217;&#xFF0C;mysql&#x5217;&#x51FA;&#x7684;&#x72B6;&#x6001;&#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#xFF1A; Checking table: &#x6B63;&#x5728;&#x68C0;&#x67E5;&#x6570;&#x636E;&#x8868;&#xFF08;&#x8FD9;&#x662F;&#x81EA;&#x52A8;&#x7684;&#xFF09;&#x3002; Closing tables: &#x6B63;&#x5728;&#x5C06;&#x8868;&#x4E2D;&#x4FEE;&#x6539;&#x7684;&#x6570;&#x636E;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#xFF0C;&#x540C;&#x65F6;&#x6B63;&#x5728;&#x5173;&#x95ED;&#x5DF2;&#x7ECF;&#x7528;&#x5B8C;&#x7684;&#x8868;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x5FEB;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x786E;&#x8BA4;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x6EE1;&#x4E86;&#x6216;&#x8005;&#x78C1;&#x76D8;&#x662F;&#x5426;&#x6B63;&#x5904;&#x4E8E;&#x91CD;&#x8D1F;&#x4E2D;&#x3002; Connect Out: &#x590D;&#x5236;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x8FDE;&#x63A5;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x3002; Copying to tmp table on disk: &#x7531;&#x4E8E;&#x4E34;&#x65F6;&#x7ED3;&#x679C;&#x96C6;&#x5927;&#x4E8E;tmp_table_size&#xFF0C;&#x6B63;&#x5728;&#x5C06;&#x4E34;&#x65F6;&#x8868;&#x4ECE;&#x5185;&#x5B58;&#x5B58;&#x50A8;&#x8F6C;&#x4E3A;&#x78C1;&#x76D8;&#x5B58;&#x50A8;&#x4EE5;&#x6B64;&#x8282;&#x7701;&#x5185;&#x5B58;&#x3002; Creating tmp table: &#x6B63;&#x5728;&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x8868;&#x4EE5;&#x5B58;&#x653E;&#x90E8;&#x5206;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002; deleting from main table: &#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x6267;&#x884C;&#x591A;&#x8868;&#x5220;&#x9664;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x521A;&#x5220;&#x9664;&#x7B2C;&#x4E00;&#x4E2A;&#x8868;&#x3002; deleting from reference tables: &#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x6267;&#x884C;&#x591A;&#x8868;&#x5220;&#x9664;&#x4E2D;&#x7684;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#xFF0C;&#x6B63;&#x5728;&#x5220;&#x9664;&#x5176;&#x4ED6;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x3002; Flushing tables: &#x6B63;&#x5728;&#x6267;&#x884C;FLUSH TABLES&#xFF0C;&#x7B49;&#x5F85;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x5173;&#x95ED;&#x6570;&#x636E;&#x8868;&#x3002; Killed: &#x53D1;&#x9001;&#x4E86;&#x4E00;&#x4E2A;kill&#x8BF7;&#x6C42;&#x7ED9;&#x67D0;&#x7EBF;&#x7A0B;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#x5C06;&#x4F1A;&#x68C0;&#x67E5;kill&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x540C;&#x65F6;&#x4F1A;&#x653E;&#x5F03;&#x4E0B;&#x4E00;&#x4E2A;kill&#x8BF7;&#x6C42;&#x3002;MySQL&#x4F1A;&#x5728;&#x6BCF;&#x6B21;&#x7684;&#x4E3B;&#x5FAA;&#x73AF;&#x4E2D;&#x68C0;&#x67E5;kill&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x4E0D;&#x8FC7;&#x6709;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x8BE5;&#x7EBF;&#x7A0B;&#x53EF;&#x80FD;&#x4F1A;&#x8FC7;&#x4E00;&#x5C0F;&#x6BB5;&#x624D;&#x80FD;&#x6B7B;&#x6389;&#x3002;&#x5982;&#x679C;&#x8BE5;&#x7EBF;&#x7A0B;&#x7A0B;&#x88AB;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x9501;&#x4F4F;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;kill&#x8BF7;&#x6C42;&#x4F1A;&#x5728;&#x9501;&#x91CA;&#x653E;&#x65F6;&#x9A6C;&#x4E0A;&#x751F;&#x6548;&#x3002; Locked: &#x88AB;&#x5176;&#x4ED6;&#x67E5;&#x8BE2;&#x9501;&#x4F4F;&#x4E86;&#x3002; Sending data: &#x6B63;&#x5728;&#x5904;&#x7406;SELECT&#x67E5;&#x8BE2;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x540C;&#x65F6;&#x6B63;&#x5728;&#x628A;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002; Sorting for group: &#x6B63;&#x5728;&#x4E3A;GROUP BY&#x505A;&#x6392;&#x5E8F;&#x3002; Sorting for order: &#x6B63;&#x5728;&#x4E3A;ORDER BY&#x505A;&#x6392;&#x5E8F;&#x3002; Opening tables: &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5E94;&#x8BE5;&#x4F1A;&#x5F88;&#x5FEB;&#xFF0C;&#x9664;&#x975E;&#x53D7;&#x5230;&#x5176;&#x4ED6;&#x56E0;&#x7D20;&#x7684;&#x5E72;&#x6270;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x6267;ALTER TABLE&#x6216;LOCK TABLE&#x8BED;&#x53E5;&#x884C;&#x5B8C;&#x4EE5;&#x524D;&#xFF0C;&#x6570;&#x636E;&#x8868;&#x65E0;&#x6CD5;&#x88AB;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x6253;&#x5F00;&#x3002;&#x6B63;&#x5C1D;&#x8BD5;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x8868;&#x3002; Removing duplicates: &#x6B63;&#x5728;&#x6267;&#x884C;&#x4E00;&#x4E2A;SELECT DISTINCT&#x65B9;&#x5F0F;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x4F46;&#x662F;MySQL&#x65E0;&#x6CD5;&#x5728;&#x524D;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#x4F18;&#x5316;&#x6389;&#x90A3;&#x4E9B;&#x91CD;&#x590D;&#x7684;&#x8BB0;&#x5F55;&#x3002;&#x56E0;&#x6B64;&#xFF0C;MySQL&#x9700;&#x8981;&#x518D;&#x6B21;&#x53BB;&#x6389;&#x91CD;&#x590D;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x628A;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002; Reopen table: &#x83B7;&#x5F97;&#x4E86;&#x5BF9;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x9501;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x5728;&#x8868;&#x7ED3;&#x6784;&#x4FEE;&#x6539;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x8FD9;&#x4E2A;&#x9501;&#x3002;&#x5DF2;&#x7ECF;&#x91CA;&#x653E;&#x9501;&#xFF0C;&#x5173;&#x95ED;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x6B63;&#x5C1D;&#x8BD5;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8868;&#x3002; Repair by sorting: &#x4FEE;&#x590D;&#x6307;&#x4EE4;&#x6B63;&#x5728;&#x6392;&#x5E8F;&#x4EE5;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x3002; Repair with keycache: &#x4FEE;&#x590D;&#x6307;&#x4EE4;&#x6B63;&#x5728;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x7F13;&#x5B58;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x5730;&#x521B;&#x5EFA;&#x65B0;&#x7D22;&#x5F15;&#x3002;&#x5B83;&#x4F1A;&#x6BD4;Repair by sorting&#x6162;&#x4E9B;&#x3002; Searching rows for update: &#x6B63;&#x5728;&#x8BB2;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x8BB0;&#x5F55;&#x627E;&#x51FA;&#x6765;&#x4EE5;&#x5907;&#x66F4;&#x65B0;&#x3002;&#x5B83;&#x5FC5;&#x987B;&#x5728;UPDATE&#x8981;&#x4FEE;&#x6539;&#x76F8;&#x5173;&#x7684;&#x8BB0;&#x5F55;&#x4E4B;&#x524D;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x3002; Sleeping: &#x6B63;&#x5728;&#x7B49;&#x5F85;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x65B0;&#x8BF7;&#x6C42;. System lock: &#x6B63;&#x5728;&#x7B49;&#x5F85;&#x53D6;&#x5F97;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x7684;&#x7CFB;&#x7EDF;&#x9501;&#x3002;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x8FD0;&#x884C;&#x591A;&#x4E2A;mysqld&#x670D;&#x52A1;&#x5668;&#x540C;&#x65F6;&#x8BF7;&#x6C42;&#x540C;&#x4E00;&#x4E2A;&#x8868;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x589E;&#x52A0;&#x2013;skip-external-locking&#x53C2;&#x6570;&#x6765;&#x7981;&#x6B62;&#x5916;&#x90E8;&#x7CFB;&#x7EDF;&#x9501;&#x3002; Upgrading lock: INSERT DELAYED&#x6B63;&#x5728;&#x5C1D;&#x8BD5;&#x53D6;&#x5F97;&#x4E00;&#x4E2A;&#x9501;&#x8868;&#x4EE5;&#x63D2;&#x5165;&#x65B0;&#x8BB0;&#x5F55;&#x3002; Updating: &#x6B63;&#x5728;&#x641C;&#x7D22;&#x5339;&#x914D;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x5E76;&#x4E14;&#x4FEE;&#x6539;&#x5B83;&#x4EEC;&#x3002; User Lock: &#x6B63;&#x5728;&#x7B49;&#x5F85;GET_LOCK()&#x3002; Waiting for tables: &#x8BE5;&#x7EBF;&#x7A0B;&#x5F97;&#x5230;&#x901A;&#x77E5;&#xFF0C;&#x6570;&#x636E;&#x8868;&#x7ED3;&#x6784;&#x5DF2;&#x7ECF;&#x88AB;&#x4FEE;&#x6539;&#x4E86;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8868;&#x4EE5;&#x53D6;&#x5F97;&#x65B0;&#x7684;&#x7ED3;&#x6784;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x4E3A;&#x4E86;&#x80FD;&#x7684;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x5FC5;&#x987B;&#x7B49;&#x5230;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x5173;&#x95ED;&#x8FD9;&#x4E2A;&#x8868;&#x3002;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x4EA7;&#x751F;&#x8FD9;&#x4E2A;&#x901A;&#x77E5;&#xFF1A;FLUSH TABLES tbl_name, ALTER TABLE, RENAME TABLE, REPAIR TABLE, ANALYZE TABLE,&#x6216;OPTIMIZE TABLE&#x3002; waiting for handler insert: INSERT DELAYED&#x5DF2;&#x7ECF;&#x5904;&#x7406;&#x5B8C;&#x4E86;&#x6240;&#x6709;&#x5F85;&#x5904;&#x7406;&#x7684;&#x63D2;&#x5165;&#x64CD;&#x4F5C;&#xFF0C;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x65B0;&#x7684;&#x8BF7;&#x6C42;&#x3002;&#x3000;&#x5927;&#x90E8;&#x5206;&#x72B6;&#x6001;&#x5BF9;&#x5E94;&#x5F88;&#x5FEB;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x53EA;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4FDD;&#x6301;&#x540C;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x597D;&#x51E0;&#x79D2;&#x949F;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x80FD;&#x662F;&#x6709;&#x95EE;&#x9898;&#x53D1;&#x751F;&#x4E86;&#xFF0C;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x4E00;&#x4E0B;&#x3002; &#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x72B6;&#x6001;&#x6CA1;&#x5728;&#x4E0A;&#x9762;&#x4E2D;&#x5217;&#x51FA;&#x6765;&#xFF0C;&#x4E0D;&#x8FC7;&#x5B83;&#x4EEC;&#x5927;&#x90E8;&#x5206;&#x53EA;&#x662F;&#x5728;&#x67E5;&#x770B;&#x670D;&#x52A1;&#x5668;&#x662F;&#x5426;&#x6709;&#x5B58;&#x5728;&#x9519;&#x8BEF;&#x662F;&#x624D;&#x7528;&#x5F97;&#x7740;&#x3002; show open tables;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x80FD;&#x591F;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x6709;&#x90A3;&#x4E9B;&#x8868;&#x662F;&#x6253;&#x5F00;&#x7684;&#x3002; 1234567show open tables;show open tables from database(&#x5E93;&#x540D;);Database: &#x6570;&#x636E;&#x5E93;&#x540D;Table: &#x8868;&#x540D;In_use: &#x6709;&#x591A;&#x5C11;&#x7EBF;&#x7A0B;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x67D0;&#x5F20;&#x8868;Name_locked: &#x8868;&#x662F;&#x5426;&#x88AB;&#x9501;&#xFF0C;&#x8FD9;&#x4E00;&#x822C;&#x53D1;&#x751F;&#x5728;Drop&#x6216;Rename&#x547D;&#x4EE4;&#x64CD;&#x4F5C;&#x8FD9;&#x5F20;&#x8868;&#x65F6;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x901A;&#x5E38;&#x4E0D;&#x80FD;&#x5E2E;&#x52A9;&#x89E3;&#x7B54;&#x6211;&#x4EEC;&#x5E38;&#x89C1;&#x7684;&#x95EE;&#x9898;&#xFF1A;&#x5F53;&#x524D;&#x67D0;&#x5F20;&#x8868;&#x662F;&#x5426;&#x6709;&#x6B7B;&#x9501;&#xFF0C;&#x8C01;&#x62E5;&#x6709;&#x8868;&#x4E0A;&#x7684;&#x8FD9;&#x4E2A;&#x9501;&#x7B49;&#xFF1B;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x770B;&#x5230;&#x5F53;&#x524D;&#x54EA;&#x4E2A;&#x8868;&#x88AB;&#x5927;&#x91CF;sql&#x64CD;&#x4F5C;&#xFF0C;&#x4EE5;&#x6B64;&#x6765;&#x9488;&#x5BF9;&#x67D0;&#x4E2A;&#x4E1A;&#x52A1;&#x6A21;&#x5757;&#x7684;sql&#x8FDB;&#x884C;&#x4F18;&#x5316;&#x3002; show status like &#x2018;%lock%&#x2019;;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x9501;&#x72B6;&#x6001; show engine innodb status\G;&#x67E5;&#x770B;innodb&#x5F15;&#x64CE;&#x72B6;&#x6001; show variables like &#x2018;%timeout%&#x2019;;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x8D85;&#x65F6;&#x60C5;&#x51B5; show status;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x5F53;&#x524D;&#x72B6;&#x6001; 1234567891011121314151617181920212223242526272829303132Aborted_clients &#x7531;&#x4E8E;&#x5BA2;&#x6237;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x5DF2;&#x7ECF;&#x6B7B;&#x6389;&#xFF0C;&#x5DF2;&#x7ECF;&#x653E;&#x5F03;&#x7684;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x3002; Aborted_connects &#x5C1D;&#x8BD5;&#x5DF2;&#x7ECF;&#x5931;&#x8D25;&#x7684;MySQL&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x63A5;&#x7684;&#x6B21;&#x6570;&#x3002; Connections &#x8BD5;&#x56FE;&#x8FDE;&#x63A5;MySQL&#x670D;&#x52A1;&#x5668;&#x7684;&#x6B21;&#x6570;&#x3002; Created_tmp_tables &#x5F53;&#x6267;&#x884C;&#x8BED;&#x53E5;&#x65F6;&#xFF0C;&#x5DF2;&#x7ECF;&#x88AB;&#x521B;&#x9020;&#x4E86;&#x7684;&#x9690;&#x542B;&#x4E34;&#x65F6;&#x8868;&#x7684;&#x6570;&#x91CF;&#x3002; Delayed_insert_threads &#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x5EF6;&#x8FDF;&#x63D2;&#x5165;&#x5904;&#x7406;&#x5668;&#x7EBF;&#x7A0B;&#x7684;&#x6570;&#x91CF;&#x3002; Delayed_writes &#x7528;INSERT DELAYED&#x5199;&#x5165;&#x7684;&#x884C;&#x6570;&#x3002; Delayed_errors &#x7528;INSERT DELAYED&#x5199;&#x5165;&#x7684;&#x53D1;&#x751F;&#x67D0;&#x4E9B;&#x9519;&#x8BEF;(&#x53EF;&#x80FD;&#x91CD;&#x590D;&#x952E;&#x503C;)&#x7684;&#x884C;&#x6570;&#x3002; Flush_commands &#x6267;&#x884C;FLUSH&#x547D;&#x4EE4;&#x7684;&#x6B21;&#x6570;&#x3002; Handler_delete &#x8BF7;&#x6C42;&#x4ECE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x5220;&#x9664;&#x884C;&#x7684;&#x6B21;&#x6570;&#x3002; Handler_read_first &#x8BF7;&#x6C42;&#x8BFB;&#x5165;&#x8868;&#x4E2D;&#x7B2C;&#x4E00;&#x884C;&#x7684;&#x6B21;&#x6570;&#x3002; Handler_read_key &#x8BF7;&#x6C42;&#x6570;&#x5B57;&#x57FA;&#x4E8E;&#x952E;&#x8BFB;&#x884C;&#x3002; Handler_read_next &#x8BF7;&#x6C42;&#x8BFB;&#x5165;&#x57FA;&#x4E8E;&#x4E00;&#x4E2A;&#x952E;&#x7684;&#x4E00;&#x884C;&#x7684;&#x6B21;&#x6570;&#x3002; Handler_read_rnd &#x8BF7;&#x6C42;&#x8BFB;&#x5165;&#x57FA;&#x4E8E;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x4F4D;&#x7F6E;&#x7684;&#x4E00;&#x884C;&#x7684;&#x6B21;&#x6570;&#x3002; Handler_update &#x8BF7;&#x6C42;&#x66F4;&#x65B0;&#x8868;&#x4E2D;&#x4E00;&#x884C;&#x7684;&#x6B21;&#x6570;&#x3002; Handler_write &#x8BF7;&#x6C42;&#x5411;&#x8868;&#x4E2D;&#x63D2;&#x5165;&#x4E00;&#x884C;&#x7684;&#x6B21;&#x6570;&#x3002; Key_blocks_used &#x7528;&#x4E8E;&#x5173;&#x952E;&#x5B57;&#x7F13;&#x5B58;&#x7684;&#x5757;&#x7684;&#x6570;&#x91CF;&#x3002; Key_read_requests &#x8BF7;&#x6C42;&#x4ECE;&#x7F13;&#x5B58;&#x8BFB;&#x5165;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#x7684;&#x6B21;&#x6570;&#x3002;Key_reads &#x4ECE;&#x78C1;&#x76D8;&#x7269;&#x7406;&#x8BFB;&#x5165;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#x7684;&#x6B21;&#x6570;&#x3002; Key_write_requests &#x8BF7;&#x6C42;&#x5C06;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#x5757;&#x5199;&#x5165;&#x7F13;&#x5B58;&#x6B21;&#x6570;&#x3002; Key_writes &#x5C06;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#x5757;&#x7269;&#x7406;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x7684;&#x6B21;&#x6570;&#x3002; Max_used_connections &#x540C;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x8FDE;&#x63A5;&#x7684;&#x6700;&#x5927;&#x6570;&#x76EE;&#x3002; Not_flushed_key_blocks &#x5728;&#x952E;&#x7F13;&#x5B58;&#x4E2D;&#x5DF2;&#x7ECF;&#x6539;&#x53D8;&#x4F46;&#x662F;&#x8FD8;&#x6CA1;&#x88AB;&#x6E05;&#x7A7A;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x952E;&#x5757;&#x3002; Not_flushed_delayed_rows &#x5728;INSERT DELAY&#x961F;&#x5217;&#x4E2D;&#x7B49;&#x5F85;&#x5199;&#x5165;&#x7684;&#x884C;&#x7684;&#x6570;&#x91CF;&#x3002; Open_tables &#x6253;&#x5F00;&#x8868;&#x7684;&#x6570;&#x91CF;&#x3002; Open_files &#x6253;&#x5F00;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x91CF;&#x3002; Open_streams &#x6253;&#x5F00;&#x6D41;&#x7684;&#x6570;&#x91CF;(&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x65E5;&#x5FD7;&#x8BB0;&#x8F7D;&#xFF09; Opened_tables &#x5DF2;&#x7ECF;&#x6253;&#x5F00;&#x7684;&#x8868;&#x7684;&#x6570;&#x91CF;&#x3002; Questions &#x53D1;&#x5F80;&#x670D;&#x52A1;&#x5668;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x91CF;&#x3002; Slow_queries &#x8981;&#x82B1;&#x8D85;&#x8FC7;long_query_time&#x65F6;&#x95F4;&#x7684;&#x67E5;&#x8BE2;&#x6570;&#x91CF;&#x3002; Threads_connected &#x5F53;&#x524D;&#x6253;&#x5F00;&#x7684;&#x8FDE;&#x63A5;&#x7684;&#x6570;&#x91CF;&#x3002; Threads_running &#x4E0D;&#x5728;&#x7761;&#x7720;&#x7684;&#x7EBF;&#x7A0B;&#x6570;&#x91CF;&#x3002; Uptime &#x670D;&#x52A1;&#x5668;&#x5DE5;&#x4F5C;&#x4E86;&#x591A;&#x5C11;&#x79D2;&#x3002; &#x5F00;&#x542F;&#x6162;&#x67E5;&#x8BE2;&#x65E5;&#x5FD7;&#x5728;my.ini&#x4E2D;&#xFF1A; 12long_query_time=1 log-slow-queries=/data/logs/mysql_log/mysqlslow.log &#x628A;&#x8D85;&#x8FC7;1&#x79D2;&#x7684;&#x8BB0;&#x5F55;&#x5728;&#x6162;&#x67E5;&#x8BE2;&#x65E5;&#x5FD7;&#x4E2D; &#x53EF;&#x4EE5;&#x7528;mysqlsla&#x6765;&#x5206;&#x6790;&#x4E4B;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;mysqlreport&#x4E2D;&#xFF0C;&#x6709;&#x5982; DMS&#x5206;&#x522B;&#x5206;&#x6790;&#x4E86;select ,update,insert,delete,replace&#x7B49;&#x6240;&#x5360;&#x7684;&#x767E;&#x5206;&#x6BD4; MYSQL&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;&#x9879;1innodb_flush_log_at_trx_commit=1 &#x8868;&#x793A;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#x7ACB;&#x5373;&#x628A;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;flush&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x540C;&#x65F6;&#x6570;&#x636E;&#x548C;&#x7D22;&#x5F15;&#x4E5F;&#x66F4;&#x65B0;&#xFF0C;&#x5F88;&#x8D39;&#x6027;&#x80FD;&#x3002; 1innodb_flush_log_at_trx_commit=0 &#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x4E0D;&#x7ACB;&#x5373;&#x628A;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x6BCF;&#x9694;1&#x79D2;&#x5199;&#x4E00;&#x6B21;&#xFF0C;MySQL&#x6302;&#x4E86;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5931;&#x4E8B;&#x52A1;&#x7684;&#x6570;&#x636E;&#x3002; 1innodb_flush_log_at_trx_commit=2 &#x5728;&#x6574;&#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF; &#x6302;&#x4E86;&#x65F6;&#x624D;&#x53EF;&#x80FD;&#x4E22;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x4E22;&#x5931;&#x8D85;&#x8FC7;1-2&#x79D2;&#x7684;&#x66F4;&#x65B0;&#x3002; &#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x7ACB;&#x5373;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#xFF08;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x5199;&#x5165;&#x5230;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x4F46;&#x4E0D;&#x7ACB;&#x5373;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x800C;&#x662F;&#x6BCF;&#x9694;1&#x79D2;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x540C;&#x65F6;&#x66F4;&#x65B0;&#x6570;&#x636E;&#x548C;&#x7D22;&#x5F15;&#xFF09;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x662F;&#x4E0D;&#x662F;&#x6027;&#x4EF7;&#x6BD4;&#x597D;&#x4E00;&#x4E9B;&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x4F55;&#x914D;&#x7F6E;&#xFF0C;&#x51B3;&#x5B9A;&#x4E8E;&#x4F60;&#x5BF9;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#x7684;&#x8981;&#x6C42;]]></content>
      <categories>
        <category>db</category>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker registry v2 私有仓库搭建]]></title>
    <url>%2F2016%2F11%2F16%2Fdocker-registry%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x7531;&#x4E8E;&#x6700;&#x8FD1;&#x5728;&#x505A;&#x4E00;&#x4E2A;docker&#x8FC1;&#x79FB;&#x9879;&#x76EE;&#xFF0C;&#x539F;&#x73AF;&#x5883;&#x662F;&#x4E00;&#x5957;&#x4E70;&#x6765;&#x7684;&#xFF0C;&#x73B0;&#x5728;&#x4E0D;&#x7528;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x4E58;&#x7740;&#x8FD9;&#x4E2A;&#x673A;&#x4F1A;&#x5C31;&#x6574;&#x4E2A;&#x73AF;&#x5883;&#x91CD;&#x65B0;&#x642D;&#x5EFA;&#x4E86;&#xFF0C;&#x7F51;&#x4E0A;&#x627E;&#x4E86;&#x4E00;&#x5806;&#x4E71;&#x4E03;&#x516B;&#x7CDF;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x770B;&#x7740;&#x90FD;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#xFF0C;&#x6700;&#x7EC8;&#x6574;&#x5408;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x7ECF;&#x8FC7;&#x81EA;&#x5DF1;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x7EC8;&#x4E8E;&#x8C03;&#x901A;&#x4E86;&#x3002; &#x5B89;&#x88C5;docker1234567apt update &amp;&amp; apt upgradeapt install -y curlcurl https://get.docker.com | shapt-get install -y sysv-rc-confsysv-rc-conf&#x5C06;docker&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F; &#x91CD;&#x5EFA;docker0&#x7F51;&#x6865;123456789apt-get install bridge-utils/etc/init.d/docker stopip link set dev docker0 downbrctl delbr docker0brctl addbr docker0ip addr add 172.30.1.1/24 dev docker0ip link set dev docker0 up/etc/init.d/docker start &#x4E0B;&#x8F7D;docker registry &#x955C;&#x50CF;1docker pull registry registry &#x6D4B;&#x8BD5; &#x542F;&#x52A8;&#x6D4B;&#x8BD5;12345678docker run -d -p 5000:5000 \--restart=always --name registry \-v /data/registry:/var/lib/registry registrydocker ps &#x53EF;&#x4EE5;&#x770B;&#x5230;registry&#x5BB9;&#x5668;netstat -ntlp &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x76D1;&#x542C;5000&#x7AEF;&#x53E3;curl http://127.0.0.1:5000/v2/_catalog&#x770B;&#x5230;&#x8FD4;&#x56DE; {} &#x8868;&#x793A;registry&#x8FD0;&#x884C;&#x6B63;&#x5E38; &#x63A8;&#x9001;&#x9A8C;&#x8BC1;1234docker tag alpine 172.16.7.3:5000/myalpinedocker push 172.16.7.3:5000/myalpine&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x63A8;&#x9001;&#x8BF4;&#x660E;&#x642D;&#x5EFA;&#x6210;&#x529F; &#x5E26;&#x9A8C;&#x8BC1;&#x7684;registry&#x521B;&#x5EFA;&#x672C;&#x5730;&#x76EE;&#x5F55;1mkdir -p /data/registry/{registry,conf,auth} &#x751F;&#x6210;&#x7528;&#x6237;&#x548C;&#x5BC6;&#x7801;12cd /data/registry/authdocker run --entrypoint htpasswd registry -Bbn httx httx_password &gt; htpasswd; &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;123456789101112131415161718192021cd /data/registry/confvim config.yml version: 0.1 log: fields: service: registry storage: cache: blobdescriptor: inmemory filesystem: rootdirectory: /var/lib/registry http: addr: :5000 headers: X-Content-Type-Options: [nosniff] health: storagedriver: enabled: true interval: 10s threshold: 3 &#x542F;&#x52A8;&#x547D;&#x4EE4;12345678docker run -d -p 5000:5000 \--restart=always --name registry \-v /data/registry/auth:/auth \-e &quot;REGISTRY_AUTH=htpasswd&quot; \-e &quot;REGISTRY_AUTH_HTPASSWD_REALM=Registry Realm&quot; \-e &quot;REGISTRY_AUTH_HTPASSWD_PATH=/auth/htpasswd&quot; \-v /data/registry/conf:/etc/docker/registry/ \-v /data/registry/registry:/var/lib/registry registry &#x9A8C;&#x8BC1;&#x6D4B;&#x8BD5;123docker login http://172.16.7.3:5000docker push 172.16.7.3:5000/myalpinecurl http://httx:httx_password@127.0.0.1:5000/v2/_catalog &#x7ED9;registry&#x6DFB;&#x52A0;nginx+https&#x4EE3;&#x7406;&#x9A8C;&#x8BC1;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;nginx1.9.15&#x3001;&#x521B;&#x5EFA;ngxin&#x542F;&#x52A8;&#x6587;&#x4EF6;&#x3001;&#x521B;&#x5EFA;nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BF7;&#x53C2;&#x7167;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0; nginx1.9.15 &#x7F16;&#x8BD1;&#x5B89;&#x88C5; &#x5236;&#x4F5C;ca&#x8BC1;&#x4E66;1234567891011121314151617181920cd /usr/local/nginx/conf/sslmkdir -p demoCA/newcertstouch demoCA/index.txtecho 01 &gt; demoCA/serial# &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x4E0D;&#x9519;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x9519;Using configuration from /usr/lib/ssl/openssl.cnfEnter pass phrase for ca.key:I am unable to access the ./demoCA/newcerts directory./demoCA/newcerts: No such file or directory&#x751F;&#x6210;&#x6839;&#x8BC1;&#x4E66;openssl genrsa -out ca.key 2048openssl req -new -x509 -days 7305 -key ca.key -out ca.crt# &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;CN&#x4E00;&#x5B9A;&#x8981;&#x5929;&#x586B;&#x5199;&#x4F60;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x4E00;&#x81F4;Common Name (e.g. server FQDN or YOUR name) []:opreg.chinawayltd.comEmail Address []:xxx@163.com &#x751F;&#x6210;&#x670D;&#x52A1;&#x7AEF;&#x8BC1;&#x4E66;&#x5E76;&#x7528;ca&#x8BC1;&#x4E66;&#x8BA4;&#x8BC1;123456789101112131415openssl genrsa -out opreg.key 2048openssl req -new -key opreg.key -out opreg.chinawayltd.com.csr# &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;CN&#x4E00;&#x5B9A;&#x8981;&#x5929;&#x586B;&#x5199;&#x4F60;&#x7684;&#x57DF;&#x540D;&#xFF0C; &#x8DDF;&#x524D;&#x9762;&#x7684;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x4E00;&#x81F4;Common Name (e.g. server FQDN or YOUR name) []:opreg.chinawayltd.comEmail Address []:xxx@163.com# challenge password &#x4E00;&#x5B9A;&#x8981;&#x4E3A;&#x7A7A;openssl ca -policy policy_anything -days 1460 -cert ca.crt -keyfile ca.key -in opreg.chinawayltd.com.csr -out opreg.chinawayltd.com.crtmkdir -p /etc/docker/certs.d/opreg.chinawayltd.com/cp ca.crt /etc/docker/certs.d/opreg.chinawayltd.com/ &#x751F;&#x6210;&#x9A8C;&#x8BC1;&#x6587;&#x4EF6;1htpasswd -c conf/.htpasswd httx &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x4E3B;&#x673A;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667vim conf/vhosts/opreg.confupstream docker-registry { server 127.0.0.1:5000;}server { listen 443 default_server; server_name opreg.chinawayltd.com; ssl on; ssl_certificate /usr/local/nginx/conf/ssl/opreg.chinawayltd.com.crt; ssl_certificate_key /usr/local/nginx/conf/ssl/opreg.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP; ssl_prefer_server_ciphers on; ssl_session_cache shared:demo-pay:4m; # set HSTS-Header because we only allow https traffic add_header Strict-Transport-Security &quot;max-age=31536000; includeSubdomains&quot;; proxy_set_header Host $http_host; # required for Docker client sake proxy_set_header X-Real-IP $remote_addr; # pass on real client IP client_max_body_size 0; # disable any limits to avoid HTTP 413 for large image uploads # required to avoid HTTP 411: see Issue #1486 (https://github.com/dotcloud/docker/issues/1486) chunked_transfer_encoding on; location / { # let Nginx know about our auth file auth_basic &quot;Restricted&quot;; auth_basic_user_file /usr/local/nginx/conf/.htpasswd; proxy_pass http://docker-registry; } location /_ping { auth_basic off; proxy_pass http://docker-registry; } location /v1/_ping { auth_basic off; proxy_pass http://docker-registry; } location /v2/ { if ($http_user_agent ~ &quot;^(docker\/1\.(3|4|5(?!\.[0-9]-dev))|Go ).*\$&quot; ) { return 404; } # To add basic authentication to v2 use auth_basic setting plus add_header auth_basic &quot;Registry realm&quot;; auth_basic_user_file /usr/local/nginx/conf/.htpasswd; # tengine 2.1.2 add_header &apos;Docker-Distribution-Api-Version&apos; &apos;registry/2.0&apos;; # nginx 1.9.15 #add_header &apos;Docker-Distribution-Api-Version&apos; &apos;registry/2.0&apos; always; proxy_pass http://docker-registry; proxy_set_header Host $http_host; # required for docker client&apos;s sake proxy_set_header X-Real-IP $remote_addr; # pass on real client&apos;s IP proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_read_timeout 900; }} client &#x914D;&#x7F6E;&#x5C06;&#x81EA;&#x7B7E;ca&#x8BC1;&#x4E66;&#x53D1;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF; 12mkdir -p /etc/docker/certs.d/opreg.chinawayltd.com/scp 172.16.7.1:/etc/docker/certs.d/opreg.chinawayltd.com/ca.crt /etc/docker/certs.d/opreg.chinawayltd.com/ docker api &#x4EE5;&#x4E0B;&#x5173;&#x4E8E;docker registry api &#x7684;&#x5185;&#x5BB9;&#x53D6;&#x81EA;&#xFF08;http://blog.csdn.net/ztsinghua/article/details/51496658&#xFF09; docker registry v2&#x7248;&#x672C;&#x7684;http api &#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x5408;&#x9002;&#x7684;&#xFF0C;&#x81EA;&#x5DF1;&#x901A;&#x8FC7;&#x9605;&#x8BFB;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x6574;&#x7406;&#x4E86;&#x4E00;&#x4E0B;&#x3002;&#x6982;&#x8981; method path Entity Description GET /v2/ Base Check that the endpoint implements Docker Registry API V2. GET /v2//tags/list Tags Fetch the tags under the repository identified by name. GET /v2//manifests/ Manifest Fetch the manifest identified by nameand referencewhere referencecan be a tag or digest. A HEADrequest can also be issued to this endpoint to obtain resource information without receiving all data. PUT /v2//manifests/ Manifest Put the manifest identified by nameand referencewhere referencecan be a tag or digest. DELETE /v2//manifests/ Manifest Delete the manifest identified by nameand reference. Note that a manifest can only be deleted by digest. GET /v2//blobs/ Blob Retrieve the blob from the registry identified bydigest. A HEADrequest can also be issued to this endpoint to obtain resource information without receiving all data. DELETE /v2//blobs/ Blob Delete the blob identified by nameand digest POST /v2//blobs/uploads/ Initiate Blob Upload Initiate a resumable blob upload. If successful, an upload location will be provided to complete the upload. Optionally, if thedigest parameter is present, the request body will be used to complete the upload in a single request. GET /v2//blobs/uploads/ Blob Upload Retrieve status of upload identified byuuid. The primary purpose of this endpoint is to resolve the current status of a resumable upload. PATCH /v2//blobs/uploads/ Blob Upload Upload a chunk of data for the specified upload. PUT /v2//blobs/uploads/ Blob Upload Complete the upload specified by uuid, optionally appending the body as the final chunk. DELETE /v2//blobs/uploads/ Blob Upload Cancel outstanding upload processes, releasing associated resources. If this is not called, the unfinished uploads will eventually timeout. GET /v2/_catalog Catalog Retrieve a sorted, json list of repositories available in the registry. &#x4E13;&#x6709;&#x540D;&#x8BCD;&#x89E3;&#x91CA;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247repository name&#xFF08;&#x5B58;&#x50A8;&#x5E93;&#x540D;&#x79F0;&#xFF09;&#x5B58;&#x50A8;&#x5E93;&#x6307;&#x5728;&#x5E93;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x955C;&#x50CF;&#x8BED;&#x6CD5;&#x7ECF;&#x5178;&#x5B58;&#x50A8;&#x5E93;&#x540D;&#x79F0;&#x7531;&#x4E24;&#x7EA7;&#x8DEF;&#x5F84;&#x6784;&#x6210;&#xFF0C;&#x6BCF;&#x7EA7;&#x8DEF;&#x5F84;&#x5C0F;&#x4E8E;30&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;v2&#x7684;api&#x4E0D;&#x5F3A;&#x5236;&#x8981;&#x6C42;&#x8FD9;&#x6837;&#x7684;&#x683C;&#x5F0F;&#x6BCF;&#x7EA7;&#x8DEF;&#x5F84;&#x540D;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x6216;&#x8005;&#x6570;&#x5B57;&#xFF0C;&#x4F7F;&#x7528;&#x53E5;&#x53F7;&#xFF0C;&#x7834;&#x6298;&#x53F7;&#x548C;&#x4E0B;&#x5212;&#x7EBF;&#x5206;&#x9694;&#x3002; &#x66F4;&#x4E25;&#x683C;&#x6765;&#x8BF4;&#xFF0C;&#x5B83;&#x5FC5;&#x987B;&#x7B26;&#x5408;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;[a-z0-9]+(?:[._-][a-z0-9]+)*&#x591A;&#x7EA7;&#x8DEF;&#x5F84;&#x7528;/&#x5206;&#x9694;&#x5B58;&#x50A8;&#x5E93;&#x540D;&#x79F0;&#x603B;&#x957F;&#x5EA6;&#xFF08;&#x5305;&#x62EC;/&#xFF09;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;256&#x4E2A;&#x5B57;&#x7B26;digest&#xFF08;&#x6982;&#x8981;&#xFF09;&#x6982;&#x8981;&#x662F;&#x955C;&#x50CF;&#x5404;&#x4E2A;&#x5C42;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x3002;&#x867D;&#x7136;&#x7B97;&#x6CD5;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x7B97;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x517C;&#x5BB9;&#x6027;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;sha256&#x3002;&#x4F8B;&#xFF1A;sha256:6c3c624b58dbbcd3c0dd82b4c53f04194d1247c6eebdaab7c610cf7d66709b3b&#x8BED;&#x6CD5;digest := algorithm &quot;:&quot; hexalgorithm := /[A-Fa-f0-9_+.-]+/hex := /[A-Fa-f0-9]+/&#x751F;&#x6210;&#x6458;&#x8981;&#x7684;&#x4F2A;&#x4EE3;&#x7801;let C = &apos;a small string&apos;let B = sha256(C)let D = &apos;sha256:&apos; + EncodeHex(B)let ID(C) = DPULL&#x955C;&#x50CF;&#x8FC7;&#x7A0B;&#x955C;&#x50CF;&#x7531;&#x4E00;&#x4E2A;json&#x6E05;&#x5355;&#x548C; &#x5C42;&#x53E0;&#x6587;&#x4EF6;&#x7EC4;&#x6210;&#xFF0C;pull&#x955C;&#x50CF;&#x7684;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x68C0;&#x7D22;&#x8FD9;&#x4E24;&#x4E2A;&#x7EC4;&#x4EF6;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x62C9;&#x53D6;&#x955C;&#x50CF;&#x7684;&#x7B2C;&#x4E00;&#x6B65;&#x5C31;&#x662F;&#x83B7;&#x53D6;&#x6E05;&#x5355;&#xFF0C;&#x6E05;&#x5355;&#x7531;&#x4E0B;&#x9762;&#x51E0;&#x4E2A;&#x5B57;&#x6BB5;&#x7EC4;&#x6210;&#xFF1A;&#x5B57;&#x6BB5; &#x63CF;&#x8FF0;name &#x955C;&#x50CF;&#x540D;&#x79F0;tag &#x955C;&#x50CF;&#x5F53;&#x524D;&#x7248;&#x672C;&#x7684;tagfsLayers &#x5C42;&#x63CF;&#x8FF0;&#x5217;&#x8868;(&#x5305;&#x542B;&#x6458;&#x8981;)signature &#x4E00;&#x4E2A;JWS&#x7B7E;&#x540D;&#xFF0C;&#x7528;&#x6765;&#x9A8C;&#x8BC1;&#x6E05;&#x5355;&#x5185;&#x5BB9;&#x5F53;&#x83B7;&#x53D6;&#x6E05;&#x5355;&#x4E4B;&#x540E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x9A8C;&#x8BC1;&#x7B7E;&#x540D;&#xFF08;signature&#xFF09;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x540D;&#x79F0;&#x548C;&#x5C42;&#x662F;&#x6709;&#x6548;&#x7684;&#x3002;&#x786E;&#x8BA4;&#x540E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;digest&#x53BB;&#x4E0B;&#x8F7D;&#x5404;&#x4E2A;&#x5C42;&#xFF0C;&#x5728;v2API&#x4E2D;&#xFF0C;&#x5C42;&#x5B58;&#x50A8;&#x5728;blobs&#x4E2D;&#x4EE5;digest&#x4F5C;&#x4E3A;&#x952E;&#x503C;&#x3002;Pulling an Image Manifest&#xFF08;&#x62C9;&#x53D6;&#x955C;&#x50CF;&#x6E05;&#x5355;&#xFF09;API&gt;&gt;&gt; HEAD /v2/&lt;name&gt;/manifests/&lt;reference&gt; #&#x68C0;&#x67E5;&#x955C;&#x50CF;&#x6E05;&#x5355;&#x662F;&#x5426;&#x5B58;&#x5728;&gt;&gt;&gt; GET /v2/&lt;name&gt;/manifests/&lt;reference&gt; #&#x62C9;&#x53D6;&#x955C;&#x50CF;&#x6E05;&#x5355;Notereference&#x53EF;&#x4EE5;&#x662F;tag&#x6216;&#x8005;&#x662F;digestPulling a Layer&#xFF08;&#x62C9;&#x53D6;&#x5C42;&#xFF09;API&gt;&gt;&gt; GET /v2/&lt;name&gt;/blobs/&lt;digest&gt;PUSHING&#x955C;&#x50CF;&#x8FC7;&#x7A0B;&#x63A8;&#x955C;&#x50CF;&#x548C;&#x62C9;&#x53D6;&#x955C;&#x50CF;&#x8FC7;&#x7A0B;&#x76F8;&#x53CD;&#xFF0C;&#x5148;&#x63A8;&#x5404;&#x4E2A;&#x5C42;&#x5230;registry&#x4ED3;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x4E0A;&#x4F20;&#x6E05;&#x5355;&#x3002;Pushing a Layer&#xFF08;&#x4E0A;&#x4F20;&#x5C42;&#xFF09;&#x4E0A;&#x4F20;&#x5C42;&#x5206;&#x4E3A;&#x4E24;&#x6B65;&#xFF0C;&#x7B2C;&#x4E00;&#x6B65;&#x4F7F;&#x7528;post&#x8BF7;&#x6C42;&#x5728;registry&#x4ED3;&#x5E93;&#x542F;&#x52A8;&#x4E0A;&#x4F20;&#x670D;&#x52A1;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;url&#xFF0C;&#x8FD9;&#x4E2A;url&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x4E0A;&#x4F20;&#x6570;&#x636E;&#x548C;&#x68C0;&#x67E5;&#x72B6;&#x6001;&#x3002;Existing Layers(&#x68C0;&#x67E5;&#x5C42;&#x662F;&#x5426;&#x5B58;&#x5728;)API&gt;&gt;&gt; HEAD /v2/&lt;name&gt;/blobs/&lt;digest&gt;RETURN&#x82E5;&#x8FD4;&#x56DE;200 OK&#x5219;&#x8868;&#x793A;&#x5B58;&#x5728;&#xFF0C;&#x4E0D;&#x7528;&#x4E0A;&#x4F20;Starting An Upload(&#x542F;&#x52A8;&#x4E0A;&#x4F20;&#x670D;&#x52A1;)API&gt;&gt;&gt; POST /v2/&lt;name&gt;/blobs/uploads/RETURN&#x5982;&#x679C;post&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;202 accepted&#xFF0C;&#x4E00;&#x4E2A;url&#x4F1A;&#x5728;location&#x5B57;&#x6BB5;&#x8FD4;&#x56DE;.202 AcceptedLocation: /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;Range: bytes=0-&lt;offset&gt;Content-Length: 0Docker-Upload-UUID: &lt;uuid&gt; # &#x53EF;&#x4EE5;&#x7528;&#x6765;&#x67E5;&#x770B;&#x4E0A;&#x4F20;&#x72B6;&#x6001;&#x548C;&#x5B9E;&#x73B0;&#x65AD;&#x70B9;&#x7EED;&#x4F20;Uploading the Layer(&#x4E0A;&#x4F20;&#x5C42;)Upload Progress(&#x4E0A;&#x4F20;&#x8FDB;&#x5EA6;)API&gt;&gt;&gt; GET /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;&gt;&gt;&gt; Host: &lt;registry host&gt;RETURN204 No ContentLocation: /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;Range: bytes=0-&lt;offset&gt;Docker-Upload-UUID: &lt;uuid&gt;Monolithic Upload(&#x6574;&#x5757;&#x4E0A;&#x4F20;&#xFF09;API&gt;&gt;&gt; PUT /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;?digest=&lt;digest&gt;&gt;&gt;&gt; Content-Length: &lt;size of layer&gt;&gt;&gt;&gt; Content-Type: application/octet-stream&lt;Layer Binary Data&gt;Chunked Upload&#xFF08;&#x5206;&#x5757;&#x4E0A;&#x4F20;&#xFF09;API&gt;&gt;&gt; PATCH /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;&gt;&gt;&gt; Content-Length: &lt;size of chunk&gt;&gt;&gt;&gt; Content-Range: &lt;start of range&gt;-&lt;end of range&gt;&gt;&gt;&gt; Content-Type: application/octet-stream&lt;Layer Chunk Binary Data&gt;RETURN&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x63A5;&#x53D7;&#x8FD9;&#x4E2A;&#x5757;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#xFF1A;416 Requested Range Not SatisfiableLocation: /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;Range: 0-&lt;last valid range&gt;Content-Length: 0Docker-Upload-UUID: &lt;uuid&gt;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#xFF1A;202 AcceptedLocation: /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;Range: bytes=0-&lt;offset&gt;Content-Length: 0Docker-Upload-UUID: &lt;uuid&gt;Completed Upload(&#x4E0A;&#x4F20;&#x5B8C;&#x6210;)&#x5206;&#x5757;&#x4E0A;&#x4F20;&#x5728;&#x6700;&#x540E;&#x4E00;&#x5757;&#x4E0A;&#x4F20;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x63D0;&#x4EA4;&#x4E00;&#x4E2A;&#x4E0A;&#x4F20;&#x5B8C;&#x6210;&#x7684;&#x8BF7;&#x6C42;API&gt;&gt;&gt; PUT /v2/&lt;name&gt;/blob/uploads/&lt;uuid&gt;?digest=&lt;digest&gt;&gt;&gt;&gt; Content-Length: &lt;size of chunk&gt;&gt;&gt;&gt; Content-Range: &lt;start of range&gt;-&lt;end of range&gt;&gt;&gt;&gt; Content-Type: application/octet-stream&lt;Last Layer Chunk Binary Data&gt;RETURN201 CreatedLocation: /v2/&lt;name&gt;/blobs/&lt;digest&gt;Content-Length: 0Docker-Content-Digest: &lt;digest&gt;Canceling an Upload(&#x53D6;&#x6D88;&#x4E0A;&#x4F20;)&#x8FD9;&#x4E2A;&#x8BF7;&#x6C42;&#x6267;&#x884C;&#x540E;uuid&#x5C06;&#x5931;&#x6548;&#xFF0C;&#x5F53;&#x4E0A;&#x4F20;&#x8D85;&#x65F6;&#x6216;&#x8005;&#x6CA1;&#x6709;&#x5B8C;&#x6210;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x90FD;&#x5E94;&#x8BE5;&#x53D1;&#x9001;&#x8FD9;&#x4E2A;&#x8BF7;&#x6C42;&#x3002;API&gt;&gt;&gt; DELETE /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;Cross Repository Blob Mount&#xFF08;&#x4EA4;&#x53C9;&#x6302;&#x8F7D;&#x5C42;&#xFF09;&#x6B64;api&#x53EF;&#x628A;&#x5BA2;&#x6237;&#x7AEF;&#x6709;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x7684;&#x5DF2;&#x6709;&#x5B58;&#x50A8;&#x5E93;&#x4E2D;&#x7684;&#x5C42;&#x6302;&#x8F7D;&#x5230;&#x5F53;&#x524D;&#x50A8;&#x5B58;&#x5E93;&#x4E2D;&#x3002;API&gt;&gt;&gt; POST /v2/&lt;name&gt;/blobs/uploads/?mount=&lt;digest&gt;&amp;from=&lt;repository name&gt;Content-Length: 0RETURN&#x6210;&#x529F;&#x8FD4;&#x56DE;&#xFF1A;201 CreatedLocation: /v2/&lt;name&gt;/blobs/&lt;digest&gt;Content-Length: 0Docker-Content-Digest: &lt;digest&gt;&#x5931;&#x8D25;&#x8FD4;&#x56DE;&#xFF1A;202 AcceptedLocation: /v2/&lt;name&gt;/blobs/uploads/&lt;uuid&gt;Range: bytes=0-&lt;offset&gt;Content-Length: 0Docker-Upload-UUID: &lt;uuid&gt;Deleting a Layer(&#x5220;&#x9664;&#x5C42;)API&gt;&gt;&gt; DELETE /v2/&lt;name&gt;/blobs/&lt;digest&gt;RETURN&#x6210;&#x529F;&#x8FD4;&#x56DE;&#xFF1A;202 AcceptedContent-Length: None&#x5931;&#x8D25;&#x8FD4;&#x56DE;404&#x9519;&#x8BEF;&#x3002;Pushing an Image Manifest&#xFF08;&#x4E0A;&#x4F20;&#x955C;&#x50CF;&#x6E05;&#x5355;&#xFF09;&#x5F53;&#x955C;&#x50CF;&#x5C42;&#x4E0A;&#x4F20;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0A;&#x4F20;&#x6E05;&#x5355;&#x3002;API&gt;&gt;&gt; PUT /v2/&lt;name&gt;/manifests/&lt;reference&gt;Content-Type: &lt;manifest media type&gt;{ &quot;name&quot;: &lt;name&gt;, &quot;tag&quot;: &lt;tag&gt;, &quot;fsLayers&quot;: [ { &quot;blobSum&quot;: &lt;digest&gt; }, ... ] ], &quot;history&quot;: &lt;v1 images&gt;, &quot;signature&quot;: &lt;JWS&gt;, ...}RETURN&#x5982;&#x679C;&#x6E05;&#x5355;&#x4E2D;&#x6709;&#x5C42;&#x662F;&#x672A;&#x77E5;&#x7684;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#xFF1A;{ &quot;errors:&quot; [{ &quot;code&quot;: &quot;BLOB_UNKNOWN&quot;, &quot;message&quot;: &quot;blob unknown to registry&quot;, &quot;detail&quot;: { &quot;digest&quot;: &lt;digest&gt; } }, ... ]}&#x68C0;&#x7D22;&#x529F;&#x80FD;Listing Repositories&#xFF08;&#x5217;&#x51FA;&#x5B58;&#x50A8;&#x5E93;&#xFF09;API&gt;&gt;&gt; GET /v2/_catalogRETURN200 OKContent-Type: application/json{ &quot;repositories&quot;: [ &lt;name&gt;, ... ]}Pagination(&#x90E8;&#x5206;&#x5217;&#x51FA;&#x5B58;&#x50A8;&#x5E93;)API&gt;&gt;&gt; GET /v2/_catalog?n=&lt;integer&gt;Noteinteger&#x8868;&#x793A;&#x8981;&#x5217;&#x51FA;&#x5E93;&#x7684;&#x4E2A;&#x6570;RETURN200 OKContent-Type: application/jsonLink: &lt;&lt;url&gt;?n=&lt;n from the request&gt;&amp;last=&lt;last repository in response&gt;&gt;; rel=&quot;next&quot;{ &quot;repositories&quot;: [ &lt;name&gt;, ... ]}Listing Image Tags(&#x5217;&#x51FA;&#x955C;&#x50CF;tag)API&gt;&gt;&gt; GET /v2/&lt;name&gt;/tags/listRETURN200 OKContent-Type: application/json{ &quot;name&quot;: &lt;name&gt;, &quot;tags&quot;: [ &lt;tag&gt;, ... ]}Pagination(&#x90E8;&#x5206;&#x5217;&#x51FA;&#x955C;&#x50CF;tag)API&gt;&gt;&gt; GET /v2/&lt;name&gt;/tags/list?n=&lt;integer&gt;RETURN200 OKContent-Type: application/jsonLink: &lt;&lt;url&gt;?n=&lt;n from the request&gt;&amp;last=&lt;last tag value from previous response&gt;&gt;; rel=&quot;next&quot;{ &quot;name&quot;: &lt;name&gt;, &quot;tags&quot;: [ &lt;tag&gt;, ... ]}Deleting an Image(&#x5220;&#x9664;&#x955C;&#x50CF;)API&gt;&gt;&gt; DELETE /v2/&lt;name&gt;/manifests/&lt;reference&gt;RETURN&#x6210;&#x529F;202 AcceptedContent-Length: None&#x5931;&#x8D25;&#x8FD4;&#x56DE;404&#x9519;&#x8BEF;]]></content>
      <categories>
        <category>docker</category>
        <category>registry</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>registry</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux Bash Shell 位置变量详解]]></title>
    <url>%2F2016%2F10%2F10%2Flinux-bash-position%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x4F4D;&#x7F6E;&#x53D8;&#x91CF;&#x548C;&#x7279;&#x6B8A;&#x53D8;&#x91CF;&#x53C2;&#x6570;,&#x5B83;&#x4EEC;&#x662F;&#x53EA;&#x8BFB;&#x7684;. &#x4F4D;&#x7F6E;&#x53D8;&#x91CF;&#xFF1A; &#x5982;&#x679C;&#x8981;&#x5411;&#x4E00;&#x4E2A;shell&#x811A;&#x672C;&#x4F20;&#x9012;&#x4FE1;&#x606F;,&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x5B8C;&#x6210;&#x6B64;&#x529F;&#x80FD;;&#x53C2;&#x6570;&#x76F8;&#x5173;&#x6570;&#x76EE;&#x4F20;&#x5165;&#x811A;&#x672C;,&#x6B64;&#x6570;&#x76EE;&#x53EF;&#x4EE5;&#x4EFB;&#x610F;&#x591A;,&#x4F46;&#x53EA;&#x6709;&#x524D;9&#x4E2A;&#x53EF;&#x4EE5;&#x88AB;&#x8BBF;&#x95EE;,&#x4F7F;&#x7528;shift&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x9650;&#x5236;;&#x53C2;&#x6570;&#x4ECE;&#x7B2C;&#x4E00;&#x4E2A;&#x5F00;&#x59CB;&#xFF0C;&#x5728;&#x7B2C;&#x4E5D;&#x4E2A;&#x7ED3;&#x675F;;&#x6BCF;&#x4E2A;&#x8BBF;&#x95EE;&#x53C2;&#x6570;&#x524D;&#x8981;&#x52A0;$&#x7B26;&#x53F7;;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;0,&#x8868;&#x793A;&#x9884;&#x7559;&#x4FDD;&#x5B58;&#x5B9E;&#x9645;&#x811A;&#x672C;&#x540D;&#x5B57;;&#x65E0;&#x8BBA;&#x811A;&#x672C;&#x662F;&#x5426;&#x6709;&#x53C2;&#x6570;,&#x6B64;&#x503C;&#x5747;&#x53EF;&#x7528;. &#x53D8;&#x91CF;&#x540D;&#xFF1A;12345678910$0,$1,$2,$3,$4,$5,$6,$7,$8,$9 &#x8BF4;&#x660E;&#xFF1A; $0: &#x8868;&#x793A;&#x811A;&#x672C;&#x540D;&#x79F0;&#x3002; $1,$2,&#x2026;,$9&#xFF1A;$1&#x8868;&#x793A;&#x5411;&#x811A;&#x672C;&#x4F20;&#x9012;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;,$2&#x8868;&#x793A;&#x5411;&#x811A;&#x672C;&#x4F20;&#x9012;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;,&#x2026;,$9&#x8868;&#x793A;&#x5411;&#x811A;&#x672C;&#x4F20;&#x9012;&#x7684;&#x7B2C;&#x4E5D;&#x4E2A;&#x53C2;&#x6570;. &#x7279;&#x6B8A;&#x53D8;&#x91CF;(&#x53C2;&#x6570;)shell&#x5BF9;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#x505A;&#x7279;&#x6B8A;&#x5904;&#x7406;,&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x53EA;&#x80FD;&#x88AB;&#x5F15;&#x7528;&#x800C;&#x4E0D;&#x80FD;&#x88AB;&#x8D4B;&#x503C;. &#x7279;&#x5B9A;shell&#x53D8;&#x91CF;&#x5982;&#x4E0B;&#xFF1A; $# &#x4F20;&#x9012;&#x5230;&#x811A;&#x672C;&#x7684;&#x53C2;&#x6570;&#x4E2A;&#x6570;; $* &#x4EE5;&#x4E00;&#x4E2A;&#x5355;&#x5B57;&#x7B26;&#x4E32;&#x663E;&#x793A;&#x6240;&#x6709;&#x5411;&#x811A;&#x672C;&#x4F20;&#x9012;&#x7684;&#x53C2;&#x6570;&#x3002;&#x4E0E;&#x4F4D;&#x7F6E;&#x53D8;&#x91CF;&#x4E0D;&#x540C;&#xFF0C;&#x6B64;&#x9009;&#x9879;&#x53C2;&#x6570;&#x53EF;&#x8D85;&#x8FC7;9&#x4E2A;; $$ &#x811A;&#x672C;&#x8FD0;&#x884C;&#x7684;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;ID&#x53F7;; $! &#x540E;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;ID&#x53F7;; $@ &#x4E0E;$*&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528;&#x65F6;&#x52A0;&#x5F15;&#x53F7;&#xFF0C;&#x5E76;&#x5728;&#x5F15;&#x53F7;&#x4E2D;&#x8FD4;&#x56DE;&#x6BCF;&#x4E2A;&#x53C2;&#x6570;; $- &#x663E;&#x793A;shell&#x4F7F;&#x7528;&#x7684;&#x5F53;&#x524D;&#x9009;&#x9879;&#xFF0C;&#x4E0E;set&#x547D;&#x4EE4;&#x529F;&#x80FD;&#x76F8;&#x540C;; $? &#x663E;&#x793A;&#x6700;&#x540E;&#x547D;&#x4EE4;&#x7684;&#x9000;&#x51FA;&#x72B6;&#x6001;.0&#x8868;&#x793A;&#x6CA1;&#x6709;&#x9519;&#x8BEF;&#xFF0C;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x503C;&#x8868;&#x660E;&#x6709;&#x9519;&#x8BEF;; &#x793A;&#x4F8B;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889[root@www ~]# cat test_parm.sh#!/bin/bash# test_parm.sh 2010&#x5E74;6&#x6708;7&#x53F7; http://905557157.qzone.qq.com/# &#x672C;&#x7A0B;&#x5E8F;&#x4EC5;&#x4EC5;&#x662F;&#x7528;&#x6765;&#x8BF4;&#x660E;shell&#x7684;&#x4F4D;&#x7F6E;&#x53D8;&#x91CF;&#x548C;&#x7279;&#x522B;&#x53D8;&#x91CF;&#x7684;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x3002;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x540D;&#x79F0;$0&#x4E3A;&#xFF1A;$0&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$1&#x4E3A;&#xFF1A;$1&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$2&#x4E3A;&#xFF1A;$2&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$3&#x4E3A;&#xFF1A;$3&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x56DB;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$4&#x4E3A;&#xFF1A;$4&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E94;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$5&#x4E3A;&#xFF1A;$5&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x516D;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$6&#x4E3A;&#xFF1A;$6&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E03;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$7&#x4E3A;&#xFF1A;$7&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x516B;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$8&#x4E3A;&#xFF1A;$8&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E5D;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$9&#x4E3A;&#xFF1A;$9&quot;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x5341;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$10&#x4E3A;&#xFF1A;$10&quot;echo &quot;&#x7531;&#x6B64;&#x53EF;&#x89C1;shell&#x5C06;$10&#x8BA4;&#x4E3A;$1+0&quot;;echo &quot;&#x6B64;&#x811A;&#x672C;&#x7684;&#x53C2;&#x6570;&#x4E2A;&#x6570;$#&#x4E3A;: $#&quot;;###echo;echo &quot;#############&quot;echo &quot;&#x53D8;&#x91CF;$*&#x7684;&#x8F93;&#x51FA;&#xFF1A;&quot;;echo &quot;--------------------------------------&quot;a=(&quot;$*&quot;);echo &quot;&#x53D8;&#x91CF;$*&#x7684;&#x4E2A;&#x6570;&#x4E3A;: ${#a[@]}&#x4E2A;,&#x5176;&#x503C;&#x5206;&#x522B;&#x4E3A;:&quot;;length_a=${#a[@]};for ((i=0;iecho &quot;${a[i]}&quot;;done###echo;echo &quot;#############&quot;;echo &quot;&#x53D8;&#x91CF;$@&#x7684;&#x8F93;&#x51FA;:&quot;;echo &quot;--------------------------------------&quot;b=(&quot;$@&quot;);echo &quot;&#x53D8;&#x91CF;$@&#x7684;&#x4E2A;&#x6570;&#x4E3A;: ${#b[@]}&#x4E2A;&#xFF0C;&#x5176;&#x503C;&#x5206;&#x522B;&#x4E3A;:&quot;;for ((i=0;i&lt;${#b[@]};i++));doecho &quot;${b[i]}&quot;;done###echo;echo &quot;&#x811A;&#x672C;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x53F7;$$&#x4E3A;: $$&quot;echo &quot;&#x6700;&#x540E;&#x547D;&#x4EE4;&#x7684;&#x9000;&#x51FA;&#x72B6;&#x6001;$?&#x6B63;&#x786E;&#x65F6;&#x4E3A;: $?&quot;asdf 2&gt;/dev/null; #&#x6B64;&#x547D;&#x4EE4;&#x4E0D;&#x53EF;&#x80FD;&#x6267;&#x884C;(&#x9664;&#x975E;&#x60A8;&#x6B63;&#x597D;&#x6709;&#x4E00;&#x4E2A;&#x522B;&#x540D;&#x4E0E;&#x4E4B;&#x76F8;&#x540C;),&#x6267;&#x884C;&#x80AF;&#x5B9A;&#x9519;&#x8BEF;&#xFF0C;&#x5C06;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x4E22;&#x6389;&#x3002;echo &quot;&#x6700;&#x540E;&#x547D;&#x4EE4;&#x7684;&#x9000;&#x51FA;&#x72B6;&#x6001;$?&#x9519;&#x8BEF;&#x65F6;&#x4E3A;: $?&quot;[root@www ~]#[root@www ~]# sh test_parm.sh a b c d e f g h i j k l&#x6B64;&#x811A;&#x672C;&#x7684;&#x540D;&#x79F0;$0&#x4E3A;&#xFF1A;test_parm.sh&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$1&#x4E3A;&#xFF1A;a&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$2&#x4E3A;&#xFF1A;b&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$3&#x4E3A;&#xFF1A;c&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x56DB;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$4&#x4E3A;&#xFF1A;d&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E94;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$5&#x4E3A;&#xFF1A;e&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x516D;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$6&#x4E3A;&#xFF1A;f&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E03;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$7&#x4E3A;&#xFF1A;g&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x516B;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$8&#x4E3A;&#xFF1A;h&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E5D;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$9&#x4E3A;&#xFF1A;i&#x6B64;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x5341;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;$10&#x4E3A;&#xFF1A;a0&#x7531;&#x6B64;&#x53EF;&#x89C1;shell&#x5C06;$10&#x8BA4;&#x4E3A;$1+0&#x6B64;&#x811A;&#x672C;&#x7684;&#x53C2;&#x6570;&#x4E2A;&#x6570;$#&#x4E3A;: 12#############&#x53D8;&#x91CF;$*&#x7684;&#x8F93;&#x51FA;&#xFF1A;--------------------------------------&#x53D8;&#x91CF;$*&#x7684;&#x4E2A;&#x6570;&#x4E3A;: 1&#x4E2A;,&#x5176;&#x503C;&#x5206;&#x522B;&#x4E3A;:&quot;a b c d e f g h i j k l&quot;#############&#x53D8;&#x91CF;$@&#x7684;&#x8F93;&#x51FA;:--------------------------------------&#x53D8;&#x91CF;$@&#x7684;&#x4E2A;&#x6570;&#x4E3A;: 12&#x4E2A;&#xFF0C;&#x5176;&#x503C;&#x5206;&#x522B;&#x4E3A;:&quot;a&quot;&quot;b&quot;&quot;c&quot;&quot;d&quot;&quot;e&quot;&quot;f&quot;&quot;g&quot;&quot;h&quot;&quot;i&quot;&quot;j&quot;&quot;k&quot;&quot;l&quot;&#x811A;&#x672C;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x53F7;$$&#x4E3A;: 2951&#x6700;&#x540E;&#x547D;&#x4EE4;&#x7684;&#x9000;&#x51FA;&#x72B6;&#x6001;$?&#x6B63;&#x786E;&#x65F6;&#x4E3A;: 0&#x6700;&#x540E;&#x547D;&#x4EE4;&#x7684;&#x9000;&#x51FA;&#x72B6;&#x6001;$?&#x9519;&#x8BEF;&#x65F6;&#x4E3A;: 127]]></content>
      <categories>
        <category>linux</category>
        <category>shell</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[（转）25个你可能不知道的Linux真相]]></title>
    <url>%2F2016%2F09%2F06%2F25-linux-truth%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x672C;&#x6587;&#x8F6C;&#x81EA;linux&#x4E2D;&#x56FD; &#x4ECA;&#x5929;&#xFF0C;Linux &#x7EDF;&#x6CBB;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;&#x5B83;&#x4E5F;&#x662F; Android &#x7684;&#x57FA;&#x7840;&#x2014;&#x2014;&#x7EDF;&#x6CBB;&#x4E86;&#x624B;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x5B83;&#x8FD8;&#x662F; 100% &#x81EA;&#x7531;&#x800C;&#x5F00;&#x6E90;&#x7684;&#x3002; &#x8BA9;&#x6211;&#x4EEC;&#x56DE;&#x6EAF;&#x65F6;&#x5149;&#xFF0C;&#x770B;&#x770B; Linux &#x8FD9; 25 &#x5E74;&#x6765;&#x7684; 25 &#x4E2A;&#x5C11;&#x4E3A;&#x4EBA;&#x77E5;&#x7684;&#x771F;&#x76F8; 25 &#x5E74;&#x524D;&#xFF0C;&#x4E00;&#x4E2A;&#x82AC;&#x5170;&#x7684;&#x5927;&#x5B66;&#x751F;&#x5728;&#x4E00;&#x4E2A;&#x90AE;&#x4EF6;&#x5217;&#x8868;&#x4E2D;&#x5206;&#x4EAB;&#x4E86;&#x4ED6;&#x7684;&#x9879;&#x76EE;&#xFF1A; 12345678910111213141516171819202122From: torvalds@klaava.Helsinki.FI (Linus Benedict Torvalds)Newsgroups: comp.os.minixSubject: What would you like to see most in minix?Summary: small poll for my new operating systemMessage-ID: &lt;1991Aug25.205708.9541@klaava.Helsinki.FI&gt;Date: 25 Aug 91 20:57:08 GMTOrganization: University of HelsinkiHello everybody out there using minix &#x2014;I&#x2019;m doing a (free) operating system (just a hobby, won&#x2019;t be big andprofessional like gnu) for 386(486) AT clones. This has been brewingsince april, and is starting to get ready. I&#x2019;d like any feedback onthings people like/dislike in minix, as my OS resembles it somewhat(same physical layout of the file-system (due to practical reasons)among other things).I&#x2019;ve currently ported bash(1.08) and gcc(1.40), and things seem to work.This implies that I&#x2019;ll get something practical within a few months, andI&#x2019;d like to know what features most people would want. Any suggestionsare welcome, but I won&#x2019;t promise I&#x2019;ll implement them :-)Linus (torv&#x2026;@kruuna.helsinki.fi)PS. Yes&#x200A;&#x2014;&#x200A;it&#x2019;s free of any minix code, and it has a multi-threaded fs.It is NOT protable (uses 386 task switching etc), and it probably neverwill support anything other than AT-harddisks, as that&#x2019;s all I have :-(. &#x201C;&#x5C31;&#x662F;&#x4E2A;&#x4E2A;&#x4EBA;&#x7231;&#x597D;&#x201D;&#xFF0C;&#x4ED6;&#x8BF4;&#xFF0C;&#x201C;&#x4E0D;&#x4F1A;&#x50CF; gnu &#x90A3;&#x6837;&#x5E9E;&#x5927;&#x800C;&#x4E13;&#x4E1A;&#x3002;&#x201D; &#x8FD9;&#x4E2A;&#x5B69;&#x5B50;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x4ED6;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5C06;&#x6C38;&#x8FDC;&#x7684;&#x6539;&#x53D8;&#x4E86;&#x8F6F;&#x4EF6;&#x4E16;&#x754C;&#x3002; &#x4ECA;&#x5929;&#xFF0C;Linux &#x7EDF;&#x6CBB;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;&#x5B83;&#x4E5F;&#x662F; Android &#x7684;&#x57FA;&#x7840;&#x2014;&#x2014;&#x7EDF;&#x6CBB;&#x4E86;&#x624B;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x5B83;&#x8FD8;&#x662F; 100% &#x81EA;&#x7531;&#x800C;&#x5F00;&#x6E90;&#x7684;&#x3002; &#x8BA9;&#x6211;&#x4EEC;&#x56DE;&#x6EAF;&#x65F6;&#x5149;&#xFF0C;&#x770B;&#x770B; Linux &#x8FD9; 25 &#x5E74;&#x6765;&#x7684; 25 &#x4E2A;&#x5C11;&#x4E3A;&#x4EBA;&#x77E5;&#x7684;&#x771F;&#x76F8;&#xFF1A; &#x771F;&#x76F8; 1&#x5728;&#x8FD9;&#x4E2A; Linux &#x57FA;&#x91D1;&#x4F1A;&#x7684;&#x534F;&#x4F5C;&#x9879;&#x76EE;&#x91CC;&#x6709; 1.15 &#x4EBF;&#x884C;&#x4EE3;&#x7801;&#x3002;&#x800C;&#x4E0E;&#x4E4B;&#x76F8;&#x6BD4;&#xFF0C;Windows XP &#x53EA;&#x6709; 0.45 &#x4EBF;&#x884C;&#x4EE3;&#x7801;&#x3002; &#x771F;&#x76F8; 2Linux &#x5185;&#x6838;&#x9879;&#x76EE;&#x662F;&#x4E16;&#x754C;&#x4E0A;&#x6700;&#x6D3B;&#x8DC3;&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x3002;&#x5B83;&#x5E73;&#x5747;&#x6BCF;&#x5929;&#x4F1A;&#x63A5;&#x53D7; 185 &#x4E2A;&#x8865;&#x4E01;&#x3002; &#x771F;&#x76F8; 3&#x6BCF;&#x5E74;&#x5927;&#x7EA6;&#x6709; 4.1 &#x4E07;&#x4EBA;&#x53C2;&#x4E0E;&#x5F00;&#x53D1; Linux&#xFF0C;&#x5982;&#x679C;&#x8981;&#x7ED9;&#x4ED6;&#x4EEC;&#x53D1;&#x85AA;&#x6C34;&#x7684;&#x8BDD;&#xFF0C;&#x5DEE;&#x4E0D;&#x591A;&#x6BCF;&#x5E74;&#x9700;&#x8981; 50 &#x4EBF;&#x7F8E;&#x91D1;&#x3002; &#x771F;&#x76F8; 4Linux &#x57FA;&#x91D1;&#x4F1A;&#x4E3A;&#x4E86;&#x8BA9; Linus Torvalds &#x7EE7;&#x7EED;&#x5F00;&#x53D1; Linux&#xFF0C;&#x6BCF;&#x5E74;&#x7ED9;&#x4ED6;&#x53D1; 1000 &#x4E07;&#x7F8E;&#x91D1;&#x7684;&#x85AA;&#x6C34;&#x3002;&#x4ED6;&#x7684;&#x51C0;&#x8D44;&#x4EA7;&#x5DF2;&#x8FBE; 1.5 &#x4EBF;&#x7F8E;&#x91D1;&#x3002; &#x771F;&#x76F8; 5&#x5C3D;&#x7BA1;&#x52A0;&#x8D77;&#x6765;&#x6709;&#x8FD9;&#x4E48;&#x591A;&#x7684;&#x94B1;&#xFF0C;&#x8FD8;&#x6709;&#x90A3;&#x4E48;&#x591A;&#x8FD0;&#x884C;&#x5728; Linux &#x4E0A;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C; &#x4F46;&#x662F; Linus &#x4ECD;&#x7136;&#x5DE5;&#x4F5C;&#x5728;&#x5BB6;&#x91CC;&#xFF0C;&#x54E6;&#xFF0C;&#x8FD8;&#x6709;&#x4ED6;&#x7684;&#x732B;&#x5728;&#x966A;&#x7740;&#x4ED6;&#x3002;&#x4E0B;&#x56FE;&#x662F;&#x4ED6;&#x5728;&#x4ED6;&#x7684;&#x7AD9;&#x7ACB;&#x5F0F;&#x5DE5;&#x4F5C;&#x684C;&#x524D;&#x5DE5;&#x4F5C;&#x7684;&#x7167;&#x7247;&#xFF1A; &#x771F;&#x76F8; 6&#x5728; Linus &#x8FD8;&#x5728;&#x82AC;&#x5170;&#x519B;&#x961F;&#x670D;&#x5F79;&#x65F6;&#xFF0C;&#x4ED6;&#x90A3;&#x65F6;&#x4ECE;&#x4E8B;&#x5F39;&#x9053;&#x8BA1;&#x7B97;&#xFF0C;&#x4ED6;&#x4E70;&#x4E86;&#x4E00;&#x672C; Andrew Tanenbaum &#x7684;&#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF1A;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&#x3002;&#x90A3;&#x672C;&#x4E66;&#x4ECB;&#x7ECD;&#x4E86; Minix&#x200A;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6559;&#x80B2;&#x7528;&#x9014;&#x7684;&#x7B80;&#x5316;&#x7248; Unix&#xFF0C;&#x6B63;&#x662F;&#x8FD9;&#x672C;&#x4E66;&#x5F00;&#x542F;&#x4E86; Linus &#x7684; Unix &#x601D;&#x60F3;&#x4E4B;&#x8DEF;&#x3002; &#x771F;&#x76F8; 7&#x867D;&#x7136; Linux &#x7684;&#x7B2C;&#x4E00;&#x7248;&#x5168;&#x662F;&#x7531; Linus &#x5199;&#x5C31;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4ED6;&#x6700;&#x521D;&#x7684;&#x8D21;&#x732E;&#x4EC5;&#x5360;&#x4ECA;&#x5929;&#x5168;&#x90E8;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x4E0D;&#x5230; 1%&#x3002;&#x4ED6;&#x8BF4;&#x4ED6;&#x73B0;&#x5728;&#x5FD9;&#x4E8E;&#x5408;&#x5E76;&#x4EE3;&#x7801;&#x800C;&#x6CA1;&#x7A7A;&#x81EA;&#x5DF1;&#x5199;&#x4EE3;&#x7801;&#x4E86;&#x3002; 1&#x6211;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x4E94;&#x5E74;&#x8BA1;&#x5212;&#xFF0C;&#x4E5F;&#x6CA1;&#x6709;&#x767B;&#x6708;&#x8BA1;&#x5212;&#x3002;&#x6211;&#x5F88;&#x9AD8;&#x5174;&#x6211;&#x5468;&#x56F4;&#x7684;&#x4EBA;&#x53EF;&#x4EE5;&#x770B;&#x7740;&#x661F;&#x661F;&#x8BF4;&#x201C;&#x6211;&#x8981;&#x53BB;&#x90A3;&#x91CC;!&#x201D;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4F1A;&#x770B;&#x7740;&#x811A;&#x5E95;&#x4E0B;&#xFF0C;&#x628A;&#x90A3;&#x4E9B;&#x6211;&#x524D;&#x884C;&#x65F6;&#x4F1A;&#x6389;&#x8FDB;&#x53BB;&#x7684;&#x5751;&#x586B;&#x4E0A;&#x3002; &#x2014;&#x2014;&#x200A;Linus Torvalds &#x771F;&#x76F8; 8&#x5176;&#x5B83;&#x7684;&#x8F6F;&#x4EF6;&#x754C;&#x8457;&#x540D;&#x4EBA;&#x7269;&#xFF0C;&#x6BD4;&#x5982;&#x6BD4;&#x5C14;&#x76D6;&#x8328;&#x3001;&#x624E;&#x514B;&#x4F2F;&#x683C;&#x90FD;&#x653E;&#x5F03;&#x4E86;&#x4ED6;&#x4EEC;&#x7684;&#x5B66;&#x4E1A;&#x800C;&#x6295;&#x8EAB;&#x4E8E;&#x4E8B;&#x4E1A;&#x4E4B;&#x4E2D;&#x3002;&#x800C; Linus &#x4E0D;&#x4EC5;&#x5728; Linux &#x53D6;&#x5F97;&#x4E86;&#x4E00;&#x5B9A;&#x6210;&#x529F;&#x4E4B;&#x540E;&#x7EE7;&#x7EED;&#x4E0A;&#x5B66;&#xFF0C;&#x800C;&#x4E14;&#x4E00;&#x76F4;&#x5FF5;&#x5230;&#x4E86;&#x7855;&#x58EB;&#x6BD5;&#x4E1A;&#x3002; &#x771F;&#x76F8; 9&#x867D;&#x7136; Linus &#x521B;&#x9020;&#x4E86; Git&#xFF0C;&#x4F46;&#x662F;&#x4ED6;&#x4ECE;&#x4E0D;&#x901A;&#x8FC7; GitHub &#x63A5;&#x53D7;&#x8865;&#x4E01;&#xFF0C;&#x5373;&#x4FBF; Linux &#x4E5F;&#x653E;&#x5728; GitHub &#x4E0A;&#xFF0C;&#x800C;&#x4E14;&#x6709;&#x591A;&#x8FBE; 35000 &#x4E2A;&#x661F;! &#x771F;&#x76F8; 10Linux &#x7684;&#x5409;&#x7965;&#x7269;&#x662F;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; &#x201C;Tux&#x201D; &#x7684;&#x4F01;&#x9E45;&#xFF1A; &#x771F;&#x76F8; 11&#x6765;&#x81EA;&#x5404;&#x884C;&#x5404;&#x4E1A;&#x7684;&#x516C;&#x53F8;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x4EEC;&#x7ED9; Linux &#x8D21;&#x732E;&#x4E86;&#x4EE3;&#x7801;&#xFF0C;&#x4EE5;&#x4E0B;&#x662F;&#x6309;&#x8D21;&#x732E;&#x8FDB;&#x884C;&#x7684;&#x6392;&#x540D;&#xFF1A; &#x516C;&#x53F8; &#x53D8;&#x66F4;&#x6570;&#x91CF; &#x5360;&#x603B;&#x6570;&#x6BD4;&#x4F8B; &#x82F1;&#x7279;&#x5C14; 14384 12.9% &#x7EA2;&#x5E3D; 8987 8.0% &#x201C;&#x65E0;&#x201D; 8571 7.7% &#x201C;&#x672A;&#x77E5;&#x201D; 7582 6.8% Linaro 4515 4.0% &#x4E09;&#x661F; 4338 3.9% SUSE 3619 3.2% IBM 2995 2.7% Consultants 2938 2.6% Renesas Electronics&#xA0; 2239 2.0% &#x771F;&#x76F8; 12&#x4E16;&#x754C;&#x4E0A; 97% &#x7684;&#x8D85;&#x7EA7;&#x8BA1;&#x7B97;&#x673A;&#x8FD0;&#x884C;&#x5728; Linux &#x4E0A;&#xFF0C;&#x5305;&#x62EC; NASA &#x7684;&#x96C6;&#x7FA4;&#x3002; &#x771F;&#x76F8; 13SpaceX &#x5728;&#x5176; Merlin &#x706B;&#x7BAD;&#x5F15;&#x64CE;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5BB9;&#x9519;&#x8BBE;&#x8BA1;&#x7684; Linux&#xFF0C;&#x5E2E;&#x52A9;&#x5B8C;&#x6210;&#x4E86; 32 &#x6B21;&#x7A7A;&#x95F4;&#x4EFB;&#x52A1;&#x3002; &#x771F;&#x76F8; 142009 &#x5E74;&#x5FB7;&#x56FD;&#x6155;&#x5C3C;&#x9ED1;&#x653F;&#x5E9C;&#x4ECE; Windows &#x5207;&#x6362;&#x5230;&#x4E86; Linux&#x3002;&#x4ED6;&#x4EEC;&#x58F0;&#x79F0;&#x5728;&#x8F6F;&#x4EF6;&#x8BB8;&#x53EF;&#x8BC1;&#x8D39;&#x7528;&#x4E0A;&#x5927;&#x7EA6;&#x8282;&#x7EA6;&#x4E86; 1000 &#x4E07;&#x6B27;&#x5143;&#x3002;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E2A;&#x5207;&#x6362;&#x8BA9;&#x4ED6;&#x4EEC;&#x5728;&#x751F;&#x4EA7;&#x6548;&#x7387;&#x65B9;&#x9762;&#x635F;&#x5931;&#x4E0D;&#x5C0F;&#x3002; &#x771F;&#x76F8; 15Linux &#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;&#x4EC5;&#x552E; 5 &#x7F8E;&#x5143;&#x7684;&#x5FAE;&#x578B;&#x6811;&#x8393;&#x6D3E;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x3002; &#x771F;&#x76F8; 16Linux &#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x4E16;&#x754C;&#x4E4B;&#x738B;&#x4E86;&#x5417;?&#x300A;&#x6CF0;&#x5766;&#x5C3C;&#x514B;&#x53F7;&#x300B;&#x662F;&#x9996;&#x90E8;&#x4F7F;&#x7528; Linux &#x670D;&#x52A1;&#x5668;&#x5236;&#x4F5C;&#x7684;&#x5927;&#x7247;&#x3002; &#x771F;&#x76F8; 17&#x867D;&#x7136;&#x89C6;&#x9891;&#x6E38;&#x620F;&#x5F00;&#x53D1;&#x5546; Valve &#x7684;&#x521B;&#x59CB;&#x4EBA; Gabe Newell &#x516C;&#x5F00;&#x5BA3;&#x79F0;&#x4ED6;&#x8BA4;&#x4E3A; Linux &#x662F;&#x6E38;&#x620F;&#x7684;&#x672A;&#x6765;&#xFF0C;&#x4F46;&#x662F;&#x4ED6;&#x7684;&#x516C;&#x53F8;&#x57FA;&#x4E8E; Linux &#x7684; Steam Machine &#x6E38;&#x620F;&#x673A;&#x5374;&#x5931;&#x8D25;&#x4E86;&#x3002;&#x76F8;&#x6BD4; 2010 &#x5E74;&#xFF0C;&#x4F7F;&#x7528; Linux &#x73A9;&#x6E38;&#x620F;&#x7684;&#x4EBA;&#x66F4;&#x5C11;&#x4E86;&#x3002; &#x771F;&#x76F8; 18Dronecode &#x662F;&#x4E00;&#x4E2A; Linux &#x65E0;&#x4EBA;&#x673A;&#x9879;&#x76EE;&#x3002;&#x5927;&#x7EA6;&#x6709;&#x4E00;&#x5343;&#x5BB6;&#x516C;&#x53F8;&#x5728;&#x8FD9;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5F00;&#x53D1;&#x4ED6;&#x4EEC;&#x7684;&#x65E0;&#x4EBA;&#x673A;&#x4EA7;&#x54C1;&#x3002; &#x771F;&#x76F8; 19&#x4E30;&#x7530;&#x548C;&#x730E;&#x8C79;&#x8BA1;&#x5212;&#x5C06;&#x6765;&#x5728;&#x4ED6;&#x4EEC;&#x7684;&#x6C7D;&#x8F66;&#x4E2D;&#x4F7F;&#x7528; &#x6C7D;&#x8F66;&#x7EA7; Linux(AGL)&#x3002; &#x771F;&#x76F8; 20Linux &#x6709;&#x5F88;&#x591A;&#x53D1;&#x884C;&#x7248;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x53D1;&#x884C;&#x7248;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x522B;&#x7684;&#x53D1;&#x884C;&#x7248;&#x7684;&#x3002;&#x6700;&#x6D41;&#x884C;&#x7684;&#x53D1;&#x884C;&#x7248;&#x662F; Ubuntu&#xFF0C;&#x5B83;&#x662F;&#x57FA;&#x4E8E; Debian &#x7684;&#x3002; &#x771F;&#x76F8; 21Red Hat &#x662F;&#x4E00;&#x5BB6;&#x5F00;&#x53D1;&#x9488;&#x5BF9;&#x4F01;&#x4E1A;&#x7684; Linux &#x53D1;&#x884C;&#x7248;&#x7684;&#x516C;&#x53F8;&#x3002;&#x5B83;&#x662F;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x9886;&#x57DF;&#x6700;&#x5927;&#x7684;&#x516C;&#x53F8;&#xFF0C;&#x4ECA;&#x5E74;&#x51C6;&#x5907;&#x8FBE;&#x6210;&#x8425;&#x6536; 50 &#x4EBF;&#x7F8E;&#x5143;&#x7684;&#x76EE;&#x6807;&#x3002; &#x771F;&#x76F8; 22Linux &#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x9700;&#x8981;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x3002;&#x8BB8;&#x591A;&#x5F00;&#x53D1;&#x8005;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x6765;&#x64CD;&#x4F5C;&#x5B83;&#x7684;&#xFF0C;&#x6BD4;&#x5982; Bash&#x3002;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4ECE;&#x5F88;&#x591A;&#x79CD;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x4E2D;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#xFF0C;&#x6BD4;&#x5982; Xfce &#x548C; KDE&#x3002;&#x4F60;&#x53EF;&#x80FD;&#x542C;&#x8BF4;&#x8FC7; &#x201C;Xubuntu&#x201D; &#x8FD9;&#x4E2A;&#x8BCD;&#xFF0C;&#x5B83;&#x7684;&#x610F;&#x601D;&#x662F; &#x201C;Ubuntu with Xfce&#x201D; &#x3002;&#x4F60;&#x60F3;&#x5FC5;&#x80FD;&#x731C;&#x51FA; &#x201C;Kubuntu&#x201D;&#x7684;&#x610F;&#x601D;&#x5427;? &#x771F;&#x76F8; 23Linux &#x4F7F;&#x7528;&#x7684;&#x662F; GPL &#x8BB8;&#x53EF;&#x8BC1;&#x3002; 12&#x201C;&#x5927;&#x591A;&#x6570;&#x8F6F;&#x4EF6;&#x7684;&#x8BB8;&#x53EF;&#x8BC1;&#x90FD;&#x4E3A;&#x4E86;&#x593A;&#x8D70;&#x4F60;&#x5206;&#x4EAB;&#x548C;&#x4FEE;&#x6539;&#x5B83;&#x7684;&#x81EA;&#x7531;&#x3002;&#x76F8;&#x6BD4;&#x4E4B;&#x4E0B;&#xFF0C;GNU GPL &#x8BB8;&#x53EF;&#x8BC1;&#x529B;&#x56FE;&#x634D;&#x536B;&#x4F60;&#x5206;&#x4EAB;&#x548C;&#x4FEE;&#x6539;&#x81EA;&#x7531;&#x8F6F;&#x4EF6;&#x7684;&#x81EA;&#x7531;&#x2014;&#x2014;&#x4EE5;&#x786E;&#x4FDD;&#x8F6F;&#x4EF6;&#x5BF9;&#x5B83;&#x7684;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x90FD;&#x662F;&#x81EA;&#x7531;&#x7684;&#x3002;&#x201D;&#x200A;&#x2014;&#x2014;&#x200A;GNU GPL &#x5E8F;&#x8A00; &#x771F;&#x76F8; 24Linux &#x91C7;&#x7528; &#x201C;&#x7C7B; Unix&#x201D;&#x8BBE;&#x8BA1;&#xFF0C;&#x5B83;&#x7684;&#x5355;&#x4F53; Linux &#x5185;&#x6838;&#x63A7;&#x5236;&#x7740;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3001;&#x7F51;&#x7EDC;&#x548C;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406;&#x3002;&#x5269;&#x4E0B;&#x7684;&#x529F;&#x80FD;&#x90E8;&#x5206;&#x7531;&#x6A21;&#x5757;&#x6765;&#x63A7;&#x5236;&#x2014;&#x2014;&#x5927;&#x90E8;&#x5206;&#x6765;&#x81EA; GNU &#x9879;&#x76EE;&#x3002; &#x771F;&#x76F8; 25&#x5373;&#x4F7F;&#x662F;&#x5FAE;&#x8F6F;&#x7684; Windows&#x200A;&#xFF0C;&#x8FD9;&#x4E2A; Linux &#x7684;&#x6700;&#x5927;&#x7684;&#x7ADE;&#x4E89;&#x5BF9;&#x624B;&#xFF0C;&#x4E5F;&#x5728;&#x62E5;&#x62B1; Linux&#x3002;&#x5B83;&#x6700;&#x8FD1;&#x5C06; Ubuntu Bash &#x96C6;&#x6210;&#x5230;&#x4E86; Windows 10 &#x4E4B;&#x4E2D;&#x3002;&#x8D60;&#x54C1;&#x771F;&#x76F8;&#xFF1A;Linux &#x7684;&#x7075;&#x611F;&#x6765;&#x81EA;&#x4E8E; Richard Stallman &#x7684; GNU &#x9879;&#x76EE;&#xFF0C;&#x5B83;&#x662F;&#x81EA;&#x7531;&#x8F6F;&#x4EF6;&#x8FD0;&#x52A8;&#x548C;&#x9ED1;&#x5BA2;&#x4F26;&#x7406;&#x3002;&#x4F60;&#x53EF;&#x7528;&#x4ECE; Steven Levy &#x7684;&#x7ECF;&#x5178;&#x8457;&#x4F5C;&#x300A;&#x9ED1;&#x5BA2;&#x300B;&#x4E2D;&#x4E86;&#x89E3;&#x5230;&#x8FD9;&#x4E9B;&#x4EE5;&#x53CA;&#x5176;&#x5B83;&#x6BD4;&#x5982; Apple I &#x8BA1;&#x7B97;&#x673A;&#x7B49;&#x91CD;&#x8981;&#x9879;&#x76EE;&#x7684;&#x5386;&#x53F2;&#x3002; &#x6B64;&#x5916;&#xFF0C;&#x8FD9;&#x91CC;&#x8FD8;&#x6709;&#x4E00;&#x4EFD;&#x5BF9; Linus &#x7684;&#x7B80;&#x5355;&#x91C7;&#x8BBF;&#xFF0C;&#x4ED6;&#x8C08;&#x53CA;&#x4E86; Linux &#x548C; Git&#xFF0C;&#x4EE5;&#x53CA;&#x4ED6;&#x662F;&#x5982;&#x4F55;&#x521B;&#x9020;&#x4ED6;&#x4EEC;&#x6765;&#x89E3;&#x51B3;&#x4ED6;&#x81EA;&#x5DF1;&#x7684;&#x95EE;&#x9898;&#x7684;&#x3002; &#x89C6;&#x9891;&#x5730;&#x5740; &#x8BA9;&#x6211;&#x4EEC;&#x671F;&#x5F85;&#x63A5;&#x4E0B;&#x6765; 25 &#x5E74;&#x7684; Linux&#x3002;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x5C06;&#x7EE7;&#x7EED;&#x6253;&#x9020;&#x4E00;&#x4E2A;&#x66F4;&#x5B8C;&#x7F8E;&#x7684;&#x4E16;&#x754C;!]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux运行与控制后台进程的方法：nohup, setsid, &, disown, screen]]></title>
    <url>%2F2016%2F08%2F29%2Flinux-back-process%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x53C2;&#x8003;&#x8D44;&#x6599;&#xFF1A;http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/ &#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F1A;&#x78B0;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x7528;ssh&#x767B;&#x5F55;&#x4E86;&#x8FDC;&#x7A0B;&#x7684;Linux&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD0;&#x884C;&#x4E86;&#x4E00;&#x4E9B;&#x8017;&#x65F6;&#x8F83;&#x957F;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x7ED3;&#x679C;&#x5374;&#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x7B49;&#x7684;&#x4E0D;&#x7A33;&#x5B9A;&#x5BFC;&#x81F4;&#x4EFB;&#x52A1;&#x4E2D;&#x9014;&#x5931;&#x8D25;&#x3002; &#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x5728;&#x7528;&#x6237;&#x6CE8;&#x9500;&#xFF08;logout&#xFF09;&#x6216;&#x8005;&#x7F51;&#x7EDC;&#x65AD;&#x5F00;&#x65F6;&#xFF0C;&#x7EC8;&#x7AEF;&#x4F1A;&#x6536;&#x5230; HUP&#xFF08;hangup&#xFF09;&#x4FE1;&#x53F7;&#x4ECE;&#x800C;&#x5173;&#x95ED;&#x5176;&#x6240;&#x6709;&#x5B50;&#x8FDB;&#x7A0B;&#x3002; &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x6709;&#x4E24;&#x79CD;&#xFF1A;&#x8BA9;&#x8FDB;&#x7A0B;&#x5FFD;&#x7565;HUP&#x4FE1;&#x53F7;&#xFF0C;&#x6216;&#x8BA9;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x5728;&#x65B0;&#x7684;&#x4F1A;&#x8BDD;&#x91CC;&#x4ECE;&#x800C;&#x6210;&#x4E3A;&#x4E0D;&#x5C5E;&#x4E8E;&#x6B64;&#x7EC8;&#x7AEF;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x5BF9;Linux&#x4E0B;&#x8FD0;&#x884C;&#x4E0E;&#x63A7;&#x5236;&#x540E;&#x53F0;&#x8FDB;&#x7A0B;&#x7684;&#x5404;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x4ECB;&#x7ECD;&#xFF1A; nohup12&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;nohup&#x7684;&#x7528;&#x9014;&#x5C31;&#x662F;&#x8BA9;&#x63D0;&#x4EA4;&#x7684;&#x547D;&#x4EE4;&#x5FFD;&#x7565;&#x6240;&#x6709;&#x7684;hangup&#x4FE1;&#x53F7;&#x3002;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;nohup COMMAND [ARG]... setsid12&#x5728;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4F1A;&#x8BDD;&#x4E2D;&#x8FD0;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x907F;&#x5F00;&#x5F53;&#x524D;&#x7EC8;&#x7AEF;&#x53D1;&#x51FA;&#x7684;HUP&#x4FE1;&#x53F7;&#x3002;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;setsid COMMAND [ARG]... &amp;12&#x53EF;&#x4EE5;&#x7ED3;&#x5408;()&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5B50;shell&#x5E76;&#x5728;&#x8FD9;&#x4E2A;&#x5B50;shell&#x4E2D;&#x5C06;&#x4EFB;&#x52A1;&#x653E;&#x7F6E;&#x5230;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x4ECE;&#x800C;&#x4E0D;&#x53D7;&#x5F53;&#x524D;shell&#x7EC8;&#x7AEF;&#x7684;HUP&#x4FE1;&#x53F7;&#x5F71;&#x54CD;&#x3002;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;(COMMAND [ARG]... &amp;) &#x800C;&#x6211;&#x901A;&#x5E38;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E3A;&#xFF1A; 12nohup ./filename.sh &gt; filename.log 2&gt;&amp;1 &amp;nohup ./filename.sh &amp;&gt; filename.log &amp; &#x4E09;&#x70B9;&#x7406;&#x7531;: nohup&#x4FDD;&#x969C;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x88AB;hangup&#x4FE1;&#x53F7;&#x5F02;&#x5E38;&#x4E2D;&#x65AD;&#xFF1B; &#x5C06;&#x4EFB;&#x52A1;&#x653E;&#x7F6E;&#x5230;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x5360;&#x7528;&#x5F53;&#x524D;&#x7684;&#x7EC8;&#x7AEF;&#xFF1B; &#x5C06;&#x9519;&#x8BEF;&#x8F93;&#x51FA;&#x4E5F;&#x6253;&#x5370;&#x5230;log&#x4E2D;&#xFF0C;&#x9ED8;&#x8BA4;&gt;&#x53EA;&#x6709;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF0C;&#x9519;&#x8BEF;&#x8F93;&#x51FA;&#x6CA1;&#x6709;&#x3002; &#x63A7;&#x5236;&#x8FDB;&#x7A0B;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;&#x653E;&#x5165;&#x5230;&#x540E;&#x53F0;&#x7684;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x63A7;&#x5236; &#x67E5;&#x770B;&#x5F53;&#x524D;&#x7EC8;&#x7AEF;&#x4E0B;&#x7684;&#x540E;&#x53F0;&#x8FDB;&#x7A0B;&#xFF1A;&#x76F4;&#x63A5;&#x6267;&#x884C;&#xFF1A;jobs &#x5C06;&#x67E5;&#x770B;&#x5230;&#x7684;&#x67D0;&#x4E2A;&#x540E;&#x53F0;&#x8FDB;&#x7A0B;&#x653E;&#x56DE;&#x5230;&#x524D;&#x53F0;&#xFF1A;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#xFF1A;fg {jobid} //&#x8FD9;&#x91CC;&#x7684;{jobid}&#x662F;&#x901A;&#x8FC7;jobs&#x547D;&#x4EE4;&#x4E2D;&#x770B;&#x5230;&#x7684;&#x8FDB;&#x7A0B;&#x524D;[]&#x4E2D;&#x7684;&#x6570;&#x5B57;&#x3002; &#x5C06;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x524D;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x653E;&#x5230;&#x540E;&#x53F0;&#x8FD0;&#x884C;:&#x5148;&#x6572;&#x4E0B;&#x5FEB;&#x6377;&#x952E;&#xFF1A;ctrl +z //&#x6682;&#x505C;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x518D;&#x6267;&#x884C;&#xFF1A;bg &#x7EC8;&#x6B62;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x524D;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#xFF1A;&#x76F4;&#x63A5;&#x6572;&#x4E0B;&#x5FEB;&#x6377;&#x952E;&#xFF1A;ctrl +c disown&#x4EA1;&#x7F8A;&#x8865;&#x7262;&#xFF0C;&#x4E3A;&#x6CA1;&#x6709;&#x4F7F;&#x7528;nohup&#x4E0E;setsid&#x7684;&#x8FDB;&#x7A0B;&#x52A0;&#x4E0A;&#x5FFD;&#x7565;HUP&#x4FE1;&#x53F7;&#x7684;&#x529F;&#x80FD;&#x3002;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;&#x5C06;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x524D;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x653E;&#x5230;&#x540E;&#x53F0;&#x8FD0;&#x884C;;&#x7136;&#x540E;&#x6267;&#x884C;disown -h %{jobid} //&#x8FD9;&#x91CC;&#x7684;{jobid}&#x662F;&#x901A;&#x8FC7;jobs&#x547D;&#x4EE4;&#x4E2D;&#x770B;&#x5230;&#x7684;&#x8FDB;&#x7A0B;&#x524D;[]&#x4E2D;&#x7684;&#x6570;&#x5B57;&#x3002; &#x901A;&#x8FC7;screen&#x6765;&#x5B9E;&#x73B0;&#x7A33;&#x5B9A;&#x7684;&#x540E;&#x53F0;&#x8FD0;&#x884C;screen&#x662F;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5168;&#x5C4F;&#x865A;&#x62DF;&#x4F1A;&#x8BDD;&#x7EC8;&#x7AEF;&#xFF0C;&#x8FD9;&#x4E2A;&#x4F1A;&#x8BDD;&#x53EA;&#x6709;&#x5728;&#x624B;&#x52A8;&#x8F93;&#x5165;exit&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x9000;&#x51FA;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x4F1A;&#x8BDD;&#x91CC;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;HUP&#x4FE1;&#x53F7;&#x4F1A;&#x5BF9;&#x6211;&#x4EEC;&#x7684;&#x8FDB;&#x7A0B;&#x9020;&#x6210;&#x5F71;&#x54CD;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x4E0D;&#x7528;&#x7ED9;&#x6BCF;&#x4E2A;&#x547D;&#x4EE4;&#x524D;&#x90FD;&#x52A0;&#x4E0A;&#x201C;nohup&#x201D;&#x6216;&#x201C;setsid&#x201D;&#x4E86;&#xFF0C;&#x975E;&#x5E38;&#x9002;&#x5408;&#x6211;&#x4EEC;&#x6709;&#x89C4;&#x5212;&#x7684;&#x6267;&#x884C;&#x5927;&#x91CF;&#x7684;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x7684;&#x8BA9;&#x6211;&#x4EEC;&#x5BF9;&#x8FD9;&#x4E9B;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x3002; &#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF1A; 12345678screen //&#x7ACB;&#x5373;&#x521B;&#x5EFA;&#x5E76;&#x8FDB;&#x5165;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD;&#x3002;screen -dmS {name} //&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x5904;&#x4E8E;&#x6302;&#x8D77;&#x6A21;&#x5F0F;&#x4E0B;&#x7684;&#x4F1A;&#x8BDD;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x6211;&#x4EEC;&#x7684;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x5176;&#x4F1A;&#x8BDD;&#x540D;&#x79F0;&#x3002;screen -dmS {name} {script} //&#x5728;&#x5EFA;&#x7ACB;&#x4F1A;&#x8BDD;&#x65F6;&#x540C;&#x65F6;&#x6267;&#x884C;&#x6307;&#x5B9A;&#x7684;&#x547D;&#x4EE4;&#x6216;&#x811A;&#x672C;screen -list //&#x5217;&#x51FA;&#x6240;&#x6709;&#x4F1A;&#x8BDD;&#x3002;screen -r {name} //&#x4EE5;&#x72EC;&#x5360;&#x65B9;&#x5F0F;&#x8FDB;&#x5165;&#x6307;&#x5B9A;&#x4F1A;&#x8BDD;&#x3002;screen -x {name} //&#x4EE5;&#x5E76;&#x884C;&#x65B9;&#x5F0F;&#x8FDB;&#x5165;&#x6307;&#x5B9A;&#x4F1A;&#x8BDD;&#x3002;ctrl +ad //&#x8F93;&#x5165;&#x5FEB;&#x6377;&#x952E;ctrl +a&#x548C;d&#xFF0C;&#x53EF;&#x6682;&#x65F6;&#x9000;&#x51FA;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#x3002;exit //&#x8FDB;&#x5165;&#x6307;&#x5B9A;&#x4F1A;&#x8BDD;&#x540E;&#x6267;&#x884C;exit&#x5373;&#x53EF;&#x5173;&#x95ED;&#x8BE5;&#x4F1A;&#x8BDD;&#x3002;]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySql主从同步配置]]></title>
    <url>%2F2016%2F08%2F05%2Fmysql-slave%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;MySql-AB&#x590D;&#x5236;&#x662F;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x590D;&#x5236;&#x6280;&#x672F; MySQL&#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x79CD;&#x9AD8;&#x6027;&#x80FD;&#x3001;&#x9AD8;&#x53EF;&#x7528;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; &#x590D;&#x5236; &#x5355;&#x5411;&#x590D;&#x5236;&#xFF1A;&#x4E0D;&#x8981;&#x5728;slave&#x4E0A;&#x505A;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x3002; &#x53CC;&#x5411;&#x590D;&#x5236; &#x5F02;&#x6B65;&#x590D;&#x5236; ab&#x590D;&#x5236;&#x7684;&#x6A21;&#x5F0F; &#x4E00;&#x4E3B;&#x4E00;&#x4ECE; &#x4E00;&#x4E3B;&#x591A;&#x4ECE; &#x53CC;&#x4E3B; &#x591A;&#x4E3B;&#x591A;&#x4ECE; AB&#x590D;&#x5236;&#x539F;&#x7406;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x5FC5;&#x987B;&#x5F00;&#x542F;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7; 1&#xFF09;&#x9996;&#x5148;master&#x5C06;&#x66F4;&#x65B0;&#x5199;&#x5165;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x8DDF;&#x8E2A;&#x65E5;&#x5FD7;&#x5FAA;&#x73AF; 2&#xFF09;slave&#x901A;&#x8FC7;I/O&#x7EBF;&#x7A0B;&#x5411;master&#x7D22;&#x8981;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;slave&#x77E5;&#x9053;&#x4ECE;&#x54EA;&#x4E2A;binlog&#x70B9;&#x5F00;&#x59CB;&#x7D22;&#x8981; 3&#xFF09;master&#x63A5;&#x6536;&#x5230;slave&#x7684;I/O&#x8BF7;&#x6C42;&#x4E4B;&#x540E;&#xFF0C;&#x6839;&#x636E;slave&#x63D0;&#x4F9B;&#x7684;&#x4F4D;&#x7F6E;&#x70B9;&#x5F00;&#x59CB;&#x4F20;&#x8F93;&#x65E5;&#x5FD7; 4&#xFF09;slave&#x6536;&#x5230;&#x65E5;&#x5FD7;&#x540E;&#xFF0C;&#x5199;&#x5165;&#x672C;&#x5730;&#x7684;relay log&#x4E2D; 5&#xFF09;slave&#x901A;&#x8FC7;SQL&#x7EBF;&#x7A0B;&#x8BFB;&#x53D6;relay log&#xFF0C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x81F3;&#x6B64;&#xFF0C;&#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x5165;&#x7B49;&#x5F85;&#x72B6;&#x6001;&#xFF0C;&#x7B49;&#x5F85;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4E0B;&#x4E00;&#x6B21;&#x66F4;&#x65B0;&#x3002; &#x73AF;&#x5883;&#x8BF4;&#x660E; &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF1A;CentOS 6.7 64&#x4F4D; MySQL&#x6570;&#x636E;&#x5E93;&#x7248;&#x672C;&#xFF1A;mysql-5.5.35 master&#xFF1A;172.16.0.100 slave&#xFF1A;172.16.0.101 &#x914D;&#x7F6E;&#x6B65;&#x9AA4;&#xFF1A;&#x6CE8;&#xFF1A;&#x4E00;&#x4E9B;&#x57FA;&#x7840;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x81EA;&#x884C;&#x5B8C;&#x6210; master&#x7AEF;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;123456vim /etc/my.cnf [mysqld] log-bin=mysqlbin log-bin-index=mysqlbin.index server-id = 100 //&#x4FDD;&#x8BC1;&#x4E3B;&#x4ECE;id&#x4E0D;&#x4E00;&#x6837; skip-name-resolve &#x91CD;&#x542F;mysql&#x670D;&#x52A1;1234/etc/init.d/mysqld restartmysql -uroot -pmysql&gt; show variables like &apos;server_id&apos;; &#x6388;&#x6743;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x590D;&#x5236;&#x7684;&#x7528;&#x6237;12mysql&gt; grant replication slave,reload,super on *.* to slave@&apos;172.16.0.101&apos; identified by &apos;Test@slave123&apos;;mysql&gt; flush privileges; &#x505A;&#x4E00;&#x6B21;&#x5168;&#x5E93;&#x5907;&#x4EFD;12mysql&gt; flush tables with read lock; //&#x4FDD;&#x8BC1;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x4E00;&#x81F4;mysqldump -uroot -p --all-databases &gt; /tmp/all.sql &#x5C06;&#x5907;&#x4EFD;&#x4F20;&#x5230;slave&#x670D;&#x52A1;&#x5668;1scp /tmp/all.sql 172.16.0.101:/tmp/ slave&#x7684;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345vim /etc/my.cnf [mysqld] server-id = 101 relay_log=mysql-relay relay_log_index=mysql-relay.index &#x505C;&#x6389;&#x6570;&#x636E;&#x5E93;(&#x5168;&#x65B0;&#x5E93;&#x4E0D;&#x7528;&#x505A;)1/etc/init.d/mysqld stop &#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;(&#x5168;&#x65B0;&#x5E93;&#x4E0D;&#x7528;&#x505A;)12345cd /data/mysql/rm -rf *cd /usr/local/mysql5.5.35/scripts/./mysql_install_db --user=mysql --datadir=/data/mysql --basedir=/usr/local/mysql5.5.35/etc/init.d/mysqld start &#x6062;&#x590D;&#x6765;&#x81EA;master&#x7684;&#x6570;&#x636E;1234mysql &lt; /tmp/all.sqlmysql -uroot -pmysql&gt; show variables like &apos;server_id&apos;; &#x5728;master&#x4E0A;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x53CA;&#x4F4D;&#x7F6E;&#x70B9;123456mysql&gt; show master status;+------------------+-----------+--------------+------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB |+------------------+-----------+--------------+------------------+| mysql-bin.000008 | 119280673 | | |+------------------+-----------+--------------+------------------+ &#x5728;slave&#x4E0A;&#x624B;&#x52A8;&#x540C;&#x6B65;&#x6570;&#x636E;123456789mysql&gt; change master to master_host=&apos;172.16.0.100&apos;,master_port=3306,master_user=&apos;slave&apos;,master_password=&apos;Test@slave123&apos;,master_log_file=&apos;mysql-bin.000008&apos;,master_log_pos=119280673; //&#x5F00;&#x542F;&#x4ECE;&#x670D;&#x52A1;&#x5668;mysql&gt; slave start; //&#x67E5;&#x770B;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x72B6;&#x6001;mysql&gt; show slave status\GSlave_IO_Running: YesSlave_SQL_Running: Yes &#x6CE8;&#x610F;&#xFF1A;&#x5F53;slave&#x662F;start&#x72B6;&#x6001;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x4E0D;&#x80FD;&#x591F;&#x6267;&#x884C;change&#x7684; master&#x670D;&#x52A1;&#x5668;&#x89E3;&#x9501;1mysql&gt; unlock tables; &#x9A8C;&#x8BC1;123456&#x5728;master&#x4E0A;&#x6267;&#x884C;mysql&gt; create database myTest;mysql&gt; use myTest;mysql&gt; create table t1 (id int);&#x5728;slave&#x4E0A;&#x9A8C;&#x8BC1;mysql&gt; show databases; 12345slave&#x4E0A;&#x62A5;&#x9519;&#x5982;&#x4E0B;&#xFF1A;ERROR 1201 (HY000): Could not initialize master info structure; more error messages can be found in the MySQL error log&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;&#x5220;&#x9664;master.info&#x548C;relay-log.info&#x6587;&#x4EF6;&#x7136;&#x540E;&#x518D;&#x6267;&#x884C;change master to&#x64CD;&#x4F5C; &#x914D;&#x7F6E;MySQL GTID &#x4E3B;&#x4ECE;&#x590D;&#x5236;GTID&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x539F;&#x59CB;mysql&#x670D;&#x52A1;&#x5668;&#x751F;&#x6210;&#x7684;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x88AB;&#x6210;&#x529F;&#x6267;&#x884C;&#x7684;&#x5168;&#x5C40;&#x4E8B;&#x52A1;ID&#xFF0C;&#x5B83;&#x7531;&#x670D;&#x52A1;&#x5668;ID&#x4EE5;&#x53CA;&#x4E8B;&#x52A1;ID&#x7EC4;&#x5408;&#x800C;&#x6210;&#x3002;&#x8FD9;&#x4E2A;&#x5168;&#x5C40;&#x4E8B;&#x52A1;ID&#x4E0D;&#x4EC5;&#x4EC5;&#x5728;&#x539F;&#x59CB;&#x670D;&#x52A1;&#x5668;&#x5668;&#x4E0A;&#x552F;&#x4E00;&#xFF0C;&#x5728;&#x6240;&#x6709;&#x5B58;&#x5728;&#x4E3B;&#x4ECE;&#x5173;&#x7CFB; &#x7684;mysql&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4E5F;&#x662F;&#x552F;&#x4E00;&#x7684;&#x3002;&#x6B63;&#x662F;&#x56E0;&#x4E3A;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x7279;&#x6027;&#x4F7F;&#x5F97;mysql&#x7684;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#xFF0C;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x4E00;&#x81F4;&#x6027;&#x66F4;&#x53EF;&#x9760;&#x3002;&#x672C;&#x6587;&#x4E3B;&#x8981;&#x63CF;&#x8FF0;&#x4E86;&#x5FEB;&#x901F;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;GTID&#x7684;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x67B6;&#x6784;&#xFF0C;&#x4F9B;&#x5927;&#x5BB6;&#x53C2;&#x8003;&#x3002; GTID&#x7684;&#x6982;&#x5FF5;1234561&#x3001;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x6807;&#x8BC6;&#xFF1A;global transaction identifiers&#x3002;2&#x3001;GTID&#x662F;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#xFF0C;&#x5E76;&#x4E14;&#x5168;&#x5C40;&#x552F;&#x4E00;ID&#x3002;3&#x3001;&#x4E00;&#x4E2A;GTID&#x5728;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x907F;&#x514D;&#x91CD;&#x590D;&#x6267;&#x884C;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x6DF7;&#x4E71;&#x6216;&#x8005;&#x4E3B;&#x4ECE;&#x4E0D;&#x4E00;&#x81F4;&#x3002;4&#x3001;GTID&#x7528;&#x6765;&#x4EE3;&#x66FF;&#x4F20;&#x7EDF;&#x590D;&#x5236;&#x65B9;&#x6CD5;&#xFF0C;&#x4E0D;&#x518D;&#x4F7F;&#x7528;MASTER_LOG_FILE+MASTER_LOG_POS&#x5F00;&#x542F;&#x590D;&#x5236;&#x3002;&#x800C;&#x662F;&#x4F7F;&#x7528;MASTER_AUTO_POSTION=1&#x7684;&#x65B9;&#x5F0F;&#x5F00;&#x59CB;&#x590D;&#x5236;&#x3002;5&#x3001;MySQL-5.6.5&#x5F00;&#x59CB;&#x652F;&#x6301;&#x7684;&#xFF0C;MySQL-5.6.10&#x540E;&#x5F00;&#x59CB;&#x5B8C;&#x5584;&#x3002;6&#x3001;&#x5728;&#x4F20;&#x7EDF;&#x7684;slave&#x7AEF;&#xFF0C;binlog&#x662F;&#x4E0D;&#x7528;&#x5F00;&#x542F;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5728;GTID&#x4E2D;slave&#x7AEF;&#x7684;binlog&#x662F;&#x5FC5;&#x987B;&#x5F00;&#x542F;&#x7684;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x8BB0;&#x5F55;&#x6267;&#x884C;&#x8FC7;&#x7684;GTID&#xFF08;&#x5F3A;&#x5236;&#xFF09;&#x3002; GTID&#x7684;&#x7EC4;&#x6210;123456GTID = source_id:transaction_idsource_id&#xFF0C;&#x7528;&#x4E8E;&#x9274;&#x522B;&#x539F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5373;mysql&#x670D;&#x52A1;&#x5668;&#x552F;&#x4E00;&#x7684;&#x7684;server_uuid&#xFF0C;&#x7531;&#x4E8E;GTID&#x4F1A;&#x4F20;&#x9012;&#x5230;slave&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x6E90;ID&#x3002;transaction_id&#xFF0C;&#x4E3A;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5DF2;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x7684;&#x4E00;&#x4E2A;&#x5E8F;&#x5217;&#x53F7;&#xFF0C;&#x901A;&#x5E38;&#x4ECE;1&#x5F00;&#x59CB;&#x81EA;&#x589E;&#x957F;&#x7684;&#x5E8F;&#x5217;&#xFF0C;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x3002; &#x793A;&#x4F8B;&#xFF1A; 3E11FA47-71CA-11E1-9E33-C80AA9429562:23&#x524D;&#x9762;&#x7684;&#x4E00;&#x4E32;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x7684;server_uuid&#xFF0C;&#x5373;3E11FA47-71CA-11E1-9E33-C80AA9429562&#xFF0C;&#x540E;&#x9762;&#x7684;23&#x4E3A;transaction_id GTID&#x7684;&#x4F18;&#x52BF;12341&#x3001;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;failover&#xFF0C;&#x4E0D;&#x7528;&#x4EE5;&#x524D;&#x90A3;&#x6837;&#x5728;&#x9700;&#x8981;&#x627E;log_file&#x548C;log_pos&#x3002;2&#x3001;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x642D;&#x5EFA;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x3002;3&#x3001;&#x6BD4;&#x4F20;&#x7EDF;&#x7684;&#x590D;&#x5236;&#x66F4;&#x52A0;&#x5B89;&#x5168;&#x3002;4&#x3001;GTID&#x662F;&#x8FDE;&#x7EED;&#x7684;&#x6CA1;&#x6709;&#x7A7A;&#x6D1E;&#x7684;&#xFF0C;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x96F6;&#x4E22;&#x5931;&#x3002; GTID&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;12345671&#x3001;&#x5F53;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5728;&#x4E3B;&#x5E93;&#x7AEF;&#x6267;&#x884C;&#x5E76;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x4EA7;&#x751F;GTID&#xFF0C;&#x4E00;&#x540C;&#x8BB0;&#x5F55;&#x5230;binlog&#x65E5;&#x5FD7;&#x4E2D;&#x3002;2&#x3001;binlog&#x4F20;&#x8F93;&#x5230;slave,&#x5E76;&#x5B58;&#x50A8;&#x5230;slave&#x7684;relaylog&#x540E;&#xFF0C;&#x8BFB;&#x53D6;&#x8FD9;&#x4E2A;GTID&#x7684;&#x8FD9;&#x4E2A;&#x503C;&#x8BBE;&#x7F6E;gtid_next&#x53D8;&#x91CF;&#xFF0C;&#x5373;&#x544A;&#x8BC9;Slave&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x6267;&#x884C;&#x7684;GTID&#x503C;&#x3002;3&#x3001;sql&#x7EBF;&#x7A0B;&#x4ECE;relay log&#x4E2D;&#x83B7;&#x53D6;GTID&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x6BD4;slave&#x7AEF;&#x7684;binlog&#x662F;&#x5426;&#x6709;&#x8BE5;GTID&#x3002;4&#x3001;&#x5982;&#x679C;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x8BF4;&#x660E;&#x8BE5;GTID&#x7684;&#x4E8B;&#x52A1;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#xFF0C;slave&#x4F1A;&#x5FFD;&#x7565;&#x3002;5&#x3001;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;slave&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x8BE5;GTID&#x4E8B;&#x52A1;&#xFF0C;&#x5E76;&#x8BB0;&#x5F55;&#x8BE5;GTID&#x5230;&#x81EA;&#x8EAB;&#x7684;binlog&#xFF0C; &#x5728;&#x8BFB;&#x53D6;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x524D;&#x4F1A;&#x5148;&#x68C0;&#x67E5;&#x5176;&#x4ED6;session&#x6301;&#x6709;&#x8BE5;GTID&#xFF0C;&#x786E;&#x4FDD;&#x4E0D;&#x88AB;&#x91CD;&#x590D;&#x6267;&#x884C;&#x3002;6&#x3001;&#x5728;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x4E3B;&#x952E;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x7528;&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x7528;&#x5168;&#x90E8;&#x626B;&#x63CF;&#x3002; &#x914D;&#x7F6E;GTID&#x5BF9;&#x4E8E;GTID&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x4E3B;&#x8981;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x4E0E;GTID&#x7279;&#x6027;&#x76F8;&#x5173;&#x7684;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x53C2;&#x6570;(&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;mysql-5.6.5&#x4EE5;&#x4E0A;&#x7248;&#x672C;)&#xFF0C;&#x5982;&#x4E0B;: 12345678910111213141516171819202122232425262728291&#x3001;&#x4E3B;&#xFF1A;[mysqld]#GTID:server_id=135 #&#x670D;&#x52A1;&#x5668;idgtid_mode=on #&#x5F00;&#x542F;gtid&#x6A21;&#x5F0F;enforce_gtid_consistency=on #&#x5F3A;&#x5236;gtid&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x5F00;&#x542F;&#x540E;&#x5BF9;&#x4E8E;&#x7279;&#x5B9A;create table&#x4E0D;&#x88AB;&#x652F;&#x6301;#binloglog_bin=master-binloglog-slave-updates=1 binlog_format=row #&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#xFF0C;&#x5176;&#x4ED6;&#x683C;&#x5F0F;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;#relay logskip_slave_start=1 2&#x3001;&#x4ECE;&#xFF1A;[mysqld]#GTID:gtid_mode=onenforce_gtid_consistency=onserver_id=143#binloglog-bin=slave-binloglog-slave-updates=1binlog_format=row #&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#xFF0C;&#x5176;&#x4ED6;&#x683C;&#x5F0F;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;#relay logskip_slave_start=1 &#x914D;&#x7F6E;&#x57FA;&#x4E8E;GTID&#x7684;&#x590D;&#x5236;123456789101112131415161718192021222324252627282930313233343536373839404142431&#x3001;&#x65B0;&#x914D;&#x7F6E;&#x7684;mysql&#x670D;&#x52A1;&#x5668;&#x5BF9;&#x4E8E;&#x65B0;&#x914D;&#x7F6E;&#x7684;mysql&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6309;&#x672C;&#x6587;&#x7B2C;&#x4E94;&#x70B9;&#x63CF;&#x8FF0;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x5728;slave&#x7AEF;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;(root@localhost) [(none)]&gt; CHANGE MASTER TO -&gt; MASTER_HOST=&apos;192.168.1.135&apos;, -&gt; MASTER_USER=&apos;repl&apos;, -&gt; MASTER_PASSWORD=&apos;xxx&apos;, -&gt; MASTER_PORT=3306, -&gt; MASTER_AUTO_POSITION = 1;Query OK, 0 rows affected, 2 warnings (0.01 sec)(root@localhost) [(none)]&gt; start slave;Query OK, 0 rows affected (0.01 sec)(root@localhost) [(none)]&gt; show slave status \G ###&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x590D;&#x5236;&#x5DE5;&#x4F5C;&#x5DF2;&#x7ECF;&#x5F00;&#x59CB;&#x4E14;&#x6B63;&#x5E38;*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.1.135 Master_User: repl Master_Port: 3306 Connect_Retry: 60 Master_Log_File: master-binlog.000001 Read_Master_Log_Pos: 151 Relay_Log_File: slave-relay-log.000002 Relay_Log_Pos: 369 Relay_Master_Log_File: master-binlog.000001 Slave_IO_Running: Yes Slave_SQL_Running: Yes2&#x3001;&#x5DF2;&#x8FD0;&#x884C;&#x7ECF;&#x5178;&#x590D;&#x5236;mysql&#x670D;&#x52A1;&#x5668;&#x8F6C;&#x5411;GTID&#x590D;&#x5236;a&#x3001;&#x6309;&#x672C;&#x6587;&#x7B2C;&#x4E94;&#x70B9;&#x63CF;&#x8FF0;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x6587;&#x4EF6;&#xFF1B;b&#x3001;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E;global.read_only&#x53C2;&#x6570;&#xFF0C;&#x7B49;&#x5F85;&#x4E3B;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x540C;&#x6B65;&#x5B8C;&#x6BD5;&#xFF1B; mysql&gt; SET @@global.read_only = ON; c&#x3001;&#x4F9D;&#x6B21;&#x91CD;&#x542F;&#x4E3B;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#xFF1B;d&#x3001;&#x4F7F;&#x7528;change master &#x66F4;&#x65B0;&#x4E3B;&#x4ECE;&#x914D;&#x7F6E;&#xFF1B; mysql&gt; CHANGE MASTER TO &gt; MASTER_HOST = host, &gt; MASTER_PORT = port, &gt; MASTER_USER = user, &gt; MASTER_PASSWORD = password, &gt; MASTER_AUTO_POSITION = 1;e&#x3001;&#x4ECE;&#x5E93;&#x5F00;&#x542F;&#x590D;&#x5236; mysql&gt; START SLAVE;f&#x3001;&#x9A8C;&#x8BC1;&#x4E3B;&#x4ECE;&#x590D;&#x5236;]]></content>
      <categories>
        <category>db</category>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>db</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gerrit安装部署文档]]></title>
    <url>%2F2016%2F06%2F14%2Fgerrit-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;gerrit&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x8FD8;&#x662F;&#x5F88;&#x7B80;&#x5355;&#x7684;&#xFF0C;&#x867D;&#x7136;&#x4E2A;&#x4EBA;&#x611F;&#x89C9;web&#x754C;&#x9762;&#x4EE5;&#x53CA;&#x64CD;&#x4F5C;&#x4F53;&#x9A8C;&#x975E;&#x5E38;&#x4E0D;&#x723D;&#xFF0C;&#x800C;&#x4E14;&#x56FD;&#x5185;&#x4E5F;&#x6B20;&#x7F3A;&#x9760;&#x8C31;&#x7684;&#x4F7F;&#x7528;&#x6587;&#x6863;&#xFF0C;&#x4F46;&#x662F;gerrit&#x7684;review&#x3001;&#x4EE3;&#x7801;&#x5BA1;&#x6838;&#x529F;&#x80FD;&#x8FD8;&#x662F;&#x6709;&#x5F88;&#x591A;&#x56E2;&#x961F;&#x9700;&#x8981;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x3001;&#x4EE5;&#x53CA;&#x540E;&#x7EED;&#x7684;&#x7BA1;&#x7406;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x7684;&#x3002; &#x7531;&#x4E8E;&#x672C;&#x4EBA;&#x7684;&#x5DE5;&#x4F5C;&#x63A5;&#x89E6;&#x5230;&#x4E86;gerrit&#xFF0C;&#x6240;&#x4EE5;&#x624D;&#x6709;&#x4E86;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x3002; &#x5B98;&#x65B9;&#x6587;&#x6863;cicd&#x6301;&#x7EED;&#x96C6;&#x6210;&#x6587;&#x6863; &#x672C;&#x6587;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x53D6;&#x81EA;&#x7F51;&#x7EDC;&#xFF0C;&#x7531;&#x672C;&#x4EBA;&#x6574;&#x7406;&#x5E76;&#x901A;&#x8FC7;&#x771F;&#x5B9E;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x8BB0;&#x5F55;&#x64B0;&#x5199;&#x800C;&#x6210; &#x7B80;&#x4ECB;gerrit&#x7684;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x662F;&#x6240;&#x6709;&#x771F;&#x6B63;&#x7684;merge&#x7531;gerrit&#x8D1F;&#x8D23;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x63D0;&#x4EA4;&#x53EA;&#x662F;&#x63D0;&#x4EA4;&#x7ED9;&#x4E86;gerrit&#xFF0C;gerrit&#x4F1A;&#x901A;&#x77E5;&#x9879;&#x76EE;&#x7684;&#x8D1F;&#x8D23;&#x4EBA;&#x6765;&#x5BA1;&#x6838; &#x4EE3;&#x7801;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x4F1A;&#x8C03;&#x7528;&#x4E00;&#x4E9B;&#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;&#x6784;&#x5EFA;&#x5DE5;&#x5177;&#x6765;&#x68C0;&#x67E5;&#x4EE3;&#x7801;&#x662F;&#x5426;&#x7B26;&#x5408;&#x8981;&#x6C42;&#xFF0C;&#x53EA;&#x6709;&#x90FD;&#x901A;&#x8FC7;&#x540E;&#x624D;&#x4F1A;&#x7684;&#x5408;&#x5E76;&#x8FDB;&#x4E3B;&#x5E72;&#x4EE3;&#x7801;&#x3002;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x628A;gerrit&#x770B;&#x6210;&#x662F;&#x4EE3;&#x7801;&#x548C;&#x63D0;&#x4EA4;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x9053;&#x95E8;&#x3002; &#x73AF;&#x5883;&#x642D;&#x5EFA;Jdk&#x5B89;&#x88C5;1234567891011121314151617181920212223# &#x5378;&#x8F7D;yum&#x5B89;&#x88C5;&#x7684;javayum remove java* -ywget http://download.oracle.com/otn-pub/java/jdk/8u92-b14/jdk-8u92-linux-x64.tar.gzmkdir /usr/local/producttar xvf jdk-8u92-linux-x64.tar.gz mv jdk1.8.0_92 /usr/local/productln -s /usr/local/product/jdk1.8.0_92 /usr/local/jdkecho -e &quot;&quot;&quot;export JAVA_HOME=&quot;/usr/local/jdk&quot;export JRE_HOME=&quot;\$JAVA_HOME/jre&quot;export PATH=&quot;\$PATH:\$JAVA_HOME/bin&quot;export CLASSPATH=./:\$JAVA_HOME/lib:\$JRE_HOME/lib&quot;&quot;&quot; &gt;&gt; /etc/profilesource /etc/profilejava -versionjava version &quot;1.8.0_92&quot;Java(TM) SE Runtime Environment (build 1.8.0_92-b14)Java HotSpot(TM) 64-Bit Server VM (build 25.92-b14, mixed mode) mysql&#x5B89;&#x88C5;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x5C3D;&#x91CF;&#x8FD8;&#x662F;&#x4F7F;&#x7528;&#x6E90;&#x7801;&#x5B89;&#x88C5;&#x7684;&#x65B0;&#x7248;&#x672C;mysql&#xFF0C;&#x672C;&#x6587;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x91C7;&#x53D6;yum&#x5B89;&#x88C5;&#x7684;&#x65B9;&#x5F0F; 12345678910yum install -y mysql mysql-devel mysql-server/etc/init.d/mysqld startchkconfig mysqld onmysql&gt; CREATE DATABASE reviewdb;&gt; ALTER DATABASE reviewdb charset=latin1;&gt; CREATE USER &apos;gerrit2&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;gerrit2&apos;;&gt; GRANT ALL ON reviewdb.* TO &apos;gerrit2&apos;@&apos;localhost&apos;;&gt; FLUSH PRIVILEGES; mysql&#x6211;&#x4F7F;&#x7528;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x7684;5.5&#x7248;&#x672C;gerrit&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;&#x7684;5.1&#x6CA1;&#x95EE;&#x9898;&#xFF0C;&#x6CA1;&#x6709;&#x6DF1;&#x7A76;&#x539F;&#x56E0; gerrit&#x5B89;&#x88C5;&#x6DFB;&#x52A0;gerrit&#x7528;&#x6237;1adduser gerrit2 &#x6211;&#x4F7F;&#x7528;gerrit&#x7528;&#x6237;&#x5B89;&#x88C5;&#x4E00;&#x76F4;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x4F7F;&#x7528;gerrit2&#x7528;&#x6237;&#x6CA1;&#x95EE;&#x9898; &#x5B89;&#x88C5;git1yum install -y git &#x5B89;&#x88C5;gerrit123456789101112131415# &#x9700;&#x8981;&#x7528;&#x5230;&#x7684;&#x5305;gerrit-2.13.1.warmysql-connector-java-5.1.21.jarbcpkix-jdk15on-152.jar bcprov-jdk15on-152.jar # &#x4E0B;&#x9762;&#x4E09;&#x4E2A;&#x662F;&#x7528;&#x5230;&#x7684;&#x63D2;&#x4EF6;&#x5305;&#xFF0C;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4F1A;&#x81EA;&#x52A8;&#x4E0B;&#x8F7D;&#xFF0C;&#x5982;&#x679C;&#x7F51;&#x7EDC;&#x4E0D;&#x597D;&#x7684;&#x8BDD;&#x5931;&#x8D25;&#x51E0;&#x7387;&#x5F88;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x4E8B;&#x5148;&#x4E0B;&#x597D;&#xFF0C;&#x5B89;&#x88C5;&#x7684;&#x65F6;&#x5019;&#x76F4;&#x63A5;&#x653E;&#x5230;lib&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x53EF;&#x8DF3;&#x8FC7;&#x81EA;&#x52A8;&#x4E0B;&#x8F7D;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4EE5;&#x4E0B;&#x4E3A;&#x4E0B;&#x8F7D;&#x5730;&#x5740;https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.21/mysql-connector-java-5.1.21.jarhttps://repo1.maven.org/maven2/org/bouncycastle/bcpkix-jdk15on/1.52/bcpkix-jdk15on-1.52.jarhttps://repo1.maven.org/maven2/org/bouncycastle/bcprov-jdk15on/1.52/bcprov-jdk15on-1.52.jarsu - gerrit2java -jar gerrit-2.13.1.war init -d /home/gerrit2/review_site/ &#x5B89;&#x88C5;&#x8FC7;&#x7A0B;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116Using secure store: com.google.gerrit.server.securestore.DefaultSecureStore[2017-06-15 15:22:17,223] [main] INFO com.google.gerrit.server.config.GerritServerConfigProvider : No /home/gerrit2/review_site/etc/gerrit.config; assuming defaults*** Gerrit Code Review 2.13.1***Create &apos;/home/gerrit2/review_site&apos; [Y/n]?##### &#x53EF;&#x4EE5;&#x53E6;&#x8D77;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF; cp *.jar review_site/lib/*** Git Repositories***Location of Git repositories [git]:##### &#x914D;&#x7F6E;&#x6570;&#x636E;&#x5E93;*** SQL Database***Database server type [h2]: mysqlGerrit Code Review is not shipped with MySQL Connector/J 5.1.21** This library is required for your configuration. **Download and install it now [Y/n]?Downloading https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.21/mysql-connector-java-5.1.21.jar ... OKChecksum mysql-connector-java-5.1.21.jar OKServer hostname [localhost]:Server port [(mysql default)]:Database name [reviewdb]:Database username [gerrit2]:gerrit2&apos;s password : gerrit2 confirm password : gerrit2*** User Authentication***Authentication method [OPENID/?]: HTTPGet username from custom HTTP header [y/N]?SSO logout URL :Enable signed push support [y/N]?*** Review Labels***Install Verified label [y/N]?##### &#x914D;&#x7F6E;&#x53D1;&#x4EF6;&#x90AE;&#x7BB1;*** Email Delivery***SMTP server hostname [localhost]: smtp.163.comSMTP server port [(default)]: 25SMTP encryption [NONE/?]:SMTP username [gerrit2]: emo_ooppwwqq0@163.comemo_ooppwwqq0@163.com&apos;s password : confirm password :*** Container Process***Run as [gerrit2]:Java runtime [/usr/local/product/jdk1.8.0_92/jre]:Copy gerrit-2.13.1.war to /home/gerrit2/review_site/bin/gerrit.war [Y/n]?Copying gerrit-2.13.1.war to /home/gerrit2/review_site/bin/gerrit.war*** SSH Daemon***Listen on address [*]:Listen on port [29418]:Gerrit Code Review is not shipped with Bouncy Castle Crypto SSL v152 If available, Gerrit can take advantage of features in the library, but will also function without it.Download and install it now [Y/n]?Downloading https://repo1.maven.org/maven2/org/bouncycastle/bcpkix-jdk15on/1.52/bcpkix-jdk15on-1.52.jar ... OKChecksum bcpkix-jdk15on-1.52.jar OKGerrit Code Review is not shipped with Bouncy Castle Crypto Provider v152** This library is required by Bouncy Castle Crypto SSL v152. **Download and install it now [Y/n]?Downloading https://repo1.maven.org/maven2/org/bouncycastle/bcprov-jdk15on/1.52/bcprov-jdk15on-1.52.jar ... OKChecksum bcprov-jdk15on-1.52.jar OKGenerating SSH host key ... rsa... dsa... done*** HTTP Daemon***Behind reverse proxy [y/N]? yProxy uses SSL (https://) [y/N]?Subdirectory on proxy server [/]: /gerritListen on address [*]:Listen on port [8081]:Canonical URL [http://localhost/gerrit]: http://10.0.0.136:8003/gerrit*** Plugins***Installing plugins.Install plugin commit-message-length-validator version v2.13.1 [y/N]?Install plugin download-commands version v2.13.1 [y/N]?Install plugin hooks version v2.13.1 [y/N]? yInstalled hooks v2.13.1Install plugin replication version v2.13.1 [y/N]?Install plugin reviewnotes version v2.13.1 [y/N]?Install plugin singleusergroup version v2.13.1 [y/N]?Initializing plugins.No plugins found with init steps.Initialized /home/gerrit2/review_siteExecuting /home/gerrit2/review_site/bin/gerrit.sh startStarting Gerrit Code Review: OKWaiting for server on 127.0.0.1:8081 ... OKOpening http://127.0.0.1:8081/gerrit/#/admin/projects/ ...FAILEDOpen Gerrit with a JavaScript capable browser: http://127.0.0.1:8081/gerrit/#/admin/projects/ &#x6700;&#x540E;&#x80FD;&#x770B;&#x5230;gerrit&#x542F;&#x52A8;&#x4E86;&#x624D;&#x7B97;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x5C31;&#x662F;&#x5931;&#x8D25;&#x4E86; &#x914D;&#x7F6E;gerritgerrit&#x914D;&#x7F6E;&#x6587;&#x4EF6; 123456789101112131415161718192021222324252627282930cat review_site/etc/gerrit.config #####[gerrit] basePath = git serverId = b71016d0-9411-42e0-8082-ab1decc9f5fa canonicalWebUrl = http://10.0.0.136:8003/gerrit[database] type = mysql hostname = localhost database = reviewdb username = gerrit2[auth] type = HTTP[receive] enableSignedPush = false[sendemail] smtpServer = smtp.163.com smtpServerPort = 25 smtpUser = emo_ooppwwqq0@163.com # &#x9700;&#x8981;&#x52A0;&#x4E00;&#x4E2A;from&#x914D;&#x7F6E; &#x5426;&#x5219;&#x65E0;&#x6CD5;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF0C;&#x4F1A;&#x62A5;500 from = CodeReview&lt;emo_ooppwwqq0@163.com&gt; [container] user = gerrit2 javaHome = /usr/local/product/jdk1.8.0_92/jre[sshd] listenAddress = *:29418[httpd] listenUrl = proxy-http://*:8081/gerrit[cache] directory = cache &#x5B89;&#x88C5;&#x914D;&#x7F6E;nginx&#x8FD9;&#x91CC;nginx&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x76F4;&#x63A5;yum&#x5B89;&#x88C5;&#xFF0C;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x5EFA;&#x8BAE;&#x7F16;&#x8BD1;&#x5B89;&#x88C5; 12345678910111213141516171819yum install nginx -yuseradd wwwcat nginx.conf user www; worker_processes 1; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; include vhosts/*.conf; } 12345678910111213141516cat vhost/gerrit.conf server { listen 8003; server_name www.a.com; auth_basic &quot;Gerrit Code Review&quot;; auth_basic_user_file /etc/nginx/gerrit2.passwd; access_log off; error_log off; location /gerrit/ { proxy_pass http://127.0.0.1:8081; proxy_set_header X-Forwarded-For $remote_addr; proxy_set_header Host $host; }}/etc/init.d/nginx restart &#x521B;&#x5EFA;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1;&#x6587;&#x4EF6;1234yum install httpd -yhtpasswd -c /etc/nginx/gerrit2.passwd gerrit2htpasswd -b &#x6587;&#x4EF6; &#x7528;&#x6237;&#x540D; &#x5BC6;&#x7801; ---&#x6DFB;&#x52A0;htpasswd -D &#x6587;&#x4EF6; &#x7528;&#x6237;&#x540D; --&#x5220;&#x9664; &#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;1http://127.0.0.1:8003/gerrit &#x540E;&#x7EED;&#x914D;&#x7F6E;gitweb123456789101112131415yum install gitweb -y[gitweb] type = gitweb cgi = /var/www/git/gitweb.cgi``` ## &#x6743;&#x9650;&#x8BBE;&#x7F6E;### &#x65B0;&#x589E;&#x4E24;&#x4E2A;&#x7528;&#x6237;``` bashhtpasswd -b /etc/nginx/gerrit2.passwd test3 123456htpasswd -b /etc/nginx/gerrit2.passwd test2 123456# &#x521B;&#x5EFA;&#x7528;&#x6237;&#x4E4B;&#x540E;&#x7528;&#x65B0;&#x7528;&#x6237;&#x767B;&#x5F55;gerrit&#x505A;&#x6FC0;&#x6D3B;&#x7528;&#x6237;&#x914D;&#x7F6E; &#x521B;&#x5EFA;&#x7528;&#x6237;&#x7EC4; &#x7528;&#x6237;&#x7EC4;&#x6DFB;&#x52A0;&#x7528;&#x6237; &#x521B;&#x5EFA;&#x9879;&#x76EE; &#x521B;&#x5EFA;&#x9879;&#x76EE;&#x5206;&#x652F; &#x914D;&#x7F6E;&#x9879;&#x76EE;&#x6743;&#x9650; &#x5F00;&#x53D1;&#x8005;&#x914D;&#x7F6E;123456789101112131415161718192021222324252627282930git clone ssh://test2@10.0.0.136:29418/test &amp;&amp; scp -p -P 29418 test2@10.0.0.136:hooks/commit-msg test/.git/hooks/git config --global user.email &quot;xxx@qq.com&quot;git config --global user.name &quot;test2&quot;# &#x914D;&#x7F6E;&#x63A8;&#x9001;&#x5206;&#x652F;&#x4EE5;&#x53CA;&#x914D;&#x7F6E;&#x9ED8;&#x8BA4;&#x5BA1;&#x6838;&#x4EBA;# .git/config[core] repositoryformatversion = 0 filemode = true bare = false logallrefupdates = true[remote &quot;origin&quot;] fetch = +refs/heads/*:refs/remotes/origin/* url = ssh://test2@10.0.0.136:29418/mypro[branch &quot;master&quot;] remote = origin merge = refs/heads/master[branch &quot;develop&quot;] remote = origin merge = refs/heads/develop[remote &quot;dev&quot;] url = ssh://test2@10.0.0.136:29418/mypro push = HEAD:refs/for/develop%r=test3[branch &quot;hotfix_v4.6&quot;] remote = origin merge = refs/heads/hotfix_v4.6[remote &quot;hot&quot;] url = ssh://test2@10.0.0.136:29418/mypro push = HEAD:refs/for/hotfix_v4.6%r=test3 gerrit-hooks&#x914D;&#x7F6E; gerrit&#x5728;git&#x7684;hooks&#x57FA;&#x7840;&#x4E0A;&#x505A;&#x4E86;&#x4E00;&#x4E9B;&#x4E2A;&#x6027;&#x5316;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x5E76;&#x4E14;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x4E9B;&#x5C5E;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;hooks&#x6587;&#x4EF6;&#xFF0C;&#x60F3;&#x8981;&#x4F7F;&#x7528;hooks&#x9700;&#x8981;&#x5728;&#x5B89;&#x88C5;gerrit&#x7684;&#x65F6;&#x5019;&#x9009;&#x5219;&#x5B89;&#x88C5;hooks&#xFF1B; &#x5E76;&#x4E14;hooks&#x9700;&#x8981;&#x653E;&#x5230;$site_dir/hooks&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x9488;&#x5BF9;&#x672C;&#x6587;&#x5C31;&#x662F;&#xFF08;/home/gerrit2/review_site/hooks&#xFF09;&#xFF1B; &#x5982;&#x679C;&#x6210;&#x529F;&#x5B89;&#x88C5;&#x4E86;hooks&#x767B;&#x5F55;&#x7BA1;&#x7406;&#x5458;&#x8D26;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x5B89;&#x88C5;&#xFF0C;&#x5EFA;&#x8BAE;&#x91CD;&#x88C5;gerrit&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4E5F;&#x4E0D;&#x77E5;&#x9053;&#x600E;&#x4E48;&#x5355;&#x72EC;&#x5B89;&#x88C5;hooks&#xFF0C;&#x5EFA;&#x8BAE;&#x81EA;&#x884C;&#x5C1D;&#x8BD5;&#xFF1B; &#x672C;&#x8282;&#x5185;&#x5BB9;&#x6682;&#x65F6;&#x53EA;&#x8BB2;&#x89E3;gerrit&#x4F17;&#x591A;hooks&#x4E2D;&#x7684;&#x4E00;&#x79CD;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x6682;&#x65F6;&#x53EA;&#x7528;&#x4E86;&#x8FD9;&#x4E00;&#x79CD;&#xFF1B; &#x5176;&#x4ED6;&#x548C;git&#x76F8;&#x540C;&#x7684;hooks&#x8BF7;&#x770B;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;git-hooks(&#x94A9;&#x5B50;)&#xFF1A;&#x81EA;&#x5B9A;&#x4E49;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#xFF1B; change-merged &#x8FD9;&#x4E2A;hooks&#x7684;&#x529F;&#x80FD;&#x662F;&#x5F00;&#x53D1;&#x8005;push&#x4EE3;&#x7801;&#x4E4B;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5BA1;&#x6838;&#x4EBA;&#x8FDB;&#x884C;&#x5BA1;&#x6838;&#xFF0C;&#x5F53;&#x5BA1;&#x6838;&#x4EBA;&#x5BA1;&#x6838;&#x901A;&#x8FC7;&#x4E4B;&#x540E;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;submit&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;&#x7684;&#x4E00;&#x4E2A;hooks&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x6765;&#x505A;&#x4E00;&#x4E9B;&#x53D1;&#x90AE;&#x4EF6;&#x7684;&#x901A;&#x77E5;&#x5DE5;&#x4F5C;&#xFF0C;&#x800C;&#x672C;&#x6587;&#x662F;&#x4E3A;&#x4E86;&#x7528;&#x6765;&#x5C06;&#x6307;&#x5B9A;&#x5206;&#x652F;&#x7684;&#x4EE3;&#x7801;&#x5408;&#x5E76;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x5206;&#x652F;&#xFF08;&#x540E;&#x7EED;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x65B0;&#x4E00;&#x4E2A;&#x7EAF;python&#x7684;&#x7248;&#x672C;&#xFF09;&#x3002; 123456789# pwd/home/gerrit2/review_site/hooks# tree&#x251C;&#x2500;&#x2500; change-merged &gt; hooks&#x811A;&#x672C;&#x251C;&#x2500;&#x2500; change-merged.d &gt; &#x76F8;&#x5173;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; config.env &gt; &#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x5171;&#x6709;&#x53D8;&#x91CF;&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; mypro &gt; &#x9700;&#x8981;&#x6267;&#x884C;hooks&#x7684;&#x9879;&#x76EE;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; config.env &gt; &#x9879;&#x76EE;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x4E2A;&#x6027;&#x5316;&#x7684;&#x914D;&#x7F6E;&#x2514;&#x2500;&#x2500; smail.py &gt; &#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x7684;python&#x811A;&#x672C; change-merged 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163# change-merged#!/bin/bash# Gerrit post-merge hook## LOG OUTPUTunset GIT_DIRDATETIME=$(date +%F)TIME=$(date &quot;+%Y-%m-%d %H:%M:%S&quot;)LOGNAME=&quot;cherry&quot;LOGDIR=&quot;/data/cherry&quot;LOGFILE=&quot;${LOGDIR}/${LOGNAME}_${DATETIME}.log&quot;exec 1&gt;&gt;${LOGFILE}exec 2&gt;&amp;1## LOG OUTPUTfunction myecho() { echo &quot;$TIME&quot; &quot;####################&quot; echo &quot;$TIME&quot; &quot;$*&quot;}function maincfg() { CFG=${BASH_SOURCE[0]%/*}/change-merged.d/config.env if [ ! -f &quot;${CFG}&quot; ] ; then myecho &quot;Cannot find ${CFG} !.&quot; exit 1 fi . ${CFG} if [ $? -ne 0 ]; then myecho &quot;load ${CFG} fail!&quot; fi}function msecho() { echo &quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; &gt;&gt; ${tCache} echo &quot;&quot;&quot;Project : ${PROJECT} (${BRANCH} --&gt; ${Master})Author : ${OWMAIL}Reviewer : ${SUBMITTER}CHANGE : ${CHANGEID}Commit_id : ${COMMIT}Fatal : $@&quot;&quot;&quot; &gt;&gt; ${tCache} echo &quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; &gt;&gt; ${tCache}}function cmd_line() { myecho $@ while [ $# -gt 0 ] do case &quot;$1&quot; in (--change) CHANGEID=&quot;$2&quot;; shift ;; (--change-url) CHANGEURL=&quot;$2&quot;; shift ;; (--change-owner) OWNER=&quot;$3&quot;;OWMAIL=&quot;$(echo $3|sed &apos;s/[()]//g&apos;)&quot;; shift;shift ;; (--project) PROJECT=&quot;$2&quot;; shift ;; (--branch) BRANCH=&quot;$2&quot;; shift ;; (--topic) myecho &quot;topic skip&quot; ;; (--submitter) SUBMITTER=&quot;$(echo $3|sed &apos;s/[()]//g&apos;)&quot;; shift;shift ;; (--commit) COMMIT=&quot;$2&quot;; shift ;; (--newrev) NEWREV=&quot;$2&quot;; shift ;; (*) myecho $@;myecho &quot;I don&apos;t understand the option &apos;$1&apos;.&quot;; ;; esac shift done}function project_cfg() { PCFG=${BASH_SOURCE[0]%/*}/change-merged.d/${PROJECT}/config.env if [ ! -f &quot;${PCFG}&quot; ] ; then myecho &quot;Cannot find ${PCFG} !.&quot; exit 1 fi myecho &quot;load ${PCFG}&quot; . ${PCFG}}function check_clone() { GIT_URL=&quot;ssh://${GIT_ADMIN}@${GIT_SERVER}:${GIT_PORT}/${PROJECT}&quot; MSG_URL=&quot;${GIT_ADMIN}@${GIT_SERVER}:hooks/commit-msg&quot; if [ ! -d ${Check_dir}/${PROJECT} ]; then cd ${Check_dir} git clone ${GIT_URL} &amp;&amp; scp -p -P ${GIT_PORT} ${MSG_URL} ${PROJECT}/.git/hooks/ check_clone else cd ${Check_dir}/${PROJECT} fi}function fail_clear() { [ ! -d ${TRASH} ] &amp;&amp; mkdir -p ${TRASH} if [ -d ${Check_dir}/${PROJECT} ]; then mv ${Check_dir}/${PROJECT} ${TRASH}/${PROJECT}_${STIME} fi}function cherry() { if [ -z ${To} ]; then To=&quot;${OWMAIL},${SUBMITTER}&quot; else tolist=$(echo ${To}|awk -F&apos;,&apos; &apos;{for(i=1;i&lt;=NF;i++){print $i}}&apos;) if [[ &quot;${tolist[@]/${OWMAIL}/}&quot; == &quot;${tolist[@]//}&quot; ]]; then To=&quot;${To},${OWMAIL}&quot; fi if [[ &quot;${tolist[@]/${SUBMITTER}/}&quot; == &quot;${tolist[@]//}&quot; ]]; then To=&quot;${To},${SUBMITTER}&quot; fi fi check_clone git checkout ${Master} git pull git cherry-pick ${COMMIT} &gt;&gt; ${tCache} 2&gt;&amp;1 if [ $? -eq 0 ]; then msecho &quot;cherry-pick success!&quot; #git config remote.origin.push refs/heads/${Master}:refs/for/${Master} git show &gt;&gt; ${tCache} 2&gt;&amp;1 echo &quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; &gt;&gt; ${tCache} git push &gt;&gt; ${tCache} 2&gt;&amp;1 if [ $? -eq 0 ]; then msecho &quot;push success!&quot; else msecho &quot;push faild!&quot; fail_clear fi python ${Message} ${Smtpserver} ${From} ${Password} ${Head} ${To} &quot;cherry-pick&lt;&quot;${PROJECT}&quot;&gt;success&quot; ${tCache} else git status msecho &quot;cherry-pick failed!&quot; git status &gt;&gt; ${tCache} 2&gt;&amp;1 fail_clear python ${Message} ${Smtpserver} ${From} ${Password} ${Head} ${To} &quot;cherry-pick&lt;&quot;${PROJECT}&quot;&gt;failed&quot; ${tCache} fi}function get_choose() { myecho ${PROJECT} ${BRANCH} ${COMMIT} ${OWMAIL} ${SUBMITTER} if [ ${Choose} == true ]; then if [ ! -z ${BRANCH} ] &amp;&amp; [ ${BRANCH} == ${Merge_branch} ]; then cherry else myecho &quot;not branch&quot; ${BRANCH} exit 1 fi else ch=$(awk &quot;BEGIN {print index(${BRANCH},${Merge_head})}&quot;) if [ ! -z ${BRANCH} ] &amp;&amp; [ ${ch} -eq 1 ]; then cherry else myecho &quot;not branch&quot; ${BRANCH} exit 1 fi fi}main() { myecho &quot;load cfg&quot; maincfg myecho &quot;get args&quot; cmd_line $@ myecho &quot;load project_cfg&quot; project_cfg myecho &quot;begin to cherry-pick&quot; get_choose}main $@ change-merged.d/config.env 123456789101112131415161718# change-merged.d/config.env#!/bin/bash# FOR cache varSTIME=$(date &quot;+%Y%m%d%H%M%S&quot;)TRASH=&quot;/data/cherry/trash&quot;tCache=&quot;${TRASH}/text_${STIME}&quot;# For git varGIT_SERVER=&quot;10.0.0.136&quot;GIT_PORT=&quot;29418&quot;GIT_ADMIN=&quot;gerrit2&quot;# For mail varSmtpserver=&quot;smtp.163.com&quot;From=&quot;emo_ooppwwqq0@163.com&quot;Password=&quot;xxx&quot;Head=&quot;codemerge&quot;Message=$(dirname ${BASH_SOURCE[0]%/*})/smail.py smail.py 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950# smail.py#!/usr/bin/env python## -*- coding: utf-8 -*-import smtplibfrom email.mime.multipart import MIMEMultipartfrom email.mime.text import MIMETextfrom email.mime.image import MIMEImagefrom email.header import Headerfrom sys import argvprint argvif len(argv) &gt; 3: sc, Smtpserver, From, Password, Head, To, Subject, text = argvdef sendMail(sub, msg): smtp = smtplib.SMTP() msgRoot = MIMEMultipart(&apos;related&apos;) msgRoot[&apos;Subject&apos;] = Header(sub,&apos;utf-8&apos;) msgRoot[&apos;From&apos;] = r&quot;%s &lt;%s&gt;&quot; % (Header(Head,&quot;utf-8&quot;),From) tolist=To.split(&quot;,&quot;) msgRoot[&apos;To&apos;] = &quot;;&quot;.join(tolist) msgText = MIMEText(&apos;%s&apos;%msg,&apos;html&apos;,&apos;utf-8&apos;) msgRoot.attach(msgText) fullText = msgRoot.as_string() while 1: try: smtp.sendmail(From, tolist, fullText) break except: try: smtp.connect(Smtpserver,&quot;25&quot;) smtp.login(From, Password) except: print &quot;failed to login to smtp server&quot;def main(): Text = &quot;&quot; with open(text) as msg: for line in msg: lines = &quot;&lt;pre&gt;&lt;p&gt;%s&lt;/p&gt;&lt;/pre&gt;&quot; % line.strip() Text += lines sendMail(Subject, Text)if __name__ == &quot;__main__&quot;: main() change-merged.d/mypro/config.env 1234567891011121314# change-merged.d/mypro/config.env#!/bin/bashMaster=&quot;develop&quot;Merge_branch=&quot;hotfix_v4.6&quot;Merge_head=&quot;hotfix_&quot;# true to exact match# false to fuzzy matching# eg. true : hotfix_v4.6# eg. flase : hotfix_Choose=trueCheck_dir=&quot;/data/cherry&quot;To=&quot;xxx@xxx.com&quot;]]></content>
      <categories>
        <category>linux</category>
        <category>git</category>
        <category>gerrit</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>git</tag>
        <tag>gerrit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sge集群安装部署文档]]></title>
    <url>%2F2016%2F05%2F20%2Fsge-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x4E00;&#x4E2A;&#x5076;&#x7136;&#x7684;&#x673A;&#x4F1A;&#x9700;&#x8981;&#x7528;&#x5230;sge&#x96C6;&#x7FA4;&#x505A;&#x4E00;&#x4E9B;&#x5927;&#x91CF;&#x4EFB;&#x52A1;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x7F51;&#x4E0A;&#x7684;&#x5927;&#x90E8;&#x5206;&#x6587;&#x6863;&#x90FD;&#x662F;&#x51E0;&#x5E74;&#x524D;&#x7684;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x6CA1;&#x627E;&#x5230;&#x7279;&#x522B;&#x5B8C;&#x6574;&#x7684;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x6587;&#x6863;&#x3002;&#x5728;&#x4E00;&#x4E9B;&#x96F6;&#x6563;&#x7684;&#x6587;&#x6863;&#x5E2E;&#x52A9;&#x4E0B;&#x7EC8;&#x4E8E;&#x90E8;&#x7F72;&#x5B8C;&#x6210;&#xFF0C;&#x5728;&#x6B64;&#x505A;&#x4E2A;&#x8BB0;&#x5F55;&#xFF0C;&#x4EC5;&#x4F9B;&#x53C2;&#x8003;&#x3002; sge&#x7B80;&#x4ECB;SGE&#x7684;&#x5168;&#x79F0;&#x662F;Sun Grid Engine&#x3002;&#x968F;&#x7740;SUN&#x516C;&#x53F8;&#x88AB;ORACLE&#x516C;&#x53F8;&#x6536;&#x8D2D;&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x6539;&#x540D;&#x4E3A;Oracle Grid Engine&#x3002;&#x4E0D;&#x8FC7;&#x73B0;&#x5728;oracle&#x5DF2;&#x7ECF;&#x627E;&#x4E0D;&#x5230;&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#x4E86;&#xFF0C;&#x800C;&#x662F;&#x6539;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x5916;&#x94FE;&#xFF0C;sge&#x76EE;&#x524D;&#x4F3C;&#x4E4E;&#x5DF2;&#x7ECF;&#x72EC;&#x7ACB;&#xFF0C;&#x5E76;&#x4E14;&#x5546;&#x4E1A;&#x5316;&#x3002; Oracle Grid Engine&#x662F;&#x4E00;&#x79CD;&#x5206;&#x5E03;&#x5F0F;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5C06;&#x7528;&#x6237;&#x7684;&#x8D1F;&#x8F7D;&#x5206;&#x53D1;&#x5230;&#x53EF;&#x7528;&#x7684;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x4E0A;&#x3002;&#x4E00;&#x822C;&#x5730;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#xFF0C;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x7684;&#x5229;&#x7528;&#x7387;&#x5E73;&#x5747;&#x53EA;&#x6709;10%-25%&#xFF0C;Oracle Grid Engine&#x53EF;&#x4EE5;&#x5C06;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x7684;&#x5229;&#x7528;&#x7387;&#x589E;&#x52A0;&#x5230;80%,90%&#x751A;&#x81F3;95%&#x3002;&#x8FD9;&#x663E;&#x8457;&#x7684;&#x6539;&#x5584;&#x6765;&#x81EA;&#x4E8E;&#x667A;&#x80FD;&#x5730;&#x5C06;&#x8D1F;&#x8F7D;&#x5206;&#x53D1;&#x7ED9;&#x6700;&#x5408;&#x9002;&#x7684;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x3002; &#x5F53;&#x7528;&#x6237;&#x5C06;&#x5B83;&#x4EEC;&#x7684;&#x4EFB;&#x52A1;&#x4EE5;&#x4E00;&#x6279;&#x4F5C;&#x4E1A;&#x7684;&#x5F62;&#x5F0F;&#x63D0;&#x4EA4;&#x7ED9;Oracle Grid Engine&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8F6F;&#x4EF6;&#x76D1;&#x63A7;&#x7740;&#x96C6;&#x7FA4;&#x4E2D;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x7684;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x8D4B;&#x4E88;&#x8FD9;&#x4E9B;&#x4F5C;&#x4E1A;&#x6700;&#x9002;&#x5408;&#x7684;&#x8D44;&#x6E90;&#x3002; &#x9700;&#x8981;&#x7528;&#x5230;&#x7684;&#x8F6F;&#x4EF6;sge&#x9700;&#x8981;java&#x652F;&#x6301;&#xFF0C;&#x8FD8;&#x8981;&#x7528;&#x5230;openssl&#xFF0C;&#x8D44;&#x6E90;&#x6C60;&#x7684;&#x5171;&#x4EAB;&#x9700;&#x8981;&#x7528;&#x5230;nfs&#x3002;&#x5176;&#x4ED6;&#x8F6F;&#x4EF6;&#x5305;&#x5982;&#x4E0B;&#xFF0C;&#x5305;&#x542B;&#x4E86;sge&#x9700;&#x8981;&#x7528;&#x5230;&#x7684;&#x6240;&#x6709;&#x8F6F;&#x4EF6;&#x5305;&#xFF0C;&#x5177;&#x4F53;&#x6BCF;&#x4E2A;&#x5305;&#x662F;&#x505A;&#x4EC0;&#x4E48;&#x7684;&#xFF0C;&#x6211;&#x4E5F;&#x4E0D;&#x662F;&#x5F88;&#x6E05;&#x695A;&#xFF0C;&#x6240;&#x6709;&#x5305;&#x5728;&#x7F51;&#x4E0A;&#x5E94;&#x8BE5;&#x90FD;&#x80FD;&#x627E;&#x5230;&#x4E0B;&#x8F7D;&#x3002;&#x672C;&#x6587;&#x5B89;&#x88C5;&#x7684;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x4E3A;Centos6.5(Redhat6&#x7CFB;&#x7EDF;&#x4E5F;&#x505A;&#x8FC7;&#x6D4B;&#x8BD5;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;&#x6765;&#x8BF4;6&#x7CFB;&#x7EDF;&#x5E94;&#x8BE5;&#x90FD;&#x53EF;&#x4EE5;)&#x3002; 1234567891011121314openssl-1.0.1e-30.el6.x86_64.rpmjemalloc-3.6.0-1.el6.x86_64.rpm jemalloc-devel-3.6.0-1.el6.x86_64.rpmgridengine-8.1.7-1.el6.x86_64.rpm gridengine-guiinst-8.1.7-1.el6.noarch.rpmgridengine-debuginfo-8.1.7-1.el6.x86_64.rpm gridengine-hadoop-8.1.7-1.el6.noarch.rpmgridengine-devel-8.1.7-1.el6.noarch.rpm gridengine-qmaster-8.1.7-1.el6.x86_64.rpmgridengine-drmaa4ruby-8.1.7-1.el6.noarch.rpm gridengine-qmon-8.1.7-1.el6.x86_64.rpmgridengine-execd-8.1.7-1.el6.x86_64.rpm &#x5B89;&#x88C5;&#x89C4;&#x5212;&#x89C4;&#x5212;&#x8BF4;&#x660E;sge&#x96C6;&#x7FA4;&#x81F3;&#x5C11;&#x5E94;&#x8BE5;&#x6709;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x611F;&#x89C9;&#x6CA1;&#x4EC0;&#x4E48;&#x610F;&#x4E49;&#x3002;&#x96C6;&#x7FA4;&#x4E2D;&#x4E00;&#x53F0;&#x4E3A;&#x4E3B;&#x63A7;&#x673A;&#xFF0C;&#x6BCF;&#x53F0;&#x8282;&#x70B9;&#x673A;&#x5668;&#x90FD;&#x662F;&#x6267;&#x884C;&#x673A;&#xFF0C;&#x6BCF;&#x4E2A;&#x673A;&#x5668;&#x9700;&#x8981;&#x8D21;&#x732E;&#x8D44;&#x6E90;&#x6C60;&#x7ED9;&#x5176;&#x4ED6;&#x673A;&#x5668;&#x8BBF;&#x95EE;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x4F7F;&#x7528;nfs&#x505A;&#x78C1;&#x76D8;&#x5171;&#x4EAB;&#x3002; sge&#x9ED8;&#x8BA4;&#x7684;&#x7BA1;&#x7406;&#x7528;&#x6237;&#x4E3A;sgeadmin&#xFF0C;&#x88C5;&#x5305;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x6539;&#x7528;&#x6237;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;&#x6765;&#x8BF4;&#x53EA;&#x9700;&#x8981;&#x4E3B;&#x63A7;&#x673A;&#x4E0A;&#x5B89;&#x88C5;sge&#x5305;&#xFF0C;&#x901A;&#x8FC7;nfs&#x7684;&#x5F62;&#x5F0F;&#x5171;&#x4EAB;&#x7ED9;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x81EA;&#x884C;&#x521B;&#x5EFA;sgeadmin&#x7528;&#x6237;&#x3002;&#x4F46;&#x672C;&#x6587;&#x5728;&#x6240;&#x6709;&#x8282;&#x70B9;&#x4E0A;&#x90FD;&#x5B89;&#x88C5;&#x4E86;sge&#x7684;&#x5305;&#xFF0C;&#x5E76;&#x4E14;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x8282;&#x70B9;&#x7684;&#x7528;&#x6237;&#x4E00;&#x81F4;&#xFF0C;&#x5BF9;seadmin&#x7528;&#x6237;&#x8FDB;&#x884C;&#x4E86;&#x4FEE;&#x6539;&#x3002; sge&#x7684;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x662F;&#x9700;&#x8981;&#x4F7F;&#x7528;root&#x7528;&#x6237;&#x6765;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;sgeadmin&#x7528;&#x6237;&#x53EA;&#x662F;&#x5185;&#x90E8;&#x7BA1;&#x7406;&#x8D26;&#x6237;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x4E0D;&#x5141;&#x8BB8;&#x767B;&#x9646;&#x7684;&#xFF0C;&#x800C;sge&#x7684;&#x4EFB;&#x52A1;&#x662F;&#x4E0D;&#x80FD;&#x7531;root&#x7528;&#x6237;&#x63D0;&#x4EA4;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5728;&#x6240;&#x6709;&#x6267;&#x884C;&#x8282;&#x70B9;&#x4E0A;&#x521B;&#x5EFA;&#x6267;&#x884C;&#x7528;&#x6237;&#x3002;sge&#x662F;&#x7528;&#x7528;&#x6237;&#x540D;&#x6765;&#x6765;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x7528;&#x6237;&#x7684;&#xFF0C;&#x800C;nfs&#x662F;&#x7528;uid&#x6765;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x7528;&#x6237;&#x7684;&#xFF0C;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x5728;&#x6DFB;&#x52A0;&#x7528;&#x6237;&#x7684;&#x65F6;&#x5019;&#x5BF9;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x6307;&#x5B9A;&#x3002; &#x672C;&#x6587;&#x89C4;&#x5212; &#x8282;&#x70B9;&#xFF08;3&#xFF09;&#xFF1A;master&#xFF08;&#x4E3B;&#x63A7;&#xFF09;&#xFF0C;node01&#xFF0C;node02 &#x7528;&#x6237;&#xFF08;3&#xFF09;&#xFF1A;root&#xFF08;sge&#x914D;&#x7F6E;&#xFF09;&#xFF0C;sgeadmin&#xFF08;&#x7BA1;&#x7406;&#xFF09;&#xFF0C;sgeuser&#xFF08;&#x4EFB;&#x52A1;&#x63D0;&#x4EA4;&#xFF09; &#x96C6;&#x7FA4;&#x540D;&#x79F0;&#xFF1A;SgeCluster &#x8D44;&#x6E90;&#x6C60;&#x76EE;&#x5F55;&#xFF1A;/home/sgeuser/{master,node01,node02} sge&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#xFF1A;/opt/sge&#xFF08;&#x9ED8;&#x8BA4;&#xFF09; &#x5B89;&#x88C5;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#x4E3B;&#x63A7;&#x8282;&#x70B9;&#x548C;&#x6267;&#x884C;&#x8282;&#x70B9;&#x90FD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7684;&#x64CD;&#x4F5C; &#x5B89;&#x88C5;openssl&#xFF0C;&#x7CFB;&#x7EDF;&#x81EA;&#x5E26;&#x6E90;yum&#x5B89;&#x88C5;&#x5373;&#x53EF;&#xFF0C;&#x5982;&#x81EA;&#x5E26;&#x6E90;&#x5B89;&#x88C5;&#x7684;&#x7248;&#x672C;&#x4F4E;&#xFF0C;&#x8BF7;&#x81EA;&#x884C;&#x4E0B;&#x8F7D;&#x9AD8;&#x7248;&#x672C;openssl1yum install openssl -y &#x5B89;&#x88C5;java12345wget http://download.oracle.com/otn-pub/java/jdk/8u92-b14/jdk-8u92-linux-x64.tar.gztar xvf jdk-8u92-linux-x64.tar.gzmkdir /usr/local/productmv jdk1.8.0_92 /usr/local/productln -s /usr/local/product/jdk1.8.0_92 /usr/local/java &#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF; 12345678vim /etc/profile export JAVA_HOME=&quot;/usr/local/java&quot; export JRE_HOME=&quot;$JAVA_HOME/jre&quot; export PATH=&quot;$PATH:$JAVA_HOME/bin&quot; export CLASSPATH=&quot;./:$JAVA_HOME/lib:$JRE_HOME/lib&quot;source /etc/profilejava -version &#x5B89;&#x88C5;jemalloc1rpm -ivh jemalloc* &#x5B89;&#x88C5;gridengine&#xFF0C;&#x7531;&#x4E8E;&#x6709;&#x4E00;&#x4E9B;&#x4F9D;&#x8D56;&#x5305;&#x9700;&#x8981;&#x5B89;&#x88C5;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;yum&#x81EA;&#x52A8;&#x89E3;&#x51B3;&#x4F9D;&#x8D56;123456yum install gridengine* -yvim /etc/profile export SGE_ROOT=&quot;/opt/sge&quot;source /etc/profile &#x521B;&#x5EFA;&#x7528;&#x6237;123456usermod -u 900 sgeadmingroupmod -g 900 sgeadminuseradd -u 901 -G sgeadmin sgeuserchmod 755 /home/sgeusermkdir /home/sgeuser/{master,node01,node02}cd /home/sgeuser &amp;&amp; chown -R sgeadmin.sgeadmin * &#x6DFB;&#x52A0;hosts&#x89E3;&#x6790;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x7684;&#x4E24;&#x53F0;&#x89E3;&#x6790;&#x540E;&#x9762;&#x4E0D;&#x8981;&#x52A0;&#x4E3B;&#x673A;&#x540D;&#x89E3;&#x6790;&#xFF0C;&#x5426;&#x5219;&#x540E;&#x9762;&#x4F1A;&#x62A5;&#x9519; 1234vim /etc/hosts 172.16.1.10 master 172.16.1.11 node01 172.16.1.12 node02 nfs&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#x6C60;&#x4EE5;&#x53CA;sge&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x7531;&#x4E8E;&#x4E4B;&#x524D;&#x7684;&#x51E0;&#x6B65;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x6240;&#x6709;&#x8282;&#x70B9;&#x90FD;&#x6267;&#x884C;&#x4E86;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6BCF;&#x4E2A;&#x673A;&#x5668;&#x90FD;&#x88C5;&#x597D;&#x4E86;sge&#x7684;rpm&#x5305;&#xFF0C;&#x5E76;&#x4E14;&#x90FD;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E86;/opt/sge&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x4ED6;&#x7684;&#x6559;&#x7A0B;&#x90FD;&#x662F;&#x53EA;&#x5728;&#x4E3B;&#x63A7;&#x673A;&#x4E0A;&#x5B89;&#x88C5;sge&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;nfs&#x628A;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x5171;&#x4EAB;&#x5230;&#x6BCF;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x3002;&#x672C;&#x6587;&#x867D;&#x7136;&#x5728;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x8FDB;&#x884C;&#x4E86;&#x5B89;&#x88C5;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x8FD8;&#x662F;&#x628A;&#x4E3B;&#x63A7;&#x673A;&#x4E0A;&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x505A;&#x4E86;nfs&#x5171;&#x4EAB;&#x3002; 12345678910yum install -y nfs* vim /etc/exports /home/sge/master *(rw,sync,no_root_squash) /opt/sge *(rw,sync,no_root_squash)/etc/init.d/rpcbind restart/etc/init.d/nfs restartchkconfig rpcbind onchkconfig nfs on &#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x4E0A;&#x6302;&#x8F7D; 1234vim /etc/fstab master:/home/sge/master /home/sge/master nfs defaults 0 0 master:/opt/sge /opt/sge nfs defaults 0 0 mount -a &#x81EA;&#x884C;&#x5C06;&#x6BCF;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x5BF9;&#x5E94;&#x76EE;&#x5F55;&#x5171;&#x4EAB;&#x51FA;&#x6765;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x4E0A;&#x6302;&#x8F7D;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;nfs&#x7684;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#x3002; nfs&#x505A;&#x597D;&#x4E4B;&#x540E;&#xFF0C;sge&#x7684;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#x5230;&#x6B64;&#x7ED3;&#x675F;&#xFF0C;&#x4E0B;&#x9762;&#x8FDB;&#x884C;&#x4E3B;&#x63A7;&#x8282;&#x70B9;&#x7684;&#x5B89;&#x88C5;&#x548C;&#x6267;&#x884C;&#x8282;&#x70B9;&#x7684;&#x90E8;&#x7F72;&#x3002;]]></content>
      <categories>
        <category>linux</category>
        <category>sge</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>sge</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[用十条命令在一分钟内检查 Linux 服务器性能]]></title>
    <url>%2F2016%2F05%2F20%2FTen-Commond-Linux%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x8F6C;&#x81EA;OSChina &#x5982;&#x679C;&#x4F60;&#x7684;Linux&#x670D;&#x52A1;&#x5668;&#x7A81;&#x7136;&#x8D1F;&#x8F7D;&#x66B4;&#x589E;&#xFF0C;&#x544A;&#x8B66;&#x77ED;&#x4FE1;&#x5FEB;&#x53D1;&#x7206;&#x4F60;&#x7684;&#x624B;&#x673A;&#xFF0C;&#x5982;&#x4F55;&#x5728;&#x6700;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x627E;&#x51FA;Linux&#x6027;&#x80FD;&#x95EE;&#x9898;&#x6240;&#x5728;&#xFF1F;&#x6765;&#x770B;Netflix&#x6027;&#x80FD;&#x5DE5;&#x7A0B;&#x56E2;&#x961F;&#x7684;&#x8FD9;&#x7BC7;&#x535A;&#x6587;&#xFF0C;&#x770B;&#x5B83;&#x4EEC;&#x901A;&#x8FC7;&#x5341;&#x6761;&#x547D;&#x4EE4;&#x5728;&#x4E00;&#x5206;&#x949F;&#x5185;&#x5BF9;&#x673A;&#x5668;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x8FDB;&#x884C;&#x8BCA;&#x65AD;&#x3002;&#x6982;&#x8FF0; &#x901A;&#x8FC7;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;1&#x5206;&#x949F;&#x5185;&#x5BF9;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x6709;&#x4E2A;&#x5927;&#x81F4;&#x7684;&#x4E86;&#x89E3;&#x3002; 12345678910uptimedmesg | tailvmstat 1mpstat -P ALL 1pidstat 1iostat -xz 1free -msar -n DEV 1sar -n TCP,ETCP 1top &#x5176;&#x4E2D;&#x4E00;&#x4E9B;&#x547D;&#x4EE4;&#x9700;&#x8981;&#x5B89;&#x88C5;sysstat&#x5305;&#xFF0C;&#x6709;&#x4E00;&#x4E9B;&#x7531;procps&#x5305;&#x63D0;&#x4F9B;&#x3002;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x6709;&#x52A9;&#x4E8E;&#x5FEB;&#x901F;&#x5B9A;&#x4F4D;&#x6027;&#x80FD;&#x74F6;&#x9888;&#xFF0C;&#x68C0;&#x67E5;&#x51FA;&#x6240;&#x6709;&#x8D44;&#x6E90;&#xFF08;CPU&#x3001;&#x5185;&#x5B58;&#x3001;&#x78C1;&#x76D8;IO&#x7B49;&#xFF09;&#x7684;&#x5229;&#x7528;&#x7387;&#xFF08;utilization&#xFF09;&#x3001;&#x9971;&#x548C;&#x5EA6;&#xFF08;saturation&#xFF09;&#x548C;&#x9519;&#x8BEF;&#xFF08;error&#xFF09;&#x5EA6;&#x91CF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6240;&#x8C13;&#x7684;USE&#x65B9;&#x6CD5;&#x3002; &#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x9010;&#x4E00;&#x4ECB;&#x7ECD;&#x4E0B;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#xFF0C;&#x6709;&#x5173;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x66F4;&#x591A;&#x7684;&#x53C2;&#x6570;&#x548C;&#x8BF4;&#x660E;&#xFF0C;&#x8BF7;&#x53C2;&#x7167;&#x547D;&#x4EE4;&#x7684;&#x624B;&#x518C;&#x3002; uptime12$ uptime23:51:26 up 21:31, 1 user, load average: 30.02, 26.43, 19.02 &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x67E5;&#x770B;&#x673A;&#x5668;&#x7684;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x3002;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x8868;&#x793A;&#x7B49;&#x5F85;CPU&#x8D44;&#x6E90;&#x7684;&#x8FDB;&#x7A0B;&#x548C;&#x963B;&#x585E;&#x5728;&#x4E0D;&#x53EF;&#x4E2D;&#x65AD;IO&#x8FDB;&#x7A0B;&#xFF08;&#x8FDB;&#x7A0B;&#x72B6;&#x6001;&#x4E3A;D&#xFF09;&#x7684;&#x6570;&#x91CF;&#x3002;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x5BF9;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x4F7F;&#x7528;&#x6709;&#x4E00;&#x4E2A;&#x5B8F;&#x89C2;&#x7684;&#x4E86;&#x89E3;&#x3002; &#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#x5206;&#x522B;&#x8868;&#x793A;1&#x5206;&#x949F;&#x3001;5&#x5206;&#x949F;&#x3001;15&#x5206;&#x949F;&#x7684;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x3002;&#x901A;&#x8FC7;&#x8FD9;&#x4E09;&#x4E2A;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x4E86;&#x89E3;&#x670D;&#x52A1;&#x5668;&#x8D1F;&#x8F7D;&#x662F;&#x5728;&#x8D8B;&#x4E8E;&#x7D27;&#x5F20;&#x8FD8;&#x662F;&#x533A;&#x57DF;&#x7F13;&#x89E3;&#x3002;&#x5982;&#x679C;1&#x5206;&#x949F;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x5F88; &#x9AD8;&#xFF0C;&#x800C;15&#x5206;&#x949F;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x5F88;&#x4F4E;&#xFF0C;&#x8BF4;&#x660E;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x547D;&#x4EE4;&#x9AD8;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x6392;&#x67E5;CPU&#x8D44;&#x6E90;&#x90FD;&#x6D88;&#x8017;&#x5728;&#x4E86;&#x54EA;&#x91CC;&#x3002;&#x53CD;&#x4E4B;&#xFF0C;&#x5982;&#x679C;15&#x5206;&#x949F;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x5F88;&#x9AD8;&#xFF0C;1&#x5206;&#x949F;&#x5E73;&#x5747;&#x8D1F;&#x8F7D; &#x8F83;&#x4F4E;&#xFF0C;&#x5219;&#x6709;&#x53EF;&#x80FD;&#x662F;CPU&#x8D44;&#x6E90;&#x7D27;&#x5F20;&#x65F6;&#x523B;&#x5DF2;&#x7ECF;&#x8FC7;&#x53BB;&#x3002; &#x4E0A;&#x9762;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x89C1;&#x6700;&#x8FD1;1&#x5206;&#x949F;&#x7684;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x975E;&#x5E38;&#x9AD8;&#xFF0C;&#x4E14;&#x8FDC;&#x9AD8;&#x4E8E;&#x6700;&#x8FD1;15&#x5206;&#x949F;&#x8D1F;&#x8F7D;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7EE7;&#x7EED;&#x6392;&#x67E5;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x4E2D;&#x6709;&#x4EC0;&#x4E48;&#x8FDB;&#x7A0B;&#x6D88;&#x8017;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x8D44;&#x6E90;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x6587;&#x5C06;&#x4F1A;&#x4ECB;&#x7ECD;&#x7684;vmstat&#x3001;mpstat&#x7B49;&#x547D;&#x4EE4;&#x8FDB;&#x4E00;&#x6B65;&#x6392;&#x67E5;&#x3002; dmesg | tail123456$ dmesg | tail[1880957.563150] perl invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0[...][1880957.563400] Out of memory: Kill process 18694 (perl) score 246 or sacrifice child[1880957.563408] Killed process 18694 (perl) total-vm:1972392kB, anon-rss:1953348kB, file-rss:0kB[2320864.954447] TCP: Possible SYN flooding on port 7001. Dropping request. Check SNMP counters. &#x8BE5;&#x547D;&#x4EE4;&#x4F1A;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x7684;&#x6700;&#x540E;10&#x884C;&#x3002;&#x793A;&#x4F8B;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x89C1;&#x4E00;&#x6B21;&#x5185;&#x6838;&#x7684;oom kill&#x548C;&#x4E00;&#x6B21;TCP&#x4E22;&#x5305;&#x3002;&#x8FD9;&#x4E9B;&#x65E5;&#x5FD7;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x6392;&#x67E5;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002;&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x5FD8;&#x4E86;&#x8FD9;&#x4E00;&#x6B65;&#x3002; vmstat 112345678$ vmstat 1procs ---------memory---------- ---swap-- -----io---- -system-- ------cpu----- r b swpd free buff cache si so bi bo in cs us sy id wa st34 0 0 200889792 73708 591828 0 0 0 5 6 10 96 1 3 0 0 32 0 0 200889920 73708 591860 0 0 0 592 13284 4282 98 1 1 0 0 32 0 0 200890112 73708 591860 0 0 0 0 9501 2154 99 1 0 0 0 32 0 0 200889568 73712 591856 0 0 0 48 11900 2459 99 0 0 0 0 32 0 0 200890208 73712 591860 0 0 0 0 15898 4840 98 1 1 0 0 vmstat(8) &#x547D;&#x4EE4;&#xFF0C;&#x6BCF;&#x884C;&#x4F1A;&#x8F93;&#x51FA;&#x4E00;&#x4E9B;&#x7CFB;&#x7EDF;&#x6838;&#x5FC3;&#x6307;&#x6807;&#xFF0C;&#x8FD9;&#x4E9B;&#x6307;&#x6807;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x4E86;&#x89E3;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#x3002;&#x540E;&#x9762;&#x8DDF;&#x7684;&#x53C2;&#x6570;1&#xFF0C;&#x8868;&#x793A;&#x6BCF;&#x79D2;&#x8F93;&#x51FA;&#x4E00;&#x6B21;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF0C;&#x8868;&#x5934;&#x63D0;&#x793A;&#x4E86;&#x6BCF;&#x4E00;&#x5217;&#x7684;&#x542B;&#x4E49;&#xFF0C;&#x8FD9;&#x51E0;&#x4ECB;&#x7ECD;&#x4E00;&#x4E9B;&#x548C;&#x6027;&#x80FD;&#x8C03;&#x4F18;&#x76F8;&#x5173;&#x7684;&#x5217;&#xFF1A; r&#xFF1A;&#x7B49;&#x5F85;&#x5728;CPU&#x8D44;&#x6E90;&#x7684;&#x8FDB;&#x7A0B;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x6BD4;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x66F4;&#x52A0;&#x80FD;&#x591F;&#x4F53;&#x73B0;CPU&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#xFF0C;&#x6570;&#x636E;&#x4E2D;&#x4E0D;&#x5305;&#x542B;&#x7B49;&#x5F85;IO&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x5927;&#x4E8E;&#x673A;&#x5668;CPU&#x6838;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x673A;&#x5668;&#x7684;CPU&#x8D44;&#x6E90;&#x5DF2;&#x7ECF;&#x9971;&#x548C;&#x3002; free&#xFF1A;&#x7CFB;&#x7EDF;&#x53EF;&#x7528;&#x5185;&#x5B58;&#x6570;&#xFF08;&#x4EE5;&#x5343;&#x5B57;&#x8282;&#x4E3A;&#x5355;&#x4F4D;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x5269;&#x4F59;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#xFF0C;&#x4E5F;&#x4F1A;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002;&#x4E0B;&#x6587;&#x4ECB;&#x7ECD;&#x5230;&#x7684;free&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x4E86;&#x89E3;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x3002; si, so&#xFF1A;&#x4EA4;&#x6362;&#x533A;&#x5199;&#x5165;&#x548C;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x91CF;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x4E0D;&#x4E3A;0&#xFF0C;&#x8BF4;&#x660E;&#x7CFB;&#x7EDF;&#x5DF2;&#x7ECF;&#x5728;&#x4F7F;&#x7528;&#x4EA4;&#x6362;&#x533A;&#xFF08;swap&#xFF09;&#xFF0C;&#x673A;&#x5668;&#x7269;&#x7406;&#x5185;&#x5B58;&#x5DF2;&#x7ECF;&#x4E0D;&#x8DB3;&#x3002; us, sy, id, wa, st&#xFF1A;&#x8FD9;&#x4E9B;&#x90FD;&#x4EE3;&#x8868;&#x4E86;CPU&#x65F6;&#x95F4;&#x7684;&#x6D88;&#x8017;&#xFF0C;&#x5B83;&#x4EEC;&#x5206;&#x522B;&#x8868;&#x793A;&#x7528;&#x6237;&#x65F6;&#x95F4;&#xFF08;user&#xFF09;&#x3001;&#x7CFB;&#x7EDF;&#xFF08;&#x5185;&#x6838;&#xFF09;&#x65F6;&#x95F4;&#xFF08;sys&#xFF09;&#x3001;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#xFF08;idle&#xFF09;&#x3001;IO&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF08;wait&#xFF09;&#x548C;&#x88AB;&#x5077;&#x8D70;&#x7684;&#x65F6;&#x95F4;&#xFF08;stolen&#xFF0C;&#x4E00;&#x822C;&#x88AB;&#x5176;&#x4ED6;&#x865A;&#x62DF;&#x673A;&#x6D88;&#x8017;&#xFF09;&#x3002; &#x4E0A;&#x8FF0;&#x8FD9;&#x4E9B;CPU&#x65F6;&#x95F4;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x5F88;&#x5FEB;&#x4E86;&#x89E3;CPU&#x662F;&#x5426;&#x51FA;&#x4E8E;&#x7E41;&#x5FD9;&#x72B6;&#x6001;&#x3002;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x65F6;&#x95F4;&#x548C;&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#x76F8;&#x52A0;&#x975E;&#x5E38;&#x5927;&#xFF0C;CPU&#x51FA;&#x4E8E;&#x5FD9;&#x4E8E;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x3002;&#x5982;&#x679C;IO&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x5F88;&#x957F;&#xFF0C;&#x90A3;&#x4E48;&#x7CFB;&#x7EDF;&#x7684;&#x74F6;&#x9888;&#x53EF;&#x80FD;&#x5728;&#x78C1;&#x76D8;IO&#x3002; &#x793A;&#x4F8B;&#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#x53EF;&#x4EE5;&#x770B;&#x89C1;&#xFF0C;&#x5927;&#x91CF;CPU&#x65F6;&#x95F4;&#x6D88;&#x8017;&#x5728;&#x7528;&#x6237;&#x6001;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7528;&#x6237;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6D88;&#x8017;&#x4E86;CPU&#x65F6;&#x95F4;&#x3002;&#x8FD9;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x9700;&#x8981;&#x7ED3;&#x5408;r&#x961F;&#x5217;&#xFF0C;&#x4E00;&#x8D77;&#x5206;&#x6790;&#x3002; mpstat -P ALL 1123456789$ mpstat -P ALL 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU) 07:38:49 PM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle 07:38:50 PM all 98.47 0.00 0.75 0.00 0.00 0.00 0.00 0.00 0.00 0.78 07:38:50 PM 0 96.04 0.00 2.97 0.00 0.00 0.00 0.00 0.00 0.00 0.99 07:38:50 PM 1 97.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 2.00 07:38:50 PM 2 98.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 07:38:50 PM 3 96.97 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 3.03 [...] &#x8BE5;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x6BCF;&#x4E2A;CPU&#x7684;&#x5360;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4E00;&#x4E2A;CPU&#x5360;&#x7528;&#x7387;&#x7279;&#x522B;&#x9AD8;&#xFF0C;&#x90A3;&#x4E48;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x7EBF;&#x7A0B;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5F15;&#x8D77;&#x7684;&#x3002; pidstat 1123456789101112131415$ pidstat 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU) 07:41:02 PM UID PID %usr %system %guest %CPU CPU Command 07:41:03 PM 0 9 0.00 0.94 0.00 0.94 1 rcuos/0 07:41:03 PM 0 4214 5.66 5.66 0.00 11.32 15 mesos-slave 07:41:03 PM 0 4354 0.94 0.94 0.00 1.89 8 java 07:41:03 PM 0 6521 1596.23 1.89 0.00 1598.11 27 java 07:41:03 PM 0 6564 1571.70 7.55 0.00 1579.25 28 java 07:41:03 PM 60004 60154 0.94 4.72 0.00 5.66 9 pidstat 07:41:03 PM UID PID %usr %system %guest %CPU CPU Command 07:41:04 PM 0 4214 6.00 2.00 0.00 8.00 15 mesos-slave 07:41:04 PM 0 6521 1590.00 1.00 0.00 1591.00 27 java 07:41:04 PM 0 6564 1573.00 10.00 0.00 1583.00 28 java 07:41:04 PM 108 6718 1.00 0.00 0.00 1.00 0 snmp-pass 07:41:04 PM 60004 60154 1.00 4.00 0.00 5.00 9 pidstat pidstat&#x547D;&#x4EE4;&#x8F93;&#x51FA;&#x8FDB;&#x7A0B;&#x7684;CPU&#x5360;&#x7528;&#x7387;&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x4F1A;&#x6301;&#x7EED;&#x8F93;&#x51FA;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x89C2;&#x5BDF;&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x3002;&#x5982;&#x4E0A;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x89C1;&#x4E24;&#x4E2A;JAVA&#x8FDB;&#x7A0B;&#x5360;&#x7528;&#x4E86;&#x5C06;&#x8FD1;1600%&#x7684;CPU&#x65F6;&#x95F4;&#xFF0C;&#x65E2;&#x6D88;&#x8017;&#x4E86;&#x5927;&#x7EA6;16&#x4E2A;CPU&#x6838;&#x5FC3;&#x7684;&#x8FD0;&#x7B97;&#x8D44;&#x6E90;&#x3002; iostat -xz 1123456789101112$ iostat -xz 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU) avg-cpu: %user %nice %system %iowait %steal %idle 73.96 0.00 3.73 0.03 0.06 22.21Device: rrqm/s wrqm/s r/s w/s rkB/s wkB/s avgrq-sz avgqu-sz await r_await w_await svctm %util xvda 0.00 0.23 0.21 0.18 4.52 2.08 34.37 0.00 9.98 13.80 5.42 2.44 0.09 xvdb 0.01 0.00 1.02 8.94 127.97 598.53 145.79 0.00 0.43 1.78 0.28 0.25 0.25 xvdc 0.01 0.00 1.02 8.86 127.79 595.94 146.50 0.00 0.45 1.82 0.30 0.27 0.26 dm-0 0.00 0.00 0.69 2.32 10.47 31.69 28.01 0.01 3.23 0.71 3.98 0.13 0.04 dm-1 0.00 0.00 0.00 0.94 0.01 3.78 8.00 0.33 345.84 0.04 346.81 0.01 0.00 dm-2 0.00 0.00 0.09 0.07 1.35 0.36 22.50 0.00 2.55 0.23 5.62 1.78 0.03 [...] iostat&#x547D;&#x4EE4;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x67E5;&#x770B;&#x673A;&#x5668;&#x78C1;&#x76D8;IO&#x60C5;&#x51B5;&#x3002;&#x8BE5;&#x547D;&#x4EE4;&#x8F93;&#x51FA;&#x7684;&#x5217;&#xFF0C;&#x4E3B;&#x8981;&#x542B;&#x4E49;&#x662F;&#xFF1A; r/s, w/s, rkB/s, wkB/s&#xFF1A;&#x5206;&#x522B;&#x8868;&#x793A;&#x6BCF;&#x79D2;&#x8BFB;&#x5199;&#x6B21;&#x6570;&#x548C;&#x6BCF;&#x79D2;&#x8BFB;&#x5199;&#x6570;&#x636E;&#x91CF;&#xFF08;&#x5343;&#x5B57;&#x8282;&#xFF09;&#x3002;&#x8BFB;&#x5199;&#x91CF;&#x8FC7;&#x5927;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5F15;&#x8D77;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002; await&#xFF1A;IO&#x64CD;&#x4F5C;&#x7684;&#x5E73;&#x5747;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2;&#x3002;&#x8FD9;&#x662F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5728;&#x548C;&#x78C1;&#x76D8;&#x4EA4;&#x4E92;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6D88;&#x8017;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5305;&#x62EC;IO&#x7B49;&#x5F85;&#x548C;&#x5B9E;&#x9645;&#x64CD;&#x4F5C;&#x7684;&#x8017;&#x65F6;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x8FC7;&#x5927;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x9047;&#x5230;&#x4E86;&#x74F6;&#x9888;&#x6216;&#x8005;&#x51FA;&#x73B0;&#x6545;&#x969C;&#x3002; avgqu-sz&#xFF1A;&#x5411;&#x8BBE;&#x5907;&#x53D1;&#x51FA;&#x7684;&#x8BF7;&#x6C42;&#x5E73;&#x5747;&#x6570;&#x91CF;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x5927;&#x4E8E;1&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x5DF2;&#x7ECF;&#x9971;&#x548C;&#xFF08;&#x90E8;&#x5206;&#x524D;&#x7AEF;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x652F;&#x6301;&#x5E76;&#x884C;&#x5199;&#x5165;&#xFF09;&#x3002; %util&#xFF1A;&#x8BBE;&#x5907;&#x5229;&#x7528;&#x7387;&#x3002;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x8868;&#x793A;&#x8BBE;&#x5907;&#x7684;&#x7E41;&#x5FD9;&#x7A0B;&#x5EA6;&#xFF0C;&#x7ECF;&#x9A8C;&#x503C;&#x662F;&#x5982;&#x679C;&#x8D85;&#x8FC7;60&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5F71;&#x54CD;IO&#x6027;&#x80FD;&#xFF08;&#x53EF;&#x4EE5;&#x53C2;&#x7167;IO&#x64CD;&#x4F5C;&#x5E73;&#x5747;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF09;&#x3002;&#x5982;&#x679C;&#x5230;&#x8FBE;100%&#xFF0C;&#x8BF4;&#x660E;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x5DF2;&#x7ECF;&#x9971;&#x548C;&#x3002; &#x5982;&#x679C;&#x663E;&#x793A;&#x7684;&#x662F;&#x903B;&#x8F91;&#x8BBE;&#x5907;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x8BBE;&#x5907;&#x5229;&#x7528;&#x7387;&#x4E0D;&#x4EE3;&#x8868;&#x540E;&#x7AEF;&#x5B9E;&#x9645;&#x7684;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x5DF2;&#x7ECF;&#x9971;&#x548C;&#x3002;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5373;&#x4F7F;IO&#x6027;&#x80FD;&#x4E0D;&#x7406;&#x60F3;&#xFF0C;&#x4E5F;&#x4E0D;&#x4E00;&#x5B9A;&#x610F;&#x5473;&#x8FD9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6027;&#x80FD;&#x4F1A;&#x4E0D;&#x597D;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8BF8;&#x5982;&#x9884;&#x8BFB;&#x53D6;&#x3001;&#x5199;&#x7F13;&#x5B58;&#x7B49;&#x7B56;&#x7565;&#x63D0;&#x5347;&#x5E94;&#x7528;&#x6027;&#x80FD;&#x3002; free &#x2013;m12345$ free -m total used free shared buffers cachedMem: 245998 24545 221453 83 59 541 -/+ buffers/cache: 23944 222053Swap: 0 0 0 free&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF0C;-m&#x53C2;&#x6570;&#x8868;&#x793A;&#x6309;&#x7167;&#x5146;&#x5B57;&#x8282;&#x5C55;&#x793A;&#x3002;&#x6700;&#x540E;&#x4E24;&#x5217;&#x5206;&#x522B;&#x8868;&#x793A;&#x7528;&#x4E8E;IO&#x7F13;&#x5B58;&#x7684;&#x5185;&#x5B58;&#x6570;&#xFF0C;&#x548C;&#x7528;&#x4E8E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x9875;&#x7F13;&#x5B58;&#x7684;&#x5185;&#x5B58;&#x6570;&#x3002;&#x9700; &#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x7B2C;&#x4E8C;&#x884C;-/+ buffers/cache&#xFF0C;&#x770B;&#x4E0A;&#x53BB;&#x7F13;&#x5B58;&#x5360;&#x7528;&#x4E86;&#x5927;&#x91CF;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3002;&#x8FD9;&#x662F;Linux&#x7CFB;&#x7EDF;&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x7B56;&#x7565;&#xFF0C;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x5229;&#x7528;&#x5185;&#x5B58;&#xFF0C;&#x5982;&#x679C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9700;&#x8981;&#x5185;&#x5B58;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x4F1A; &#x7ACB;&#x5373;&#x88AB;&#x56DE;&#x6536;&#x5E76;&#x5206;&#x914D;&#x7ED9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x4E00;&#x822C;&#x4E5F;&#x88AB;&#x5F53;&#x6210;&#x662F;&#x53EF;&#x7528;&#x5185;&#x5B58;&#x3002; &#x5982;&#x679C;&#x53EF;&#x7528;&#x5185;&#x5B58;&#x975E;&#x5E38;&#x5C11;&#xFF0C;&#x7CFB;&#x7EDF;&#x53EF;&#x80FD;&#x4F1A;&#x52A8;&#x7528;&#x4EA4;&#x6362;&#x533A;&#xFF08;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E86;&#x7684;&#x8BDD;&#xFF09;&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x589E;&#x52A0;IO&#x5F00;&#x9500;&#xFF08;&#x53EF;&#x4EE5;&#x5728;iostat&#x547D;&#x4EE4;&#x4E2D;&#x63D0;&#x73B0;&#xFF09;&#xFF0C;&#x964D;&#x4F4E;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x3002; sar -n DEV 112345678910$ sar -n DEV 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU) 12:16:48 AM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil 12:16:49 AM eth0 18763.00 5032.00 20686.42 478.30 0.00 0.00 0.00 0.00 12:16:49 AM lo 14.00 14.00 1.36 1.36 0.00 0.00 0.00 0.00 12:16:49 AM docker0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 12:16:49 AM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil 12:16:50 AM eth0 19763.00 5101.00 21999.10 482.56 0.00 0.00 0.00 0.00 12:16:50 AM lo 20.00 20.00 3.25 3.25 0.00 0.00 0.00 0.00 12:16:50 AM docker0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 sar&#x547D;&#x4EE4;&#x5728;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x7684;&#x541E;&#x5410;&#x7387;&#x3002;&#x5728;&#x6392;&#x67E5;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x7684;&#x541E;&#x5410;&#x91CF;&#xFF0C;&#x5224;&#x65AD;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x9971;&#x548C;&#x3002;&#x5982;&#x793A;&#x4F8B;&#x8F93;&#x51FA;&#x4E2D;&#xFF0C;eth0&#x7F51;&#x5361;&#x8BBE;&#x5907;&#xFF0C;&#x541E;&#x5410;&#x7387;&#x5927;&#x6982;&#x5728;22 Mbytes/s&#xFF0C;&#x65E2;176 Mbits/sec&#xFF0C;&#x6CA1;&#x6709;&#x8FBE;&#x5230;1Gbit/sec&#x7684;&#x786C;&#x4EF6;&#x4E0A;&#x9650;&#x3002; sar -n TCP,ETCP 112345678910$ sar -n TCP,ETCP 1Linux 3.13.0-49-generic (titanclusters-xxxxx) 07/14/2015 _x86_64_ (32 CPU) 12:17:19 AM active/s passive/s iseg/s oseg/s 12:17:20 AM 1.00 0.00 10233.00 18846.00 12:17:19 AM atmptf/s estres/s retrans/s isegerr/s orsts/s 12:17:20 AM 0.00 0.00 0.00 0.00 0.00 12:17:20 AM active/s passive/s iseg/s oseg/s 12:17:21 AM 1.00 0.00 8359.00 6039.00 12:17:20 AM atmptf/s estres/s retrans/s isegerr/s orsts/s 12:17:21 AM 0.00 0.00 0.00 0.00 0.00 sar&#x547D;&#x4EE4;&#x5728;&#x8FD9;&#x91CC;&#x7528;&#x4E8E;&#x67E5;&#x770B;TCP&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x62EC;&#xFF1A; active/s&#xFF1A;&#x6BCF;&#x79D2;&#x672C;&#x5730;&#x53D1;&#x8D77;&#x7684;TCP&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x65E2;&#x901A;&#x8FC7;connect&#x8C03;&#x7528;&#x521B;&#x5EFA;&#x7684;TCP&#x8FDE;&#x63A5;&#xFF1B; passive/s&#xFF1A;&#x6BCF;&#x79D2;&#x8FDC;&#x7A0B;&#x53D1;&#x8D77;&#x7684;TCP&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x5373;&#x901A;&#x8FC7;accept&#x8C03;&#x7528;&#x521B;&#x5EFA;&#x7684;TCP&#x8FDE;&#x63A5;&#xFF1B; retrans/s&#xFF1A;&#x6BCF;&#x79D2;TCP&#x91CD;&#x4F20;&#x6570;&#x91CF;&#xFF1B; TCP&#x8FDE;&#x63A5;&#x6570;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5224;&#x65AD;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x662F;&#x5426;&#x7531;&#x4E8E;&#x5EFA;&#x7ACB;&#x4E86;&#x8FC7;&#x591A;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#x662F;&#x4E3B;&#x52A8;&#x53D1;&#x8D77;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD8;&#x662F;&#x88AB;&#x52A8;&#x63A5;&#x53D7;&#x7684;&#x8FDE;&#x63A5;&#x3002;TCP&#x91CD;&#x4F20;&#x53EF;&#x80FD;&#x662F;&#x56E0;&#x4E3A;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x6076;&#x52A3;&#xFF0C;&#x6216;&#x8005;&#x670D;&#x52A1;&#x5668;&#x538B;&#x529B;&#x8FC7;&#x5927;&#x5BFC;&#x81F4;&#x4E22;&#x5305;&#x3002; top123456789101112131415161718$ toptop - 00:15:40 up 21:56, 1 user, load average: 31.09, 29.87, 29.92 Tasks: 871 total, 1 running, 868 sleeping, 0 stopped, 2 zombie %Cpu(s): 96.8 us, 0.4 sy, 0.0 ni, 2.7 id, 0.1 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem: 25190241+total, 24921688 used, 22698073+free, 60448 buffers KiB Swap: 0 total, 0 used, 0 free. 554208 cached Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 20248 root 20 0 0.227t 0.012t 18748 S 3090 5.2 29812:58 java 4213 root 20 0 2722544 64640 44232 S 23.5 0.0 233:35.37 mesos-slave 66128 titancl+ 20 0 24344 2332 1172 R 1.0 0.0 0:00.07 top 5235 root 20 0 38.227g 547004 49996 S 0.7 0.2 2:02.74 java 4299 root 20 0 20.015g 2.682g 16836 S 0.3 1.1 33:14.42 java 1 root 20 0 33620 2920 1496 S 0.0 0.0 0:03.82 init 2 root 20 0 0 0 0 S 0.0 0.0 0:00.02 kthreadd 3 root 20 0 0 0 0 S 0.0 0.0 0:05.35 ksoftirqd/0 5 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kworker/0:0H 6 root 20 0 0 0 0 S 0.0 0.0 0:06.94 kworker/u256:0 8 root 20 0 0 0 0 S 0.0 0.0 2:38.05 rcu_sched top&#x547D;&#x4EE4;&#x5305;&#x542B;&#x4E86;&#x524D;&#x9762;&#x597D;&#x51E0;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x68C0;&#x67E5;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x6BD4;&#x5982;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#xFF08;uptime&#xFF09;&#x3001;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF08;free&#xFF09;&#x3001;&#x7CFB;&#x7EDF;CPU&#x4F7F;&#x7528;&#x60C5;&#x51B5; &#xFF08;vmstat&#xFF09;&#x7B49;&#x3002;&#x56E0;&#x6B64;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x76F8;&#x5BF9;&#x5168;&#x9762;&#x7684;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x7684;&#x6765;&#x6E90;&#x3002;&#x540C;&#x65F6;&#xFF0C;top&#x547D;&#x4EE4;&#x652F;&#x6301;&#x6392;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4E0D;&#x540C;&#x7684;&#x5217;&#x6392;&#x5E8F;&#xFF0C;&#x65B9;&#x4FBF;&#x67E5;&#x627E;&#x51FA;&#x8BF8;&#x5982;&#x5185;&#x5B58;&#x5360;&#x7528;&#x6700; &#x591A;&#x7684;&#x8FDB;&#x7A0B;&#x3001;CPU&#x5360;&#x7528;&#x7387;&#x6700;&#x9AD8;&#x7684;&#x8FDB;&#x7A0B;&#x7B49;&#x3002; &#x4F46;&#x662F;&#xFF0C;top&#x547D;&#x4EE4;&#x76F8;&#x5BF9;&#x4E8E;&#x524D;&#x9762;&#x4E00;&#x4E9B;&#x547D;&#x4EE4;&#xFF0C;&#x8F93;&#x51FA;&#x662F;&#x4E00;&#x4E2A;&#x77AC;&#x95F4;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6301;&#x7EED;&#x76EF;&#x7740;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9519;&#x8FC7;&#x4E00;&#x4E9B;&#x7EBF;&#x7D22;&#x3002;&#x8FD9;&#x65F6;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6682;&#x505C;top&#x547D;&#x4EE4;&#x5237;&#x65B0;&#xFF0C;&#x6765;&#x8BB0;&#x5F55;&#x548C;&#x6BD4;&#x5BF9;&#x6570;&#x636E;&#x3002;&#x603B;&#x7ED3; &#x6392;&#x67E5;Linux&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x5DE5;&#x5177;&#xFF0C;&#x4E0A;&#x9762;&#x4ECB;&#x7ECD;&#x7684;&#x4E00;&#x4E9B;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x5FEB;&#x901F;&#x7684;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#x3002;&#x4F8B;&#x5982;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x8F93;&#x51FA;&#xFF0C;&#x591A;&#x4E2A;&#x8BC1;&#x636E;&#x8BC1;&#x660E;&#x6709;JAVA&#x8FDB;&#x7A0B;&#x5360;&#x7528;&#x4E86;&#x5927;&#x91CF;CPU&#x8D44;&#x6E90;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x6027;&#x80FD;&#x8C03;&#x4F18;&#x5C31;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x3002;]]></content>
      <categories>
        <category>linux</category>
        <category>shell</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[zabbix编译安装部署文档]]></title>
    <url>%2F2016%2F05%2F19%2Fzabbix-install%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x672C;&#x6587;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x90E8;&#x5206;&#x53D6;&#x81EA; &#x8FD0;&#x7EF4;&#x751F;&#x5B58;&#x65F6;&#x95F4; &#x4EE5;&#x53CA;&#x7AD9;&#x957F;&#x51C9;&#x767D;&#x5F00;&#x7684;&#x300A;ZABBIX&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;v3.0.1 - &#x8FD0;&#x7EF4;&#x751F;&#x5B58;&#x65F6;&#x95F4;&#xFF08;2016&#xFF09;&#x300B;&#x4E00;&#x4E66;&#x3002; 2016&#x5E74;8&#x6708;17&#x65E5; &#x66F4;&#x65B0;3.0.4 &#x4E0B;&#x8F7D;&#x5730;&#x5740; 2017&#x5E74;8&#x6708;8&#x65E5; &#x66F4;&#x65B0;&#x6587;&#x6863;&#x5185;&#x5BB9; 2017&#x5E74;8&#x6708;30&#x65E5; &#x66F4;&#x65B0;systemd&#x914D;&#x7F6E;&#xFF0C;&#x8C03;&#x6574;&#x5185;&#x5BB9; 2017&#x5E74;9&#x6708;21&#x65E5; &#x66F4;&#x65B0;proxy&#x914D;&#x7F6E; &#x66F4;&#x65B0;zabbix&#x7248;&#x672C;&#x81F3;3.2.7 &#x66F4;&#x65B0;mysql&#x7248;&#x672C;&#x4E3A;5.6.37 2018&#x5E74;5&#x6708;10&#x65E5; &#x66F4;&#x65B0;zabbix&#x7248;&#x672C;&#x4E3A;3.4.8 &#x8C03;&#x6574;&#x4E86;&#x4E00;&#x4E9B;&#x73AF;&#x5883;&#x5B89;&#x88C5;&#x7684;&#x4F9D;&#x8D56; agent&#x5B89;&#x88C5;&#x811A;&#x672C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x4E86;&#x81EA;&#x52A8;&#x6CE8;&#x518C;&#x9700;&#x8981;&#x7684;&#x914D;&#x7F6E;&#x53C2;&#x6570; &#x672C;&#x6587;&#x4EC5;&#x8BB0;&#x5F55;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x8FC7;&#x7A0B; &#x5982;&#x679C;&#x4F60;&#x662F;&#x5C0F;&#x767D;&#xFF0C;&#x8BF7;&#x4E25;&#x683C;&#x6309;&#x7167;&#x672C;&#x6587;&#x8FC7;&#x7A0B;&#x6267;&#x884C;&#xFF0C;&#x4E0D;&#x8981;&#x9057;&#x6F0F;&#x4EFB;&#x4F55;&#x6B65;&#x9AA4;&#xFF1B; &#x5982;&#x679C;&#x4F60;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x8BF7;&#x6309;&#x7167;&#x4F60;&#x7684;&#x4E60;&#x60EF;&#x4FEE;&#x6539;&#x4E00;&#x4E9B;&#x53C2;&#x6570; zabbix&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x51C6;&#x5907;&#x7248;&#x672C;&#x8BF4;&#x660E; zabbix&#xFF1A;3.2.7 nginx&#xFF1A;1.13.3 php&#xFF1A;5.5.35 mysql&#xFF1A;5.6.37 &#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x5305;1234yum install -y epel*yum install -y wget curl curl-devel gcc gcc-c++ autoconf automake fping make cmake zlib zlib-devel openssl openssl-devel pcre* gd-devel libjpeg-devel libpng-devel libxml2-devel bzip2-devel libcurl-devel net-snmp net-snmp-devel mysql-devel ncurses-devel libevent-devel perl-DBI unixODBC-devel OpenIPMI-devel openldap openldap-develcp -a /usr/lib64/libldap* /usr/lib/ &#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;12345678WORKDIR=&quot;/usr/local/src&quot;INSTALL_DIR=&quot;/usr/local/product&quot;NGINX_VERSION=&quot;1.13.3&quot;PHP_VERSION=&quot;5.5.35&quot;MVERSION=&quot;5.6&quot;MYSQL_VERSION=&quot;5.6.37&quot;#ZABBIX_VERSION=&quot;3.2.7&quot;ZABBIX_VERSION=&quot;3.4.8&quot; &#x5B89;&#x88C5;nginx&#x6DFB;&#x52A0;nginx&#x7528;&#x6237;12groupadd -r wwwuseradd -s /sbin/nologin -g www -r www &#x7F16;&#x8BD1;&#x5B89;&#x88C5;nginx12345678910111213141516171819202122232425262728293031cd ${WORKDIR}wget http://nginx.org/download/nginx-${NGINX_VERSION}.tar.gz tar xvf nginx-${NGINX_VERSION}.tar.gz &amp;&amp; cd nginx-${NGINX_VERSION}./configure \--prefix=${INSTALL_DIR}/nginx-${NGINX_VERSION} \--user=www \--group=www \--with-pcre \--with-http_ssl_module \--with-http_v2_module \--with-http_realip_module \--with-http_addition_module \--with-http_sub_module \--with-http_dav_module \--with-http_flv_module \--with-http_mp4_module \--with-http_gunzip_module \--with-http_gzip_static_module \--with-http_random_index_module \--with-http_secure_link_module \--with-http_stub_status_module \--with-http_auth_request_module \--with-mail \--with-mail_ssl_module \--with-file-aio \--with-stream \--with-cc-opt=&apos;-O2 -g -pipe -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic&apos;make &amp;&amp; make install ln -s ${INSTALL_DIR}/nginx-${NGINX_VERSION} /usr/local/nginx &#x53C2;&#x6570;&#x8BF4;&#x660E; &#x2013;with-http_stub_status_module&#xFF1A;&#x652F;&#x6301;nginx&#x72B6;&#x6001;&#x67E5;&#x8BE2; &#x2013;with-http_ssl_module&#xFF1A;&#x652F;&#x6301;https &#x2013;with-http_spdy_module&#xFF1A;&#x652F;&#x6301;google&#x7684;spdy,&#x60F3;&#x4E86;&#x89E3;&#x8BF7;&#x767E;&#x5EA6;spdy,&#x8FD9;&#x4E2A;&#x5FC5;&#x987B;&#x6709;ssl&#x7684;&#x652F;&#x6301; &#x2013;with-pcre&#xFF1A;&#x4E3A;&#x4E86;&#x652F;&#x6301;rewrite&#x91CD;&#x5199;&#x529F;&#x80FD;&#xFF0C;&#x5FC5;&#x987B;&#x5236;&#x5B9A;pcre &#x4FEE;&#x6539;nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678910111213141516171819202122232425262728mkdir /data/logs/nginxmkdir -p /usr/local/nginx/conf/vhostscat &gt;/usr/local/nginx/conf/nginx.conf &lt;&lt;E0Fuser www;worker_processes 4;error_log /data/logs/nginx/error.log;#error_log logs/error.log notice;#error_log logs/error.log info;pid /var/run/nginx.pid;events { worker_connections 1024;}http { include mime.types; default_type application/octet-stream; log_format main &apos;\$remote_addr - $remote_user [\$time_local] &quot;\$request&quot; &apos; &apos;\$status \$body_bytes_sent &quot;\$http_referer&quot; &apos; &apos;&quot;\$http_user_agent&quot; &quot;\$http_x_forwarded_for&quot;&apos;; sendfile on; keepalive_timeout 65; include vhosts/*.conf;}E0F &#x521B;&#x5EFA;nginx&#x542F;&#x52A8;&#x6587;&#x4EF6;init12curl http://c.isme.pub/2017/08/30/service-install/nginx.init -o /etc/init.d/nginxchmod +x /etc/init.d/nginx systemd1curl http://c.isme.pub/2017/08/30/service-install/nginx.service -o /usr/lib/systemd/system/nginx.service &#x5B89;&#x88C5;php&#x7F16;&#x8BD1;&#x5B89;&#x88C5;php12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758cd ${WORKDIR}wget http://cn2.php.net/get/php-${PHP_VERSION}.tar.gz/from/this/mirror -O php-${PHP_VERSION}.tar.gztar xvf php-${PHP_VERSION}.tar.gz &amp;&amp; cd php-${PHP_VERSION}./configure \--prefix=${INSTALL_DIR}/php-${PHP_VERSION} \--with-config-file-path=${INSTALL_DIR}/php-${PHP_VERSION}/etc \--with-curl \--with-libxml-dir \--with-mysql=mysqlnd \--enable-mysqlnd \--with-mysqli=mysqlnd \--with-pdo-mysql=mysqlnd \--with-openssl \--with-zlib \--with-gd \--enable-gd-jis-conv \--with-jpeg-dir \--with-png-dir \--with-gettext \--with-freetype-dir \--enable-gd-native-ttf \--with-mhash \--with-iconv \--with-xmlrpc \--with-pcre-regex \--without-pear \--without-pdo-sqlite \--without-sqlite3 \--disable-cgi \--disable-ipv6 \--disable-phar \--disable-rpath \--enable-fpm \--enable-ftp \--enable-zip \--enable-soap \--with-gettext \--enable-bcmath \--enable-sockets \--enable-calendar \--enable-shmop \--enable-opcache \--enable-sysvsem \--enable-sysvshm \--enable-sysvmsg \--enable-mbstring \--with-ldapsed -i &apos;/EXTRA_LIBS/s/$/ -llber/&apos; Makefilemake &amp;&amp; make installln -s ${INSTALL_DIR}/php-${PHP_VERSION} /usr/local/phpcp php.ini-production /usr/local/php/etc/php.inicd /usr/local/php/etc/curl http://c.isme.pub/2017/08/30/service-install/php-fpm.conf -o php-fpm.confmkdir -p /data/logs/php/ &#x4FEE;&#x6539;php.ini&#xFF08;zabbix&#x73AF;&#x5883;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x53C2;&#x6570;&#xFF09;1234567sed -i &apos;/^max_execution_time/s/=.*/= 300/&apos; php.inised -i &apos;/^memory_limit/s/=.*/= 128M/&apos; php.inised -i &apos;/^post_max_size/s/=.*/= 16M/&apos; php.inised -i &apos;/^upload_max_filesize/s/=.*/= 2M/&apos; php.inised -i &apos;/^max_input_time/s/=.*/= 300/&apos; php.inised -i &apos;/^;date.timezone/s/^;//&apos; php.inised -i &apos;/^date.timezone/s/=.*/= PRC/&apos; php.ini &#x521B;&#x5EFA;php-fpm&#x542F;&#x52A8;&#x6587;&#x4EF6;init12curl http://c.isme.pub/2017/08/30/service-install/php-fpm.init -o /etc/init.d/php-fpmchmod +x /etc/init.d/php-fpm systemd1curl http://c.isme.pub/2017/08/30/service-install/php-fpm.service -o /usr/lib/systemd/system/php-fpm.service &#x5B89;&#x88C5;mysql &#x6DFB;&#x52A0;mysql&#x7528;&#x6237;1234groupadd mysqlmkdir -p /data/mysqluseradd -r -g mysql -d /data/mysql -s /sbin/nologin mysqlchown -R mysql.mysql /data/mysql &#x83B7;&#x53D6;&#x5B89;&#x88C5;&#x5305;1234cd ${WORKDIR}wget http://dev.mysql.com/get/Downloads/MySQL-${MVERSION}/mysql-${MYSQL_VERSION}.tar.gztar -xvf mysql-${MYSQL_VERSION}.tar.gz &amp;&amp; cd mysql-${MYSQL_VERSION} &#x7F16;&#x8BD1;&#x5B89;&#x88C5;12345678910111213cmake \-DCMAKE_INSTALL_PREFIX=${INSTALL_DIR}/mysql-${MYSQL_VERSION} \-DDEFAULT_CHARSET=utf8 \-DENABLED_LOCAL_INFILE=1 \-DMYSQL_DATADIR=/data/mysql \-DWITH_EXTRA_CHARSETS=all \-DWITH_READLINE=1 \-DWITH_INNOBASE_STORAGE_ENGINE=1 \-DMYSQL_TCP_PORT=3306 \-DDEFAULT_COLLATION=utf8_general_cimake &amp;&amp; make installln -s ${INSTALL_DIR}/mysql-${MYSQL_VERSION} /usr/local/mysql &#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;12345678mkdir /data/logs/mysqlcd /usr/local/mysql/support-files/cp mysql.server /etc/init.d/mysqldchmod +x /etc/init.d/mysqldcd /usr/local/mysql/scripts/./mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysqlcurl http://c.isme.pub/2017/08/30/service-install/my.cnf -o /etc/my.cnf &#x542F;&#x52A8;&#x5E76;&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;12345678chkconfig mysqld on/etc/init.d/mysqld startecho &apos;export PATH=&quot;$PATH:/usr/local/bin:/usr/local/mysql/bin&quot;&apos; &gt;&gt; /root/.bashrcecho &apos;export PATH=&quot;$PATH:/usr/local/bin:/usr/local/mysql/bin&quot;&apos; &gt;&gt; /etc/profilesource /etc/profile &#x5B89;&#x88C5;zabbix&#x6DFB;&#x52A0;zabbix&#x7528;&#x6237;12groupadd zabbixuseradd -g zabbix -s /sbin/nologin zabbix &#x83B7;&#x53D6;&#x5B89;&#x88C5;&#x5305;&#x5B98;&#x65B9;&#x4E0B;&#x8F7D;&#x5730;&#x5740; 123cd ${WORKDIR}wget &quot;https://downloads.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/${ZABBIX_VERSION}/zabbix-${ZABBIX_VERSION}.tar.gz?r=&amp;ts=1502894025&amp;use_mirror=jaist&quot; -O zabbix-${ZABBIX_VERSION}.tar.gztar xvf zabbix-${ZABBIX_VERSION}.tar.gz &amp;&amp; cd zabbix-${ZABBIX_VERSION} &#x7F16;&#x8BD1;&#x5B89;&#x88C5;123456789101112131415161718192021222324./configure \--prefix=${INSTALL_DIR}/zabbix-${ZABBIX_VERSION}/ \--enable-server \--enable-agent \--with-mysql \--with-net-snmp \--with-libcurl \--with-libxml2 \--with-openipmi \--with-unixodbc./configure \--prefix=${INSTALL_DIR}/zabbix-${ZABBIX_VERSION}/ \--enable-server \--enable-agent \--with-mysql \--with-net-snmp \--with-libcurl \--with-libxml2 \--with-openipmi \--with-unixodbcmake &amp;&amp; make installln -s ${INSTALL_DIR}/zabbix-${ZABBIX_VERSION} /usr/local/zabbix &#x521B;&#x5EFA;zabbix&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;12345mysqlcreate database zabbix default charset utf8;grant all privileges on zabbix.* to zabbix@&apos;localhost&apos; identified by &apos;zabbix@xxx.com&apos;;flush privileges;quit; &#x5BFC;&#x5165;&#x6570;&#x636E;123mysql -uzabbix -pzabbix@xxx.com zabbix &lt; database/mysql/schema.sql mysql -uzabbix -pzabbix@xxx.com zabbix &lt; database/mysql/images.sqlmysql -uzabbix -pzabbix@xxx.com zabbix &lt; database/mysql/data.sql zabbix proxy&#x53EA;&#x9700;&#x8981;&#x5BFC;&#x5165;&#x7B2C;&#x4E00;&#x4E2A;sql&#x6570;&#x636E;&#xFF0C;server&#x9700;&#x8981;&#x5BFC;&#x5165;&#x5168;&#x90E8;&#x4E09;&#x4E2A;&#x6570;&#x636E; &#x5BFC;&#x5165;web&#x6587;&#x4EF6;1234mkdir -p /data/web/zabbix.xxx.commkdir -p /data/logs/zabbixcp -a frontends/php/* /data/web/zabbix.xxx.com/chown www.www -R /data/web/zabbix.xxx.com &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263cat &gt;/usr/local/zabbix/etc/zabbix_server.conf &lt;&lt;EOFListenPort=10051LogFile=/data/logs/zabbix/zabbix_server.logLogFileSize=10DebugLevel=3PidFile=/tmp/zabbix_server.pidDBHost=localhostDBName=zabbixDBSchema=zabbixDBUser=zabbixDBPassword=zabbix@xxx.comDBSocket=/tmp/mysql.sockDBPort=3306StartPollers=10StartPollersUnreachable=5StartPingers=5StartDiscoverers=5StartIPMIPollers=5StartTrappers=10StartHTTPPollers=2ListenIP=0.0.0.0CacheSize=2048MCacheUpdateFrequency=100StartDBSyncers=10HistoryCacheSize=2048MTrendCacheSize=2048MValueCacheSize=1GTimeout=30LogSlowQueries=1000AlertScriptsPath=/usr/local/zabbix/share/zabbix/alertscriptsExternalScripts=/usr/local/zabbix/share/zabbix/externalscriptsFpingLocation=/usr/sbin/fpingTmpDir=/tmpAllowRoot=1StartProxyPollers=10ProxyConfigFrequency=50ProxyDataFrequency=30Include=/usr/local/zabbix/etc/zabbix_server.conf.d/*.conf#SSLCertLocation=/usr/local/zabbix/share/zabbix/ssl/certs#SSLKeyLocation=/usr/local/zabbix/share/zabbix/ssl/keysLoadModulePath=/usr/local/zabbix/share/zabbix/modulesEOFcat &gt;/usr/local/zabbix/etc/zabbix_agentd.conf &lt;&lt;EOFPidFile=/tmp/zabbix_agentd.pidLogFile=/data/logs/zabbix/zabbix_agentd.logLogFileSize=10DebugLevel=3EnableRemoteCommands=1LogRemoteCommands=1RefreshActiveChecks=60MaxLinesPerSecond=200Server=127.0.0.1ListenPort=10050StartAgents=5ServerActive=127.0.0.1Timeout=30AllowRoot=1Include=/usr/local/zabbix/etc/zabbix_agentd.conf.d/*.confLoadModulePath=/usr/local/zabbix/share/zabbix/modulesEOFmkdir /data/logs/zabbix/ -p &amp;&amp; chown zabbix.zabbix /data/logs/zabbix/ &#x521B;&#x5EFA;zabbix&#x865A;&#x62DF;&#x4E3B;&#x673A;123456789101112131415161718192021222324cat &gt;/usr/local/nginx/conf/vhosts/zabbix.conf &lt;&lt;EOFserver { listen 80; server_name zabbix.xxx.com; access_log /data/logs/nginx/zabbix_access.log; error_log /data/logs/nginx/zabbix_error.log; index index.html index.php index.html; root /data/web/zabbix.xxx.com; location / { try_files \$uri \$uri/ /index.php?\$args; } location ~ ^(.+.php)(.*)$ { fastcgi_split_path_info ^(.+.php)(.*)\$; include fastcgi.conf; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param PATH_INFO \$fastcgi_path_info; }}EOF &#x521B;&#x5EFA;zabbix&#x542F;&#x52A8;&#x6587;&#x4EF6;init12curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix_server.init -o /etc/init.d/zabbix_serverchmod +x /etc/init.d/zabbix_server systemd1curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix-server.service -o /usr/lib/systemd/system/zabbix-server.service &#x521B;&#x5EFA;agent&#x542F;&#x52A8;&#x6587;&#x4EF6;init12curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix_agentd.init -o /etc/init.d/zabbix_agentdchmod +x /etc/init.d/zabbix_agentd systemd1curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix-agentd.service -o /usr/lib/systemd/system/zabbix-agentd.service &#x542F;&#x52A8;&#x670D;&#x52A1;123456789101112131415161718192021# initchkconfig nginx onchkconfig php-fpm onchkconfig zabbix_server onchkconfig zabbix_agentd on/etc/init.d/nginx start/etc/init.d/php-fpm start/etc/init.d/zabbix_server start/etc/init.d/zabbix_agentd start# systemdsystemctl enable nginx.servicesystemctl enable php-fpm.servicesystemctl enable zabbix-server.servicesystemctl enable zabbix-agentd.servicesystemctl start nginx.servicesystemctl start php-fpm.servicesystemctl start zabbix-server.servicesystemctl start zabbix-agentd.service web&#x5B89;&#x88C5;zabbix&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;http://your-ip or http://your-domin &#x76F4;&#x63A5;&#x4E0B;&#x4E00;&#x6B65; &#x73AF;&#x5883;&#x76D1;&#x6D4B;&#xFF0C;&#x786E;&#x4FDD;&#x6240;&#x6709;&#x76D1;&#x6D4B;&#x90FD;&#x662F;OK&#x7684; &#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F; server&#x7AEF;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4; &#x4FE1;&#x606F;&#x786E;&#x8BA4; &#x6B64;&#x5904;&#x9700;&#x8981;&#x7ED9;conf&#x76EE;&#x5F55;nginx&#x7528;&#x6237;www&#x6743;&#x9650;&#x3002; &#x5B89;&#x88C5;&#x5B8C;&#x6210; &#x767B;&#x9646;&#x6D4B;&#x8BD5; &#x9ED8;&#x8BA4;&#x8D26;&#x53F7;admin&#x3001;&#x5BC6;&#x7801;zabbix zabbix&#x652F;&#x6301;&#x4E2D;&#x6587;&#xFF0C;&#x4F46;&#x662F;&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x6210;&#x4E2D;&#x6587;&#x7684;&#x9700;&#x8981;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C; 123vim /data/web/zabbix.xxx.com/include/locales.inc.php &apos;zh_CN&apos; =&gt; [&apos;name&apos; =&gt; _(&apos;Chinese (zh_CN)&apos;), &apos;display&apos; =&gt; false], &apos;zh_CN&apos; =&gt; [&apos;name&apos; =&gt; _(&apos;Chinese (zh_CN)&apos;), &apos;display&apos; =&gt; true], &#x4FEE;&#x6539;&#x540E;&#x91CD;&#x542F;&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4E2D;&#x6587; &#x4FEE;&#x6539;&#x4E2D;&#x6587;&#x540E;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x56FE;&#x5F62;&#x51FA;&#x73B0;&#x4E71;&#x7801;&#xFF0C;&#x4FEE;&#x6539;&#x4EE5;&#x4E0B;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x4E0A;&#x4F20;&#x4E2D;&#x6587;&#x5B57;&#x4F53;&#x5230;fonts &#x6587;&#x4EF6;&#x5939;&#x4E0B; 123456vim /data/web/zabbix.xxx.com/include/defines.inc.php #define(&apos;ZBX_GRAPH_FONT_NAME&apos;,&apos;DejaVuSans&apos;); // font file name define(&apos;ZBX_GRAPH_FONT_NAME&apos;,&apos;xxx&apos;); // font file name #define(&apos;ZBX_FONT_NAME&apos;, &apos;DejaVuSans&apos;); define(&apos;ZBX_FONT_NAME&apos;, &apos;xxx&apos;); &#x5B89;&#x88C5;zabbix-agent12345curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix_agent_install_centos.sh -o zabbix_agent_install_centos.shchmod +x zabbix_agent_install_centos.sh# &#x4FEE;&#x6539;vim zabbix_agent_install_centos.sh &#x5B89;&#x88C5;zabbix-proxyzabbix-proxy &#x53EF;&#x4EE5;&#x66FF;&#x4EE3;zabbix-server &#x6536;&#x96C6;&#x5BA2;&#x6237;&#x7AEF;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x5C06;&#x6570;&#x636E;&#x6C47;&#x603B;&#x7ED9;zabbix-server&#xFF0C;&#x5728;&#x4E00;&#x5B9A;&#x7684;&#x7A0B;&#x5EA6;&#x4E0A;&#x5206;&#x62C5;&#x4E86;zabbix-server&#x7684;&#x538B;&#x529B;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;zabbix-proxy&#x5B9E;&#x73B0;&#x4E86;&#x96C6;&#x4E2D;&#x5F0F;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x76D1;&#x63A7;&#x3002; &#x4F7F;&#x7528;&#x573A;&#x666F; &#x76D1;&#x63A7;&#x8FDC;&#x7A0B;&#x533A;&#x57DF;&#x8BBE;&#x5907;&#xFF1B; &#x76D1;&#x63A7;&#x672C;&#x5730;&#x7F51;&#x7EDC;&#x4E0D;&#x7A33;&#x5B9A;&#x533A;&#x57DF;&#xFF1B; &#x5F53;zabbix&#x76D1;&#x63A7;&#x4E0A;&#x5343;&#x8BBE;&#x5907;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x51CF;&#x8F7B;server&#x7684;&#x538B;&#x529B;&#xFF1B; &#x7B80;&#x5316;zabbix&#x7684;&#x7EF4;&#x62A4;&#x3002; &#x529F;&#x80FD;&#x53CA;&#x539F;&#x7406; zabbix-proxy &#x5FC5;&#x987B;&#x8981;&#x548C; zabbix-server &#x540C;&#x4E00;&#x4E2A;&#x7248;&#x672C; zabbix-proxy &#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x4E00;&#x6761;tcp&#x8FDE;&#x63A5; zabbix-server&#xFF1B; zabbix-proxy &#x6570;&#x636E;&#x5E93;&#x5FC5;&#x987B;&#x548C; zabbix-server &#x5206;&#x5F00;&#xFF1B; zabbix-proxy &#x6536;&#x96C6;&#x5230;&#x6570;&#x636E;&#x4E4B;&#x540E;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x6570;&#x636E;&#x7F13;&#x5B58;&#x5728;&#x672C;&#x5730;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4E00;&#x5B9A;&#x5F97;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x4F20;&#x9012;&#x7ED9; zabbix-server&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x7531;proxy&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x53C2;&#x6570;ProxyLocalBuffer and ProxyOfflineBuffer&#x51B3;&#x5B9A;&#xFF1B; zabbix-proxy&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6536;&#x96C6;&#x5668;&#xFF0C;&#x5B83;&#x4E0D;&#x8BA1;&#x7B97;&#x89E6;&#x53D1;&#x5668;&#x3001;&#x4E0D;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#x3001;&#x4E0D;&#x53D1;&#x9001;&#x62A5;&#x8B66;&#xFF1B; &#x4F7F;&#x7528; agent-active &#x6A21;&#x5F0F;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x8BB0;&#x4F4F;&#x5728; agent &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570; ServerActive &#x52A0;&#x4E0A; proxy &#x7684;IP&#x5730;&#x5740; &#x4EE5;&#x4E0B;&#x662F; zabbix-proxy &#x7684;&#x529F;&#x80FD; Items Function Supported by proxy Zabbix agent checks Yes Zabbix agent checks (active) Yes Simple checks Yes Trapper items Yes SNMP checks Yes SNMP traps Yes IPMI checks Yes JMX checks Yes Log file monitoring Yes Internal checks Yes SSH checks Yes Telnet checks Yes External checks Yes Built-in web monitoring Yes Network discovery Yes Low-level discovery Yes Calculating triggers No Processing events No Sending alerts No Remote commands No &#x5B89;&#x88C5;&#x4F9D;&#x8D56;1234yum install -y epel*yum install -y wget curl curl-devel gcc gcc-c++ autoconf automake fping make cmake zlib zlib-devel openssl openssl-devel pcre* gd-devel libjpeg-devel libpng-devel libxml2-devel bzip2-devel libcurl-devel net-snmp net-snmp-devel mysql-devel ncurses-devel libevent-devel perl-DBI unixODBC-devel OpenIPMI-devel openldap openldap-develcp -a /usr/lib64/libldap* /usr/lib/ &#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;12345WORKDIR=&quot;/usr/local/src&quot;INSTALL_DIR=&quot;/usr/local/product&quot;MVERSION=&quot;5.6&quot;MYSQL_VERSION=&quot;5.6.37&quot;ZABBIX_VERSION=&quot;3.4.8&quot; &#x7F16;&#x8BD1;&#x5B89;&#x88C5;mysql&#x8DF3;&#x8F6C;&#x5230;mysql&#x5B89;&#x88C5; &#x6DFB;&#x52A0;zabbix&#x7528;&#x6237;12groupadd zabbixuseradd -g zabbix -s /sbin/nologin zabbix &#x83B7;&#x53D6;&#x5B89;&#x88C5;&#x5305;&#x5B98;&#x65B9;&#x4E0B;&#x8F7D;&#x5730;&#x5740; 123cd ${WORKDIR}wget &quot;https://downloads.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/${ZABBIX_VERSION}/zabbix-${ZABBIX_VERSION}.tar.gz?r=&amp;ts=1502894025&amp;use_mirror=jaist&quot; -O zabbix-${ZABBIX_VERSION}.tar.gztar xvf zabbix-${ZABBIX_VERSION}.tar.gz &amp;&amp; cd zabbix-${ZABBIX_VERSION} &#x7F16;&#x8BD1;&#x5B89;&#x88C5;1234567891011./configure \--prefix=${INSTALL_DIR}/zabbix-${ZABBIX_VERSION}/ \--enable-proxy \--enable-agent \--with-mysql \--with-net-snmp \--with-libcurl \--with-libxml2make &amp;&amp; make installln -s ${INSTALL_DIR}/zabbix-${ZABBIX_VERSION} /usr/local/zabbix &#x521B;&#x5EFA;zabbix&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;12345mysqlcreate database zabbix_proxy default charset utf8;grant all privileges on zabbix_proxy.* to zabbix@&apos;localhost&apos; identified by &apos;zabbix@xxx.com&apos;;flush privileges;quit; &#x5BFC;&#x5165;&#x6570;&#x636E;1mysql -uzabbix -pzabbix@xxx.com zabbix_proxy &lt; database/mysql/schema.sql zabbix-proxy&#x8868;&#x7ED3;&#x6784;&#x7684;sql&#xFF0C;&#x4E09;&#x4E2A;sql&#x5168;&#x90E8;&#x5BFC;&#x5165;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x9519;&#x3002; &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364MASTER=&quot;10.0.0.187&quot;PROXY=&quot;10.0.0.188&quot;HOSTNAME=&quot;env-proxy&quot;cat &gt;/usr/local/zabbix/etc/zabbix_proxy.conf &lt;&lt;EOFProxyMode=0Server=${MASTER}ServerPort=10051Hostname=${HOSTNAME}ListenPort=10051LogFile=/data/logs/zabbix/zabbix_proxy.logLogFileSize=10DebugLevel=3PidFile=/tmp/zabbix_proxy.pidDBHost=localhostDBName=zabbix_proxyDBUser=zabbixDBPassword=zabbix@xxx.comDBSocket=/tmp/mysql.sockDBPort=3306ProxyOfflineBuffer=1HeartbeatFrequency=20ConfigFrequency=40DataSenderFrequency=1StartPollers=10StartPollersUnreachable=5StartTrappers=10StartPingers=5StartDiscoverers=5ListenIP=${PROXY}CacheSize=1GStartDBSyncers=5Timeout=30FpingLocation=/usr/sbin/fpingTmpDir=/tmpAllowRoot=1ExternalScripts=/usr/local/zabbix/share/zabbix/externalscriptsLoadModulePath=/usr/local/zabbix/share/zabbix/modulesInclude=/usr/local/zabbix/etc/zabbix_proxy.conf.d/*.confEOFcat &gt;/usr/local/zabbix/etc/zabbix_agentd.conf &lt;&lt;EOFPidFile=/tmp/zabbix_agentd.pidLogFile=/data/logs/zabbix/zabbix_agentd.logLogFileSize=10DebugLevel=3EnableRemoteCommands=1LogRemoteCommands=1RefreshActiveChecks=60MaxLinesPerSecond=200Server=${PROXY}ListenPort=10050StartAgents=5ServerActive=${PROXY}#Hostname=${HOSTNAME}HostMetadataItem=system.unameTimeout=30AllowRoot=1Include=/usr/local/zabbix/etc/zabbix_agentd.conf.d/*.confLoadModulePath=/usr/local/zabbix/share/zabbix/modulesEOFmkdir /data/logs/zabbix/ -p &amp;&amp; chown zabbix.zabbix /data/logs/zabbix/echo &quot;${PROXY} ${HOSTNAME}&quot; &gt;&gt; /etc/hosts &#x521B;&#x5EFA; zabbix-proxy &#x542F;&#x52A8;&#x6587;&#x4EF6;init12curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix_proxy.init -o /etc/init.d/zabbix_proxychmod +x /etc/init.d/zabbix_proxy systemd1curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix-proxy.service -o /usr/lib/systemd/system/zabbix-proxy.service &#x521B;&#x5EFA; zabbix-agent &#x542F;&#x52A8;&#x6587;&#x4EF6;init12curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix_agentd.init -o /etc/init.d/zabbix_agentdchmod +x /etc/init.d/zabbix_agentd systemd1curl http://c.isme.pub/2016/05/19/zabbix-install/zabbix-agentd.service -o /usr/lib/systemd/system/zabbix-agentd.service &#x542F;&#x52A8;&#x670D;&#x52A1;1234567891011# initchkconfig zabbix_proxy onchkconfig zabbix_agentd on/etc/init.d/zabbix_proxy start/etc/init.d/zabbix_agentd start# systemdsystemctl enable zabbix-proxy.servicesystemctl enable zabbix-agentd.servicesystemctl start zabbix-proxy.servicesystemctl start zabbix-agentd.service master&#x6DFB;&#x52A0;proxy &#x53C2;&#x6570; &#x63CF;&#x8FF0; Proxy name proxy&#x540D;&#x79F0;&#xFF0C;&#x5FC5;&#x987B;&#x548C;proxy&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;hostname&#x4E00;&#x81F4; Proxy mode &#x9009;&#x62E9;proxy&#x6A21;&#x5F0F; Active proxy&#x4E3B;&#x52A8;&#x8FDE;&#x63A5;&#x5230;zabbix server&#x5E76;&#x4E14;&#x8BF7;&#x6C42;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6570;&#x636E; Passive Zabbix server&#x8FDE;&#x63A5;&#x5230;proxy Hosts &#x54EA;&#x4E9B;&#x4E3B;&#x673A;&#x9700;&#x8981;&#x88AB;proxy&#x76D1;&#x63A7; &#x6DFB;&#x52A0;proxy &#x6DFB;&#x52A0;agent &#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x76D1;&#x63A7;&#x6A21;&#x677F; &#x6700;&#x540E;&#x770B;&#x5230;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x8FD9;&#x6837;&#x5E94;&#x8BE5;&#x5C31;&#x6CA1;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x4E86; &#x9644;&#x5F55;nginxinit&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225cat /etc/init.d/nginx#!/bin/bash######################################################## Modify by nanu@qq.com at 2012-07-20 13:52 #### Compatible with RedHat/CentOS Debian/Ubuntu SUSE ######################################################### Support chkconfig on RedHat/CentOS# chkconfig: 2345 90 60# description: nginx# processname: nginx# config: /usr/local/nginx/conf/nginx.conf# pidfile: /var/run/nginx.pid# Support Linux Standard Base Core Specification 3.2### BEGIN INIT INFO# Provides: nginx# Required-Start: $local_fs $syslog $network# Required-Stop:# Default-Start: 2 3 4 5# Default-Stop: 0 S 1 6# Short-Description: start/stop nginx daemon# Description: nginx is a web server, http and mail proxy server### END INIT INFO#debug#set -x#check unbound variables#set -u# Scripts PATH enviromentexport PATH=&quot;/usr/bin:/bin:/usr/sbin:/sbin&quot;# disable core dumpulimit -c 0# return valueRETVAL=0# nginx general configPROG=&quot;nginx&quot;SYMLINK=$(readlink -f /usr/local/nginx)BASEDIR=${SYMLINK:-/usr/local/nginx}DAEMON=&quot;${BASEDIR}/sbin/nginx&quot;CONF=&quot;${BASEDIR}/conf/nginx.conf&quot;PIDFILE=&quot;/var/run/${PROG}.pid&quot;LOCKFILE=&quot;/var/lock/$PROG&quot;# nginx start timeout milliscondSTARTTIME=10000# nginx stop timeout milliscondSTOPTIME=10000#Common Functioncolor_msg(){ local COLOR=$1 local MSG=$2 OFFSET=&quot;\033[60G&quot; NORMAL=&quot;\033[0m&quot; case $COLOR in red) COLOR=&quot;\033[1;40;31m&quot; ;; green) COLOR=&quot;\033[1;40;32m&quot; ;; yellow) COLOR=&quot;\033[1;40;33m&quot; ;; *) COLOR=&quot;\033[0m&quot; ;; esac echo -en &quot;$OFFSET [$COLOR $MSG $NORMAL&quot; echo &quot;]&quot;}configtest() { echo -n &quot;Configtest $PROG : &quot; $DAEMON -tq -c $CONF if [ $? -eq 0 ] ;then color_msg green SUCCESS else color_msg red FAILED &amp;&amp; exit 1 fi}start() { echo -n &quot;Starting $PROG : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -n &quot;$PROC_PID&quot; ]; then echo -n &quot;is already running.&quot; color_msg yellow WARNING else $DAEMON -c $CONF &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then color_msg green SUCCESS &amp;&amp; touch $LOCKFILE else color_msg red FAILED &amp;&amp; exit 1 fi fi}stop() { echo -n &quot;Stopping $PROG : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ]; then echo -n &quot;is not running.&quot; color_msg yellow WARNING else kill -TERM ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 while [ &quot;$STOPTIME&quot; -gt 0 ]; do kill -0 ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 || break STOPTIME=$(($STOPTIME-1)) echo -n &quot;.&quot; &amp;&amp; sleep 0.001s done if [ &quot;$STOPTIME&quot; -le 0 ]; then color_msg red TIMEOUT &amp;&amp; exit 1 else color_msg green SUCCESS rm -f $PIDFILE $LOCKFILE fi fi}restart() { echo -n &quot;Restart $PROG : &quot; echo echo -en &quot;\t&quot; &amp;&amp; stop echo -en &quot;\t&quot; &amp;&amp; start}reload() { echo -n &quot;Reloading $PROG : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -n &quot;$PROC_PID&quot; ]; then kill -HUP ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then color_msg green SUCCESS else color_msg red FAILED &amp;&amp; exit 1 fi else echo -n &quot;is not running.&quot; color_msg yellow WARNING fi}status() { PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ];then echo &quot;$PROG is stopped&quot; exit 3 else echo &quot;$PROG (pid $PROC_PID) is running...&quot; exit 0 fi}quit() { echo -n &quot;Quit $PROG : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ]; then echo -n &quot;is not running.&quot; color_msg yellow WARNING else kill -QUIT ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 while [ &quot;$STOPTIME&quot; -gt 0 ]; do kill -0 ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 || break STOPTIME=$(($STOPTIME-1)) echo -n &quot;.&quot; &amp;&amp; sleep 0.001s done if [ &quot;$STOPTIME&quot; -le 0 ]; then color_msg red TIMEOUT &amp;&amp; exit 1 else color_msg green SUCCESS rm -f $PIDFILE $LOCKFILE fi fi}logrotate() { echo -n &quot;Re-opening $PROG log file : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ]; then echo -n &quot;is not running.&quot; color_msg yellow WARNING else kill -USR1 ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then color_msg green SUCCESS else color_msg red FAILED &amp;&amp; exit 1 fi fi}case &quot;$1&quot; in configtest) configtest ;; start) configtest start ;; stop) stop ;; restart|try-restart) configtest restart ;; reload|force-reload) configtest reload ;; status) status ;; quit) quit ;; logrotate) logrotate ;; *) echo $&quot;Usage: $0 {configtest|start|stop|restart|reload|status|quit|logrotate}&quot; exit 1 ;;esac systemd&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 1234567891011121314151617181920cat /usr/lib/systemd/system/nginx.service[Unit]Description=Nginx ServerDocumentation=http://nginx.org/en/docs/After=syslog.target network.targetWants=network.target[Service]Type=forkingPIDFile=/var/run/nginx.pidExecStartPre=/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf -tExecStart=/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.confExecStop=/bin/kill -s TERM $MAINPIDExecReload=/bin/kill -s HUP $MAINPIDKillMode=control-groupRestart=noTimeoutSec=10[Install]WantedBy=multi-user.target phpphp-fpm&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465cat php-fpm.conf;;;;;;;;;;;;;;;;;;;;;; FPM Configuration ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Global Options ;;;;;;;;;;;;;;;;;;;[global]pid = /var/run/php-fpm.piderror_log = /data/logs/php/fpm_error.log;error_log = syslog;syslog.facility = daemon;syslog.ident = php-fpmlog_level = warningemergency_restart_threshold = 30emergency_restart_interval = 30sprocess_control_timeout = 3sprocess.max = 100daemonize = yesrlimit_files = 100000rlimit_core = 0events.mechanism = epoll;;;;;;;;;;;;;;;;;;;;; Pool Definitions ;;;;;;;;;;;;;;;;;;;;;[www]user = wwwgroup = www;listen = /tmp/www.socklisten = 127.0.0.1:9000listen.backlog = 8192listen.owner = wwwlisten.group = wwwlisten.mode = 0600;listen.allowed_clients = 127.0.0.1,192.168.1.0/24pm = staticpm.max_children = 100pm.max_requests = 5000pm.status_path = /status.phpping.path = /ping.phpping.response = pong;access.log = /data/logs/php/$pool.access.log;access.format = %f-[%m %l %r%Q%q %s %d]-[%C %M]slowlog = /data/logs/php/$pool.slow.logrequest_slowlog_timeout = 1srequest_terminate_timeout = 60rlimit_files = 100000rlimit_core = 0catch_workers_output = yessecurity.limit_extensions = .phpenv[HOSTNAME] = $HOSTNAMEenv[PATH] = /usr/local/bin:/usr/bin:/binenv[TMP] = /tmpenv[TMPDIR] = /tmpenv[TEMP] = /tmpphp_admin_value[sendmail_path] = /usr/sbin/sendmail -t -i -f www@$HOSTNAMEphp_flag[display_errors] = offphp_admin_value[error_log] = /data/logs/php/$pool_fpm_error.logphp_admin_flag[log_errors] = onphp_admin_value[memory_limit] = 2048M init&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225cat /etc/init.d/php-fpm#!/bin/bash######################################################## Modify by adam.li@ismole.com at 2012-07-20 14:48 #### Compatible with RedHat/CentOS Debian/Ubuntu SUSE ######################################################### Support chkconfig on RedHat/CentOS Linux# chkconfig: 2345 70 70# description: PHP FastCGI Server# processname: php-fpm# config: /usr/local/php/etc/php-fpm.conf# pidfile: /var/run/php-fpm.pid# Support Linux Standard Base Core Specification 3.2### BEGIN INIT INFO# Provides: php-fpm# Required-Start: $local_fs $syslog $network# Required-Stop:# Default-Start: 2 3 4 5# Default-Stop: 0 S 1 6# Short-Description: start/stop php-fpm daemon# Description: php-fpm is fastcgi deamon### END INIT INFO#debug#set -x#check unbound variables#set -u# scripts PATH enviromentexport PATH=&quot;/usr/bin:/bin:/usr/sbin:/sbin&quot;# disable core dumpulimit -c 0# script return valueRETVAL=0# php-fpm general configPROG=&apos;php-fpm&apos;SYMLINK=$(readlink -f /usr/local/php)BASEDIR=${SYMLINK:-/usr/local/php}DAEMON=&quot;${BASEDIR}/sbin/$PROG&quot;CONF=&quot;${BASEDIR}/etc/php-fpm.conf&quot;PIDFILE=&quot;/var/run/${PROG}.pid&quot;LOCKFILE=&quot;/var/lock/$PROG&quot;# php-fpm start timeout milliscondSTARTTIME=10000# php-fpm stop timeout milliscondSTOPTIME=10000#Common Functioncolor_msg(){ local COLOR=$1 local MSG=$2 OFFSET=&quot;\033[60G&quot; NORMAL=&quot;\033[0m&quot; case $COLOR in red) COLOR=&quot;\033[1;40;31m&quot; ;; green) COLOR=&quot;\033[1;40;32m&quot; ;; yellow) COLOR=&quot;\033[1;40;33m&quot; ;; *) COLOR=&quot;\033[0m&quot; ;; esac echo -en &quot;$OFFSET [$COLOR $MSG $NORMAL&quot; echo &quot;]&quot;}configtest() { echo -n &quot;Configtest $PROG : &quot; $DAEMON --fpm-config $CONF -t if [ $? -eq 0 ]; then color_msg green SUCCESS else color_msg red FAILED &amp;&amp; exit 1 fi}start() { echo -n &quot;Starting $PROG : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -n &quot;$PROC_PID&quot; ]; then echo -n &quot;is already running.&quot; color_msg yellow WARNING else $DAEMON --fpm-config $CONF &gt;/dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then color_msg green SUCCESS &amp;&amp; touch $LOCKFILE else color_msg red FAILED &amp;&amp; exit 1 fi fi}stop() { echo -n &quot;Stopping $PROG : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ]; then echo -n &quot;is not running.&quot; color_msg yellow WARNING else kill -TERM ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 while [ &quot;$STOPTIME&quot; -gt 0 ]; do kill -0 ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 || break STOPTIME=$(($STOPTIME-1)) echo -n &quot;.&quot; &amp;&amp; sleep 0.001s done if [ &quot;$STOPTIME&quot; -le 0 ]; then color_msg red TIMEOUT &amp;&amp; exit 1 else color_msg green SUCCESS rm -f $PIDFILE $LOCKFILE fi fi}restart() { echo -n $&quot;Restart $PROG : &quot; echo echo -en &quot;\t&quot; &amp;&amp; stop echo -en &quot;\t&quot; &amp;&amp; start}reload() { echo -n &quot;Reload service $PROG : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ]; then echo -n &quot;is not running.&quot; color_msg yellow WARNING else kill -USR2 ${PROC_PID} if [ $? -eq 0 ]; then color_msg green SUCCESS else color_msg red FAILED &amp;&amp; exit 1 fi fi}status() { PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ];then echo &quot;$PROG is stopped&quot; exit 3 else echo &quot;$PROG (pid $PROC_PID) is running...&quot; exit 0 fi}quit() { echo -n &quot;Gracefully shuttding down $PROG : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ]; then echo -n &quot;is not running.&quot; color_msg yellow WARNING else kill -QUIT ${PROC_PID} while [ &quot;$STOPTIME&quot; -gt 0 ]; do kill -0 ${PROC_PID} &gt;/dev/null 2&gt;&amp;1 || break STOPTIME=$(($STOPTIME-1)) echo -n &quot;.&quot; &amp;&amp; sleep 0.001s done if [ &quot;$STOPTIME&quot; -le 0 ]; then color_msg red TIMEOUT &amp;&amp; exit 1 else color_msg green SUCCESS rm -f $PIDFILE $LOCKFILE fi fi}logrotate() { echo -n &quot;Re-opening $PROG log file : &quot; PROC_PID=$(pgrep -P 1 -u root ^$PROG) if [ -z &quot;$PROC_PID&quot; ]; then echo -n &quot;is not running.&quot; color_msg yellow WARNING else kill -USR1 ${PROC_PID} if [ $? -eq 0 ]; then color_msg green SUCCESS else color_msg red FAILED &amp;&amp; exit 1 fi fi}case &quot;$1&quot; in configtest) configtest ;; start) configtest start ;; stop) stop ;; restart|try-restart) configtest restart ;; reload|force-reload) configtest reload ;; status) status ;; quit) quit ;; logrotate) logrotate ;; *) echo &quot;Usage: $0 {configtest|start|stop|quit|status|reload|restart|logrotate}&quot; exit 1 ;;esac systemd&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 1234567891011121314151617181920cat /usr/lib/systemd/system/php-fpm.service[Unit]Description=PHP-FPMDocumentation=http://php.net/docs.phpAfter=syslog.target network.targetWants=network.target[Service]Type=forkingPIDFile=/var/run/php-fpm.pidExecStartPre=/usr/local/php/sbin/php-fpm --fpm-config /usr/local/php/etc/php-fpm.conf -tExecStart=/usr/local/php/sbin/php-fpm --fpm-config /usr/local/php/etc/php-fpm.confExecStop=/bin/kill -s TERM $MAINPIDExecReload=/bin/kill -s HUP $MAINPIDKillMode=control-groupRestart=noTimeoutSec=10[Install]WantedBy=multi-user.target mysqlmy.cnf&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293cat /etc/my.cnf [client]port = 3306socket = /tmp/mysql.sock[mysqld]basedir = /usr/local/mysqldatadir = /data/mysqlport = 3306socket = /tmp/mysql.sock#rpl_semi_sync_master_enabled=1#rpl_semi_sync_master_timeout=1000#rpl_semi_sync_slave_enabled=1general-log = 0general_log_file=/data/logs/mysql/mysql.logslow-query-log = 1slow-query-log-file = /data/logs/mysql/slow.loglog-slow-admin-statementslog-slow-slave-statementslong-query-time = 1log-error = /data/logs/mysql/errors.loglog-warnings = 2back_log = 512max_connections =1024max_connect_errors = 10000connect_timeout = 60skip-external-lockingskip-name-resolve#skip-symbolic-links#skip-innodb_checksums#skip-innodb_doublewritekey_buffer_size = 8Mmax_allowed_packet = 32Mtable_open_cache = 128sort_buffer_size = 1Mread_buffer_size = 512Kread_rnd_buffer_size = 2Mmyisam_sort_buffer_size = 1Mthread_cache_size = 2query_cache_size = 4Mquery_cache_type = 0server-id = 1log-bin = mysql-binbinlog_format = mixedsync_binlog = 1expire-logs-days = 7max_binlog_size = 256Msync_binlog=1transaction_isolation = REPEATABLE-READinnodb_file_per_tableinnodb_data_home_dir = /data/mysqlinnodb_data_file_path = ibdata1:10M:autoextendinnodb_log_group_home_dir = /data/mysqlinnodb_buffer_pool_size = 128Minnodb_log_file_size = 8M##innodb_log_file_size = 1300M##innodb_log_files_in_group = 3#innodb_file_format = Barracudadefault-storage-engine = InnoDBinnodb_max_dirty_pages_pct = 90innodb_file_per_table = 1innodb_flush_method = O_DSYNCinnodb_io_capacity = 500character-set-server = utf8innodb_log_buffer_size = 8Minnodb_flush_log_at_trx_commit = 1innodb_lock_wait_timeout = 50[mysqldump]quickmax_allowed_packet = 32M[mysql]no-auto-rehash#safe-updates[myisamchk]key_buffer_size = 128Msort_buffer_size = 128Mread_buffer = 2Mwrite_buffer = 2M[mysqlhotcopy]interactive-timeout zabbix_serverinit&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354cat /etc/init.d/zabbix_server#!/bin/bash# chkconfig: - 95 5. /etc/init.d/functionsRETVAL=0prog=&quot;Zabbix Server&quot;ZABBIX_BIN=&quot;/usr/local/zabbix/sbin/zabbix_server&quot;if [ ! -x ${ZABBIX_BIN} ] ; then echo -n &quot;${ZABBIX_BIN} not installed! &quot; exit 5fistart() { echo -n $&quot;Starting $prog: &quot; daemon $ZABBIX_BIN RETVAL=$? [ $RETVAL -eq 0 ] &amp;&amp; touch /var/lock/subsys/zabbix_server echo}stop() { echo -n $&quot;Stopping $prog: &quot; killproc $ZABBIX_BIN RETVAL=$? [ $RETVAL -eq 0 ] &amp;&amp; rm -f /var/lock/subsys/zabbix_server echo}case &quot;$1&quot; in start) start ;; stop) stop ;; reload|restart) stop sleep 3 start RETVAL=$? ;; status) status $ZABBIX_BIN RETVAL=$? ;; *) echo $&quot;Usage: $0 {start|stop|restart|reload|status}&quot; exit 1esacexit $RETVAL systemd&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 12345678910111213141516171819cat /usr/lib/systemd/system/zabbix-server.service[Unit]Description=Zabbix ServerAfter=syslog.targetAfter=network.target[Service]Environment=&quot;CONFFILE=/usr/local/zabbix/etc/zabbix_server.conf&quot;EnvironmentFile=-/etc/sysconfig/zabbix-serverType=forkingRestart=on-failurePIDFile=/tmp/zabbix_server.pidKillMode=control-groupExecStart=/usr/local/zabbix/sbin/zabbix_server -c $CONFFILEExecStop=/bin/kill -SIGTERM $MAINPIDRestartSec=10s[Install]WantedBy=multi-user.target zabbix_agentinit&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475cat /etc/init.d/zabbix_agentd#!/bin/bash## /etc/rc.d/init.d/zabbix_agentd## Starts the zabbix_agentd daemon## chkconfig: - 95 5# description: Zabbix Monitoring Agent# processname: zabbix_agentd# pidfile: /tmp/zabbix_agentd.pid# Modified for Zabbix 2.0.0# May 2012, Zabbix SIA# Source function library.. /etc/init.d/functionsRETVAL=0prog=&quot;Zabbix Agent&quot;ZABBIX_BIN=&quot;/usr/local/zabbix/sbin/zabbix_agentd&quot;ZABBIX_CONF=&quot;/usr/local/zabbix/etc/zabbix_agentd.conf&quot;if [ ! -x ${ZABBIX_BIN} ] ; then echo -n &quot;${ZABBIX_BIN} not installed! &quot; # Tell the user this has skipped exit 5fistart() { echo -n $&quot;Starting $prog: &quot; daemon $ZABBIX_BIN -c $ZABBIX_CONF RETVAL=$? [ $RETVAL -eq 0 ] &amp;&amp; touch /var/lock/subsys/zabbix_agentd echo}stop() { echo -n $&quot;Stopping $prog: &quot; killproc $ZABBIX_BIN RETVAL=$? [ $RETVAL -eq 0 ] &amp;&amp; rm -f /var/lock/subsys/zabbix_agentd echo}case &quot;$1&quot; in start) start ;; stop) stop ;; reload|restart) stop sleep 10 start RETVAL=$? ;; condrestart) if [ -f /var/lock/subsys/zabbix_agentd ]; then stop start fi ;; status) status $ZABBIX_BIN RETVAL=$? ;; *) echo $&quot;Usage: $0 {condrestart|start|stop|restart|reload|status}&quot; exit 1esacexit $RETVAL systemd&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 12345678910111213141516171819cat /usr/lib/systemd/system/zabbix-agentd.service[Unit]Description=Zabbix AgentAfter=syslog.targetAfter=network.target[Service]Environment=&quot;CONFFILE=/usr/local/zabbix/etc/zabbix_agentd.conf&quot;EnvironmentFile=-/etc/sysconfig/zabbix-agentType=forkingRestart=on-failurePIDFile=/tmp/zabbix_agentd.pidKillMode=control-groupExecStart=/usr/local/zabbix/sbin/zabbix_agentd -c $CONFFILEExecStop=/bin/kill -SIGTERM $MAINPIDRestartSec=10s[Install]WantedBy=multi-user.target install&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 1cat zabbix_agent_install_centos.sh zabbix_proxyinit&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061cat /etc/init.d/zabbix_proxy#!/bin/bash# chkconfig: - 95 5. /etc/init.d/functionsRETVAL=0prog=&quot;Zabbix Proxy&quot;ZABBIX_BIN=&quot;/usr/local/zabbix/sbin/zabbix_proxy&quot;if [ ! -x ${ZABBIX_BIN} ] ; then echo -n &quot;${ZABBIX_BIN} not installed! &quot; # Tell the user this has skipped exit 5fistart() { echo -n $&quot;Starting $prog: &quot; daemon $ZABBIX_BIN RETVAL=$? [ $RETVAL -eq 0 ] &amp;&amp; touch /var/lock/subsys/zabbix_proxy echo}stop() { echo -n $&quot;Stopping $prog: &quot; killproc $ZABBIX_BIN RETVAL=$? [ $RETVAL -eq 0 ] &amp;&amp; rm -f /var/lock/subsys/zabbix_proxy echo}case &quot;$1&quot; in start) start ;; stop) stop ;; reload|restart) stop sleep 10 start RETVAL=$? ;; condrestart) if [ -f /var/lock/subsys/zabbix_proxy ]; then stop start fi ;; status) status $ZABBIX_BIN RETVAL=$? ;; *) echo $&quot;Usage: $0 {condrestart|start|stop|restart|reload|status}&quot; exit 1esacexit $RETVAL systemd&#x70B9;&#x51FB;&#x4E0B;&#x8F7D; 12345678910111213141516171819cat /usr/lib/systemd/system/zabbix-proxy.service[Unit]Description=Zabbix ProxyAfter=syslog.targetAfter=network.target[Service]Environment=&quot;CONFFILE=/usr/local/zabbix/etc/zabbix_proxy.conf&quot;EnvironmentFile=-/etc/sysconfig/zabbix-proxyType=forkingRestart=on-failurePIDFile=/tmp/zabbix_proxy.pidKillMode=control-groupExecStart=/usr/local/zabbix/sbin/zabbix_proxy -c $CONFFILEExecStop=/bin/kill -SIGTERM $MAINPIDRestartSec=10s[Install]WantedBy=multi-user.target]]></content>
      <categories>
        <category>linux</category>
        <category>zabbix</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>zabbix</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[经典的 Fork 炸弹解析]]></title>
    <url>%2F2016%2F05%2F18%2Ffork-boom%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981; &#x8F6C;&#x8F7D;&#x81EA;&#xFF1A;http://blog.symagic.cn/2015/03/25/fork-bomb.html Jaromil&#x5728;2002&#x5E74;&#x8BBE;&#x8BA1;&#x4E86;&#x6700;&#x4E3A;&#x7CBE;&#x7B80;&#x7684;&#x4E00;&#x4E2A;Linux Fork&#x70B8;&#x5F39;,&#x6574;&#x4E2A;&#x4EE3;&#x7801;&#x53EA;&#x6709;13&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x5728;shell&#x4E2D;&#x8FD0;&#x884C;&#x540E;&#x51E0;&#x79D2;&#x540E;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x5B95;&#x673A;&#xFF1A; 1:(){:|:&amp;};: &#x8FD9;&#x6837;&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x662F;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x66F4;&#x6539;&#x4E0B;&#x683C;&#x5F0F;&#xFF1A; 12345:(){ :|:&amp;};: &#x66F4;&#x597D;&#x7406;&#x89E3;&#x4E00;&#x70B9;&#x7684;&#x8BDD;&#x5C31;&#x662F;&#x8FD9;&#x6837;: 12345bomb(){ bomb|bomb&amp;};bomb &#x56E0;&#x4E3A;shell&#x4E2D;&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x7701;&#x7565;function&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x6240;&#x4EE5;&#x4E0A;&#x9762;&#x7684;&#x5341;&#x4E09;&#x4E2A;&#x5B57;&#x7B26;&#x662F;&#x529F;&#x80FD;&#x662F;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x4E0E;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x51FD;&#x6570;&#x7684;&#x540D;&#x79F0;&#x4E3A;:,&#x4E3B;&#x8981;&#x7684;&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x662F;:|:&amp;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x672C;&#x8EAB;&#x7684;&#x9012;&#x5F52;&#x8C03;&#x7528;&#xFF0C;&#x901A;&#x8FC7;&amp;&#x5B9E;&#x73B0;&#x5728;&#x540E;&#x53F0;&#x5F00;&#x542F;&#x65B0;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#xFF0C;&#x901A;&#x8FC7;&#x7BA1;&#x9053;&#x5B9E;&#x73B0;&#x8FDB;&#x7A0B;&#x5448;&#x51E0;&#x4F55;&#x5F62;&#x5F0F;&#x589E;&#x957F;&#xFF0C;&#x6700;&#x540E;&#x518D;&#x901A;&#x8FC7;:&#x6765;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x5F15;&#x7206;&#x70B8;&#x5F39;.&#x56E0;&#x6B64;&#xFF0C;&#x51E0;&#x79D2;&#x949F;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x56E0;&#x4E3A;&#x5904;&#x7406;&#x4E0D;&#x8FC7;&#x6765;&#x592A;&#x591A;&#x7684;&#x8FDB;&#x7A0B;&#x800C;&#x6B7B;&#x673A;&#xFF0C;&#x89E3;&#x51B3;&#x7684;&#x552F;&#x4E00;&#x529E;&#x6CD5;&#x5C31;&#x662F;&#x91CD;&#x542F;&#x3002;Bomb&#x4E00;&#x4E0B; &#x79C9;&#x7740;&#x4E0D;&#x4F5C;&#x4E0D;&#x6B7B;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x6765;&#x8FD0;&#x884C;&#x4E00;&#x4E0B;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x5C06;&#x77DB;&#x5934;&#x6307;&#x5411;&#x4E91;&#x4E3B;&#x673A;&#xFF0C;&#xFF0C;&#x6211;&#x4F7F;&#x7528;&#x4E86;&#x56FD;&#x5185;&#x7684;&#x4E00;&#x4E2A;2G&#x5185;&#x5B58;&#x7684;&#x4E91;&#x4E3B;&#x673A;&#xFF0C;&#x9996;&#x5148;&#x5728;&#x672C;&#x5730;&#x5F00;&#x542F;&#x4E24;&#x4E2A;&#x7EC8;&#x7AEF;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#x8FDE;&#x63A5;&#x4E91;&#x4E3B;&#x673A;&#x540E;&#x8FD0;&#x884C;&#x70B8;&#x5F39;&#xFF0C;&#x51E0;&#x79D2;&#x540E;&#x518D;&#x5C1D;&#x8BD5;&#x7528;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#x767B;&#x5F55;&#xFF0C;&#x6548;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x4E0B;&#x9762;Gif&#x56FE;&#xFF1A; &#x770B;&#xFF0C;&#x8FD0;&#x884C;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#x76F4;&#x63A5;&#x62A5;&#x51FA;&#x4E86;- bash: fork: Cannot allocate memory&#xFF0C;&#x8BF4;&#x660E;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x4E86;&#x3002;&#x5E76;&#x4E14;&#x6211;&#x5728;&#x4E8C;&#x53F7;&#x7EC8;&#x7AEF;&#x4E0A;&#x5C1D;&#x8BD5;&#x8FDE;&#x63A5;&#x4E5F;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x53CD;&#x5E94;&#x3002;&#x56E0;&#x4E3A;&#x662F;&#x865A;&#x62DF;&#x7684;&#x4E91;&#x4E3B;&#x673A;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x4E3B;&#x673A;&#x670D;&#x52A1;&#x5546;&#x7684;&#x540E;&#x53F0;&#x6765;&#x7ED9;&#x4E3B;&#x673A;&#x65AD;&#x7535;&#x91CD;&#x542F;&#x3002;&#x7136;&#x540E;&#x624D;&#x80FD;&#x91CD;&#x65B0;&#x767B;&#x5F55;: &#x70B8;&#x5F39;&#x5371;&#x5BB3; Fork&#x70B8;&#x5F39;&#x5E26;&#x6765;&#x7684;&#x540E;&#x679C;&#x5C31;&#x662F;&#x8017;&#x5C3D;&#x670D;&#x52A1;&#x5668;&#x8D44;&#x6E90;&#xFF0C;&#x4F7F;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x7684;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5E38;&#x8BF4;&#x7684;DoS(Denial of Service)&#x3002;&#x4E0E;&#x4F20;&#x7EDF;1v1&#x3001;&#x901A;&#x8FC7;&#x4E0D;&#x65AD;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x9020;&#x6210;&#x670D;&#x52A1;&#x5668;&#x5D29;&#x6E83;&#x4E0D;&#x540C;&#xFF0C;Fork&#x70B8;&#x5F39;&#x6709;&#x79CD;&#x5750;&#x5C71;&#x89C2;&#x864E;&#x6597;&#xFF0C;&#x4E0D;&#x8D39;&#x4E00;&#x5175;&#x4E00;&#x5352;&#x65A9;&#x654C;&#x4EBA;&#x4E8E;&#x9A6C;&#x4E0B;&#x7684;&#x611F;&#x89C9;&#x3002;&#x66F4;&#x5413;&#x4EBA;&#x7684;&#x662F;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x662F;&#x4E0D;&#x9700;&#x8981;root&#x6743;&#x9650;&#x5C31;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x7684;&#x3002;&#x770B;&#x5230;&#x7F51;&#x4E0A;&#x6709;&#x5E16;&#x5B50;&#x8BF4;&#x67D0;&#x4E9B;&#x4EBA;&#x5C06;&#x4E2A;&#x6027;&#x7B7E;&#x540D;&#x6539;&#x4E3A;Fork&#x70B8;&#x5F39;&#xFF0C;&#x7ED3;&#x679C;&#x679C;&#x771F;&#x6709;&#x597D;&#x5947;&#x4E4B;&#x4EBA;&#x4E2D;&#x67AA;&#xFF0C;&#x8BD5;&#x60F3;&#x5982;&#x679C;&#x4E2D;&#x67AA;&#x7684;&#x4EBA;&#x662F;&#x5728;&#x516C;&#x53F8;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x8BDD;&#xFF0C;oh&#xFF0C;&#xFF01;&#x9884;&#x9632;&#x65B9;&#x5F0F; &#x5F53;&#x7136;&#xFF0C;Fork&#x70B8;&#x5F39;&#x6CA1;&#x6709;&#x90A3;&#x4E48;&#x53EF;&#x6015;&#xFF0C;&#x7528;&#x5176;&#x5B83;&#x8BED;&#x8A00;&#x4E5F;&#x53EF;&#x4EE5;&#x5206;&#x5206;&#x949F;&#x5199;&#x51FA;&#x6765;&#x4E00;&#x4E2A;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;python&#x7248;&#xFF1A; 123import os while True: os.fork() Fork&#x70B8;&#x5F39;&#x7684;&#x672C;&#x8D28;&#x65E0;&#x975E;&#x5C31;&#x662F;&#x9760;&#x521B;&#x5EFA;&#x8FDB;&#x7A0B;&#x6765;&#x62A2;&#x5360;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#xFF0C;&#x5728;Linux&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;ulimit&#x547D;&#x4EE4;&#x6765;&#x9650;&#x5236;&#x7528;&#x6237;&#x7684;&#x67D0;&#x4E9B;&#x884C;&#x4E3A;&#xFF0C;&#x8FD0;&#x884C;ulimit -a&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x6211;&#x4EEC;&#x80FD;&#x505A;&#x54EA;&#x4E9B;&#x9650;&#x5236;&#xFF1A; 1234567891011121314151617ubuntu@10-10-57-151:~$ ulimit -acore file size (blocks, -c) 0data seg size (kbytes, -d) unlimitedscheduling priority (-e) 0file size (blocks, -f) unlimitedpending signals (-i) 7782max locked memory (kbytes, -l) 64max memory size (kbytes, -m) unlimitedopen files (-n) 1024pipe size (512 bytes, -p) 8POSIX message queues (bytes, -q) 819200real-time priority (-r) 0stack size (kbytes, -s) 8192cpu time (seconds, -t) unlimitedmax user processes (-u) 7782virtual memory (kbytes, -v) unlimitedfile locks (-x) unlimited &#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;-u&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x9650;&#x5236;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x8FDB;&#x7A0B;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;ulimit -u 20&#x6765;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x6700;&#x591A;&#x521B;&#x5EFA;20&#x4E2A;&#x8FDB;&#x7A0B;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x9884;&#x9632;bomb&#x70B8;&#x5F39;&#x3002;&#x4F46;&#x8FD9;&#x6837;&#x662F;&#x4E0D;&#x5F7B;&#x5E95;&#x7684;&#xFF0C;&#x5173;&#x95ED;&#x7EC8;&#x7AEF;&#x540E;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x5C31;&#x5931;&#x6548;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4FEE;&#x6539;/etc/security/limits.conf&#x6587;&#x4EF6;&#x6765;&#x8FDB;&#x884C;&#x66F4;&#x6DF1;&#x5C42;&#x6B21;&#x7684;&#x9884;&#x9632;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x91CC;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4E00;&#x884C;&#xFF08;ubuntu&#x9700;&#x66F4;&#x6362;&#x4E3A;&#x4F60;&#x7684;&#x7528;&#x6237;&#x540D;&#xFF09;&#xFF1A; 1ubuntu - nproc 20 &#x8FD9;&#x6837;&#xFF0C;&#x9000;&#x51FA;&#x540E;&#x91CD;&#x65B0;&#x767B;&#x5F55;&#xFF0C;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x6700;&#x5927;&#x8FDB;&#x7A0B;&#x6570;&#x5DF2;&#x7ECF;&#x66F4;&#x6539;&#x4E3A;20&#x4E86;&#xFF0C; &#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x70B8;&#x5F39;&#x5C31;&#x4E0D;&#x4F1A;&#x62A5;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x4E86;&#xFF0C;&#x800C;&#x662F;&#x63D0;&#x793A;- bash: fork: retry: No child processes&#xFF0C;&#x8BF4;&#x660E;Linux&#x9650;&#x5236;&#x4E86;&#x70B8;&#x5F39;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x3002; &#x53C2;&#x8003; http://en.wikipedia.org/wiki/Fork_bomb]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitlab7.14(中文版|英文版)编译安装部署文档（全）]]></title>
    <url>%2F2016%2F05%2F09%2Fgitlab-install-7%2F</url>
    <content type="text"><![CDATA[&#x6458;&#x8981;&#x7B2C;&#x4E00;&#x6B21;&#x5B89;&#x88C5;gitlab&#x7684;&#x65F6;&#x5019;&#x672C;&#x6765;&#x4EE5;&#x4E3A;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x4F1A;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x7ED3;&#x679C;&#x53D1;&#x73B0;&#x7F51;&#x4E0A;&#x7684;&#x6587;&#x6863;&#x6216;&#x591A;&#x6216;&#x5C11;&#x7684;&#x90FD;&#x6709;&#x7740;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x5751;&#xFF0C;&#x8FD8;&#x6709;&#x5C31;&#x662F;&#x56E0;&#x4E3A;&#x65F6;&#x95F4;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5F88;&#x591A;&#x6587;&#x6863;&#x90FD;&#x662F;&#x8001;&#x7248;&#x672C;&#x7684;&#xFF0C;&#x603B;&#x4E4B;&#x5C31;&#x662F;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x95EE;&#x9898;&#x3002;&#x4E8E;&#x662F;&#xFF0C;&#x5728;&#x81EA;&#x5DF1;&#x586B;&#x5E73;&#x4E86;&#x597D;&#x591A;&#x5751;&#x4E4B;&#x540E;&#xFF0C;&#x4E00;&#x70B9;&#x4E00;&#x70B9;&#x6574;&#x7406;&#x51FA;&#x4E00;&#x5957;&#x5B8C;&#x6574;&#x3001;&#x53EF;&#x9760;&#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#xFF0C;&#x53EF;&#x662F;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x65F6;&#x95F4;&#x597D;&#x597D;&#x4FEE;&#x9970;&#x4E00;&#x756A;&#xFF0C;&#x76F4;&#x5230;&#x73B0;&#x5728;&#x3002;&#x4E8E;&#x662F;&#xFF0C;&#x5C31;&#x6709;&#x4E86;&#x8FD9;&#x7BC7;&#x6587;&#x6863;&#x3002; &#x672C;&#x6587;&#x6863;&#x57FA;&#x4E8E;&#x7F51;&#x7EDC;&#x4E0A;&#x4E00;&#x4E9B;&#x6587;&#x6863;&#x4EE5;&#x53CA;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#x6574;&#x5408;&#x800C;&#x6210;&#xFF0C;&#x672C;&#x6559;&#x7A0B;&#x5E76;&#x975E;&#x79BB;&#x7EBF;&#x5B89;&#x88C5;&#xFF0C;&#x8BF7;&#x786E;&#x4FDD;&#x670D;&#x52A1;&#x5668;&#x80FD;&#x591F;&#x6B63;&#x5E38;&#x8FDE;&#x63A5;&#x7F51;&#x7EDC; &#x5173;&#x4E8E;gitlabGitLab&#x662F;&#x4E00;&#x4E2A;&#x5229;&#x7528; Ruby on Rails &#x5F00;&#x53D1;&#x7684;&#x5F00;&#x6E90;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x81EA;&#x6258;&#x7BA1;&#x7684;Git&#x9879;&#x76EE;&#x4ED3;&#x5E93;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;Web&#x754C;&#x9762;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x516C;&#x5F00;&#x7684;&#x6216;&#x8005;&#x79C1;&#x4EBA;&#x9879;&#x76EE;&#x3002; &#x5B83;&#x62E5;&#x6709;&#x4E0E;Github&#x7C7B;&#x4F3C;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x80FD;&#x591F;&#x6D4F;&#x89C8;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x7BA1;&#x7406;&#x7F3A;&#x9677;&#x548C;&#x6CE8;&#x91CA;&#x3002;&#x53EF;&#x4EE5;&#x7BA1;&#x7406;&#x56E2;&#x961F;&#x5BF9;&#x4ED3;&#x5E93;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x5B83;&#x975E;&#x5E38;&#x6613;&#x4E8E;&#x6D4F;&#x89C8;&#x63D0;&#x4EA4;&#x8FC7;&#x7684;&#x7248;&#x672C;&#x5E76;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5386;&#x53F2;&#x5E93;&#x3002;&#x56E2;&#x961F;&#x6210;&#x5458;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x5185;&#x7F6E;&#x7684;&#x7B80;&#x5355;&#x804A;&#x5929;&#x7A0B;&#x5E8F;(Wall)&#x8FDB;&#x884C;&#x4EA4;&#x6D41;&#x3002;&#x5B83;&#x8FD8;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x6536;&#x96C6;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x590D;&#x7528;&#xFF0C;&#x4FBF;&#x4E8E;&#x65E5;&#x540E;&#x6709;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x8FDB;&#x884C;&#x67E5;&#x627E;&#x3002; GitLab 5.0&#x4EE5;&#x524D;&#x7248;&#x672C;&#x8981;&#x6C42;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x91C7;&#x7528; Gitolite &#x642D;&#x5EFA;&#xFF0C;5.0&#x7248;&#x672C;&#x4EE5;&#x540E;&#x4E0D;&#x518D;&#x4F7F;&#x7528; Gitolite &#xFF0C;&#x91C7;&#x7528;&#x81EA;&#x5DF1;&#x5F00;&#x53D1;&#x7684; gitlab-shell &#x6765;&#x5B9E;&#x73B0;&#x3002;&#x5982;&#x679C;&#x4F60;&#x89C9;&#x5F97;&#x5B89;&#x88C5;&#x9EBB;&#x70E6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; GitLab Installers &#x4E00;&#x952E;&#x5B89;&#x88C5;&#x3002; &#x7248;&#x672C;&#x8BF4;&#x660E;&#xFF1A;&#x672C;&#x6587;&#x5B89;&#x88C5;&#x7684;&#x662F;gitlab7.14&#x7684;&#x7248;&#x672C;&#xFF0C;&#x76EE;&#x524D;gitlab&#x6700;&#x65B0;&#x7248;&#x672C;&#x4E3A;8.2&#xFF0C;&#x800C;&#x76EE;&#x524D;&#x7F51;&#x4E0A;&#x6700;&#x591A;&#x7684;&#x6559;&#x7A0B;&#x90FD;&#x662F;6&#x7248;&#x672C;&#x7684;gitlab&#xFF0C;7.14&#x7248;&#x672C;&#x7684;&#x5B89;&#x88C5;&#x548C;6&#x7248;&#x672C;&#x5927;&#x540C;&#x5C0F;&#x5F02;&#xFF0C;&#x672C;&#x6587;&#x53EA;&#x662F;&#x505A;&#x4E00;&#x4E2A;&#x6574;&#x7406;&#x3002; gitlab7&#x76F8;&#x5BF9;&#x4E8E;6&#x754C;&#x9762;&#x53D8;&#x52A8;&#x5F88;&#x5927;&#xFF0C;&#x5230;&#x73B0;&#x5728;&#x7684;8&#x754C;&#x9762;&#x4E5F;&#x51E0;&#x4E4E;&#x6CA1;&#x6709;&#x53D8;&#x5316;&#xFF1B;&#x800C;7&#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x548C;6&#x57FA;&#x672C;&#x53EA;&#x6709;&#x7248;&#x672C;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x8FD9;&#x5757;8&#x7248;&#x672C;&#x7684;&#x56E0;&#x4E3A;&#x52A0;&#x5165;&#x4E86;go&#x7684;&#x4F9D;&#x8D56;&#x7B49;&#xFF0C;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x7167;&#x6BD4;&#x4E4B;&#x524D;&#x53D8;&#x5316;&#x5F88;&#x5927;&#x3002; 12345678* &#x7CFB;&#x7EDF;&#x7248;&#x672C;&#xFF1A;centos6.5_x86_64* gitlab&#xFF1A;7-14&#x4E2D;&#x6587;&#x7248;|&#x82F1;&#x6587;&#x7248;* ruby&#xFF1A;2.1.6 * mysql&#xFF1A;5.5 * nginx&#xFF1A;1.9.14 * git: 2.8.2* redis&#xFF1A;yum &#x7248;&#x672C;* &#x672C;&#x6587;&#x4F7F;&#x7528;ruby-2.1.6&#xFF0C;mysql-5.5.39&#xFF0C;nginx-1.8.0&#x4EE5;&#x53CA;yum&#x5B89;&#x88C5;&#x7684;redis &#x5B89;&#x88C5;&#x524D;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x57FA;&#x672C;&#x7684;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#xFF0C;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;&#x3001;&#x5173;&#x95ED;selinux&#x7B49;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x505A;&#x592A;&#x591A;&#x4ECB;&#x7ECD;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x5B9E;&#x73B0;&#x6C38;&#x4E45;&#x5173;&#x95ED;SELinux 1sed -i &apos;s/^SELINUX=.*/#&amp;/;s/^SELINUXTYPE=.*/#&amp;/;/SELINUX=.*/a SELINUX=disabled&apos; /etc/sysconfig/selinux &#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x5B9E;&#x73B0;&#x4E34;&#x65F6;&#x5173;&#x95ED;SELinux 1setenforce 0 &#x5B89;&#x88C5;epel&#x6E90;1234yum -y install epel* &#x6216;&#x8005;wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpmrpm -ivh epel-release-6-8.noarch.rpm &#x5BFC;&#x5165;EPEL&#x6E90;&#x7684;key1rpm --import https://www.fedoraproject.org/static/0608B895.txt &#x4FEE;&#x6539;&#x914D;&#x7F6E;download.fedoraproject.org&#x57DF;&#x540D;&#x5DF2;&#x7ECF;&#x5931;&#x6548;&#x53BB;&#x6389;#&#x53F7;&#x5C06;download.fedoraproject.org&#x53D8;&#x66F4;&#x4E3A;dl.fedoraproject.org 123vim /etc/yum.repos.d/epel.repo baseurl=http://dl.fedoraproject.org/pub/epel/6/$basearch #mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-6&amp;arch=$basearch &#x5B89;&#x88C5;PUIAS&#x6E90;&#x548C;&#x5BFC;&#x5165;&#x5BF9;&#x5E94;key123wget -qO- https://gitlab.com/gitlab-org/gitlab-recipes/raw/master/install/centos/PUIAS_6_computational.repo &gt; /etc/yum.repos.d/PUIAS_6_computational.reporpm --import http://springdale.math.ias.edu/data/puias/6/x86_64/os/RPM-GPG-KEY-puias &#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x6E90;&#x7F13;&#x5B58;&#x548C;&#x68C0;&#x6D4B;key&#x5BFC;&#x5165;&#x662F;&#x5426;&#x6210;&#x529F;123yum clean all &amp;&amp; yum makecacherpm -qa gpg*| grep &apos;0608b895&apos;rpm -qa gpg*| grep &apos;41a40948&apos; &#x5B89;&#x88C5;Development Tools&#x5F00;&#x53D1;&#x7EC4;&#x5305;&#x548C;&#x4E00;&#x4E9B;&#x8F6F;&#x4EF6;&#x6240;&#x9700;&#x4F9D;&#x8D56;&#x5305;&#x4E0D;&#x8981;&#x7528;yum&#x5B89;&#x88C5;ruby&#x3001;git&#x3001;nginx&#x548C;mysql;redis&#x53EF;&#x4EE5;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;&#x7684;&#x7248;&#x672C; 1yum -y install readline readline-devel ncurses-devel gdbm-devel glibc-devel tcl-devel expat-devel db4-devel byacc sqlite-devel libyaml libyaml-devel libffi libffi-devel libxml2 libxml2-devel libxslt libxslt-devel libicu libicu-devel system-config-firewall-tui python-devel redis wget crontabs logwatch logrotate perl-Time-HiRes gettext gettext-devel openssl-devel zlib-devel gcc gcc-c++ make autoconf tk-devel python-pip patch pcre-devel curl curl-devel sudo yum-plugin-fastestmirror cmake perl-CPAN nodejs automake libxml* libmcrypt* libtool-ltdl-devel* yum-utils &#x5378;&#x8F7D;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x7684;&#x5305;1yum remove ruby git nginx mysql mysql-server Development Tools&#x5F00;&#x53D1;&#x7EC4;&#x5305;&#x6211;&#x6CA1;&#x6709;&#x5B89;&#x88C5; 1yum -y groupinstall &apos;Development Tools&apos; &#x540C;&#x6B65;&#x65F6;&#x95F4;12345678rm -rf /etc/localtimeln -sv /usr/share/zoneinfo/Asia/Shanghai /etc/localtimeyum -y install ntpntpdate pool.ntp.orgecho &apos;*/20 * * * * /usr/sbin/ntpdate pool.ntp.org &gt; /dev/null 2&gt;&amp;1&apos; &gt;&gt;/var/spool/cron/root &#x5B89;&#x88C5;git&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x5305;123456789wget https://www.kernel.org/pub/software/scm/git/git-2.5.4.tar.gzwget https://www.kernel.org/pub/software/scm/git/git-2.8.2.tar.gz tar zxvf git-2.8.2.tar.gz &amp;&amp; cd git-2.8.2./configure &amp;&amp; make prefix=/usr/local all &amp;&amp; make prefix=/usr/local installln -fs /usr/local/bin/git* /usr/bin/ &#x627E;&#x5230;git&#x7684;&#x8DEF;&#x5F84;&#x6DFB;&#x52A0;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;123456which gitecho &apos;export PATH=&quot;$PATH:/usr/local/bin&quot;&apos; &gt;&gt; /root/. bashrcecho &apos;export PATH=&quot;$PATH:/usr/local/bin&quot;&apos; &gt;&gt; /etc/profilesource /etc/profile &#x6267;&#x884C;&#x4E4B;&#x540E;&#x6709;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x8BC1;&#x660E;gitserver&#x5B89;&#x88C5;&#x6210;&#x529F;1git --version &#x5728;&#x6267;&#x884C;git &#x2013;version&#x7684;&#x65F6;&#x5019;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x9519;&#x627E;&#x4E0D;&#x5230;&#x8FD9;&#x4E2A;&#x5E93;&#x6587;&#x4EF6;12ln -s /usr/local/lib/libcharset.so.1 /lib/libcharset.so.1ldconfig &#x5B89;&#x88C5;ruby&#x4E0B;&#x8F7D;ruby&#x6E90;&#x7801;&#x5305;1wget http://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.4.tar.gz &#x7F16;&#x8BD1;&#x5B89;&#x88C5;ruby123tar zfvx ruby-2.2.4.tar.gz &amp;&amp; cd ruby-2.2.4./configure --disable-install-rdocmake clean &amp;&amp; make &amp;&amp; make prefix=/usr/local install &#x5B89;&#x88C5;bundler&#x9700;&#x8981;&#x6DFB;&#x52A0;rubygems&#x7684;&#x56FD;&#x5185;&#x955C;&#x50CF;123#gem source --remove|-r --add|-agem source -r https://rubygems.org/gem source -a https://ruby.taobao.org/ &#x786E;&#x4FDD;gem&#x6E90;&#x4E2D;&#x53EA;&#x6709;&#x6DD8;&#x5B9D;&#x6E90;1234567gem sources -l*** CURRENT SOURCES ***https://ruby.taobao.org/ln -s /usr/local/bin/ruby /usr/bin/rubyln -s /usr/local/bin/gem /usr/bin/gemln -s /usr/local/bin/bundle /usr/bin/bundle &#x5B89;&#x88C5;bundler1gem install bundler --no-ri --no-rdoc &#x5B89;&#x88C5;nginx1234567wget http://nginx.org/download/nginx-1.9.14.tar.gztar xvf nginx-1.9.14.tar.gz &amp;&amp; cd nginx-1.9.14./configure --prefix=/usr/local/nginx/ --user=www --group=www --with-http_ssl_module --with-http_stub_status_module --with-pcremake &amp;&amp; make install &#x5B89;&#x88C5;gitlab&#x521B;&#x5EFA;&#x4E00;&#x4E2A;git&#x7528;&#x6237;&#x4F9B;gitLab&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x8FC7;git Server&#x4E0D;&#x9700;&#x8981;&#x518D;&#x6B21;&#x521B;&#x5EFA;git&#x7528;&#x6237;,&#x5982;&#x679C;&#x8981;&#x7EAF;&#x51C0;&#x5B89;&#x88C5;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x5220;&#x9664;&#x4E4B;&#x524D;&#x7684;&#x7528;&#x6237;. 1userdel -r git &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x7528;&#x6237;&#x540D;&#x4E00;&#x5B9A;&#x8981;&#x662F;git&#xFF0C;&#x5982;&#x679C;&#x6362;&#x6210;&#x522B;&#x7684;&#x9700;&#x8981;&#x6539;&#x5F88;&#x591A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x8FD9;&#x6837;&#x505A; &#x56E0;&#x4E3A;gitlab&#x521B;&#x5EFA;&#x4ED3;&#x5E93;&#x4EE5;&#x540E;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x90FD;&#x662F;&#x5B58;&#x5728;git&#x7528;&#x6237;&#x4E0B;&#x7684;&#xFF0C;&#x5982;&#x679C;git&#x5BB6;&#x76EE;&#x5F55;&#x4E0D;&#x591F;&#x5927;&#x662F;&#x4E0D;&#x884C;&#x7684;&#xFF0C;&#x800C;git&#x5F88;&#x591A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x90FD;&#x6709;/home/git&#x8FD9;&#x4E2A;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x4FEE;&#x6539;git&#x9ED8;&#x8BA4;&#x7684;&#x5BB6;&#x76EE;&#x5F55;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5F88;&#x591A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5207;&#x8BB0; &#x56E0;&#x6211;&#x7684;home&#x7A7A;&#x95F4;&#x4E0D;&#x662F;&#x5F88;&#x5927;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x5BF9;git&#x6307;&#x5B9A;&#x4E86;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x540E;&#x9762;&#x6709;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE5;&#x4E0B;&#x9762;&#x7684;&#x4E24;&#x884C;#&#x6CE8;&#x91CA; 123456##################################useradd --comment &apos;gitLab&apos; git -d /data/git##################################useradd --comment &apos;gitLab&apos; gitpasswd git &#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x6DFB;&#x52A0;git&#x7528;&#x6237;&#x62E5;&#x6709;root&#x6743;&#x9650; [sudoers&#x6587;&#x4EF6;&#x9ED8;&#x8BA4;&#x6CA1;&#x6709;&#x5199;&#x6743;&#x9650;&#x9700;&#x8981;&#x5F3A;&#x5236;&#x4FDD;&#x5B58;:wq!]&#xFF0C;&#x6216;&#x8005;&#x76F4;&#x63A5;&#x628A;sudo&#x4FE1;&#x606F;&#x6DFB;&#x52A0;&#x5230;sudo&#x6587;&#x4EF6;&#x4E2D; 123echo &quot;git ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt;/etc/sudoerschmod -R 755 /data/gitecho &quot;export git_SSL_NO_VERIFY=1&quot; &gt;&gt; /home/git/. bash_profile &#x4E0D;&#x6DFB;&#x52A0;&#x53D8;&#x91CF;&#x7684;&#x8BDD;&#x4F7F;&#x7528;https&#x94FE;&#x63A5;&#x4F1A;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF0C;&#x4E0D;&#x8FC7;&#x672C;&#x6587;&#x6CA1;&#x6709;&#x4F7F;&#x7528;https 1fatal: unable to access &apos;https://github.com/gitlabhq/grit.git/&apos;: Peer certificate cannot be authenticated with known CA certificates &#x914D;&#x7F6E;redis&#x4F7F;&#x7528;socket&#x5907;&#x4EFD;&#x4E4B;&#x524D;&#x914D;&#x7F6E;,&#x4FEE;&#x6539;&#x7AEF;&#x53E3;&#x53F7;,&#x6DFB;&#x52A0;socket&#x914D;&#x7F6E;,&#x6DFB;&#x52A0;socket&#x6743;&#x9650;(&gt;= redis 2.4.0).,&#x542F;&#x52A8;&#x670D;&#x52A1; 12345cp /etc/redis.conf /etc/redis.conf.origsed &apos;s/^port .*/port 0/&apos; /etc/redis.conf | sudo tee /etc/redis.confecho &apos;unixsocket /var/run/redis/redis.sock&apos; | sudo tee -a /etc/redis.confsudo sed -i &apos;/# unixsocketperm/ s/^# unixsocketperm.*/unixsocketperm 0775/&apos; /etc/redis.confsudo service redis restart &#x5C06;git&#x7528;&#x6237;&#x6DFB;&#x52A0;&#x5230;redis&#x7EC4; 12sudo usermod -aG redis gitchkconfig redis on &#x5EFA;&#x7ACB;gitlab&#x6570;&#x636E;&#x5E93;&#x5E76;&#x6388;&#x6743;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;mysql-5.5.39 &#x6DFB;&#x52A0;mysql&#x7528;&#x6237;1234groupadd mysqlmkdir -pv /data/mysqluseradd -r -g mysql -d /data/mysql -s /sbin/nologin mysqlchown -R mysql.mysql /data/mysql &#x83B7;&#x53D6;&#x5B89;&#x88C5;&#x5305;123wget https://downloads.mariadb.com/archives/mysql-5.5/mysql-5.5.39.tar.gztar -xvf mysql-5.5.39.tar.gz &amp;&amp; cd mysql-5.5.39 &#x7F16;&#x8BD1;&#x5B89;&#x88C5;12cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql5.5 -DDEFAULT_CHARSET=utf8 -DENABLED_LOCAL_INFILE=1 -DMYSQL_DATADIR=/data/mysql -DWITH_EXTRA_CHARSETS=all -DWITH_READLINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DMYSQL_TCP_PORT=3306 -DDEFAULT_COLLATION=utf8_general_cimake &amp;&amp; make install &#x521D;&#x59CB;&#x5316;12345678910111213chown -R mysql.mysql /usr/local/mysql5.5cd /usr/local/mysql5.5/support-files/cp my-medium.cnf /data/mysql/my.cnfcp mysql.server /etc/init.d/mysqldchmod +x /etc/init.d/mysqldcd /usr/local/mysql5.5/scripts/./mysql_install_db --user=mysql --basedir=/usr/local/mysql5.5 --datadir=/data/mysqlvim /data/mysql/my.cnf datadir=/data/mysql/etc/init.d/mysqld startchkconfig mysqld on &#x5C06;mysql&#x6DFB;&#x52A0;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;1234567echo &apos;export PATH=&quot;$PATH:/usr/local/bin:/usr/local/mysql5.5/bin&quot;&apos; &gt;&gt; /root/. bashrcecho &apos;export PATH=&quot;$PATH:/usr/local/bin:/usr/local/mysql5.5/bin&quot;&apos; &gt;&gt; /etc/profilesource /etc/profilemysql -u root &#x6DFB;&#x52A0;git&#x8FDE;&#x63A5;mysql&#x7684;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;123&gt;CREATE DATABASE IF NOT EXISTS `gitlabhq_production` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`;&gt;GRANT SELECT,LOCK TABLES, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER ON `gitlabhq_production`.* TO &apos;gitlab&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;gitlab&apos;;&gt;flush privileges; &#x6D4B;&#x8BD5;git&#x7528;&#x6237;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x521A;&#x624D;&#x521B;&#x5EFA;&#x7684;mysql&#x7528;&#x6237;&#x767B;&#x5F55;12su - gitmysql -u gitlab -p -D gitlabhq_production &#x5B89;&#x88C5;gitLab-Shell&#x5207;&#x6362;git&#x7528;&#x6237;1su - git &#x514B;&#x9686;gitlab&#x7684;shell1234git clone https://gitlab.com/gitlab-org/gitlab-shell.git -b v2.7.2cd gitlab-shell/cp config.yml.example config.ymlvi config.yml &#x914D;&#x7F6E;&#x81EA;&#x5DF1;&#x7684;gitlab&#x57DF;&#x540D;&#x548C;&#x7AEF;&#x53E3;1gitlab_url: &quot;http://git.cass.com:8050&quot; #&#x4E0B;&#x9762;&#x4FEE;&#x6539;&#x7684;&#x5185;&#x5BB9;&#x4E3A;git&#x6307;&#x5B9A;&#x5BB6;&#x76EE;&#x5F55;&#x540E;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x9ED8;&#x8BA4;&#x7684;/home/git&#x5219;&#x4E0D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#xFF0C;&#x540E;&#x9762;&#x4E0D;&#x518D;&#x63D0;&#x793A; 1234##################################repos_path: &quot;/data/git/repositories&quot;auth_file: &quot;/data/git/.ssh/authorized_keys&quot;################################## &#x914D;&#x7F6E;gitlab-shell&#x4F7F;&#x7528;reidis-socket12345678redis:bin: /usr/bin/redis-cli# host: 127.0.0.1# port: 6379# pass: redispass # Allows you to specify the password for Redisdatabase: 0socket: /var/run/redis/redis.sock # Comment out this line if you want to use TCPnamespace: resque:gitlab &#x5B8C;&#x6210;&#x914D;&#x7F6E;123456789./bin/install###sudo -u git -H ./bin/install### mkdir -p /home/git/repositories: OK mkdir -p /home/git/.ssh: OK chmod 700 /home/git/.ssh: OK touch /home/git/.ssh/authorized_keys: OK chmod 600 /home/git/.ssh/authorized_keys: OK chmod ug+rwX,o-rwx /home/git/repositories: OK &#x514B;&#x9686;gitLab&#x6E90;&#x8FD9;&#x4E24;&#x4E2A;&#x514B;&#x9686;&#x7684;&#x76EE;&#x5F55;&#x662F;&#x53EF;&#x4EE5;&#x6253;&#x5305;&#x591A;&#x6B21;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x7F51;&#x901F;&#x6162;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6253;&#x5305;&#x7559;&#x5B58;&#x4E00;&#x4E0B; 123456789su - git &amp;&amp; cd ~git clone https://gitlab.com/gitlab-org/gitlab-ce.git -b 7-14-stable gitlab##&#x4E2D;&#x6587;&#x7248;7.14##&#x4EE5;&#x4E0B;url&#x90FD;&#x53EF;&#x4EE5;git clone https://gitlab.com/jieme/gitlab.git -b 7-14-zh gitlabgit clone https://git.oschina.net/Yxnt/gitlab.git -b 7-14-zh gitlab # &#x8FD9;&#x4E2A;&#x6BD4;&#x8F83;&#x5FEB;git clone https://gitlab.com/ooppwwqq0/gitlab.git -b 7-14-zh gitlabcd ~/gitlabcp config/gitlab.yml.example config/gitlab.yml &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678910vim config/gitlab.yml################:%s/home/data/g################## gitLab settingsgitlab:## Web server settingshost: git.cass.com port: 8050https: false &#x5982;&#x679C;&#x51C6;&#x5907;&#x4F7F;&#x7528;smtp&#x65B9;&#x5F0F;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF0C;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4E3A;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x7684;&#x8D26;&#x53F7;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;sendmail&#x5C31;&#x4E0D;&#x7528;&#x4FEE;&#x6539;&#xFF0C;&#x672C;&#x4EBA;&#x4F7F;&#x7528;smtp&#x65B9;&#x5F0F; 123email_from: noreply@cass.comemail_display_name: GitLabemail_reply_to: noreply@cass.com &#x8FD9;&#x91CC;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x4ED3;&#x5E93;&#x6570;&#x91CF;&#xFF0C;&#x65E0;&#x9700;&#x4FEE;&#x6539;&#xFF0C;&#x521B;&#x5EFA;&#x8D26;&#x53F7;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x4FEE;&#x6539; 12## User settingsdefault_projects_limit: 10 ldap&#x914D;&#x7F6E;&#xFF0C;&#x672C;&#x6587;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x6574;&#x5408;ldap&#xFF0C;&#x9700;&#x8981;&#x7684;&#x81EA;&#x5DF1;&#x5C1D;&#x8BD5;&#x4E00;&#x4E0B;&#x5427; 1234567891011121314151617181920ldap:enabled: falsehost: &apos;_your_ldap_server&apos;base: &apos;_the_base_where_you_search_for_users&apos;port: 636uid: &apos;sAMAccountName&apos;method: &apos;ssl&apos; # &quot;ssl&quot; or &quot;plain&quot;bind_dn: &apos;_the_full_dn_of_the_user_you_will_bind_with&apos;password: &apos;_the_password_of_the_bind_user&apos;allow_username_or_email_login: true##################################path: /data/git/gitlab-satellites/gitlab_shell:path: /data/git/gitlab-shell/# REPOS_PATH MUST NOT BE A SYMLINK!!!repos_path: /data/git/repositories/hooks_path: /data/git/gitlab-shell/hooks/################################## ssh&#x7AEF;&#x53E3;&#xFF0C;&#x9700;&#x8981;&#x7684;&#x81EA;&#x884C;&#x4FEE;&#x6539; 1#ssh_port: 22 &#x4E0B;&#x9762;&#x662F;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;git&#x540E;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x5927;&#x5C0F;&#x548C;&#x8D85;&#x65F6;&#x65F6;&#x95F4; 123456789101112131415git:bin_path: /usr/local/bin/gitmax_size: 524288000 # 5.megabytestimeout: 300cp config/unicorn.rb.example config/unicorn.rbvim config/unicorn.rb###################################grep &quot;/data/git/&quot; config/unicorn.rbworking_directory &quot;/data/git/gitlab&quot; # available in 0.94.0+listen &quot;/data/git/gitlab/tmp/sockets/gitlab.socket&quot;, :backlog =&gt; 64pid &quot;/data/git/gitlab/tmp/pids/unicorn.pid&quot;stderr_path &quot;/data/git/gitlab/log/unicorn.stderr.log&quot;stdout_path &quot;/data/git/gitlab/log/unicorn.stdout.log&quot;################################### &#x9ED8;&#x8BA4;8080&#x7AEF;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x5360;&#x7528;&#x81EA;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x6211;&#x4E5F;&#x4E0D;&#x786E;&#x5B9A;&#x8FD9;&#x4E2A;&#x662F;&#x5E72;&#x4EC0;&#x4E48;&#x7528;&#x7684; 12listen &quot;127.0.0.1:8060&quot;, :tcp_nopush =&gt; truetimeout 300 &#x4FEE;&#x6539;&#x8FDE;&#x63A5;redis&#x914D;&#x7F6E;1cp config/resque.yml.example config/resque.yml &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1234vim config/resque.ymldevelopment: redis://localhost:0test: redis://localhost:0production: unix:/var/run/redis/redis.sock &#x4FEE;&#x6539;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678910111213cp config/database.yml.mysql config/database.ymlvim config/database.ymlproduction:adapter: mysql2encoding: utf8reconnect: falsedatabase: gitlabhq_productionpool: 5username: gitlabpassword: &quot;gitlab&quot;# host: localhost# socket: /tmp/mysql.sock &#x521B;&#x5EFA;&#x6240;&#x9700;&#x76EE;&#x5F55;&#x4EE5;&#x53CA;&#x914D;&#x7F6E;&#x76F8;&#x5E94;&#x6743;&#x9650;123456789101112131415cd ~/gitlabmkdir /home/git/gitlab-satelliteschown -R git log/chown -R git tmp/chmod -R u+rwX log/chmod -R u+rwX tmp/chmod -R u+rwX tmp/pids/chmod -R u+rwX tmp/sockets/chmod -R u+rwX public/uploadscp config/initializers/rack_attack.rb.example config/initializers/rack_attack.rbgit config --global user.name &quot;GitLab&quot;git config --global user.email &quot;gitlab@cass.org&quot;git config --global core.autocrlf input &#x5B89;&#x88C5;gems123456789101112cd ~/gitlabsudo gem install charlock_holmes --version &apos;0.6.9&apos; vim Gemfile source &quot;https://rubygems.org&quot; &#x6539;&#x4E3A; source &quot;https://ruby.taobao.org&quot; vim Gemfile.lock remote: https://rubygems.org/ &#x6539;&#x4E3A; remote: https://ruby.taobao.org/#&#x6267;&#x884C;:bundle install --deployment --without development test postgres puma aws &#x5BF9;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;123456789bundle exec rake gitlab:setup RAILS_ENV=production --verboseThis will create the necessary database tables and seed the database.You will lose any previous data stored in the database.Do you want to continue (yes/no)? yes#&#x6700;&#x540E;&#x521D;&#x59CB;&#x5316;&#x6210;&#x529F;&#x540E;&#x4F1A;&#x83B7;&#x5F97;&#x8D26;&#x53F7;&#x548C;&#x5BC6;&#x7801;Administrator account created:login.........rootpassword......5iveL!fe &#x68C0;&#x67E5;gitLab&#x53CA;&#x5176;&#x73AF;&#x5883;&#x7684;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E;1234567891011121314151617181920212223242526272829303132333435363738cd ~/gitlabbundle exec rake gitlab:env:info RAILS_ENV=production System information System: CentOS 6.5 Current User: git Using RVM: no Ruby Version: 2.2.4p230 Gem Version: 2.4.5.1 Bundler Version:1.12.3 Rake Version: 10.4.2 Sidekiq Version:3.3.0 GitLab information Version: 7.14.3 Revision: 12bbae4 Directory: /home/git/gitlab DB Adapter: mysql2 URL: http://git.cass.com:8050 HTTP Clone URL: http://git.cass.com:8050/some-group/some-project.git SSH Clone URL: git@git.cass.com:some-group/some-project.git Using LDAP: no Using Omniauth: no GitLab Shell Version: 2.7.2 Repositories: /home/git/repositories/ Hooks: /home/git/gitlab-shell/hooks/ Git: /usr/local/bin/gitbundle exec rake sidekiq:start RAILS_ENV=productionbundle exec rake gitlab:check RAILS_ENV=productionsudo chmod -R ug+rwX,o-rwx /home/git/repositories/sudo chmod -R ug-s /home/git/repositories/find /home/git/repositories/ -type d -print0 | sudo xargs -0 chmod g+ssudo chmod u+rwx,g=rx,o-rwx /home/git/gitlab-satellites &#x521B;&#x5EFA;&#x542F;&#x52A8;&#x811A;&#x672C;123456789101112131415sudo cp lib/support/init.d/gitlab /etc/init.d/gitlabsudo cp lib/support/init.d/gitlab.default.example /etc/default/gitlabsudo cp lib/support/logrotate/gitlab /etc/logrotate.d/gitlabsudo chmod +x /etc/init.d/gitlabsudo chkconfig --add gitlabsudo chkconfig gitlab on##########################vim /etc/default/gitlabapp_root=&quot;/data/$app_user/gitlab&quot;#&#x65E0;&#x9700;&#x4E0B;&#x8F7D;##sudo wget https://raw.github.com/gitlabhq/gitlab-recipes/master/init/sysvinit/centos/gitlab-unicorn -P /etc/init.d/##sudo mv /etc/init.d/gitlab-unicorn /etc/init.d/gitlab########################## &#x590D;&#x5236;&#x914D;&#x7F6E;&#x6587;&#x4EF6;[&#x8FD9;&#x91CC;&#x4F7F;&#x7528;nginx&#x505A;&#x4E3A;WEB&#x670D;&#x52A1;]1234567cd ~/gitlabsudo mkdir /usr/local/nginx/conf/conf.d/ -psudo cp lib/support/nginx/gitlab /usr/local/nginx/conf/conf.d/cd /usr/local/nginx/conf/conf.d/sudo chown -R git:git .cp gitlab gitlab.confvim /usr/local/nginx/conf/nginx.conf nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6; 123456789101112user git;worker_processes 4;events { worker_connections 1024;}http { includemime.types; includeconf.d/*.conf;......sudo mkdir /data/logs/nginx gitlab&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x914D;&#x7F6E; 123456789vim /usr/local/nginx/conf/conf.d/gitlab.confserver { listen 0.0.0.0:8050 default_server; #listen [::]:80 default_server; server_name git.cass.com; location ~ ^/(assets)/ { root /home/git/gitlab/public; #gzip_static on; &#x62C9;&#x53D6;gitLab&#x9759;&#x6001;&#x6587;&#x4EF6;1234su - git &amp;&amp; cd ~/gitlabbundle exec rake assets:precompile RAILS_ENV=productionsudo service gitlab restartsudo /usr/local/nginx/sbin/nginx &#x8BBF;&#x95EE;&#x6D4B;&#x8BD5; &#x521D;&#x59CB;&#x7BA1;&#x7406;&#x5458;&#x5E10;&#x53F7;&#x548C;&#x5BC6;&#x7801;&#x4E3A;&#xFF1A; root5iveL!fe &#x767B;&#x9646;&#x6210;&#x529F;&#x540E;&#x5982;&#x4E0B;&#xFF1A; &#x4FEE;&#x6539;&#x90AE;&#x4EF6;&#x53D1;&#x9001;12345678910111213141516171819202122cd ~/gitlab/vim config/environments/production.rb config.action_mailer.delivery_method = :smtpcp config/initializers/smtp_settings.rb.sample config/initializers/smtp_settings.rbvim config/initializers/smtp_settings.rbif Rails.env.production?Gitlab::Application.config.action_mailer.delivery_method = :smtpActionMailer::Base.smtp_settings = {address: &quot;smtp.163.com&quot;,port: 25,user_name: &quot;xxx@cass.com&quot;,password: &quot;password&quot;,domain: &quot;smtp.163.com&quot;,authentication: :plain,enable_starttls_auto: true,#openssl_verify_mode: &apos;peer&apos; # See ActionMailer documentation for other possible options}end 8.x&#x7248;&#x672C;&#x7684;&#x90AE;&#x4EF6;&#x914D;&#x7F6E;&#x548C;7.x&#x6709;&#x6240;&#x4E0D;&#x540C; 123456789101112cd ~/gitlab/vim config/environments/production.rbconfig.action_mailer.delivery_method = :smtpconfig.action_mailer.smtp_settings = {:address =&gt; &quot;smtp.163.com&quot;,:port =&gt; &quot;25&quot;,:domain =&gt; &quot;smtp.163.com&quot;,:authentication =&gt; :plain,:user_name =&gt; &quot;xxx@163.com&quot;,:password =&gt; &quot;xxx&quot;,:enable_starttls_auto =&gt; true } &#x914D;&#x7F6E;&#x597D;&#x4F60;&#x7684;&#x90AE;&#x7BB1;&#x548C;&#x5BC6;&#x7801; &#x7F16;&#x8F91;config/gitlab.yml 1vi config/gitlab.yml &#x5BF9;&#x5E94;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x914D;&#x7F6E; 123email_from: xxx@cass.comemail_display_name: GitLabemail_reply_to:xxx@cass.com]]></content>
      <categories>
        <category>linux</category>
        <category>git</category>
        <category>gitlab</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>git</tag>
        <tag>gitlab</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2016%2F01%2F01%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
</search>
